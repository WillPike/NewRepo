//src/js/shared/_base.js

'use strict';

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

window.app = {};

var ALERT_REQUEST_SUBMIT_ERROR = 1,
    ALERT_REQUEST_ASSISTANCE_SENT = 10,
    ALERT_REQUEST_ASSISTANCE_RECEIVED = 11,
    ALERT_REQUEST_CLOSEOUT_SENT = 20,
    ALERT_REQUEST_CLOSEOUT_RECEIVED = 21,
    ALERT_REQUEST_ORDER_SENT = 30,
    ALERT_REQUEST_ORDER_RECEIVED = 31,
    ALERT_SIGNIN_REQUIRED = 40,
    ALERT_TABLE_RESET = 50,
    ALERT_TABLE_ASSISTANCE = 51,
    ALERT_TABLE_CLOSEOUT = 52,
    ALERT_GENERIC_ERROR = 100,
    ALERT_DELET_CARD = 200,
    ALERT_PASSWORD_RESET_COMPLETE = 210,
    ALERT_SOFTWARE_OUTDATED = 220,
    ALERT_CARDREADER_ERROR = 310,
    ALERT_ERROR_NO_SEAT = 410,
    ALERT_ERROR_STARTUP = 510;

//src/js/shared/domain/analyticsdata.js

window.app.AnalyticsData = (function () {
  function AnalyticsData(name, storageProvider, defaultValue) {
    _classCallCheck(this, AnalyticsData);

    this._defaultValue = defaultValue || function () {
      return [];
    };
    this._name = name;
    this._data = this._defaultValue();
    this._store = storageProvider('snap_analytics_' + name);
  }

  _createClass(AnalyticsData, [{
    key: 'initialize',
    value: function initialize() {
      var self = this;
      return this._store.read().then(function (data) {
        return self._data = data || self._data;
      });
    }
  }, {
    key: 'push',
    value: function push(item) {
      this._data.push(item);
      this.store();
    }
  }, {
    key: 'reset',
    value: function reset() {
      this._data = this._defaultValue();
      return this.store();
    }
  }, {
    key: 'store',
    value: function store() {
      return this._store.write(this._data);
    }
  }, {
    key: 'name',
    get: function get() {
      return this._name;
    }
  }, {
    key: 'data',
    get: function get() {
      return this._data;
    },
    set: function set(value) {
      this._data = value;
      this.store();
    }
  }, {
    key: 'length',
    get: function get() {
      return this._data.length;
    }
  }, {
    key: 'last',
    get: function get() {
      return this._data[this.length - 1];
    }
  }]);

  return AnalyticsData;
})();

//src/js/shared/domain/cartitem.js

window.app.CartItem = (function () {
  function CartItem(item, quantity, name, modifiers, request) {
    _classCallCheck(this, CartItem);

    this.item = item;
    this.quantity = quantity;
    this.name = name;
    this.request = request;

    if (!this.hasModifiers) {
      this.modifiers = [];
    } else if (!modifiers) {
      this.modifiers = item.modifiers.map(function (category) {
        return new app.CartModifierCategory(category, category.items.map(function (modifier) {
          return new app.CartModifier(modifier);
        }));
      });
    } else {
      this.modifiers = modifiers;
    }
  }

  _createClass(CartItem, [{
    key: 'clone',
    value: function clone(count) {
      return new app.CartItem(this.item, this.quantity, this.name, this.modifiers.map(function (category) {
        return category.clone();
      }), this.request);
    }
  }, {
    key: 'cloneMany',
    value: function cloneMany(count) {
      count = count || this.quantity;
      var result = [];

      for (var i = 0; i < count; i++) {
        result.push(new app.CartItem(this.item, 1, this.name, this.modifiers.map(function (category) {
          return category.clone();
        }), this.request));
      }

      return result;
    }
  }, {
    key: 'restore',
    value: function restore(data) {
      return new app.CartItem(data.item, data.quantity, data.name, data.modifiers.map(app.CartModifierCategory.prototype.restore), data.request);
    }
  }, {
    key: 'hasModifiers',
    get: function get() {
      return this.item.modifiers != null && this.item.modifiers.length > 0;
    }
  }, {
    key: 'selectedModifiers',
    get: function get() {
      return this.modifiers.reduce(function (previousCategory, category, i, array) {
        return array.concat(category.items.filter(function (modifier) {
          return modifier.isSelected;
        }));
      }, []);
    }
  }]);

  return CartItem;
})();

//src/js/shared/domain/cartmodifier.js

(function () {

  //------------------------------------------------------------------------
  //
  //  CartModifier
  //
  //------------------------------------------------------------------------

  var CartModifier = function CartModifier(data, isSelected) {
    this.data = data;
    this.isSelected = isSelected || false;
  };

  CartModifier.prototype.clone = function () {
    return new app.CartModifier(this.data, this.isSelected);
  };

  CartModifier.prototype.restore = function (data) {
    return new app.CartModifier(data.data, data.isSelected);
  };

  window.app.CartModifier = CartModifier;

  //------------------------------------------------------------------------
  //
  //  CartModifierCategory
  //
  //------------------------------------------------------------------------

  var CartModifierCategory = function CartModifierCategory(data, modifiers) {
    this.data = data;
    this.modifiers = modifiers;
  };

  CartModifierCategory.prototype.clone = function () {
    var modifiers = this.modifiers.map(function (modifier) {
      return modifier.clone();
    });
    return new app.CartModifierCategory(this.data, modifiers);
  };

  CartModifierCategory.prototype.restore = function (data) {
    return new app.CartModifierCategory(data.data, data.modifiers.map(CartModifier.prototype.restore));
  };

  window.app.CartModifierCategory = CartModifierCategory;
})();

//src/js/shared/domain/requestwatcher.js

window.app.RequestWatcher = (function () {
  function RequestWatcher(ticket, DtsApi) {
    _classCallCheck(this, RequestWatcher);

    this._token = ticket.token;
    this._remote = DtsApi;

    this.POLLING_INTERVAL = 5000;

    this.REQUEST_STATUS_PENDING = 1;
    this.REQUEST_STATUS_RECEIVED = 2;
    this.REQUEST_STATUS_ACCEPTED = 3;
    this.REQUEST_STATUS_EXPIRED = 255;

    var self = this;
    this._promise = new Promise(function (resolve, reject) {
      self._statusUpdateResolve = resolve;
      self._statusUpdateReject = reject;
    });

    this._ticket = { status: 0 };
    this._watchStatus();
  }

  _createClass(RequestWatcher, [{
    key: 'dispose',
    value: function dispose() {
      if (this._timeoutId) {
        window.clearTimeout(this._timeoutId);
      }

      if (this._ticket.status < this.REQUEST_STATUS_ACCEPTED) {
        this._statusUpdateReject();
      }
    }
  }, {
    key: '_watchStatus',
    value: function _watchStatus() {
      var self = this;

      if (self._timeoutId) {
        window.clearTimeout(self._timeoutId);
      }

      var onTimeout = function onTimeout() {
        self._remote.waiter.getStatus(self._token).then(function (response) {
          self._setTicket(response);
          self._watchStatus();
        }, function () {
          self._watchStatus();
        });
      };

      if (self._ticket.status === self.REQUEST_STATUS_ACCEPTED) {
        self._statusUpdateResolve();
      } else if (self._ticket.status !== self.REQUEST_STATUS_EXPIRED) {
        self._timeoutId = window.setTimeout(onTimeout, this.POLLING_INTERVAL);
      }
    }
  }, {
    key: '_setTicket',
    value: function _setTicket(value) {
      var self = this;

      if (self._ticket.status === value.status) {
        return;
      }

      self._ticket = value;
      self._watchStatus();
    }
  }, {
    key: 'token',
    get: function get() {
      return this._token;
    }
  }, {
    key: 'ticket',
    get: function get() {
      return this._ticket;
    }
  }, {
    key: 'promise',
    get: function get() {
      return this._promise;
    }
  }]);

  return RequestWatcher;
})();

//src/js/shared/domain/webbrowserreference.js

window.app.WebBrowserReference = (function () {
  function WebBrowserReference(browserRef) {
    _classCallCheck(this, WebBrowserReference);

    this.browser = browserRef;
    this.onNavigated = new signals.Signal();
    this.onExit = new signals.Signal();
    this.onCallback = new signals.Signal();
  }

  _createClass(WebBrowserReference, [{
    key: 'exit',
    value: function exit() {
      this.onExit.dispatch();
    }
  }]);

  return WebBrowserReference;
})();

window.app.CordovaWebBrowserReference = (function (_app$WebBrowserReference) {
  _inherits(CordovaWebBrowserReference, _app$WebBrowserReference);

  function CordovaWebBrowserReference(browserRef) {
    _classCallCheck(this, CordovaWebBrowserReference);

    _get(Object.getPrototypeOf(CordovaWebBrowserReference.prototype), 'constructor', this).call(this, browserRef);
    var self = this;

    function onLoadStart(event) {
      self.onNavigated.dispatch(event.url);
    }
    this._onLoadStart = onLoadStart;

    function onExit() {
      browserRef.removeEventListener('loadstart', onLoadStart);
      browserRef.removeEventListener('exit', onExit);
      self.onExit.dispatch();
    }
    this._onExit = onExit;

    this.browser.addEventListener('loadstart', onLoadStart);
    this.browser.addEventListener('exit', onExit);
  }

  _createClass(CordovaWebBrowserReference, [{
    key: 'exit',
    value: function exit() {
      _get(Object.getPrototypeOf(CordovaWebBrowserReference.prototype), 'exit', this).call(this);

      this._dispose();
      this.browser.close();
    }
  }, {
    key: '_dispose',
    value: function _dispose() {
      this.onNavigated.dispose();
      this.onExit.dispose();

      this.browser.removeEventListener('loadstart', this._onLoadStart);
      this.browser.removeEventListener('exit', this._onExit);
    }
  }]);

  return CordovaWebBrowserReference;
})(app.WebBrowserReference);

//src/js/shared/managers/abstractmanager.js

window.app.AbstractManager = (function () {
  function AbstractManager(Logger) {
    _classCallCheck(this, AbstractManager);

    this._Logger = Logger;
  }

  _createClass(AbstractManager, [{
    key: 'initialize',
    value: function initialize() {
      this._Logger.debug('Initializing ' + this.constructor.name + '...');

      return Promise.resolve();
    }
  }, {
    key: 'reset',
    value: function reset() {
      this._Logger.debug('Resetting ' + this.constructor.name + '...');
    }
  }]);

  return AbstractManager;
})();

//src/js/shared/managers/activitymonitor.js

(function () {

  var ActivityMonitor = function ActivityMonitor($rootScope, $timeout) {
    this.$$rootScope = $rootScope;
    this.$$timeout = $timeout;
    this._timeout = 10000;

    this._activeChanged = new signals.Signal();
    this.enabled = true;

    var self = this;

    this.$$rootScope.$on('$locationChangeSuccess', function () {
      if (self.enabled) {
        self.activityDetected();
      }
    });

    this.activityDetected();
  };

  ActivityMonitor.prototype = {};

  Object.defineProperty(ActivityMonitor.prototype, 'timeout', {
    get: function get() {
      return this._timeout;
    },
    set: function set(value) {
      if (value > 0) {
        this._timeout = value;
        this.activityDetected();
      }
    }
  });

  Object.defineProperty(ActivityMonitor.prototype, 'enabled', {
    get: function get() {
      return this._enabled;
    },
    set: function set(value) {
      this._enabled = value;
    }
  });

  Object.defineProperty(ActivityMonitor.prototype, 'active', {
    get: function get() {
      return this._timer != null;
    }
  });

  Object.defineProperty(ActivityMonitor.prototype, 'activeChanged', {
    get: function get() {
      return this._activeChanged;
    }
  });

  ActivityMonitor.prototype.activityDetected = function () {
    var changed;

    if (this._timer) {
      this.$$timeout.cancel(this._timer);
    } else if (this._timer === null) {
      changed = true;
    }

    var self = this;

    var onTimeout = function onTimeout() {
      self._timer = null;

      self.$$rootScope.$apply(function () {
        if (self.enabled) {
          self.activeChanged.dispatch(self.active);
        }
      });
    };

    this._timer = this.$$timeout(onTimeout, this._timeout);

    if (changed && this.enabled) {
      this.activeChanged.dispatch(this.active);
    }
  };

  window.app.ActivityMonitor = ActivityMonitor;
})();

//src/js/shared/managers/analyticsmanager.js

window.app.AnalyticsManager = (function (_app$AbstractManager) {
  _inherits(AnalyticsManager, _app$AbstractManager);

  function AnalyticsManager(TelemetryService, AnalyticsModel, Logger) {
    _classCallCheck(this, AnalyticsManager);

    _get(Object.getPrototypeOf(AnalyticsManager.prototype), 'constructor', this).call(this, Logger);
    this._TelemetryService = TelemetryService;
    this._AnalyticsModel = AnalyticsModel;
  }

  _createClass(AnalyticsManager, [{
    key: 'initialize',
    value: function initialize() {
      _get(Object.getPrototypeOf(AnalyticsManager.prototype), 'initialize', this).call(this);

      return this.model.initialize();
    }
  }, {
    key: 'reset',
    value: function reset() {
      _get(Object.getPrototypeOf(AnalyticsManager.prototype), 'reset', this).call(this);

      return this.model.reset();
    }
  }, {
    key: 'submit',
    value: function submit() {
      this._Logger.debug('Submitting analytics data with ' + (this.model.sessions.length + ' seat sessions, ') + (this.model.answers.length + ' answers, ') + (this.model.chats.length + ' chats, ') + (this.model.comments.length + ' comments, ') + (this.model.clicks.length + ' clicks, ') + (this.model.pages.length + ' pages, ') + (this.model.advertisements.length + ' advertisements and ') + (this.model.urls.length + ' URLs.'));

      return this.reset();

      /*var self = this;
      return new Promise((resolve, reject) => {
        self._TelemetryService.submitTelemetry({
          sessions: self.model.sessions.data,
          advertisements: self.model.advertisements.data,
          answers: self.model.answers.data,
          chats: self.model.chats.data,
          comments: self.model.comments.data,
          clicks: self.model.clicks.data,
          pages: self.model.pages.data,
          urls: self.model.urls.data
        }).then(() => {
          self.model.reset();
          resolve();
        }, e => {
          self._Logger.warn(`Unable to submit analytics data: ${e.message}`);
          reject(e);
        });
      });*/
    }
  }, {
    key: 'model',
    get: function get() {
      return this._AnalyticsModel;
    }
  }]);

  return AnalyticsManager;
})(app.AbstractManager);

//src/js/shared/managers/authenticationmanager.js

window.app.AuthenticationManager = (function (_app$AbstractManager2) {
  _inherits(AuthenticationManager, _app$AbstractManager2);

  /* global moment, signals */

  function AuthenticationManager(BackendApi, SessionModel, SNAPEnvironment, WebBrowser, Logger) {
    _classCallCheck(this, AuthenticationManager);

    _get(Object.getPrototypeOf(AuthenticationManager.prototype), 'constructor', this).call(this, Logger);

    this._BackendApi = BackendApi;
    this._SessionModel = SessionModel;
    this._SNAPEnvironment = SNAPEnvironment;
    this._WebBrowser = WebBrowser;
  }

  _createClass(AuthenticationManager, [{
    key: 'validate',
    value: function validate() {
      var self = this,
          model = self._SessionModel;

      this._Logger.debug('Validating access token...');

      return new Promise(function (resolve, reject) {
        model.initialize().then(function () {
          var token = model.apiToken;

          if (!token || !self._validateToken(token)) {
            self._Logger.debug('Authorization is not valid.');
            resolve(false);
          } else {
            self._Logger.debug('Validating authorization session...');

            self._BackendApi.oauth2.getSession().then(function (session) {
              session = URI('?' + session).query(true); //ToDo: remove this hack

              if (session && session.valid === 'true') {
                self._Logger.debug('Authorization is valid.', session);
                resolve(true);
              } else {
                self._Logger.debug('Authorization is not valid or expired.', session);
                resolve(false);
              }
            }, function (e) {
              self._Logger.debug('Unable to validate authorization.', e);
              resolve(null);
            });
          }
        }, function (e) {
          self._Logger.debug('Error validating authorization.', e);
          resolve(null);
        });
      });
    }
  }, {
    key: 'authorize',
    value: function authorize() {
      this._Logger.debug('Authorizing API access...');

      var self = this;
      return new Promise(function (resolve, reject) {
        self._SessionModel.clear().then(function () {
          var application = self._SNAPEnvironment.main_application,
              authUrl = self._BackendApi.oauth2.getTokenAuthorizeUrl(application.client_id, application.callback_url, application.scope);

          self._WebBrowser.open(authUrl, { system: true }).then(function (browser) {
            function handleCallback(url) {
              if (url.indexOf(application.callback_url) !== 0) {
                return;
              }

              browser.exit();

              var callbackResponse = url.split('#')[1],
                  responseParameters = callbackResponse.split('&'),
                  parameterMap = [];

              for (var i = 0; i < responseParameters.length; i++) {
                parameterMap[responseParameters[i].split('=')[0]] = responseParameters[i].split('=')[1];
              }

              if (parameterMap.access_token !== undefined && parameterMap.access_token !== null) {
                var token = {
                  access_token: parameterMap.access_token,
                  expires_in: parameterMap.expires_in
                };

                self._Logger.debug('New access token issued.', token);

                self._SessionModel.apiToken = token;

                return resolve();
              }

              self._Logger.debug('Problem issuing new access token.', parameterMap);
              reject('Problem authenticating: ' + url);
            }

            browser.onCallback.add(function (url) {
              return handleCallback(url);
            });
            browser.onNavigated.add(function (url) {
              return handleCallback(url);
            });
          }, reject);
        }, reject);
      });
    }
  }, {
    key: 'customerLoginRegular',
    value: function customerLoginRegular(credentials) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var application = self._SNAPEnvironment.customer_application;
        self._BackendApi.oauth2.getTokenWithCredentials(application.client_id, credentials.login, credentials.password).then(function (result) {
          if (!result) {
            return reject();
          }

          if (result.error || !result.access_token) {
            return reject(result.error);
          }

          var session = {
            access_token: result.access_token
          };

          if (result.expires_in) {
            session.expires = moment().add(result.expires_in, 'seconds').unix();
          }

          self._SessionModel.customerToken = session;

          resolve();
        }, reject);
      });
    }
  }, {
    key: 'customerLoginSocial',
    value: function customerLoginSocial(token) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var session = {
          access_token: token.access_token
        };

        if (token.expires_in) {
          session.expires = moment().add(token.expires_in, 'seconds').unix();
        }

        self._SessionModel.customerToken = session;

        resolve();
      });
    }
  }, {
    key: '_validateToken',
    value: function _validateToken(token) {
      if (!token || !token.access_token) {
        return false;
      }

      if (token.expires) {
        var expires = moment.unix(token.expires);

        if (expires.isBefore(moment())) {
          return false;
        }
      }

      return true;
    }
  }]);

  return AuthenticationManager;
})(app.AbstractManager);

//src/js/shared/managers/chatmanager.js

window.app.ChatManager = (function (_app$AbstractManager3) {
  _inherits(ChatManager, _app$AbstractManager3);

  /* global moment, signals */

  function ChatManager(AnalyticsModel, ChatModel, CustomerModel, LocationModel, SocketClient, Logger) {
    _classCallCheck(this, ChatManager);

    _get(Object.getPrototypeOf(ChatManager.prototype), 'constructor', this).call(this, Logger);

    var self = this;

    this.MESSAGE_TYPES = {
      LOCATION: 'location',
      DEVICE: 'device'
    };
    this.MESSAGE_STATUSES = {
      CHAT_REQUEST: 'chat_request',
      CHAT_REQUEST_ACCEPTED: 'chat_request_accepted',
      CHAT_REQUEST_DECLINED: 'chat_request_declined',
      GIFT_REQUEST: 'gift_request',
      GIFT_REQUEST_ACCEPTED: 'gift_request_accepted',
      GIFT_REQUEST_DECLINED: 'gift_request_declined',
      CHAT_CLOSED: 'chat_closed'
    };
    this.OPERATIONS = {
      CHAT_MESSAGE: 'chat_message',
      STATUS_REQUEST: 'status_request',
      STATUS_UPDATE: 'status_update'
    };
    this.ROOMS = {
      LOCATION: 'location_',
      DEVICE: 'device_'
    };

    this._AnalyticsModel = AnalyticsModel;
    this._ChatModel = ChatModel;
    this._CustomerModel = CustomerModel;
    this._LocationModel = LocationModel;
    this._SocketClient = SocketClient;

    this._ChatModel.isEnabledChanged.add(function () {
      return self._sendStatusUpdate();
    });
    this._ChatModel.isPresentChanged.add(function () {
      return self._sendStatusUpdate();
    });
    this._CustomerModel.profileChanged.add(function () {
      return self._sendStatusUpdate();
    });
    this._LocationModel.seatChanged.add(function () {
      return self._sendStatusUpdate();
    });

    this._SocketClient.isConnectedChanged.add(function (isConnected) {
      self.model.isConnected = isConnected;
      self._sendStatusUpdate();
      self._sendStatusRequest();
    });

    this._SocketClient.subscribe(this.ROOMS.LOCATION + this._LocationModel.location.token, function (message) {
      switch (message.operation) {
        case self.OPERATIONS.CHAT_MESSAGE:
          self._onMessage(message);
          break;
        case self.OPERATIONS.STATUS_REQUEST:
          self._onStatusRequest(message);
          break;
        case self.OPERATIONS.STATUS_UPDATE:
          self._onStatusUpdate(message);
          break;
      }
    });

    this._SocketClient.subscribe(this.ROOMS.DEVICE + this._LocationModel.device, function (message) {
      switch (message.operation) {
        case self.OPERATIONS.CHAT_MESSAGE:
          self._onMessage(message);
          break;
        case self.OPERATIONS.STATUS_UPDATE:
          self._onStatusUpdate(message);
          break;
      }
    });
  }

  _createClass(ChatManager, [{
    key: 'reset',
    value: function reset() {
      _get(Object.getPrototypeOf(ChatManager.prototype), 'reset', this).call(this);

      this.model.reset();

      return Promise.resolve();
    }

    //-----------------------------------------------
    //    Messaging
    //-----------------------------------------------

  }, {
    key: 'sendMessage',
    value: function sendMessage(message) {
      message.device = this._LocationModel.device;
      message.operation = this.OPERATIONS.CHAT_MESSAGE;
      message.type = message.to_device ? this.MESSAGE_TYPES.DEVICE : this.MESSAGE_TYPES.LOCATION;

      this._addMessageID(message);
      this.model.addHistory(message);

      var topic = this._getTopic(message);

      this._SocketClient.send(topic, message);
      this._AnalyticsModel.logChat(message);
    }
  }, {
    key: 'approveDevice',
    value: function approveDevice(token) {
      var device = this._LocationModel.getDevice(token);

      this.model.setLastRead(token, moment().unix());

      if (this.model.isPendingDevice(device)) {
        this.model.removePendingDevice(device);

        this.sendMessage({
          status: this.MESSAGE_STATUSES.CHAT_REQUEST_ACCEPTED,
          to_device: device.token
        });
      } else {
        this.sendMessage({
          status: this.MESSAGE_STATUSES.CHAT_REQUEST,
          to_device: device.token
        });
      }

      if (!this.model.isActiveDevice(device)) {
        this.model.addActiveDevice(device);
      }
    }
  }, {
    key: 'declineDevice',
    value: function declineDevice(token) {
      var device = this._LocationModel.getDevice(token);

      if (this.model.isActiveDevice(device)) {
        this.model.removeActiveDevice(device);

        this.sendMessage({
          status: this.MESSAGE_STATUSES.CHAT_CLOSED,
          to_device: device.token
        });
      } else {
        this.sendMessage({
          status: this.MESSAGE_STATUSES.CHAT_REQUEST_DECLINED,
          to_device: device.token
        });
      }
    }
  }, {
    key: 'getMessageName',
    value: function getMessageName(message) {
      if (this._LocationModel.device === message.device) {
        return 'Me';
      }

      return message.username || this.getDeviceName(message.device);
    }
  }, {
    key: 'getDeviceName',
    value: function getDeviceName(token) {
      var device = this._LocationModel.getDevice(token);

      if (device) {
        if (this._LocationModel.device === device.token) {
          return 'Me';
        }

        if (device.username) {
          return device.username;
        }

        for (var p in this._LocationModel.seats) {
          if (this._LocationModel.seats[p].token === device.seat) {
            return this._LocationModel.seats[p].name;
          }
        }
      }

      return 'Guest';
    }

    //-----------------------------------------------
    //    Notifications
    //-----------------------------------------------

  }, {
    key: 'checkIfUnread',
    value: function checkIfUnread(device_token, message) {
      var lastRead = this.model.getLastRead(device_token);

      if (!lastRead) {
        return false;
      }

      if (message) {
        return moment.unix(message.received).isAfter(moment.unix(lastRead));
      }

      return this.getUnreadCount(device_token) > 0;
    }
  }, {
    key: 'getUnreadCount',
    value: function getUnreadCount(device_token) {
      var lastRead = this.model.getLastRead(device_token);

      if (!lastRead) {
        return 0;
      }

      var self = this,
          fromDate = moment.unix(lastRead);

      return this.model.history.filter(function (message) {
        return message.type === self.MESSAGE_TYPES.DEVICE && message.device === device_token;
      }).filter(function (message) {
        return moment.unix(message.received).isAfter(fromDate);
      }).length;
    }
  }, {
    key: 'markAsRead',
    value: function markAsRead(device_token) {
      this.model.setLastRead(device_token, moment().unix());
    }

    //-----------------------------------------------
    //    Gifts
    //-----------------------------------------------

  }, {
    key: 'sendGift',
    value: function sendGift(items) {
      if (!this.model.giftDevice) {
        return;
      }

      this.sendMessage({
        status: this.MESSAGE_STATUSES.GIFT_REQUEST,
        to_device: this.model.giftDevice,
        text: items.reduce(function (result, item) {
          if (result !== '') {
            result += ', ';
          }
          result += item.item.title;
          return result;
        }, '')
      });
    }
  }, {
    key: 'acceptGift',
    value: function acceptGift(device) {
      this.sendMessage({
        status: this.MESSAGE_STATUSES.GIFT_REQUEST_ACCEPTED,
        to_device: device.token
      });
    }
  }, {
    key: 'declineGift',
    value: function declineGift(device) {
      this.sendMessage({
        status: this.MESSAGE_STATUSES.GIFT_REQUEST_DECLINED,
        to_device: device.token
      });
    }
  }, {
    key: 'startGift',
    value: function startGift(device_token) {
      var device = this._LocationModel.getDevice(device_token);

      this.model.giftDevice = device_token;
      this.model.giftSeat = device.seat;
    }
  }, {
    key: 'endGift',
    value: function endGift() {
      this.model.giftDevice = null;
      this.model.giftSeat = null;
    }

    //------------------------------------------------------------------------
    //
    //  Private methods
    //
    //------------------------------------------------------------------------

  }, {
    key: '_onMessage',
    value: function _onMessage(message) {
      if (!message.id) {
        return;
      }

      if (this.model.history.filter(function (msg) {
        return msg.id === message.id;
      }).length > 0) {
        return;
      }

      message.received = moment().unix();

      var device = this._LocationModel.getDevice(message.device),
          giftDevice = this.model.giftDevice,
          seat = this._LocationModel.seat.token;

      if (!device) {
        return;
      }

      if (message.status === this.MESSAGE_STATUSES.CHAT_REQUEST && !this.model.isPendingDevice(device) && !this.model.isActiveDevice(device)) {
        this.model.addPendingDevice(device);
        this.model.chatRequestReceived.dispatch(device.token);
      }

      if (message.status === this.MESSAGE_STATUSES.GIFT_REQUEST && this.model.isActiveDevice(device)) {
        this.model.giftRequestReceived.dispatch(device, message.text);
      }

      if (message.to_device) {
        if (message.status === this.MESSAGE_STATUSES.GIFT_REQUEST_ACCEPTED) {
          if (giftDevice && giftDevice === message.device) {
            this.model.giftAccepted.dispatch(true);
            this.model.giftDevice = null;
          }
        } else if (message.status === this.MESSAGE_STATUSES.GIFT_REQUEST_DECLINED) {
          if (giftDevice && giftDevice === message.device) {
            this.model.giftAccepted.dispatch(false);
            this.model.giftDevice = null;
          }
        } else if (message.status === this.MESSAGE_STATUSES.CHAT_REQUEST_DECLINED) {
          this.declineDevice(device);
        }
      }

      if (message.operation === this.OPERATIONS.CHAT_MESSAGE) {
        message.username = this.getDeviceName(device);
        this.model.addHistory(message);
      }

      this.model.messageReceived.dispatch(message);
    }
  }, {
    key: '_onStatusRequest',
    value: function _onStatusRequest(message) {
      if (message.device === this._LocationModel.device) {
        return;
      }

      this._sendStatusUpdate(message.device);
    }
  }, {
    key: '_onStatusUpdate',
    value: function _onStatusUpdate(message) {
      if (message.device === this._LocationModel.device) {
        return;
      }

      var device = this._LocationModel.getDevice(message.device);

      if (!device) {
        device = {
          token: message.device
        };

        this._LocationModel.addDevice(device);
      }

      if (!message.is_available && device.is_available) {
        var _history = {
          operation: this.OPERATIONS.CHAT_MESSAGE,
          type: this.MESSAGE_TYPES.DEVICE,
          device: device.token,
          status: this.MESSAGE_STATUSES.CHAT_CLOSED,
          to_device: this._LocationModel.device
        };
        this._addMessageID(_history);
        this.model.addHistory(_history);
      }

      device.is_available = Boolean(message.is_available);
      device.is_present = Boolean(message.is_present);
      device.seat = message.seat;
      device.username = message.username;

      this._LocationModel.devicesChanged.dispatch(this._LocationModel.devices);
    }
  }, {
    key: '_sendStatusRequest',
    value: function _sendStatusRequest() {
      if (!this.model.isConnected) {
        return;
      }

      var message = {
        operation: this.OPERATIONS.STATUS_REQUEST,
        device: this._LocationModel.device
      };

      this._SocketClient.send(this._getTopic(message), message);
    }
  }, {
    key: '_sendStatusUpdate',
    value: function _sendStatusUpdate(device) {
      if (!this.model.isConnected) {
        return;
      }

      var profile = this._CustomerModel.profile,
          username = undefined;

      if (profile && profile.first_name) {
        username = profile.first_name + ' ' + profile.last_name;
      }

      var message = {
        operation: this.OPERATIONS.STATUS_UPDATE,
        to_device: device,
        device: this._LocationModel.device,
        seat: this._LocationModel.seat.token,
        is_available: this.model.isEnabled,
        is_present: this.model.isPresent,
        username: username
      };

      this._SocketClient.send(this._getTopic(message), message);
    }
  }, {
    key: '_getTopic',
    value: function _getTopic(message) {
      return message.to_device ? this.ROOMS.DEVICE + message.to_device : this.ROOMS.LOCATION + this._LocationModel.location.token;
    }
  }, {
    key: '_addMessageID',
    value: function _addMessageID(message) {
      message.id = message.id || 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        var r = Math.random() * 16 | 0,
            v = c === 'x' ? r : r & 0x3 | 0x8;
        return v.toString(16);
      });
    }
  }, {
    key: 'model',
    get: function get() {
      return this._ChatModel;
    }
  }]);

  return ChatManager;
})(app.AbstractManager);

//src/js/shared/managers/customermanager.js

window.app.CustomerManager = (function (_app$AbstractManager4) {
  _inherits(CustomerManager, _app$AbstractManager4);

  /* global moment */

  function CustomerManager(Config, Environment, DtsApi, CustomerModel, SessionModel, Logger) {
    _classCallCheck(this, CustomerManager);

    _get(Object.getPrototypeOf(CustomerManager.prototype), 'constructor', this).call(this, Logger);

    this._api = DtsApi;
    this._CustomerModel = CustomerModel;
    this._SessionModel = SessionModel;
    this._customerAppId = Environment.customer_application.client_id;
  }

  _createClass(CustomerManager, [{
    key: 'reset',
    value: function reset() {
      _get(Object.getPrototypeOf(CustomerManager.prototype), 'reset', this).call(this);

      return this.logout();
    }
  }, {
    key: 'logout',
    value: function logout() {
      var self = this;
      return new Promise(function (resolve) {
        self._SessionModel.customerToken = null;
        self._CustomerModel.profile = null;
        resolve();
      });
    }
  }, {
    key: 'guestLogin',
    value: function guestLogin() {
      var self = this;
      return new Promise(function (resolve) {
        self._CustomerModel.profile = 'guest';
        resolve();
      });
    }
  }, {
    key: 'login',
    value: function login() {
      return this._loadProfile();
    }
  }, {
    key: 'loginSocial',
    value: function loginSocial() {
      return this._loadProfile();
    }
  }, {
    key: 'signUp',
    value: function signUp(registration) {
      var self = this;
      return new Promise(function (resolve, reject) {
        registration.client_id = self._customerAppId;
        self._api.customer.signUp(registration).then(function () {
          self.login({
            login: registration.username,
            password: registration.password
          }).then(resolve, reject);
        }, reject);
      });
    }
  }, {
    key: 'updateProfile',
    value: function updateProfile(profile) {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._api.customer.updateProfile(profile).then(function () {
          self._CustomerModel.profile = profile;
          resolve();
        }, reject);
      });
    }
  }, {
    key: 'changePassword',
    value: function changePassword(request) {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._api.customer.changePassword(request).then(function () {
          self.login({
            login: self._CustomerModel.email,
            password: request.new_password
          }).then(resolve, reject);
        }, reject);
      });
    }
  }, {
    key: 'resetPassword',
    value: function resetPassword(request) {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._api.customer.resetPassword(request).then(function () {
          resolve();
        }, reject);
      });
    }
  }, {
    key: '_loadProfile',
    value: function _loadProfile() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._api.customer.getProfile().then(function (profile) {
          self._CustomerModel.profile = profile;
          resolve();
        }, reject);
      });
    }
  }, {
    key: 'model',
    get: function get() {
      return this._CustomerModel;
    }
  }, {
    key: 'customerName',
    get: function get() {
      if (this.model.isEnabled && this.model.isAuthenticated && !this.model.isGuest) {
        var name = '';

        if (CustomerManager.model.profile.first_name) {
          name += CustomerManager.model.profile.first_name;
        }

        if (CustomerManager.model.profile.last_name) {
          name += ' ' + CustomerManager.model.profile.last_name;
        }

        return name;
      }

      return 'Guest';
    }
  }]);

  return CustomerManager;
})(app.AbstractManager);

//src/js/shared/managers/datamanager.js

window.app.DataManager = (function (_app$AbstractManager5) {
  _inherits(DataManager, _app$AbstractManager5);

  /* global signals */

  function DataManager(DataModel, Logger, SNAPEnvironment) {
    _classCallCheck(this, DataManager);

    _get(Object.getPrototypeOf(DataManager.prototype), 'constructor', this).call(this, Logger);

    this._DataModel = DataModel;
    this._SNAPEnvironment = SNAPEnvironment;

    this.homeChanged = new signals.Signal();
    this.menuChanged = new signals.Signal();
    this.categoryChanged = new signals.Signal();
    this.itemChanged = new signals.Signal();

    this._CACHEABLE_MEDIA_KINDS = [11, 41, 51, 58, 61];
  }

  _createClass(DataManager, [{
    key: 'initialize',
    value: function initialize() {
      _get(Object.getPrototypeOf(DataManager.prototype), 'initialize', this).call(this);

      var self = this;
      this._cache = {
        menu: {},
        category: {},
        item: {},
        media: {}
      };

      return this.model.digest().then(function (digest) {
        var menuSets = (digest.menu_sets || []).map(function (menu) {
          return new Promise(function (resolve, reject) {
            self.model.menu(menu.token).then(function (data) {
              return self._cache.menu[menu.token] = self._filterMenu(data);
            }).then(resolve, resolve);
          });
        });

        var menuCategories = (digest.menu_categories || []).map(function (category) {
          return new Promise(function (resolve, reject) {
            self.model.category(category.token).then(function (data) {
              return self._cache.category[category.token] = self._filterCategory(data);
            }).then(resolve, resolve);
          });
        });

        var menuItems = (digest.menu_items || []).map(function (item) {
          return new Promise(function (resolve, reject) {
            self.model.item(item.token).then(function (data) {
              return self._cache.item[item.token] = data;
            }).then(resolve, resolve);
          });
        });

        var medias = (digest.media || []).filter(function (media) {
          return self._CACHEABLE_MEDIA_KINDS.indexOf(media.kind) !== -1;
        }).map(function (media) {
          var width, height;

          switch (media.kind) {
            case 11:
              width = 1920;
              height = 1080;
              break;
            case 41:
            case 51:
              width = 370;
              height = 370;
              break;
            case 58:
              width = 600;
              height = 600;
              break;
            case 61:
              width = 100;
              height = 100;
              break;
          }

          media.width = width;
          media.height = height;

          return media;
        }).map(function (media) {
          return new Promise(function (resolve, reject) {
            self.model.media(media).then(function (img) {
              return self._cache.media[media.token] = img;
            }).then(resolve, resolve);
          });
        });

        self._Logger.debug('Digest contains ' + menuSets.length + ' menus, ' + (menuCategories.length + ' categories, ') + (menuItems.length + ' items and ') + (medias.length + ' files.'));

        var tasks = [].concat(menuSets).concat(menuCategories).concat(menuItems);

        Promise.all(tasks).then(function () {
          Promise.all(medias);
        });
      });
    }
  }, {
    key: 'reset',
    value: function reset() {
      _get(Object.getPrototypeOf(DataManager.prototype), 'reset', this).call(this);

      return this.model.clear();
    }
  }, {
    key: '_cached',
    value: function _cached(group, id) {
      if (!this._cache) {
        return null;
      }

      if (id && this._cache[group] && this._cache[group][id]) {
        return this._cache[group][id];
      } else if (!id && this._cache[group]) {
        return this._cache[group];
      }

      return null;
    }
  }, {
    key: '_filterHome',
    value: function _filterHome(data) {
      var self = this;
      data.menus = data.menus.filter(function (menu) {
        return self._SNAPEnvironment.platform === 'desktop' || menu.type !== 3;
      });

      return data;
    }
  }, {
    key: '_filterMenu',
    value: function _filterMenu(data) {
      return data;
    }
  }, {
    key: '_filterCategory',
    value: function _filterCategory(data) {
      var self = this;
      data.items = data.items.filter(function (item) {
        return self._SNAPEnvironment.platform === 'desktop' || item.type !== 3;
      });

      return data;
    }
  }, {
    key: 'model',
    get: function get() {
      return this._DataModel;
    }
  }, {
    key: 'home',
    get: function get() {
      return this._home;
    },
    set: function set(value) {
      if (this._home === value) {
        return;
      }

      if (value) {
        var self = this;
        this._home = value;
        this.model.home().then(function (home) {
          if (self._home) {
            home = self._filterHome(home);
            self.homeChanged.dispatch(home);
          }
        });
      } else {
        this._home = undefined;
        this.homeChanged.dispatch(undefined);
      }
    }
  }, {
    key: 'menu',
    get: function get() {
      return this._menu;
    },
    set: function set(value) {
      if (this._menu === value) {
        return;
      }

      if (value) {
        var self = this;
        this._menu = value;

        var data = this._cached('menu', value);

        if (data) {
          return this.menuChanged.dispatch(data);
        }

        this.model.menu(value).then(function (menu) {
          if (self._menu) {
            menu = self._filterMenu(menu);
            self.menuChanged.dispatch(menu);
          }
        });
      } else {
        this._menu = undefined;
        this.menuChanged.dispatch(undefined);
      }
    }
  }, {
    key: 'category',
    get: function get() {
      return this._category;
    },
    set: function set(value) {
      if (this._category === value) {
        return;
      }

      if (value) {
        var self = this;
        this._category = value;

        var data = this._cached('category', value);

        if (data) {
          return this.categoryChanged.dispatch(data);
        }

        this.model.category(value).then(function (category) {
          if (self._category) {
            category = self._filterCategory(category);
            self.categoryChanged.dispatch(category);
          }
        });
      } else {
        this._category = undefined;
        this.categoryChanged.dispatch(undefined);
      }
    }
  }, {
    key: 'item',
    get: function get() {
      return this._item;
    },
    set: function set(value) {
      if (this._item === value) {
        return;
      }

      if (value) {
        var self = this;
        this._item = value;

        var data = this._cached('item', value);

        if (data) {
          return this.itemChanged.dispatch(data);
        }

        this.model.item(value).then(function (item) {
          if (self._item) {
            self.itemChanged.dispatch(item);
          }
        });
      } else {
        this._item = undefined;
        this.itemChanged.dispatch(undefined);
      }
    }
  }]);

  return DataManager;
})(app.AbstractManager);

//src/js/shared/managers/dialogmanager.js

window.app.DialogManager = (function (_app$AbstractManager6) {
  _inherits(DialogManager, _app$AbstractManager6);

  function DialogManager(Logger) {
    _classCallCheck(this, DialogManager);

    _get(Object.getPrototypeOf(DialogManager.prototype), 'constructor', this).call(this, Logger);

    this.alertRequested = new signals.Signal();
    this.notificationRequested = new signals.Signal();
    this.confirmRequested = new signals.Signal();
    this.jobStarted = new signals.Signal();
    this.jobEnded = new signals.Signal();
    this.modalStarted = new signals.Signal();
    this.modalEnded = new signals.Signal();
    this._jobs = 0;
    this._modals = 0;
  }

  _createClass(DialogManager, [{
    key: 'alert',
    value: function alert(message, title) {
      var self = this;
      return new Promise(function (resolve, reject) {
        self.alertRequested.dispatch(message, title, resolve, reject);
      });
    }
  }, {
    key: 'notification',
    value: function notification(message) {
      this.notificationRequested.dispatch(message);
    }
  }, {
    key: 'confirm',
    value: function confirm(message) {
      var self = this;
      return new Promise(function (resolve, reject) {
        self.confirmRequested.dispatch(message, resolve, reject);
      });
    }
  }, {
    key: 'startJob',
    value: function startJob() {
      this._jobs++;

      if (this._jobs === 1) {
        this.jobStarted.dispatch();
      }

      return this._jobs;
    }
  }, {
    key: 'endJob',
    value: function endJob(id) {
      this._jobs--;

      if (this._jobs === 0) {
        this.jobEnded.dispatch();
      }
    }
  }, {
    key: 'startModal',
    value: function startModal() {
      this._modals++;

      if (this._modals === 1) {
        this.modalStarted.dispatch();
      }

      return this._modals;
    }
  }, {
    key: 'endModal',
    value: function endModal(id) {
      this._modals--;

      if (this._modals === 0) {
        this.modalEnded.dispatch();
      }
    }
  }, {
    key: 'jobs',
    get: function get() {
      return this._jobs;
    }
  }, {
    key: 'modals',
    get: function get() {
      return this._modals;
    }
  }]);

  return DialogManager;
})(app.AbstractManager);

//src/js/shared/managers/locationmanager.js

window.app.LocationManager = (function (_app$AbstractManager7) {
  _inherits(LocationManager, _app$AbstractManager7);

  function LocationManager(DataModel, DtsApi, LocationModel, Logger) {
    _classCallCheck(this, LocationManager);

    _get(Object.getPrototypeOf(LocationManager.prototype), 'constructor', this).call(this, Logger);

    this._DataModel = DataModel;
    this._DtsApi = DtsApi;
    this._LocationModel = LocationModel;
  }

  _createClass(LocationManager, [{
    key: 'loadConfig',
    value: function loadConfig() {
      var self = this,
          model = self._LocationModel;

      return new Promise(function (resolve, reject) {
        function loadConfig() {
          self._Logger.debug('Loading location config...');

          model.fetch('location').then(function (location) {
            self._Logger.debug('New \'' + location.location_name + '\' location config loaded.');
            resolve(location);
          }, function (e) {
            if (!model.location) {
              return reject(e);
            }

            self._Logger.debug('Fallback to stored location \'' + model.location.location_name + '\'.');
            resolve(model.location);
          });
        }

        model.initialize().then(function () {
          self._Logger.debug('Loading device info...');

          model.fetch('device').then(function (device) {
            self._Logger.debug('New device loaded: token=' + device.token + ';location=' + device.location_token);
            loadConfig();
          }, function (e) {
            if (!model.device) {
              return reject(e);
            }

            self._Logger.debug('Fallback to stored device: token=' + model.device.token + ';location=' + model.device.location_token);
            loadConfig();
          });
        }, reject);
      });
    }
  }, {
    key: 'loadSeats',
    value: function loadSeats() {
      var self = this,
          model = self._LocationModel;

      return new Promise(function (resolve, reject) {
        function loadSeat() {
          self._Logger.debug('Loading current seat info...');

          model.fetch('seat').then(function (seat) {
            self._Logger.debug('New seat data loaded for #' + seat.token + '.');
            resolve(seat);
          }, function (e) {
            if (!model.seat) {
              return reject(e);
            }

            self._Logger.debug('Fallback to stored seat #' + model.seat.token + '.');
            resolve(model.seat);
          });
        }

        model.initialize().then(function () {
          self._Logger.debug('Loading location seats...');

          model.fetch('seats').then(function (seats) {
            self._Logger.debug('Location seats loaded (' + seats.length + ').');
            loadSeat();
          }, function (e) {
            if (!model.seats) {
              return reject(e);
            }

            self._Logger.debug('Fallback to stored seats (' + model.seats.length + ').');
            loadSeat();
          });
        }, reject);
      });
    }
  }]);

  return LocationManager;
})(app.AbstractManager);

//src/js/shared/managers/navigationmanager.js

window.app.NavigationManager = (function (_app$AbstractManager8) {
  _inherits(NavigationManager, _app$AbstractManager8);

  /* global signals */

  function NavigationManager($rootScope, $location, $window, AnalyticsModel, Logger) {
    _classCallCheck(this, NavigationManager);

    _get(Object.getPrototypeOf(NavigationManager.prototype), 'constructor', this).call(this, Logger);

    this.$$location = $location;
    this.$$window = $window;
    this._AnalyticsModel = AnalyticsModel;

    this.locationChanging = new signals.Signal();
    this.locationChanged = new signals.Signal();

    var self = this;

    $rootScope.$on('$locationChangeSuccess', function () {
      var path = self.$$location.path();

      if (path === self._path) {
        self.locationChanged.dispatch(self._location);
        return;
      }

      self._path = path;
      self._location = self.getLocation(path);
      self.locationChanging.dispatch(self._location);
      self.locationChanged.dispatch(self._location);
    });

    this.locationChanged.add(function (location) {
      return self._AnalyticsModel.logNavigation(location);
    });
  }

  _createClass(NavigationManager, [{
    key: 'getPath',
    value: function getPath(location) {
      if (!location) {
        return null;
      }

      if (location.token) {
        return '/' + location.type + '/' + location.token;
      } else if (location.url) {
        return '/' + location.type + '/' + encodeURIComponent(location.url);
      }

      if (location.type === 'home') {
        return '/';
      }

      return '/' + location.type;
    }
  }, {
    key: 'getLocation',
    value: function getLocation(path) {
      var match = /\/(\w+)?(\/(.+))?/.exec(path);

      if (match && match.length > 1) {
        var type = match[1];
        var param = match[3];

        if (param !== undefined) {
          switch (type) {
            case 'url':
              return { type: type, url: decodeURIComponent(param) };

            default:
              return { type: type, token: param };
          }
        }

        if (!type) {
          type = 'home';
        }

        return { type: type };
      }

      return {};
    }
  }, {
    key: 'goBack',
    value: function goBack() {
      if (this.location.type !== 'home' && this.location.type !== 'signin') {
        this.$$window.history.back();
      }
    }
  }, {
    key: 'path',
    get: function get() {
      return this._path;
    },
    set: function set(value) {
      var i = value.indexOf('#'),
          path = i !== -1 ? value.substring(i + 1) : value;

      this.location = this.getLocation(path);
    }
  }, {
    key: 'location',
    get: function get() {
      return this._location;
    },
    set: function set(value) {
      this._location = value;

      this.locationChanging.dispatch(this._location);

      var path = this._path = this.getPath(this._location);
      this.$$location.path(path);
    }
  }]);

  return NavigationManager;
})(app.AbstractManager);

//src/js/shared/managers/ordermanager.js

window.app.OrderManager = (function (_app$AbstractManager9) {
  _inherits(OrderManager, _app$AbstractManager9);

  function OrderManager(ChatModel, CustomerModel, DtsApi, OrderModel, Logger) {
    var _this = this;

    _classCallCheck(this, OrderManager);

    _get(Object.getPrototypeOf(OrderManager.prototype), 'constructor', this).call(this, Logger);

    this._DtsApi = DtsApi;
    this._ChatModel = ChatModel;
    this._CustomerModel = CustomerModel;
    this._OrderModel = OrderModel;

    this._ChatModel.giftSeatChanged.add(function (giftSeat) {
      if (_this.model.orderCartStash.length === 0) {
        _this.model.orderCartStash = _this.model.orderCart;
        _this.model.orderCart = [];
      }

      if (!giftSeat) {
        _this.model.orderCart = _this.model.orderCartStash;
      }
    });
  }

  _createClass(OrderManager, [{
    key: 'reset',
    value: function reset() {
      var _this2 = this;

      _get(Object.getPrototypeOf(OrderManager.prototype), 'reset', this).call(this);

      return new Promise(function (resolve) {
        _this2.model.clearWatcher(self.model.REQUEST_KIND_ORDER);
        _this2.model.clearWatcher(self.model.REQUEST_KIND_ASSISTANCE);
        _this2.model.clearWatcher(self.model.REQUEST_KIND_CLOSEOUT);

        _this2.clearCart();
        _this2.clearCheck();
        _this2.model.orderTicket = {};

        resolve();
      });
    }

    //-----------------------------------------------
    //    Cart and checks
    //-----------------------------------------------

  }, {
    key: 'addToCart',
    value: function addToCart(item) {
      this.model.orderCart.push(item);
      this.model.orderCartChanged.dispatch(this.model.orderCart);

      if (this._ChatModel.giftSeat) {
        this._ChatModel.giftReady.dispatch();
      }

      return this.model.orderCart;
    }
  }, {
    key: 'removeFromCart',
    value: function removeFromCart(item) {
      this.model.orderCart = this.model.orderCart.filter(function (entry) {
        return entry !== item;
      });
      return this.model.orderCart;
    }
  }, {
    key: 'clearCart',
    value: function clearCart() {
      this.model.orderCart = [];
      this.model.orderCartStash = [];

      this._ChatModel.giftSeat = null;
    }
  }, {
    key: 'clearCheck',
    value: function clearCheck(items) {
      var result = [];

      if (items) {
        for (var i = 0; i < this.model.orderCheck.length; i++) {
          var found = false;

          for (var j = 0; j < items.length; j++) {
            if (this.model.orderCheck[i] === items[j]) {
              found = true;
              break;
            }
          }

          if (!found) {
            result.push(this.model.orderCheck[i]);
          }
        }
      }

      this.model.orderCheck = result;
    }
  }, {
    key: 'submitCart',
    value: function submitCart(options) {
      if (this.model.orderCart.length === 0) {
        return;
      }

      options = options || 0;

      if (this._ChatModel.giftSeat) {
        options |= 4;
      }

      var self = this;

      var request = {
        kind: this.model.REQUEST_KIND_ORDER,
        items: this.model.orderCart.map(function (entry) {
          return {
            token: entry.item.order.token,
            quantity: entry.quantity,
            modifiers: entry.modifiers.reduce(function (result, category) {
              return result.concat(category.modifiers.reduce(function (result, modifier) {
                if (modifier.isSelected) {
                  result.push(modifier.data.token);
                }
                return result;
              }, []));
            }, []),
            note: entry.name || ''
          };
        }),
        ticket_token: self.model.orderTicket.token,
        seat_token: self._ChatModel.giftSeat,
        options: options
      };

      return new Promise(function (resolve, reject) {
        self._DtsApi.waiter.placeOrder(request).then(function (response) {
          if (response.item_tokens) {
            for (var i = 0; i < response.item_tokens.length; i++) {
              self.model.orderCart[i].request = response.item_tokens[i];
            }
          }

          self.model.orderTicket = { token: response.ticket_token };

          self.model.orderCheck = self.model.orderCheck.concat(self.model.orderCart);
          self.clearCart();

          self._ChatModel.giftSeat = null;

          var watcher = self._createWatcher(self.model.REQUEST_KIND_ORDER, response);
          resolve(watcher);
        }, reject);
      });
    }
  }, {
    key: 'requestCloseout',
    value: function requestCloseout() {
      var self = this;
      var request = {
        kind: this.model.REQUEST_KIND_CLOSEOUT,
        ticket_token: this.model.orderTicket.token
      };

      return this._DtsApi.waiter.placeRequest(request).then(function (response) {
        self.model.orderTicket = { token: response.ticket_token };
        return self._createWatcher(self.model.REQUEST_KIND_CLOSEOUT, response);
      });
    }
  }, {
    key: 'requestAssistance',
    value: function requestAssistance() {
      var self = this;
      var request = {
        kind: this.model.REQUEST_KIND_ASSISTANCE,
        ticket_token: this.model.orderTicket.token
      };

      return this._DtsApi.waiter.placeRequest(request).then(function (response) {
        self._saveTicket(response);
        return self._createWatcher(self.model.REQUEST_KIND_ASSISTANCE, response);
      });
    }
  }, {
    key: 'calculatePrice',
    value: function calculatePrice(entry) {
      var modifiers = entry.modifiers.reduce(function (total, category) {
        return total + category.modifiers.reduce(function (total, modifier) {
          return total + (modifier.isSelected && modifier.data.price > 0 ? modifier.data.price : 0);
        }, 0);
      }, 0);

      return entry.quantity * (modifiers + entry.item.order.price);
    }
  }, {
    key: 'calculateTotalPrice',
    value: function calculateTotalPrice(entries) {
      return entries ? entries.reduce(function (total, entry) {
        return total + OrderManager.prototype.calculatePrice(entry);
      }, 0) : 0;
    }
  }, {
    key: 'calculateTax',
    value: function calculateTax(entries) {
      return this.calculateTotalPrice(entries) * this.model.tax;
    }
  }, {
    key: 'uploadSignature',
    value: function uploadSignature(data) {
      return this._DtsApi.upload.uploadTemp(data, 'image/png', 'signature.png').then(function (response) {
        return response.token;
      });
    }
  }, {
    key: 'generatePaymentToken',
    value: function generatePaymentToken() {
      var self = this;

      if (this._CustomerModel.isAuthenticated && !this._CustomerModel.isGuest) {
        return this._DtsApi.customer.initializePayment().then(function (response) {
          self._savePaymentToken(response);
        });
      }

      return this._DtsApi.waiter.initializePayment().then(function (response) {
        self._savePaymentToken(response);
      });
    }
  }, {
    key: 'payOrder',
    value: function payOrder(request) {
      request.ticket_token = this.model.orderTicket.token;
      request.payment_token = this.model.orderTicket.payment_token;
      return this._DtsApi.waiter.submitCheckoutPayment(request);
    }
  }, {
    key: 'requestReceipt',
    value: function requestReceipt(request) {
      request.ticket_token = this.model.orderTicket.token;
      return this._DtsApi.waiter.requestReceipt(request);
    }
  }, {
    key: '_saveTicket',
    value: function _saveTicket(response) {
      this.model.orderTicket = {
        token: response.ticket_token,
        payment_token: this.model.orderTicket.payment_token
      };
    }
  }, {
    key: '_savePaymentToken',
    value: function _savePaymentToken(response) {
      this.model.orderTicket = {
        token: this.model.orderTicket.token,
        payment_token: response.token
      };
    }
  }, {
    key: '_createWatcher',
    value: function _createWatcher(kind, ticket) {
      var watcher = new app.RequestWatcher(ticket, this._DtsApi);
      this.model.addWatcher(kind, watcher);

      return watcher;
    }
  }, {
    key: 'model',
    get: function get() {
      return this._OrderModel;
    }
  }]);

  return OrderManager;
})(app.AbstractManager);

//src/js/shared/managers/sessionmanager.js

window.app.SessionManager = (function (_app$AbstractManager10) {
  _inherits(SessionManager, _app$AbstractManager10);

  function SessionManager(SNAPEnvironment, AnalyticsModel, CustomerModel, LocationModel, OrderModel, SurveyModel, storageProvider, Logger) {
    var _this3 = this;

    _classCallCheck(this, SessionManager);

    _get(Object.getPrototypeOf(SessionManager.prototype), 'constructor', this).call(this, Logger);

    var self = this;

    this.sessionStarted = new signals.Signal();
    this.sessionEnded = new signals.Signal();

    this._SNAPEnvironment = SNAPEnvironment;
    this._AnalyticsModel = AnalyticsModel;
    this._CustomerModel = CustomerModel;
    this._LocationModel = LocationModel;
    this._OrderModel = OrderModel;
    this._SurveyModel = SurveyModel;

    this._store = storageProvider('snap_seat_session');

    this._CustomerModel.profileChanged.add(function (customer) {
      if (!self._session || !customer) {
        return;
      }

      self._session.customer = customer.token;
      self._store.write(_this3._session);
    });

    this._LocationModel.seatChanged.add(function (seat) {
      if (!self._session || !seat) {
        return;
      }

      self._session.seat = seat.token;
      self._store.write(_this3._session);
    });

    this._OrderModel.orderTicketChanged.add(function (ticket) {
      if (!self._session || !ticket || !ticket.token) {
        return;
      }

      self._session.ticket = ticket.token;
      self._store.write(_this3._session);
    });
  }

  _createClass(SessionManager, [{
    key: 'initialize',
    value: function initialize() {
      _get(Object.getPrototypeOf(SessionManager.prototype), 'initialize', this).call(this);

      var self = this;
      return new Promise(function (resolve, reject) {
        self._store.read().then(function (data) {
          self._session = data;

          if (!data) {
            self._startSession();
          }

          resolve();
        }, reject);
      });
    }
  }, {
    key: 'reset',
    value: function reset() {
      _get(Object.getPrototypeOf(SessionManager.prototype), 'reset', this).call(this);

      return this._store.clear();
    }
  }, {
    key: 'endSession',
    value: function endSession() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._store.read().then(function (s) {
          self._session = null;

          if (s) {
            self._Logger.debug('Seat session ' + s.id + ' ended.');

            s.ended = new Date();
            self._AnalyticsModel.logSession(s);
            self.sessionEnded.dispatch(s);
          }

          self._store.clear().then(resolve, reject);
        }, reject);
      });
    }
  }, {
    key: '_startSession',
    value: function _startSession() {
      var seat = this._LocationModel.seat;

      this._session = {
        id: this._generateID(),
        seat: seat ? seat.token : undefined,
        platform: this._SNAPEnvironment.platform,
        started: new Date()
      };

      this._Logger.debug('Seat session ' + this._session.id + ' started.');

      this._store.write(this._session);
      this.sessionStarted.dispatch(this._session);
    }
  }, {
    key: '_generateID',
    value: function _generateID() {
      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        var r = Math.random() * 16 | 0,
            v = c === 'x' ? r : r & 0x3 | 0x8;
        return v.toString(16);
      });
    }
  }, {
    key: 'session',
    get: function get() {
      return this._session;
    }
  }, {
    key: 'guestCount',
    get: function get() {
      return this._session.guest_count || 1;
    },
    set: function set(value) {
      if (this._session.guest_count === value) {
        return;
      }

      this._session.guest_count = value;
      this._store.write(this._session);
    }
  }, {
    key: 'specialEvent',
    get: function get() {
      return this._session.special_event;
    },
    set: function set(value) {
      if (this._session.special_event === value) {
        return;
      }

      this._session.special_event = value;
      this._store.write(this._session);
    }
  }]);

  return SessionManager;
})(app.AbstractManager);

//src/js/shared/managers/shellmanager.js

window.app.ShellManager = (function (_app$AbstractManager11) {
  _inherits(ShellManager, _app$AbstractManager11);

  function ShellManager($sce, DataModel, ShellModel, Config, Environment, Hosts, Logger) {
    _classCallCheck(this, ShellManager);

    _get(Object.getPrototypeOf(ShellManager.prototype), 'constructor', this).call(this, Logger);

    this.$$sce = $sce;
    this._DataModel = DataModel;
    this._ShellModel = ShellModel;
    this._Config = Config;
    this._Environment = Environment;
    this._Hosts = Hosts;

    this.locale = Config.locale;
  }

  _createClass(ShellManager, [{
    key: 'initialize',
    value: function initialize() {
      _get(Object.getPrototypeOf(ShellManager.prototype), 'initialize', this).call(this);

      var self = this;

      var taskBackgrounds = this._DataModel.backgrounds().then(function (response) {
        self._ShellModel.backgrounds = response.main.map(function (item) {
          return {
            media: item.src
          };
        });

        self._ShellModel.screensavers = response.screensaver.map(function (item) {
          return {
            media: item.src
          };
        });

        self._ShellModel.pageBackgrounds = response.pages.map(function (item) {
          return {
            media: item.background.src,
            destination: item.destination
          };
        });
      });

      var taskElements = this._DataModel.elements().then(function (response) {
        var layout = self._Config.theme.layout;

        var elements = {};

        switch (layout) {
          case 'classic':
            elements = {
              'button_home': self.getAssetUrl('images/button-home.png'),
              'button_back': self.getAssetUrl('images/button-back.png'),
              'button_cart': self.getAssetUrl('images/button-cart.png'),
              'button_rotate': self.getAssetUrl('images/button-rotate.png'),
              'button_waiter': self.getAssetUrl('images/button-assistance.png'),
              'button_check': self.getAssetUrl('images/button-closeout.png'),
              'button_survey': self.getAssetUrl('images/button-survey.png'),
              'button_chat': self.getAssetUrl('images/button-chat.png')
            };
            break;
          case 'galaxies':
            elements = {
              'button_back': self.getAssetUrl('images/button-back.png'),
              'button_rotate': self.getAssetUrl('images/button-rotate.png'),
              'button_settings': self.getAssetUrl('images/button-settings.png'),
              'location_logo': self.getAssetUrl('images/button-logo.png')
            };
            break;
        }

        for (var i = 0; i < response.elements.length; i++) {
          var element = response.elements[i];
          elements[element.slot] = element.src;
        }

        self._ShellModel.elements = elements;
      });

      return Promise.all([taskBackgrounds, taskElements]);
    }
  }, {
    key: 'formatPrice',
    value: function formatPrice(price) {
      return this._ShellModel.priceFormat.replace(/{(\d+)}/g, function () {
        return price.toFixed(2);
      });
    }
  }, {
    key: 'getPageBackgrounds',
    value: function getPageBackgrounds(location) {
      return this._ShellModel.pageBackgrounds.filter(function (item) {
        return item.destination.type === location.type && (item.destination.token === location.token && location.token || item.destination.url === location.url && location.url);
      });
    }
  }, {
    key: 'getAppUrl',
    value: function getAppUrl(url) {
      var host = window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : '');
      return host + url;
    }
  }, {
    key: 'getAssetUrl',
    value: function getAssetUrl(file) {
      var path = this._getPath(this._Hosts['static']);

      return this.$$sce.trustAsResourceUrl(path + 'assets/' + this._Config.theme.layout + '/' + file);
    }
  }, {
    key: 'getPartialUrl',
    value: function getPartialUrl(name) {
      return this.getAssetUrl('partials/' + name + '.html');
    }
  }, {
    key: 'getMediaUrl',
    value: function getMediaUrl(media, width, height, extension) {
      if (!media) {
        return null;
      }

      var path = this._getPath(this._Hosts.media);

      if (typeof media === 'string' || media instanceof String) {
        if (media.substring(0, 4) !== 'http' && media.substring(0, 2) !== '//') {
          extension = extension || 'jpg';
          return this.$$sce.trustAsResourceUrl(path + 'media/' + media + '_' + width + '_' + height + '.' + extension);
        }

        return media;
      }

      if (!media.token) {
        return media;
      }

      var type = this.getMediaType(media);
      var url = path + 'media/' + media.token;

      if (!type) {
        return null;
      } else if (type === 'video') {
        url += '.webm';
      } else if (type === 'flash') {
        url += '.swf';
      } else if (type === 'image') {
        if (width && height) {
          url += '_' + width + '_' + height;
        }

        if (extension) {
          url += '.' + extension;
        } else {
          if (!media || !media.mime_type) {
            return undefined;
          }
          switch (media.mime_type) {
            case 'image/png':
              url += '.png';
              break;
            default:
              url += '.jpg';
              break;
          }
        }
      }

      return this.$$sce.trustAsResourceUrl(url);
    }
  }, {
    key: 'getMediaType',
    value: function getMediaType(media) {
      if (!media || !media.mime_type) {
        return undefined;
      }

      if (media.mime_type.substring(0, 5) === 'image') {
        return 'image';
      } else if (media.mime_type.substring(0, 5) === 'video') {
        return 'video';
      } else if (media.mime_type === 'application/x-shockwave-flash') {
        return 'flash';
      }

      return undefined;
    }
  }, {
    key: '_getPath',
    value: function _getPath(res) {
      var path = '';

      if (res.protocol) {
        path += res.profocol + '://';
      } else if (res.secure) {
        path += 'https://';
      } else if (res.secure === false) {
        path += 'http://';
      }

      if (res.host) {
        if (!res.protocol) {
          path += '//';
        }
        path += res.host;
      }

      if (res.path) {
        path += res.path;
      }

      if (path.length > 0 && !path.endsWith('/')) {
        path += '/';
      }

      return path;
    }
  }, {
    key: 'locale',
    get: function get() {
      return this._locale;
    },
    set: function set(value) {
      if (this._locale === value) {
        return;
      }
      this._locale = value;

      var format = '{0}',
          currency = '';

      switch (this._locale) {
        case 'ro_MD':
          format = '{0} Lei';
          currency = '';
          break;
        case 'zh_MO':
          format = 'MOP$ {0}';
          currency = '';
          break;
        case 'en_US':
          format = '${0}';
          currency = 'USD';
          break;
      }

      this._ShellModel.priceFormat = format;
      this._ShellModel.currency = currency;
    }
  }, {
    key: 'model',
    get: function get() {
      return this._ShellModel;
    }
  }, {
    key: 'tileStyle',
    get: function get() {
      var style = 'tile';

      switch (this._Config.theme.tiles_style) {
        case 'regular':
          style += ' tile-regular';
          break;
      }
      //style += ' tile-regular';
      return style;
    }
  }, {
    key: 'predicateEven',
    get: function get() {
      var index = 0;
      return function () {
        return index++ % 2 === 1;
      };
    }
  }, {
    key: 'predicateOdd',
    get: function get() {
      var index = 0;
      return function () {
        return index++ % 2 === 0;
      };
    }
  }]);

  return ShellManager;
})(app.AbstractManager);

//src/js/shared/managers/socialmanager.js

(function () {

  /* global URI */

  //------------------------------------------------------------------------
  //
  //  SocialManager
  //
  //------------------------------------------------------------------------

  var SocialManager = function SocialManager(SNAPEnvironment, DtsApi, WebBrowser, Logger) {
    this._SNAPEnvironment = SNAPEnvironment;
    this._DtsApi = DtsApi;
    this._WebBrowser = WebBrowser;
    this._Logger = Logger;
  };

  window.app.SocialManager = SocialManager;

  //-----------------------------------------------
  //    Login
  //-----------------------------------------------

  SocialManager.prototype.loginFacebook = function () {
    var self = this,
        facebookApp = this._SNAPEnvironment.facebook_application,
        customerApp = this._SNAPEnvironment.customer_application;

    return new Promise(function (resolve, reject) {
      function dispose() {
        self._WebBrowser.onNavigated.remove(onNavigated);
        self._WebBrowser.close();
      }

      var _reject = reject,
          _resolve = resolve;
      reject = function (e) {
        self._Logger.debug('Unable to login with Facebook: ' + e);
        dispose();
        _reject(e);
      };
      resolve = function (data) {
        self._Logger.debug('Facebook login complete.');
        dispose();
        _resolve(data);
      };

      function onNavigated(url) {
        if (url.indexOf(facebookApp.redirect_url) === 0) {
          var facebookAuth = URI('?' + URI(url).fragment()).search(true);

          if (facebookAuth.error || !facebookAuth.access_token) {
            self._Logger.debug('Facebook callback error: ' + facebookAuth.error);
            return reject(facebookAuth.error);
          }

          self._Logger.debug('Facebook callback received.');

          self._DtsApi.customer.signUpFacebook({
            access_token: facebookAuth.access_token,
            client_id: customerApp.client_id
          }).then(function (ticket) {
            self._Logger.debug('Facebook signin complete.');

            var url = self._DtsApi.oauth2.getAuthConfirmUrl(ticket.ticket_id, {
              client_id: customerApp.client_id,
              response_type: 'token',
              redirect_uri: customerApp.callback_url
            });

            self._WebBrowser.open(url);
          }, reject);
        } else if (url.indexOf(customerApp.callback_url) === 0) {
          var customerAuth = URI('?' + URI(url).fragment()).search(true);

          if (customerAuth.error || !customerAuth.access_token) {
            self._Logger.debug('Facebook customer callback error: ' + customerAuth.error);
            return reject(customerAuth.error);
          }

          self._Logger.debug('Facebook customer login complete.');

          resolve(customerAuth);
        }
      }

      self._WebBrowser.onNavigated.add(onNavigated);

      self._Logger.debug('Logging in with Facebook.');

      var url = URI('https://www.facebook.com/dialog/oauth').addSearch('client_id', facebookApp.client_id).addSearch('redirect_uri', facebookApp.redirect_url).addSearch('response_type', 'token').addSearch('scope', 'public_profile,email').toString();

      self._WebBrowser.open(url);
    });
  };

  SocialManager.prototype.loginGooglePlus = function () {
    var self = this,
        googleplusApp = this._SNAPEnvironment.googleplus_application,
        customerApp = this._SNAPEnvironment.customer_application;

    return new Promise(function (resolve, reject) {
      var state = self._generateToken();

      function dispose() {
        self._WebBrowser.onNavigated.remove(onNavigated);
        self._WebBrowser.close();
      }

      var _reject = reject,
          _resolve = resolve;
      reject = function (e) {
        self._Logger.debug('Unable to login with Google: ' + e);
        dispose();
        _reject(e);
      };
      resolve = function (data) {
        self._Logger.debug('Google login complete.');
        dispose();
        _resolve(data);
      };

      function onNavigated(url) {
        if (url.indexOf(googleplusApp.redirect_url) === 0) {
          var googleplusAuth = URI(url).search(true);

          if (googleplusAuth.error || !googleplusAuth.code || googleplusAuth.state !== state) {
            self._Logger.debug('Google callback error: ' + googleplusAuth.error);
            return reject(googleplusAuth.error);
          }

          self._Logger.debug('Google callback received.');

          self._DtsApi.customer.signUpGooglePlus({
            code: googleplusAuth.code,
            client_id: customerApp.client_id
          }).then(function (ticket) {
            self._Logger.debug('Google signin complete.');

            var url = self._DtsApi.oauth2.getAuthConfirmUrl(ticket.ticket_id, {
              client_id: customerApp.client_id,
              response_type: 'token',
              redirect_uri: customerApp.callback_url
            });

            self._WebBrowser.open(url);
          }, reject);
        } else if (url.indexOf(customerApp.callback_url) === 0) {
          var customerAuth = URI('?' + URI(url).fragment()).search(true);

          if (customerAuth.error || !customerAuth.access_token) {
            self._Logger.debug('Google customer callback error: ' + customerAuth.error);
            return reject(customerAuth.error);
          }

          self._Logger.debug('Google customer login complete.');

          resolve(customerAuth);
        }
      }

      self._WebBrowser.onNavigated.add(onNavigated);

      self._Logger.debug('Logging in with Google.');

      var url = URI('https://accounts.google.com/o/oauth2/auth').addSearch('client_id', googleplusApp.client_id).addSearch('redirect_uri', googleplusApp.redirect_url).addSearch('response_type', 'code').addSearch('scope', 'https://www.googleapis.com/auth/plus.login email').addSearch('access_type', 'offline').addSearch('state', state).toString();

      self._WebBrowser.open(url);
    });
  };

  SocialManager.prototype.loginTwitter = function () {
    var self = this,
        twitterApp = this._SNAPEnvironment.twitter_application,
        customerApp = this._SNAPEnvironment.customer_application;

    return new Promise(function (resolve, reject) {
      var tokenSecret;

      function dispose() {
        self._WebBrowser.onNavigated.remove(onNavigated);
        self._WebBrowser.close();
      }

      var _reject = reject,
          _resolve = resolve;
      reject = function (e) {
        self._Logger.debug('Unable to login with Twitter: ' + e);
        dispose();
        _reject(e);
      };
      resolve = function (data) {
        self._Logger.debug('Twitter login complete.');
        dispose();
        _resolve(data);
      };

      function onNavigated(url) {
        if (url.indexOf(twitterApp.redirect_url) === 0) {
          var twitterAuth = URI(url).search(true);

          if (twitterAuth.error || !twitterAuth.oauth_verifier) {
            self._Logger.debug('Twitter callback error: ' + twitterAuth.error);
            return reject(twitterAuth.error);
          }

          self._Logger.debug('Twitter callback received.');

          self._DtsApi.customer.signUpTwitter({
            client_id: customerApp.client_id,
            request_token: twitterAuth.oauth_token,
            request_token_secret: tokenSecret,
            request_token_verifier: twitterAuth.oauth_verifier
          }).then(function (ticket) {
            self._Logger.debug('Twitter signin complete.');

            var url = self._DtsApi.oauth2.getAuthConfirmUrl(ticket.ticket_id, {
              client_id: customerApp.client_id,
              response_type: 'token',
              redirect_uri: customerApp.callback_url
            });

            self._WebBrowser.open(url);
          }, reject);
        } else if (url.indexOf(customerApp.callback_url) === 0) {
          var customerAuth = URI('?' + URI(url).fragment()).search(true);

          if (customerAuth.error || !customerAuth.access_token) {
            self._Logger.debug('Twitter customer callback error: ' + customerAuth.error);
            return reject(customerAuth.error);
          }

          self._Logger.debug('Twitter customer login complete.');

          resolve(customerAuth);
        }
      }

      self._WebBrowser.onNavigated.add(onNavigated);

      self._Logger.debug('Logging in with Twitter.');

      self._DtsApi.customer.signUpTwitterRequestToken({
        oauth_callback: twitterApp.redirect_url
      }).then(function (token) {
        var url = URI('https://api.twitter.com/oauth/authenticate').addSearch('oauth_token', token.oauth_token).addSearch('force_login', 'true').toString();

        self._Logger.debug('Twitter request token received.');

        tokenSecret = token.oauth_token_secret;
        self._WebBrowser.open(url);
      }, reject);
    });
  };

  //-----------------------------------------------
  //    Helpers
  //-----------------------------------------------

  SocialManager.prototype._generateToken = function () {
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
      var r = Math.random() * 16 | 0,
          v = c === 'x' ? r : r & 0x3 | 0x8;
      return v.toString(16);
    });
  };
})();

//src/js/shared/managers/softwaremanager.js

(function () {

  //------------------------------------------------------------------------
  //
  //  SoftwareManager
  //
  //------------------------------------------------------------------------

  var SoftwareManager = function SoftwareManager(SNAPEnvironment) {
    this._SNAPEnvironment = SNAPEnvironment;
  };

  window.app.SoftwareManager = SoftwareManager;

  Object.defineProperty(SoftwareManager.prototype, 'currentVersion', {
    get: function get() {
      var pattern = /(SNAP)\/([0-9.]+)/,
          match = pattern.exec(navigator.userAgent);

      if (!match) {
        return '8.8.8.8';
      }

      return match[1];
    }
  });

  Object.defineProperty(SoftwareManager.prototype, 'requiredVersion', {
    get: function get() {
      return this._SNAPEnvironment.requirements[this._SNAPEnvironment.platform];
    }
  });

  Object.defineProperty(SoftwareManager.prototype, 'updateRequired', {
    get: function get() {
      return this._versionCompare(this.currentVersion, this.requiredVersion) === -1;
    }
  });

  SoftwareManager.prototype._versionCompare = function (v1, v2, options) {
    if (!v1 || !v2) {
      return 0;
    }

    var lexicographical = options && options.lexicographical,
        zeroExtend = options && options.zeroExtend,
        v1parts = v1.split('.'),
        v2parts = v2.split('.');

    function isValidPart(x) {
      return (lexicographical ? /^\d+[A-Za-z]*$/ : /^\d+$/).test(x);
    }

    if (!v1parts.every(isValidPart) || !v2parts.every(isValidPart)) {
      return NaN;
    }

    if (zeroExtend) {
      while (v1parts.length < v2parts.length) {
        v1parts.push('0');
      }
      while (v2parts.length < v1parts.length) {
        v2parts.push('0');
      }
    }

    if (!lexicographical) {
      v1parts = v1parts.map(Number);
      v2parts = v2parts.map(Number);
    }

    for (var i = 0; i < v1parts.length; ++i) {
      if (v2parts.length === i) {
        return 1;
      }

      if (v1parts[i] === v2parts[i]) {
        continue;
      } else if (v1parts[i] > v2parts[i]) {
        return 1;
      } else {
        return -1;
      }
    }

    if (v1parts.length !== v2parts.length) {
      return -1;
    }

    return 0;
  };
})();

//src/js/shared/managers/surveymanager.js

window.app.SurveyManager = (function (_app$AbstractManager12) {
  _inherits(SurveyManager, _app$AbstractManager12);

  function SurveyManager(DataModel, SurveyModel, Logger) {
    _classCallCheck(this, SurveyManager);

    _get(Object.getPrototypeOf(SurveyManager.prototype), 'constructor', this).call(this, Logger);

    this._DataModel = DataModel;
    this._SurveyModel = SurveyModel;
  }

  _createClass(SurveyManager, [{
    key: 'initialize',
    value: function initialize() {
      var _this4 = this;

      _get(Object.getPrototypeOf(SurveyManager.prototype), 'initialize', this).call(this);

      if (this.model.isEnabled) {
        this._DataModel.surveys().then(function (data) {
          _this4.model.feedbackSurvey = data.surveys[0];
        });
      }

      return Promise.resolve();
    }
  }, {
    key: 'reset',
    value: function reset() {
      var _this5 = this;

      _get(Object.getPrototypeOf(SurveyManager.prototype), 'reset', this).call(this);

      return new Promise(function (resolve, reject) {
        if (_this5.model.isEnabled) {
          _this5.model.feedbackSurveyComplete = false;
        }

        resolve();
      });
    }
  }, {
    key: 'model',
    get: function get() {
      return this._SurveyModel;
    }
  }]);

  return SurveyManager;
})(app.AbstractManager);

//src/js/shared/model/abstractmodel.js

window.app.AbstractModel = (function () {
  /* global signals */

  function AbstractModel(storageProvider) {
    _classCallCheck(this, AbstractModel);

    this._storageProvider = storageProvider;
    this._properties = {};
  }

  _createClass(AbstractModel, [{
    key: '_defineProperty',
    value: function _defineProperty(name, storeName, defaultValue, providerFunction) {
      var self = this,
          property = this._properties[name] = { name: '_' + name };

      if (storeName) {
        property.store = this._storageProvider(storeName);
      }

      if (providerFunction) {
        property.provider = providerFunction;
      }

      this[name + 'Changed'] = property.signal = new signals.Signal();

      Object.defineProperty(this, name, {
        get: function get() {
          return self[property.name] || defaultValue;
        },
        set: function set(value) {
          if (value === self[property.name]) {
            return;
          }

          self[property.name] = value;

          if (property.store) {
            property.store.write(value).then(function () {
              property.signal.dispatch(value);
            });
          }
        }
      });
    }
  }, {
    key: '_initProperty',
    value: function _initProperty(name) {
      var self = this,
          property = this._properties[name];

      if (!property) {
        throw new Error('Property \'' + name + '\' not found.');
      }

      if (property.initialized) {
        throw new Error('Property \'' + name + '\' is already initialized.');
      }

      if (!property.store) {
        property.initialized = true;
        return Promise.resolve();
      }

      return property.store.read().then(function (value) {
        property.initialized = true;
        self[property.name] = value;
        property.signal.dispatch(value);
      });
    }
  }, {
    key: 'initialize',
    value: function initialize() {
      var _this6 = this;

      return Promise.all(Object.keys(this._properties).filter(function (key) {
        return !_this6._properties[key].initialized;
      }).map(function (key) {
        return _this6._initProperty(key);
      }));
    }
  }, {
    key: 'fetch',
    value: function fetch(propertyName) {
      var property = this._properties[propertyName];

      if (!property) {
        throw new Error('Property \'' + propertyName + '\' not found.');
      }

      if (!property.provider) {
        throw new Error('Property \'' + propertyName + '\' has no provider.');
      }

      var self = this;
      return property.provider().then(function (value) {
        self[propertyName] = value;
        return value;
      });
    }
  }, {
    key: 'fetchAll',
    value: function fetchAll() {
      var _this7 = this;

      return Promise.all(Object.keys(this._properties).filter(function (key) {
        return _this7._properties[key].provider;
      }).map(function (key) {
        return _this7.fetch(key);
      }));
    }
  }, {
    key: 'clear',
    value: function clear() {
      var _this8 = this;

      return Promise.all(Object.keys(this._properties).filter(function (key) {
        return _this8._properties[key].store;
      }).map(function (key) {
        return _this8._properties[key].store.clear();
      }));
    }
  }, {
    key: '_propertyChanged',
    value: function _propertyChanged(name) {
      var property = this._properties[name];

      property.signal.dispatch(this[property.name]);

      if (property.store) {
        property.store.write(this[property.name]);
      }
    }
  }]);

  return AbstractModel;
})();

//src/js/shared/model/analyticsmodel.js

window.app.AnalyticsModel = (function () {
  function AnalyticsModel(storageProvider, heatmap, Logger) {
    _classCallCheck(this, AnalyticsModel);

    var self = this;
    this._data = [new app.AnalyticsData('sessions', storageProvider), new app.AnalyticsData('advertisements', storageProvider), new app.AnalyticsData('answers', storageProvider), new app.AnalyticsData('chats', storageProvider), new app.AnalyticsData('comments', storageProvider), new app.AnalyticsData('clicks', storageProvider), new app.AnalyticsData('pages', storageProvider), new app.AnalyticsData('urls', storageProvider)].reduce(function (result, item) {
      result[item.name] = item;
      return result;
    }, {});

    heatmap.clicked.add(function (click) {
      self._logClick(click);
    });

    this._Logger = Logger;
  }

  _createClass(AnalyticsModel, [{
    key: 'initialize',
    value: function initialize() {
      return Q.allSettled(this._datas.map(function (d) {
        return d.initialize();
      }));
    }
  }, {
    key: 'logSession',
    value: function logSession(session) {
      this._data.sessions.push(session);
    }
  }, {
    key: 'logNavigation',
    value: function logNavigation(destination) {
      this._data.pages.push({
        time: new Date(),
        destination: destination
      });

      this._data.clicks.store();
    }
  }, {
    key: 'logAdvertisement',
    value: function logAdvertisement(advertisement) {
      this._data.advertisements.push({
        time: new Date(),
        advertisement: advertisement
      });
    }
  }, {
    key: 'logAnswer',
    value: function logAnswer(answer) {
      this._data.answers.push({
        time: new Date(),
        answer: answer
      });
    }
  }, {
    key: 'logChat',
    value: function logChat(chat) {
      this._data.chats.push({
        time: new Date(),
        chat: chat
      });
    }
  }, {
    key: 'logComment',
    value: function logComment(comment) {
      this._data.comments.push({
        time: new Date(),
        comment: comment
      });
    }
  }, {
    key: 'logUrl',
    value: function logUrl(url) {
      this._data.urls.push({
        time: new Date(),
        url: url
      });
    }
  }, {
    key: 'reset',
    value: function reset() {
      return Q.allSettled(this._datas.map(function (d) {
        return d.reset();
      }));
    }
  }, {
    key: '_logClick',
    value: function _logClick(click) {
      click.time = new Date();
      this._data.clicks.data.push(click);
    }
  }, {
    key: 'sessions',
    get: function get() {
      return this._data.sessions;
    }
  }, {
    key: 'pages',
    get: function get() {
      return this._data.pages;
    }
  }, {
    key: 'advertisements',
    get: function get() {
      return this._data.advertisements;
    }
  }, {
    key: 'answers',
    get: function get() {
      return this._data.answers;
    }
  }, {
    key: 'chats',
    get: function get() {
      return this._data.chats;
    }
  }, {
    key: 'comments',
    get: function get() {
      return this._data.comments;
    }
  }, {
    key: 'urls',
    get: function get() {
      return this._data.urls;
    }
  }, {
    key: 'clicks',
    get: function get() {
      this._data.clicks.store();

      return this._data.clicks;
    }
  }, {
    key: '_datas',
    get: function get() {
      var _this9 = this;

      return Object.keys(this._data).map(function (x) {
        return _this9._data[x];
      });
    }
  }]);

  return AnalyticsModel;
})();

//src/js/shared/model/cartmodel.js

window.app.CartModel = (function () {
  function CartModel() {
    _classCallCheck(this, CartModel);

    this.STATE_CART = 'cart';
    this.STATE_HISTORY = 'history';

    this._isCartOpen = false;
    this.isCartOpenChanged = new signals.Signal();
    this._cartState = this.STATE_CART;
    this.cartStateChanged = new signals.Signal();
    this._editableItem = null;
    this.editableItemChanged = new signals.Signal();
  }

  _createClass(CartModel, [{
    key: 'openEditor',
    value: function openEditor(item, isNew) {
      if (this._editableItem === item) {
        return;
      }
      this._editableItemNew = isNew || false;
      this._editableItem = item;
      this.editableItemChanged.dispatch(item);
    }
  }, {
    key: 'closeEditor',
    value: function closeEditor() {
      this._editableItemNew = false;
      this._editableItem = null;
      this.editableItemChanged.dispatch(null);
    }
  }, {
    key: 'isCartOpen',
    get: function get() {
      return this._isCartOpen;
    },
    set: function set(value) {
      if (this._isCartOpen === value) {
        return;
      }
      this._isCartOpen = value;
      this.isCartOpenChanged.dispatch(value);
    }
  }, {
    key: 'cartState',
    get: function get() {
      return this._cartState;
    },
    set: function set(value) {
      if (this._cartState === value) {
        return;
      }
      this._cartState = value;
      this.cartStateChanged.dispatch(value);
    }
  }, {
    key: 'editableItem',
    get: function get() {
      return this._editableItem;
    }
  }, {
    key: 'editableItemNew',
    get: function get() {
      return this._editableItemNew;
    }
  }]);

  return CartModel;
})();

//src/js/shared/model/chatmodel.js

window.app.ChatModel = (function () {
  /* global signals */

  function ChatModel(SNAPLocation, SNAPEnvironment, storageProvider) {
    _classCallCheck(this, ChatModel);

    var self = this;

    this._preferencesStore = storageProvider('snap_chat_preferences');
    this._historyStore = storageProvider('snap_chat_history');

    this.isConnectedChanged = new signals.Signal();
    this.isEnabledChanged = new signals.Signal();
    this.isPresentChanged = new signals.Signal();

    this.activeDevicesChanged = new signals.Signal();
    this.pendingDevicesChanged = new signals.Signal();
    this.chatRequestReceived = new signals.Signal();

    this.historyChanged = new signals.Signal();
    this.messageReceived = new signals.Signal();

    this.giftRequestReceived = new signals.Signal();
    this.giftAccepted = new signals.Signal();

    this._giftSeat = null;
    this.giftSeatChanged = new signals.Signal();

    this._giftDevice = null;
    this.giftDeviceChanged = new signals.Signal();

    this.giftReady = new signals.Signal();
    this.giftAccepted = new signals.Signal();

    this._isEnabled = SNAPLocation.chat;
    this._pendingDevices = [];
    this._activeDevices = [];
    this._lastReads = {};

    this._preferencesStore.read().then(function (prefs) {
      if (!prefs) {
        return;
      }

      self._isEnabled = Boolean(prefs.is_enabled);

      self._activeDevices = prefs.active_devices || [];
      self._pendingDevices = prefs.pending_devices || [];
      self._lastReads = prefs.last_reads || {};
    });

    this._historyStore.read().then(function (history) {
      self._history = history || [];
    });
  }

  _createClass(ChatModel, [{
    key: 'isActiveDevice',
    value: function isActiveDevice(device) {
      return this.activeDevices.indexOf(device.token || device) !== -1;
    }
  }, {
    key: 'isPendingDevice',
    value: function isPendingDevice(device) {
      return this.pendingDevices.indexOf(device.token || device) !== -1;
    }
  }, {
    key: 'addActiveDevice',
    value: function addActiveDevice(device) {
      this._activeDevices.push(device.token || device);
      this.activeDevices = this._activeDevices;
    }
  }, {
    key: 'addPendingDevice',
    value: function addPendingDevice(device) {
      this._pendingDevices.push(device.token || device);
      this.pendingDevices = this._pendingDevices;
    }
  }, {
    key: 'removeActiveDevice',
    value: function removeActiveDevice(device) {
      var index = this.activeDevices.indexOf(device.token || device);
      this._activeDevices.splice(index, 1);
      this.activeDevices = this._activeDevices;
    }
  }, {
    key: 'removePendingDevice',
    value: function removePendingDevice(device) {
      var index = this.pendingDevices.indexOf(device.token || device);
      this._pendingDevices.splice(index, 1);
      this.pendingDevices = this._pendingDevices;
    }
  }, {
    key: 'addHistory',
    value: function addHistory(message) {
      this._history.push(message);
      this.history = this._history;
    }
  }, {
    key: 'getLastRead',
    value: function getLastRead(device) {
      var token = device.token || device;
      return this._lastReads[token] || null;
    }
  }, {
    key: 'setLastRead',
    value: function setLastRead(device, value) {
      var token = device.token || device;
      this._lastReads[token] = value;
      this._updatePreferences();
    }
  }, {
    key: 'save',
    value: function save() {
      this._updateHistory();
      this._updatePreferences();
    }
  }, {
    key: 'reset',
    value: function reset() {
      this._isConnected = this._isEnabled = this._isPresent = false;
      this._history = [];
      this._activeDevices = [];
      this._pendingDevices = [];

      this._historyStore.clear();
      this._preferencesStore.clear();
    }
  }, {
    key: '_updateHistory',
    value: function _updateHistory() {
      this._historyStore.write(this.history);
    }
  }, {
    key: '_updatePreferences',
    value: function _updatePreferences() {
      this._preferencesStore.write({
        is_enabled: this.isEnabled,
        active_devices: this.activeDevices,
        pending_devices: this.pendingDevices,
        last_reads: this._lastReads
      });
    }
  }, {
    key: 'isConnected',
    get: function get() {
      return this._isConnected;
    },
    set: function set(value) {
      if (this._isConnected === value) {
        return;
      }

      this._isConnected = Boolean(value);
      this.isConnectedChanged.dispatch(this._isConnected);
    }
  }, {
    key: 'isEnabled',
    get: function get() {
      return this._isEnabled;
    },
    set: function set(value) {
      if (this._isEnabled === value) {
        return;
      }

      this._isEnabled = Boolean(value);
      this.isEnabledChanged.dispatch(this._isEnabled);

      this._updatePreferences();
    }
  }, {
    key: 'isPresent',
    get: function get() {
      return this._isPresent;
    },
    set: function set(value) {
      if (this._isPresent === value) {
        return;
      }

      this._isPresent = Boolean(value);
      this.isPresentChanged.dispatch(this._isPresent);
    }
  }, {
    key: 'giftDevice',
    get: function get() {
      return this._giftDevice;
    },
    set: function set(value) {
      if (this._giftDevice === value) {
        return;
      }

      this._giftDevice = value;
      this.giftDeviceChanged.dispatch(this._giftDevice);
    }
  }, {
    key: 'giftSeat',
    get: function get() {
      return this._giftSeat;
    },
    set: function set(value) {
      if (this._giftSeat === value) {
        return;
      }

      this._giftSeat = value;
      this.giftSeatChanged.dispatch(this._giftSeat);
    }
  }, {
    key: 'pendingDevices',
    get: function get() {
      return this._pendingDevices;
    },
    set: function set(value) {
      this._pendingDevices = value || [];
      this.pendingDevicesChanged.dispatch(this.pendingDevices);
    }
  }, {
    key: 'activeDevices',
    get: function get() {
      return this._activeDevices;
    },
    set: function set(value) {
      this._activeDevices = value || [];
      this.activeDevicesChanged.dispatch(this.activeDevices);
    }
  }, {
    key: 'history',
    get: function get() {
      return this._history;
    },
    set: function set(value) {
      this._history = value || [];

      this.historyChanged.dispatch(this._history);
      this._updateHistory();
    }
  }]);

  return ChatModel;
})();

//src/js/shared/model/customermodel.js

window.app.CustomerModel = (function () {
  /* global signals */

  function CustomerModel(Config, storageProvider) {
    _classCallCheck(this, CustomerModel);

    var self = this;

    this._accountStore = storageProvider('snap_customer');

    this._profile = null;

    this._isGuest = false;
    this._isEnabled = Boolean(Config.accounts);

    this.profileChanged = new signals.Signal();

    this._accountStore.read().then(function (account) {
      self._isGuest = account && account.is_guest;

      if (!account || account.is_guest) {
        self._profile = null;
      } else {
        self._profile = account.profile;
      }

      self.profileChanged.dispatch(self._profile);
    });
  }

  _createClass(CustomerModel, [{
    key: 'isEnabled',
    get: function get() {
      return Boolean(this._isEnabled);
    }
  }, {
    key: 'isAuthenticated',
    get: function get() {
      return this.isEnabled && (Boolean(this.profile) || this.isGuest);
    }
  }, {
    key: 'isGuest',
    get: function get() {
      return this.isEnabled && Boolean(this._isGuest);
    }
  }, {
    key: 'hasCredentials',
    get: function get() {
      return Boolean(this.isAuthenticated && !this.isGuest && this.profile.type === 1);
    }
  }, {
    key: 'profile',
    get: function get() {
      return this._profile;
    },
    set: function set(value) {
      var self = this;
      this._profile = value || null;
      this._isGuest = value === 'guest';

      if (!value) {
        this._accountStore.clear().then(function () {
          self._isGuest = false;
          self.profileChanged.dispatch(self._profile);
          self.session = null;
        });
      } else {
        this._accountStore.write({
          profile: this._profile,
          is_guest: this._isGuest
        }).then(function () {
          self.profileChanged.dispatch(self._profile);

          if (!value || self._isGuest) {
            self.session = null;
          }
        });
      }
    }
  }]);

  return CustomerModel;
})();

//src/js/shared/model/datamodel.js

window.app.DataModel = (function () {
  function DataModel(config, service, storageProvider) {
    _classCallCheck(this, DataModel);

    this._config = config;
    this._service = service;
    this._cache = {};
    this._storageProvider = storageProvider;
  }

  _createClass(DataModel, [{
    key: 'clear',
    value: function clear() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._cache = {};
        resolve();
      });
    }
  }, {
    key: 'digest',
    value: function digest() {
      return this._service.snap.getDigest(this._config.location);
    }
  }, {
    key: 'home',
    value: function home() {
      return this._getSnapData('home', 'getMenus');
    }
  }, {
    key: 'advertisements',
    value: function advertisements() {
      return this._getSnapData('advertisements', 'getAdvertisements');
    }
  }, {
    key: 'backgrounds',
    value: function backgrounds() {
      return this._getSnapData('backgrounds', 'getBackgrounds');
    }
  }, {
    key: 'elements',
    value: function elements() {
      return this._getSnapData('elements', 'getElements');
    }
  }, {
    key: 'menu',
    value: function menu(id) {
      return this._getSnapData('menu', 'getMenu', id);
    }
  }, {
    key: 'category',
    value: function category(id) {
      return this._getSnapData('category', 'getMenuCategory', id);
    }
  }, {
    key: 'item',
    value: function item(id) {
      return this._getSnapData('item', 'getMenuItem', id);
    }
  }, {
    key: 'surveys',
    value: function surveys() {
      return this._getSnapData('surveys', 'getSurveys');
    }
  }, {
    key: 'seats',
    value: function seats() {
      var self = this;
      return this._cached('seats') || this._service.location.getSeats().then(function (data) {
        data = data || [];
        self._store(data, 'seats');
        return data;
      });
    }
  }, {
    key: 'media',
    value: function media(_media) {
      var self = this,
          token = _media.token + '_' + _media.width + '_' + _media.height;
      return this._cached('media', token) || new Promise(function (resolve, reject) {
        if (_media.width && _media.height) {
          var img = new Image();
          img.onload = function () {
            return resolve(img);
          };
          img.onerror = function (e) {
            return reject(e);
          };
          img.src = self._getMediaUrl(_media, _media.width, _media.height, _media.extension);

          self._store(img, 'media', token);

          if (img.complete) {
            resolve(img);
          }
        } else {
          reject('Missing image dimensions');
        }
      });
    }
  }, {
    key: '_getSnapData',
    value: function _getSnapData(name, method, id) {
      var _this10 = this;

      var cached = this._cached(name, id);

      if (cached) {
        return Promise.resolve(cached);
      }

      if (navigator.onLine === false) {
        var stored = this._stored(name, id);

        if (stored) {
          return Promise.resolve(stored);
        } else {
          return Promise.reject('Data is not available: /' + name + '/' + id);
        }
      }

      return this._service.snap[method](this._config.location, id).then(function (data) {
        data = data || [];
        _this10._store(data, name, id);
        return data;
      });
    }
  }, {
    key: '_cached',
    value: function _cached(group, id) {
      if (id && this._cache[group] && this._cache[group][id]) {
        return Promise.resolve(this._cache[group][id]);
      } else if (!id && this._cache[group]) {
        return Promise.resolve(this._cache[group]);
      }

      return null;
    }
  }, {
    key: '_stored',
    value: function _stored(group, id) {
      var storage = this._getStorage(group, id);

      return storage.readSync();
    }
  }, {
    key: '_store',
    value: function _store(data, group, id) {
      if (id) {
        if (!this._cache[group]) {
          this._cache[group] = {};
        }

        this._cache[group][id] = data;
      } else {
        this._cache[group] = data;
      }

      if (group !== 'media') {
        var storage = this._getStorage(group, id);
        storage.write(data);
      }
    }
  }, {
    key: '_getStorage',
    value: function _getStorage(group, id) {
      if (id) {
        return this._storageProvider('snap_cache_' + group + '_' + id);
      }

      return this._storageProvider('snap_cache_' + group);
    }
  }, {
    key: '_getMediaUrl',
    value: function _getMediaUrl() {}
  }]);

  return DataModel;
})();

//src/js/shared/model/locationmodel.js

window.app.LocationModel = (function (_app$AbstractModel) {
  _inherits(LocationModel, _app$AbstractModel);

  function LocationModel(DtsApi, SNAPEnvironment, SNAPLocation, storageProvider) {
    _classCallCheck(this, LocationModel);

    _get(Object.getPrototypeOf(LocationModel.prototype), 'constructor', this).call(this, storageProvider);

    var self = this;

    this._defineProperty('device', 'snap_device', null, function () {
      return DtsApi.hardware.getCurrentDevice();
    });
    this._defineProperty('devices', undefined, []);
    this._defineProperty('seat', 'snap_seat', null, function () {
      return DtsApi.location.getCurrentSeat();
    });
    this._defineProperty('seats', 'snap_seats', [], function () {
      return DtsApi.location.getSeats();
    });
    this._defineProperty('location', 'snap_location', SNAPLocation, function () {
      if (!self.device) {
        return Promise.reject('Device data is missing.');
      }

      return DtsApi.snap.getConfig(self.device.location_token);
    });

    this.initialize();
  }

  _createClass(LocationModel, [{
    key: 'addDevice',
    value: function addDevice(device) {
      this.devices.push(device);
      this._propertyChanged('device');
    }
  }, {
    key: 'getSeat',
    value: function getSeat(token) {
      return this.seats.filter(function (seat) {
        return seat.token === token;
      })[0] || null;
    }
  }, {
    key: 'getDevice',
    value: function getDevice(device) {
      return this.devices.filter(function (d) {
        return (device.token || device) === d.token;
      })[0] || null;
    }
  }]);

  return LocationModel;
})(app.AbstractModel);

//src/js/shared/model/ordermodel.js

window.app.OrderModel = (function () {
  /* global signals */

  function OrderModel(storageProvider) {
    _classCallCheck(this, OrderModel);

    var self = this;

    this.REQUEST_KIND_ORDER = 1;
    this.REQUEST_KIND_ASSISTANCE = 2;
    this.REQUEST_KIND_CLOSEOUT = 3;

    this.priceFormat = '{0}';
    this.tax = 0;

    this._orderCart = [];
    this._orderCartStash = [];
    this._orderCheck = [];
    this._orderTicket = {};

    this._requestWatchers = {};

    //-----------------------------------------------
    //    Signals
    //-----------------------------------------------

    this.orderCartChanged = new signals.Signal();
    this.orderCartStashChanged = new signals.Signal();
    this.orderCheckChanged = new signals.Signal();
    this.orderTicketChanged = new signals.Signal();
    this.orderRequestChanged = new signals.Signal();
    this.assistanceRequestChanged = new signals.Signal();
    this.closeoutRequestChanged = new signals.Signal();

    //-----------------------------------------------
    //    Initialization
    //-----------------------------------------------

    function prepareCartData(items) {
      return items;
    }

    function restoreCartData(items) {
      return items.map ? items.map(app.CartItem.prototype.restore) : [];
    }

    this._orderCartStorage = storageProvider('snap_order_cart');
    this._orderCartStorage.read().then(function (value) {
      self.orderCart = restoreCartData(value || []);
      self.orderCartChanged.dispatch(self.orderCart);
      self.orderCartChanged.add(function (items) {
        self._orderCartStorage.write(prepareCartData(items));
      });
    });

    this._orderCartStashStorage = storageProvider('snap_order_cart_stash');
    this._orderCartStashStorage.read().then(function (value) {
      self.orderCartStash = restoreCartData(value || []);
      self.orderCartStashChanged.dispatch(self.orderCartStash);
      self.orderCartStashChanged.add(function (items) {
        self._orderCartStashStorage.write(prepareCartData(items));
      });
    });

    this._orderCheckStorage = storageProvider('snap_order_check');
    this._orderCheckStorage.read().then(function (value) {
      self.orderCheck = restoreCartData(value || []);
      self.orderCheckChanged.dispatch(self.orderCheck);
      self.orderCheckChanged.add(function (items) {
        self._orderCheckStorage.write(prepareCartData(items));
      });
    });

    this._orderTicketStorage = storageProvider('snap_order_ticket');
    this._orderTicketStorage.read().then(function (value) {
      self.orderTicket = value || {};
      self.orderTicketChanged.dispatch(self.orderTicket);
      self.orderTicketChanged.add(function (data) {
        self._orderTicketStorage.write(data);
      });
    });
  }

  //------------------------------------------------------------------------
  //
  //  Properties
  //
  //------------------------------------------------------------------------

  _createClass(OrderModel, [{
    key: 'getWatcher',

    //------------------------------------------------------------------------
    //
    //  Public methods
    //
    //------------------------------------------------------------------------

    //-----------------------------------------------
    //    Request watchers
    //-----------------------------------------------

    value: function getWatcher(kind) {
      return this._requestWatchers[kind];
    }
  }, {
    key: 'addWatcher',
    value: function addWatcher(kind, watcher) {
      this.clearWatcher(kind);

      var self = this;
      watcher.promise.then(function () {
        if (self.getWatcher(kind) !== watcher) {
          return;
        }
        self.clearWatcher(kind);
      });

      this._requestWatchers[kind] = watcher;
      this._notifyChange(kind);
    }
  }, {
    key: 'clearWatcher',
    value: function clearWatcher(kind) {
      var watcher = this.getWatcher(kind);

      if (watcher) {
        watcher.dispose();
      }

      delete this._requestWatchers[kind];
      this._notifyChange(kind);
    }

    //------------------------------------------------------------------------
    //
    //  Private methods
    //
    //------------------------------------------------------------------------

  }, {
    key: '_notifyChange',
    value: function _notifyChange(kind) {
      var signal;

      switch (kind) {
        case this.REQUEST_KIND_ORDER:
          signal = this.orderRequestChanged;
          break;
        case this.REQUEST_KIND_ASSISTANCE:
          signal = this.assistanceRequestChanged;
          break;
        case this.REQUEST_KIND_CLOSEOUT:
          signal = this.closeoutRequestChanged;
          break;
      }

      if (signal) {
        signal.dispatch(this.getWatcher(kind));
      }
    }
  }, {
    key: 'orderCart',
    get: function get() {
      return this._orderCart;
    },
    set: function set(value) {
      this._orderCart = value || [];
      this.orderCartChanged.dispatch(this.orderCart);
    }
  }, {
    key: 'orderCartStash',
    get: function get() {
      return this._orderCartStash;
    },
    set: function set(value) {
      this._orderCartStash = value || [];
      this.orderCartStashChanged.dispatch(this.orderCartStash);
    }
  }, {
    key: 'orderCheck',
    get: function get() {
      return this._orderCheck;
    },
    set: function set(value) {
      this._orderCheck = value || [];
      this.orderCheckChanged.dispatch(this.orderCheck);
    }
  }, {
    key: 'orderTicket',
    get: function get() {
      return this._orderTicket;
    },
    set: function set(value) {
      this._orderTicket = value || {};
      this.orderTicketChanged.dispatch(this.orderTicket);
    }
  }, {
    key: 'orderRequest',
    get: function get() {
      return this.getWatcher(this.REQUEST_KIND_ORDER);
    }
  }, {
    key: 'assistanceRequest',
    get: function get() {
      return this.getWatcher(this.REQUEST_KIND_ASSISTANCE);
    }
  }, {
    key: 'closeoutRequest',
    get: function get() {
      return this.getWatcher(this.REQUEST_KIND_CLOSEOUT);
    }
  }]);

  return OrderModel;
})();

//src/js/shared/model/sessionmodel.js

window.app.SessionModel = (function (_app$AbstractModel2) {
  _inherits(SessionModel, _app$AbstractModel2);

  function SessionModel(storageProvider) {
    _classCallCheck(this, SessionModel);

    _get(Object.getPrototypeOf(SessionModel.prototype), 'constructor', this).call(this, storageProvider);

    this._defineProperty('apiToken', 'snap_accesstoken');
    this._defineProperty('customerToken', 'snap_customer_accesstoken');

    this.initialize();
  }

  return SessionModel;
})(app.AbstractModel);

//src/js/shared/model/shellmodel.js

window.app.ShellModel = (function () {
  /* global signals */

  function ShellModel() {
    _classCallCheck(this, ShellModel);

    this._backgrounds = [];
    this.backgroundsChanged = new signals.Signal();
    this._screensavers = [];
    this.screensaversChanged = new signals.Signal();
    this._pageBackgrounds = [];
    this.pageBackgroundsChanged = new signals.Signal();
    this._elements = [];
    this.elementsChanged = new signals.Signal();
    this._priceFormat = '{0}';
    this.priceFormatChanged = new signals.Signal();
    this._currency = '';
    this.currencyChanged = new signals.Signal();
  }

  _createClass(ShellModel, [{
    key: 'backgrounds',
    get: function get() {
      return this._backgrounds;
    },
    set: function set(value) {
      this._backgrounds = value;
      this.backgroundsChanged.dispatch(value);
    }
  }, {
    key: 'screensavers',
    get: function get() {
      return this._screensavers;
    },
    set: function set(value) {
      this._screensavers = value;
      this.screensaversChanged.dispatch(value);
    }
  }, {
    key: 'pageBackgrounds',
    get: function get() {
      return this._pageBackgrounds;
    },
    set: function set(value) {
      this._pageBackgrounds = value;
      this.pageBackgroundsChanged.dispatch(value);
    }
  }, {
    key: 'elements',
    get: function get() {
      return this._elements;
    },
    set: function set(value) {
      this._elements = value;
      this.elementsChanged.dispatch(value);
    }
  }, {
    key: 'priceFormat',
    get: function get() {
      return this._priceFormat;
    },
    set: function set(value) {
      this._priceFormat = value;
      this.priceFormatChanged.dispatch(value);
    }
  }, {
    key: 'currency',
    get: function get() {
      return this._currency;
    },
    set: function set(value) {
      this._currency = value;
      this.currencyChanged.dispatch(value);
    }
  }]);

  return ShellModel;
})();

//src/js/shared/model/surveymodel.js

window.app.SurveyModel = (function () {
  /* global signals */

  function SurveyModel(Config, storageProvider) {
    _classCallCheck(this, SurveyModel);

    var self = this;

    this._isEnabled = Boolean(Config.surveys);
    this._surveys = {};

    this._store = storageProvider('snap_survey');

    this._feedbackSurvey = null;
    this.feedbackSurveyChanged = new signals.Signal();

    this.surveyCompleted = new signals.Signal();

    this._store.read().then(function (value) {
      self._surveys = value || self._surveys;
    });
  }

  _createClass(SurveyModel, [{
    key: 'isEnabled',
    get: function get() {
      return Boolean(this._isEnabled);
    }
  }, {
    key: 'feedbackSurvey',
    get: function get() {
      return this._feedbackSurvey;
    },
    set: function set(value) {
      this._feedbackSurvey = value;
      this.feedbackSurveyChanged.dispatch(this._feedbackSurvey);
    }
  }, {
    key: 'feedbackSurveyComplete',
    get: function get() {
      return Boolean(this._surveys.feedback);
    },
    set: function set(value) {
      this._surveys.feedback = Boolean(value);
      this._store.write(this._surveys);

      this.surveyCompleted.dispatch(this.feedbackSurvey);
    }
  }]);

  return SurveyModel;
})();

//src/js/shared/persistence/appcache.js

(function () {
  /* global signals */

  //------------------------------------------------------------------------
  //
  //  AppCache
  //
  //------------------------------------------------------------------------

  var AppCache = function AppCache(Logger) {
    this._Logger = Logger;
    this._cache = window.applicationCache;
    this._appCacheEvents = ['cached', 'checking', 'downloading', 'cached', 'noupdate', 'obsolete', 'updateready', 'progress'];

    var status = this._getCacheStatus();

    this._Logger.debug('Cache status: ' + status);

    this.complete = new signals.Signal();
    this._isComplete = false;
    this._isUpdated = false;
    this._hadErrors = false;

    if (status === 'UNCACHED') {
      this._isComplete = true;
      this.complete.dispatch(false);
    }

    var self = this;
    this._errorHandler = function (e) {
      self._handleCacheError(e);
    };
    this._eventHandler = function (e) {
      self._handleCacheEvent(e);
    };

    this._addEventListeners();
  };

  Object.defineProperty(AppCache.prototype, 'isComplete', {
    get: function get() {
      return this._isComplete;
    }
  });

  Object.defineProperty(AppCache.prototype, 'isUpdated', {
    get: function get() {
      return this._isUpdated;
    }
  });

  Object.defineProperty(AppCache.prototype, 'hadErrors', {
    get: function get() {
      return this._hadErrors;
    }
  });

  AppCache.prototype._getCacheStatus = function () {
    switch (this._cache.status) {
      case this._cache.UNCACHED:
        return 'UNCACHED';
      case this._cache.IDLE:
        return 'IDLE';
      case this._cache.CHECKING:
        return 'CHECKING';
      case this._cache.DOWNLOADING:
        return 'DOWNLOADING';
      case this._cache.UPDATEREADY:
        return 'UPDATEREADY';
      case this._cache.OBSOLETE:
        return 'OBSOLETE';
      default:
        return 'UKNOWN CACHE STATUS';
    }
  };

  AppCache.prototype._result = function (error, updated) {
    this._isComplete = true;
    this._isUpdated = updated;
    this._hadErrors = error != null;
    this.complete.dispatch(updated);
  };

  AppCache.prototype._addEventListeners = function () {
    var self = this;
    this._cache.addEventListener('error', this._errorHandler);
    this._appCacheEvents.forEach(function (e) {
      self._cache.addEventListener(e, self._eventHandler);
    });
  };

  AppCache.prototype._removeEventListeners = function () {
    var self = this;
    this._cache.removeEventListener('error', this._errorHandler);
    this._appCacheEvents.forEach(function (e) {
      self._cache.removeEventListener(e, self._eventHandler);
    });
  };

  AppCache.prototype._handleCacheEvent = function (e) {
    if (e.type !== 'progress') {
      this._Logger.debug('Cache event: ' + e.type);
      this._Logger.debug('Cache status: ' + this._getCacheStatus());
    }

    if (e.type === 'updateready') {
      this._Logger.debug('Caching complete. Swapping the cache.');

      this._removeEventListeners();
      this._cache.swapCache();

      this._result(null, true);
      return;
    } else if (e.type === 'cached') {
      this._Logger.debug('Caching complete. Cache saved.');

      this._removeEventListeners();
      this._result(null, false);
    } else if (e.type === 'noupdate') {
      this._Logger.debug('Caching complete. No updates.');

      this._removeEventListeners();
      this._result(null, false);
    }
  };

  AppCache.prototype._handleCacheError = function (e) {
    console.error('Cache update error: ' + e.message);
    this._removeEventListeners();
    this._result(e, false);
  };

  window.app.AppCache = AppCache;
})();

//src/js/shared/persistence/store.cordova.js

window.app.CordovaLocalStorageStore = (function () {
  function CordovaLocalStorageStore(id, Logger) {
    _classCallCheck(this, CordovaLocalStorageStore);

    this._id = id;
    this._Logger = Logger;

    if (!localStorage) {
      throw Error('Cordova not found.');
    }
  }

  _createClass(CordovaLocalStorageStore, [{
    key: 'clear',
    value: function clear() {
      try {
        localStorage.removeItem(this._id);
        return Promise.resolve();
      } catch (e) {
        this._Logger.warn('Unable to clear store #' + this._id + ': ' + e.message);
        return Promise.reject(e);
      }
    }
  }, {
    key: 'read',
    value: function read() {
      try {
        var value = JSON.parse(localStorage.getItem(this._id));
        return Promise.resolve(value);
      } catch (e) {
        this._Logger.warn('Unable to read from store #' + this._id + ': ' + e.message);
        return Promise.reject(e);
      }
    }
  }, {
    key: 'readSync',
    value: function readSync() {
      try {
        var value = JSON.parse(localStorage.getItem(this._id));
        return value;
      } catch (e) {
        this._Logger.warn('Unable to read from store #' + this._id + ': ' + e.message);
        return undefined;
      }
    }
  }, {
    key: 'write',
    value: function write(value) {
      try {
        localStorage.setItem(this._id, JSON.stringify(value));
        return Promise.resolve();
      } catch (e) {
        this._Logger.warn('Unable to write to store #' + this._id + ': ' + e.message);
        return Promise.reject(e);
      }
    }
  }]);

  return CordovaLocalStorageStore;
})();

//src/js/shared/persistence/store.inmemory.js

window.app.InMemoryStore = (function () {
  function InMemoryStore() {
    _classCallCheck(this, InMemoryStore);

    this._storage = null;
  }

  _createClass(InMemoryStore, [{
    key: 'clear',
    value: function clear() {
      this._storage = undefined;
      return Promise.resolve();
    }
  }, {
    key: 'read',
    value: function read() {
      return Promise.resolve(this._storage);
    }
  }, {
    key: 'readSync',
    value: function readSync() {
      return this._storage;
    }
  }, {
    key: 'write',
    value: function write(value) {
      this._storage = value;
      return Promise.resolve();
    }
  }]);

  return InMemoryStore;
})();

//src/js/shared/persistence/store.localstorage.js

window.app.LocalStorageStore = (function () {
  function LocalStorageStore(id) {
    _classCallCheck(this, LocalStorageStore);

    this._id = id;

    if (!store) {
      throw Error('Store.js not found.');
    }
  }

  _createClass(LocalStorageStore, [{
    key: 'clear',
    value: function clear() {
      try {
        store.remove(this._id);
        return Promise.resolve();
      } catch (e) {
        return Promise.reject(e);
      }
    }
  }, {
    key: 'read',
    value: function read() {
      try {
        var value = store.get(this._id);
        return Promise.resolve(value);
      } catch (e) {
        return Promise.reject(e);
      }
    }
  }, {
    key: 'readSync',
    value: function readSync() {
      try {
        return store.get(this._id);
      } catch (e) {
        return undefined;
      }
    }
  }, {
    key: 'write',
    value: function write(value) {
      try {
        store.set(this._id, value);
        return Promise.resolve();
      } catch (e) {
        return Promise.reject(e);
      }
    }
  }]);

  return LocalStorageStore;
})();

//src/js/shared/service/backendapi.js

window.app.BackendApi = function BackendApi(Hosts, SessionModel) {
  _classCallCheck(this, BackendApi);

  this._SessionModel = SessionModel;

  var self = this;

  function businessTokenProvider() {
    if (!self._SessionModel.apiToken) {
      return Promise.reject();
    }

    return Promise.resolve(self._SessionModel.apiToken.access_token);
  }

  function customerTokenProvider() {
    if (!self._SessionModel.customerToken) {
      return Promise.reject();
    }

    return Promise.resolve(self._SessionModel.customerToken.access_token);
  }

  for (var key in DtsApiClient) {
    var config = {
      host: {
        domain: Hosts.api.host,
        secure: Hosts.api.secure === 'true'
      }
    };

    var provider = businessTokenProvider;

    if (key === 'snap') {
      config.host.domain = Hosts.content.host;
    } else if (key === 'customer') {
      provider = customerTokenProvider;
    }

    this[key] = new DtsApiClient[key](config, provider);
  }
};

//src/js/shared/service/cardreader.js

(function () {

  /* global signals */

  //------------------------------------------------------------------------
  //
  //  CardReader
  //
  //------------------------------------------------------------------------

  var CardReader = function CardReader(ManagementService) {
    this._ManagementService = ManagementService;
    this.onReceived = new signals.Signal();
    this.onError = new signals.Signal();
  };

  CardReader.prototype.received = function (card) {
    this.onReceived.dispatch(card);
  };

  CardReader.prototype.error = function (e) {
    this.onError.dispatch(e);
  };

  CardReader.prototype.start = function () {
    if (!this._active) {
      this._ManagementService.startCardReader();
      this._active = true;
    }
  };

  CardReader.prototype.stop = function () {
    if (this._active) {
      this._ManagementService.stopCardReader();
      this._active = false;
    }
  };

  window.app.CardReader = CardReader;
})();

//src/js/shared/service/managementservice.cordova.js

window.app.CordovaManagementService = (function () {
  /* global signals */

  function CordovaManagementService(Logger) {
    _classCallCheck(this, CordovaManagementService);

    this._Logger = Logger;

    if (!window.cordova) {
      this._Logger.warn('Cordova is not available.');
    }

    if (window.screen) {
      this._orientation = window.screen.orientation;
    }
  }

  _createClass(CordovaManagementService, [{
    key: 'rotateScreen',
    value: function rotateScreen() {
      if (!window.screen || !this._orientation) {
        return Promise.resolve();
      }

      var self = this;
      return new Promise(function (resolve) {
        var orientation;
        switch (self._orientation.type) {
          case 'landscape':
          case 'landscape-primary':
            orientation = 'landscape-secondary';
            break;
          case 'landscape-secondary':
            orientation = 'landscape-primary';
            break;
          default:
            orientation = 'landscape-primary';
            break;
        }

        window.screen.lockOrientation(orientation);
        resolve();
      });
    }
  }, {
    key: 'openBrowser',
    value: function openBrowser(url, browserRef, options) {
      options = options || {};

      return new Promise(function (resolve) {
        var target = options.system ? '_blank' : '_blank',
            settings = {
          location: options.system ? 'no' : 'yes',
          clearcache: 'yes',
          clearsessioncache: 'yes',
          zoom: 'no',
          hardwareback: 'no'
        };

        browserRef = window.open(url, target, Object.keys(settings).map(function (x) {
          return x + '=' + settings[x];
        }).join(','));
        resolve(new app.CordovaWebBrowserReference(browserRef));
      });
    }
  }, {
    key: 'closeBrowser',
    value: function closeBrowser(browserRef) {
      return new Promise(function (resolve) {
        browserRef.exit();
        resolve();
      });
    }
  }, {
    key: 'startCardReader',
    value: function startCardReader() {
      return Promise.resolve();
    }
  }, {
    key: 'stopCardReader',
    value: function stopCardReader() {
      return Promise.resolve();
    }
  }, {
    key: 'loadReset',
    value: function loadReset() {
      var self = this;
      return new Promise(function (resolve, reject) {
        window.open('reset.html', '_self');
      });
    }
  }, {
    key: 'loadStartup',
    value: function loadStartup() {
      var self = this;
      return new Promise(function (resolve, reject) {
        window.open('startup.html', '_self');
      });
    }
  }, {
    key: 'loadApplication',
    value: function loadApplication() {
      var self = this;
      return new Promise(function (resolve, reject) {
        window.open('snap.html', '_self');
      });
    }
  }, {
    key: 'getSoundVolume',
    value: function getSoundVolume() {
      if (!window.volume) {
        return Promise.resolve(100);
      }

      return new Promise(function (resolve, reject) {
        window.volume.getVolume(resolve, reject);
      });
    }
  }, {
    key: 'setSoundVolume',
    value: function setSoundVolume(value) {
      if (!(value >= 0 && value <= 100)) {
        return Promise.reject('Invalid value: ' + value);
      }

      if (!window.volume) {
        return Promise.resolve();
      }

      return new Promise(function (resolve, reject) {
        window.volume.setVolume(value, resolve, reject);
      });
    }
  }, {
    key: 'getDisplayBrightness',
    value: function getDisplayBrightness() {
      if (!window.brightness) {
        return Promise.resolve(100);
      }

      return new Promise(function (resolve, reject) {
        window.brightness.getBrightness(function (value) {
          if (value < 0) {
            return resolve(50);
          }

          value = parseInt(value * 100);
          value = Math.min(100, value);
          value = Math.max(0, value);

          resolve(value);
        }, reject);
      });
    }
  }, {
    key: 'setDisplayBrightness',
    value: function setDisplayBrightness(value) {
      if (!(value >= 0 && value <= 100)) {
        return Promise.reject('Invalid value: ' + value);
      }

      if (!window.brightness) {
        return Promise.resolve();
      }

      return new Promise(function (resolve, reject) {
        window.brightness.setBrightness(value / 100, function () {
          return resolve();
        }, reject);
      });
    }
  }]);

  return CordovaManagementService;
})();

//src/js/shared/service/managementservice.homebrew.js

window.app.HomebrewManagementService = (function () {
  function HomebrewManagementService($resource, SNAPLocation, SNAPEnvironment) {
    _classCallCheck(this, HomebrewManagementService);

    this._api = {
      'rotateScreen': $resource('/management/rotate-screen', {}, { query: { method: 'GET' } }),
      'openBrowser': $resource('/management/open-browser', {}, { query: { method: 'GET' } }),
      'closeBrowser': $resource('/management/close-browser', {}, { query: { method: 'GET' } }),
      'startCardReader': $resource('/management/start-card-reader', {}, { query: { method: 'GET' } }),
      'stopCardReader': $resource('/management/stop-card-reader', {}, { query: { method: 'GET' } }),
      'reset': $resource('/management/reset', {}, { query: { method: 'GET' } }),
      'getSoundVolume': $resource('/management/volume', {}, { query: { method: 'GET' } }),
      'setSoundVolume': $resource('/management/volume', {}, { query: { method: 'GET' } }),
      'getDisplayBrightness': $resource('/management/brightness', {}, { query: { method: 'GET' } }),
      'setDisplayBrightness': $resource('/management/brightness', {}, { query: { method: 'GET' } })
    };
    this._SNAPLocation = SNAPLocation;
    this._SNAPEnvironment = SNAPEnvironment;
  }

  _createClass(HomebrewManagementService, [{
    key: 'rotateScreen',
    value: function rotateScreen() {
      this._api.rotateScreen.query();
    }
  }, {
    key: 'openBrowser',
    value: function openBrowser(url, browserRef) {
      var self = this;
      return new Promise(function (resolve) {
        return self._api.openBrowser.query({ url: url }).then(function (resolve) {
          var browser = new app.WebBrowserReference();
          browser.onNavigated.dispatch(url);
          resolve(browser);
        });
      });
    }
  }, {
    key: 'closeBrowser',
    value: function closeBrowser(browserRef) {
      var self = this;
      return new Promise(function (resolve) {
        if (browserRef) {
          browserRef.onExit.dispatch();
        }

        return self._api.closeBrowser.query();
      });
    }
  }, {
    key: 'startCardReader',
    value: function startCardReader() {
      this._api.startCardReader.query();
    }
  }, {
    key: 'stopCardReader',
    value: function stopCardReader() {
      this._api.stopCardReader.query();
    }
  }, {
    key: 'loadReset',
    value: function loadReset() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._api.reset.query().$promise.then(resolve, function () {
          self.loadStartup();
        });
      });
    }
  }, {
    key: 'loadStartup',
    value: function loadStartup() {
      var self = this;
      return new Promise(function (resolve, reject) {
        window.location.assign('/snap/' + encodeURIComponent(self._SNAPEnvironment.platform) + '/');
      });
    }
  }, {
    key: 'loadApplication',
    value: function loadApplication() {
      var self = this;
      return new Promise(function (resolve, reject) {
        window.location.assign('/snap/' + encodeURIComponent(self._SNAPEnvironment.platform) + ('/location/' + encodeURIComponent(self._SNAPLocation.token)));
      });
    }
  }, {
    key: 'getSoundVolume',
    value: function getSoundVolume() {
      return this._api.getSoundVolume.query().$promise;
    }
  }, {
    key: 'setSoundVolume',
    value: function setSoundVolume(value) {
      return this._api.setSoundVolume.query({ value: value }).$promise;
    }
  }, {
    key: 'getDisplayBrightness',
    value: function getDisplayBrightness() {
      return this._api.getDisplayBrightness.query().$promise;
    }
  }, {
    key: 'setDisplayBrightness',
    value: function setDisplayBrightness(value) {
      return this._api.setDisplayBrightness.query({ value: value }).$promise;
    }
  }]);

  return HomebrewManagementService;
})();

//src/js/shared/service/socketclient.js

window.app.SocketClient = (function () {
  function SocketClient(SessionModel, Hosts, Logger) {
    _classCallCheck(this, SocketClient);

    var self = this;

    this._SessionModel = SessionModel;
    this._Logger = Logger;

    this.isConnectedChanged = new signals.Signal();

    this._channels = {};
    this._isConnected = false;

    this._socket = socketCluster.connect({
      hostname: Hosts.socket.host,
      path: Hosts.socket.path,
      port: Hosts.socket.port,
      secure: Hosts.socket.secure
    });
    this._socket.on('connect', function (status) {
      self._Logger.debug('Socket connected.');
      self._authenticate();
    });
    this._socket.on('disconnect', function () {
      self._Logger.debug('Socket disconnected.');
      self._isConnected = false;
      self.isConnectedChanged.dispatch(self.isConnected);
    });
  }

  _createClass(SocketClient, [{
    key: 'subscribe',
    value: function subscribe(topic, handler) {
      this._getChannel(topic).watch(handler);
    }
  }, {
    key: 'send',
    value: function send(topic, data) {
      this._getChannel(topic).publish(data);
    }
  }, {
    key: '_getChannel',
    value: function _getChannel(topic) {
      return this._channels[topic] || (this._channels[topic] = this._socket.subscribe(topic));
    }
  }, {
    key: '_authenticate',
    value: function _authenticate() {
      var self = this;
      self._socket.emit('authenticate', {
        access_token: self._SessionModel.apiToken
      }, function (err) {
        if (err) {
          self._Logger.warn('Unable to authenticate socket: ' + err.message);
          return;
        }

        self._isConnected = true;
        self.isConnectedChanged.dispatch(self.isConnected);
      });
    }
  }, {
    key: 'isConnected',
    get: function get() {
      return this._isConnected;
    }
  }]);

  return SocketClient;
})();

//src/js/shared/service/telemetryservice.js

window.app.TelemetryService = (function () {
  function TelemetryService($resource) {
    _classCallCheck(this, TelemetryService);

    this._api = {
      'submitTelemetry': $resource('/snap/telemetry', {}, { query: { method: 'POST' } }),
      'submitLogs': $resource('/snap/logs', {}, { query: { method: 'POST' } })
    };
  }

  _createClass(TelemetryService, [{
    key: 'submitTelemetry',
    value: function submitTelemetry(data) {
      return this._api.submitTelemetry.query(data).$promise;
    }
  }, {
    key: 'submitLogs',
    value: function submitLogs(data) {
      return this._api.submitLogs.query(data).$promise;
    }
  }]);

  return TelemetryService;
})();

//src/js/shared/service/webbrowser.js

window.app.WebBrowser = (function () {
  /* global signals, URI */

  function WebBrowser(AnalyticsModel, ManagementService, SNAPEnvironment, SNAPHosts) {
    _classCallCheck(this, WebBrowser);

    this._AnalyticsModel = AnalyticsModel;
    this._ManagementService = ManagementService;
    this._SNAPEnvironment = SNAPEnvironment;

    this._localHosts = Object.keys(SNAPHosts).map(function (p) {
      return SNAPHosts[p].host;
    });
    this._localHosts.push('localhost');

    this.onOpen = new signals.Signal();
    this.onClose = new signals.Signal();
    this.onNavigated = new signals.Signal();

    this._browser = null;
  }

  _createClass(WebBrowser, [{
    key: 'open',
    value: function open(url, options) {
      var self = this;

      return this._ManagementService.openBrowser(url, this._browser, options).then(function (browser) {
        self._browser = browser;
        self.onOpen.dispatch(url, self._browser);
        self._browserOpened = true;

        self._browser.onNavigated.add(function (url) {
          self.onNavigated.dispatch(url);

          var host = URI(url).hostname();

          if (self._localHosts.indexOf(host) === -1) {
            self._AnalyticsModel.logUrl(url);
          }
        });
        self._browser.onExit.addOnce(function () {
          self.onClose.dispatch();
          self._browserOpened = false;
          self._browser = null;
        });

        return browser;
      });
    }
  }, {
    key: 'close',
    value: function close() {
      var self = this;

      if (!this._browserOpened) {
        return Promise.resolve();
      }

      return this._ManagementService.closeBrowser(this._browser).then(function () {
        self._browser = null;
        self.onClose.dispatch();
        self._browserOpened = false;
      });
    }

    //-----------------------------------------------
    //    External methods
    //-----------------------------------------------

  }, {
    key: 'navigated',
    value: function navigated(url) {
      if (this._browser) {
        this._browser.onNavigated.dispatch(url);
      }
    }
  }, {
    key: 'callback',
    value: function callback(data) {
      if (this._browser) {
        this._browser.onCallback.dispatch(data);
      }

      this.close();
    }
  }]);

  return WebBrowser;
})();

//src/js/shared/workers/heatmap.js

window.app.HeatMap = (function () {
  function HeatMap(element) {
    _classCallCheck(this, HeatMap);

    var self = this;

    this._listener = function (e) {
      self._onClick(e);
    };

    this._element = element;
    this._element.addEventListener('click', this._listener);

    this.clicked = new signals.Signal();
  }

  _createClass(HeatMap, [{
    key: 'dispose',
    value: function dispose() {
      this._element.removeEventListener('click', this._listener);
    }
  }, {
    key: '_onClick',
    value: function _onClick(e) {
      var data = {
        x: e.layerX / this._element.clientWidth,
        y: e.layerY / this._element.clientHeight
      };

      if (data.x < 0 || data.y < 0 || data.x > 1 || data.y > 1) {
        return;
      }

      this.clicked.dispatch(data);
    }
  }]);

  return HeatMap;
})();

//src/js/shared/workers/logger.js

window.app.Logger = (function () {
  function _class(SNAPEnvironment) {
    _classCallCheck(this, _class);

    this._SNAPEnvironment = SNAPEnvironment;
    this._log = log4javascript.getLogger();

    var ajaxAppender = new log4javascript.AjaxAppender('/snap/log');
    ajaxAppender.setWaitForResponse(true);
    ajaxAppender.setLayout(new log4javascript.JsonLayout());
    ajaxAppender.setThreshold(log4javascript.Level.ERROR);

    this._log.addAppender(ajaxAppender);
    this._log.addAppender(new log4javascript.BrowserConsoleAppender());
  }

  _createClass(_class, [{
    key: 'debug',
    value: function debug() {
      var _log;

      (_log = this._log).debug.apply(_log, arguments);
    }
  }, {
    key: 'info',
    value: function info() {
      var _log2;

      (_log2 = this._log).info.apply(_log2, arguments);
    }
  }, {
    key: 'warn',
    value: function warn() {
      var _log3;

      (_log3 = this._log).warn.apply(_log3, arguments);
    }
  }, {
    key: 'error',
    value: function error() {
      var _log4;

      (_log4 = this._log).error.apply(_log4, arguments);
    }
  }, {
    key: 'fatal',
    value: function fatal() {
      var _log5;

      (_log5 = this._log).fatal.apply(_log5, arguments);
    }
  }]);

  return _class;
})();

//src/js/shared/workers/mediastarter.js

(function () {
  /* global swfobject */

  function MediaStarter(id) {

    var flashvars = {};
    var params = {
      menu: 'false',
      wmode: 'direct',
      allowFullScreen: 'false'
    };
    var attributes = {
      id: id,
      name: id
    };

    swfobject.embedSWF(this._getQueryParameter('url'), id, this._getQueryParameter('width'), this._getQueryParameter('height'), '16.0.0', 'expressInstall.swf', flashvars, params, attributes, function (res) {
      if (res.success !== true) {
        console.error(res);
      }
    });
  }

  MediaStarter.prototype._getQueryParameter = function (name) {
    name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
    var regex = new RegExp("[\\#&]" + name + "=([^&#]*)"),
        results = regex.exec(location.hash);
    return results === null ? undefined : decodeURIComponent(results[1].replace(/\+/g, " "));
  };

  window.app.MediaStarter = MediaStarter;
})();

//src/js/apps.js

//------------------------------------------------------------------------
//
//  ApplicationBootstraper
//
//------------------------------------------------------------------------

window.app.ApplicationBootstraper = (function () {
  function ApplicationBootstraper() {
    _classCallCheck(this, ApplicationBootstraper);

    this.hosts = {
      api: { 'host': 'api2.managesnap.com', 'secure': true },
      content: { 'host': 'content.managesnap.com', 'secure': false },
      media: { 'host': 'content.managesnap.com', 'secure': false },
      'static': { 'path': '/' },
      socket: { 'host': 'web-dev.managesnap.com', 'secure': true, 'port': 8080, 'path': '/socket/' }
    };

    this.environment = {
      debug: false,
      main_application: { 'client_id': 'd67610b1c91044d8abd55cbda6c619f0', 'callback_url': 'http://api2.managesnap.com/callback/api', 'scope': '' },
      customer_application: { 'client_id': '91381a86b3b444fd876df80b22d7fa6e' },
      facebook_application: { 'client_id': '349729518545313', 'redirect_url': 'https://web.managesnap.com/callback/facebook' },
      googleplus_application: { 'client_id': '678998250941-1dmebp4ksni9tsjth45tsht8l7cl1mrn.apps.googleusercontent.com', 'redirect_url': 'https://web.managesnap.com/callback/googleplus' },
      twitter_application: { 'consumer_key': 'yQ8XJ15PmaPOi4L5DJPikGCI0', 'redirect_url': 'https://web.managesnap.com/callback/twitter' }
    };
  }

  //-----------------------------------------------
  //    Public methods
  //-----------------------------------------------

  _createClass(ApplicationBootstraper, [{
    key: 'configure',
    value: function configure() {
      FastClick.attach(document.body);

      var self = this;
      return new Promise(function (resolve, reject) {
        var store = new app.CordovaLocalStorageStore('snap_location');

        store.read().then(function (config) {
          self.location = config || null;

          angular.module('SNAP.configs', []).constant('SNAPLocation', self.location).constant('SNAPEnvironment', self.environment).constant('SNAPHosts', self.hosts);

          if (self.hosts['static'].host) {
            $sceDelegateProvider.resourceUrlWhitelist(['self', new RegExp('.*' + self.hosts['static'].host + '.*')]);
          }

          resolve();
        }, reject);
      });
    }
  }, {
    key: 'run',
    value: function run() {
      throw new Error('Not implemented.');
    }

    //-----------------------------------------------
    //    Helper methods
    //-----------------------------------------------

  }, {
    key: '_getPartialUrl',
    value: function _getPartialUrl(name) {
      if (!this.hosts) {
        throw new Error('Missing hosts configuration.');
      }

      if (!this.location) {
        throw new Error('Missing location configuration.');
      }

      var path = this.hosts['static'].host ? '//' + this.hosts['static'].host + this.hosts['static'].path : '' + this.hosts['static'].path;

      return path + 'assets/' + this.location.theme.layout + '/partials/' + name + '.html';
    }
  }]);

  return ApplicationBootstraper;
})();

//------------------------------------------------------------------------
//
//  SnapApplicationBootstraper
//
//------------------------------------------------------------------------

window.app.SnapApplicationBootstraper = (function (_app$ApplicationBootstraper) {
  _inherits(SnapApplicationBootstraper, _app$ApplicationBootstraper);

  function SnapApplicationBootstraper() {
    _classCallCheck(this, SnapApplicationBootstraper);

    _get(Object.getPrototypeOf(SnapApplicationBootstraper.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(SnapApplicationBootstraper, [{
    key: 'configure',
    value: function configure() {
      var _this11 = this;

      return _get(Object.getPrototypeOf(SnapApplicationBootstraper.prototype), 'configure', this).call(this).then(function () {
        angular.module('SNAPApplication', ['ngRoute', 'ngAnimate', 'ngTouch', 'ngSanitize', 'SNAP.configs', 'SNAP.controllers', 'SNAP.directives', 'SNAP.filters', 'SNAP.services']).config(['$locationProvider', '$routeProvider', '$sceDelegateProvider', function ($locationProvider, $routeProvider, $sceDelegateProvider) {

          $locationProvider.html5Mode(false);

          $routeProvider.when('/', { template: ' ', controller: 'HomeBaseCtrl' });
          $routeProvider.when('/menu/:token', { template: ' ', controller: 'MenuBaseCtrl' });
          $routeProvider.when('/category/:token', { template: ' ', controller: 'CategoryBaseCtrl' });
          $routeProvider.when('/item/:token', { template: ' ', controller: 'ItemBaseCtrl' });
          $routeProvider.when('/url/:url', { template: ' ', controller: 'UrlCtrl' });
          $routeProvider.when('/checkout', { templateUrl: _this11._getPartialUrl('checkout'), controller: 'CheckoutCtrl' });
          $routeProvider.when('/signin', { templateUrl: _this11._getPartialUrl('signin'), controller: 'SignInCtrl' });
          $routeProvider.when('/account', { templateUrl: _this11._getPartialUrl('account'), controller: 'AccountCtrl' });
          $routeProvider.when('/chat', { templateUrl: _this11._getPartialUrl('chat'), controller: 'ChatCtrl' });
          $routeProvider.when('/chatmap', { templateUrl: _this11._getPartialUrl('chatmap'), controller: 'ChatMapCtrl' });
          $routeProvider.when('/survey', { templateUrl: _this11._getPartialUrl('survey'), controller: 'SurveyCtrl' });
          $routeProvider.otherwise({ redirectTo: '/' });
        }]);
      });
    }
  }, {
    key: 'run',
    value: function run() {
      angular.bootstrap(document, ['SNAPApplication']);
    }
  }]);

  return SnapApplicationBootstraper;
})(app.ApplicationBootstraper);

//------------------------------------------------------------------------
//
//  StartupApplicationBootstraper
//
//------------------------------------------------------------------------

window.app.StartupApplicationBootstraper = (function (_app$ApplicationBootstraper2) {
  _inherits(StartupApplicationBootstraper, _app$ApplicationBootstraper2);

  function StartupApplicationBootstraper() {
    _classCallCheck(this, StartupApplicationBootstraper);

    _get(Object.getPrototypeOf(StartupApplicationBootstraper.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(StartupApplicationBootstraper, [{
    key: 'configure',
    value: function configure() {
      return _get(Object.getPrototypeOf(StartupApplicationBootstraper.prototype), 'configure', this).call(this).then(function () {
        angular.module('SNAPStartup', ['ngRoute', 'SNAP.configs', 'SNAP.controllers', 'SNAP.directives', 'SNAP.filters', 'SNAP.services']).config(function () {});
      });
    }
  }, {
    key: 'run',
    value: function run() {
      angular.bootstrap(document, ['SNAPStartup']);
    }
  }]);

  return StartupApplicationBootstraper;
})(app.ApplicationBootstraper);

//------------------------------------------------------------------------
//
//  ResetApplicationBootstraper
//
//------------------------------------------------------------------------

window.app.ResetApplicationBootstraper = (function (_app$ApplicationBootstraper3) {
  _inherits(ResetApplicationBootstraper, _app$ApplicationBootstraper3);

  function ResetApplicationBootstraper() {
    _classCallCheck(this, ResetApplicationBootstraper);

    _get(Object.getPrototypeOf(ResetApplicationBootstraper.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(ResetApplicationBootstraper, [{
    key: 'configure',
    value: function configure() {
      return _get(Object.getPrototypeOf(ResetApplicationBootstraper.prototype), 'configure', this).call(this).then(function () {
        angular.module('SNAPReset', ['ngRoute', 'SNAP.configs', 'SNAP.controllers', 'SNAP.directives', 'SNAP.filters', 'SNAP.services']).config(function () {});
      });
    }
  }, {
    key: 'run',
    value: function run() {
      angular.bootstrap(document, ['SNAPReset']);
    }
  }]);

  return ResetApplicationBootstraper;
})(app.ApplicationBootstraper);

//------------------------------------------------------------------------
//
//  SnapAuxiliaresApplicationBootstraper
//
//------------------------------------------------------------------------

window.app.SnapAuxiliaresApplicationBootstraper = (function (_app$ApplicationBootstraper4) {
  _inherits(SnapAuxiliaresApplicationBootstraper, _app$ApplicationBootstraper4);

  function SnapAuxiliaresApplicationBootstraper() {
    _classCallCheck(this, SnapAuxiliaresApplicationBootstraper);

    _get(Object.getPrototypeOf(SnapAuxiliaresApplicationBootstraper.prototype), 'constructor', this).apply(this, arguments);
  }

  _createClass(SnapAuxiliaresApplicationBootstraper, [{
    key: 'configure',
    value: function configure() {
      var _this12 = this;

      return _get(Object.getPrototypeOf(SnapAuxiliaresApplicationBootstraper.prototype), 'configure', this).call(this).then(function () {
        angular.module('SNAPAuxiliares', ['ngRoute', 'ngAnimate', 'ngTouch', 'ngSanitize', 'SNAP.configs', 'SNAP.controllers', 'SNAP.directives', 'SNAP.filters', 'SNAP.services']).config(['$locationProvider', '$routeProvider', function ($locationProvider, $routeProvider) {

          $locationProvider.html5Mode(false);

          $routeProvider.when('/', { templateUrl: _this12._getPartialUrl('chatroom'), controller: 'ChatRoomCtrl' });
          $routeProvider.otherwise({ redirectTo: '/' });
        }]);
      });
    }
  }, {
    key: 'run',
    value: function run() {
      angular.bootstrap(document, ['SNAPAuxiliares']);
    }
  }]);

  return SnapAuxiliaresApplicationBootstraper;
})(app.ApplicationBootstraper);

//src/js/controllers/_base.js

angular.module('SNAP.controllers', ['angular-bacon']);

//src/js/controllers/account.js

angular.module('SNAP.controllers').controller('AccountCtrl', ['$scope', 'CustomerManager', 'DialogManager', 'NavigationManager', function ($scope, CustomerManager, DialogManager, NavigationManager) {

  if (!CustomerManager.model.isEnabled || !CustomerManager.model.isAuthenticated) {
    NavigationManager.location = { type: 'home' };
    return;
  }

  //------------------------------------------------------------------------
  //
  //  Constants
  //
  //------------------------------------------------------------------------

  //------------------------------------------------------------------------
  //
  //  Properties
  //
  //------------------------------------------------------------------------

  //-----------------------------------------------
  //    Profile
  //-----------------------------------------------

  $scope.profile = CustomerManager.model.profile;
  $scope.canChangePassword = CustomerManager.model.hasCredentials;
  var profile = $scope.$watchAsProperty('profile');

  CustomerManager.model.profileChanged.add(function (value) {
    $scope.profile = value;
    $scope.canChangePassword = CustomerManager.model.hasCredentials;
    $scope.canChangeEmail = CustomerManager.model.hasCredentials;
  });

  //-----------------------------------------------
  //    Splash screen
  //-----------------------------------------------

  $scope.editProfile = function () {
    $scope.profileedit = angular.copy($scope.profile);
    $scope.showProfileEdit = true;
  };

  $scope.editPassword = function () {
    $scope.passwordedit = {
      old_password: '',
      new_password: ''
    };
    $scope.showProfileEdit = false;
    $scope.showPasswordEdit = true;
  };

  $scope.editPayment = function () {
    $scope.showPaymentEdit = true;
  };

  //-----------------------------------------------
  //    Profile edit screen
  //-----------------------------------------------

  $scope.profileEditSubmit = function () {
    var job = DialogManager.startJob();

    CustomerManager.updateProfile($scope.profileedit).then(function () {
      DialogManager.endJob(job);
      $scope.showProfileEdit = false;
    }, function (e) {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  $scope.profileEditCancel = function () {
    $scope.showProfileEdit = false;
  };

  //-----------------------------------------------
  //    Password edit screen
  //-----------------------------------------------

  $scope.passwordEditSubmit = function () {
    var job = DialogManager.startJob();

    CustomerManager.changePassword($scope.passwordedit).then(function () {
      DialogManager.endJob(job);
      $scope.showPasswordEdit = false;
    }, function (e) {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  $scope.passwordEditCancel = function () {
    $scope.showPasswordEdit = false;
  };
}]);

//src/js/controllers/background.js

angular.module('SNAP.controllers').controller('BackgroundCtrl', ['$scope', '$timeout', 'ShellManager', 'NavigationManager', function ($scope, $timeout, ShellManager, NavigationManager) {

  function showImages(values) {
    $timeout(function () {
      $scope.images = values.map(function (item) {
        return {
          src: ShellManager.getMediaUrl(item.media, 1920, 1080, 'jpg'),
          type: ShellManager.getMediaType(item.media)
        };
      });
    });
  }

  var backgrounds = ShellManager.model.backgrounds,
      pageBackgrounds = null;

  showImages(backgrounds);
  ShellManager.model.backgroundsChanged.add(function (value) {
    backgrounds = value;
    showImages(backgrounds);
  });

  NavigationManager.locationChanged.add(function (location) {
    var newPageBackgrounds = ShellManager.getPageBackgrounds(location);

    if (newPageBackgrounds.length > 0) {
      pageBackgrounds = newPageBackgrounds;
      showImages(pageBackgrounds);
      return;
    }

    if (pageBackgrounds) {
      switch (location.type) {
        case 'menu':
        case 'category':
        case 'item':
          return;
      }
    }

    pageBackgrounds = null;
    showImages(backgrounds);
  });
}]);

//src/js/controllers/cart.js

angular.module('SNAP.controllers').controller('CartCtrl', ['$scope', '$timeout', '$sce', 'CustomerManager', 'ShellManager', 'NavigationManager', 'OrderManager', 'DialogManager', 'CartModel', 'LocationModel', 'ChatManager', function ($scope, $timeout, $sce, CustomerManager, ShellManager, NavigationManager, OrderManager, DialogManager, CartModel, LocationModel, ChatManager) {

  $scope.getMediaUrl = function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
  $scope.formatPrice = function (value) {
    return ShellManager.formatPrice(value);
  };
  $scope.options = {};

  $scope.state = CartModel.cartState;
  CartModel.cartStateChanged.add(function (state) {
    return $timeout(function () {
      return $scope.state = state;
    });
  });

  $scope.currentOrder = OrderManager.model.orderCart;
  OrderManager.model.orderCartChanged.add(function (value) {
    return $scope.currentOrder = value;
  });

  $scope.totalOrder = OrderManager.model.orderCheck;
  OrderManager.model.orderCheckChanged.add(function (value) {
    return $scope.totalOrder = value;
  });

  $scope.giftSeat = LocationModel.getSeat(ChatManager.model.giftSeat);
  ChatManager.model.giftSeatChanged.add(function (token) {
    $timeout(function () {
      return $scope.giftSeat = LocationModel.getSeat(token);
    });
  });

  $scope.requestAssistanceAvailable = true;
  $scope.requestCloseoutAvailable = true;
  $scope.checkoutEnabled = CustomerManager.model.isEnabled;
  $scope.toGoOrder = false;
  $scope.visible = CartModel.isCartOpen;

  NavigationManager.locationChanging.add(function (location) {
    if (location.type !== 'category') {
      CartModel.isCartOpen = false;
    }
  });

  CartModel.isCartOpenChanged.add(function (value) {
    $scope.showCart();
    $scope.visible = value;
  });

  $scope.seat_name = LocationModel.seat ? LocationModel.seat.name : 'Table';

  LocationModel.seatChanged.add(function (seat) {
    return $scope.seat_name = seat ? seat.name : 'Table';
  });

  var refreshAssistanceRequest = function refreshAssistanceRequest() {
    $scope.requestAssistanceAvailable = OrderManager.model.assistanceRequest == null;
  };
  var refreshCloseoutRequest = function refreshCloseoutRequest() {
    $scope.requestCloseoutAvailable = OrderManager.model.closeoutRequest == null;
  };

  OrderManager.model.assistanceRequestChanged.add(refreshAssistanceRequest);
  OrderManager.model.closeoutRequestChanged.add(refreshCloseoutRequest);
  refreshAssistanceRequest();
  refreshCloseoutRequest();

  $scope.calculateDescription = function (entry) {
    var result = entry.name || entry.item.title;

    result += entry.modifiers.reduce(function (output, category) {
      return output + category.modifiers.reduce(function (output, modifier) {
        return output + (modifier.isSelected ? '<br/>- ' + modifier.data.title : '');
      }, '');
    }, '');

    return $sce.trustAsHtml(result);
  };

  $scope.calculatePrice = function (entry) {
    return OrderManager.calculatePrice(entry);
  };
  $scope.calculateTotalPrice = function (entries) {
    return OrderManager.calculateTotalPrice(entries);
  };

  $scope.editItem = function (entry) {
    return CartModel.openEditor(entry, false);
  };
  $scope.removeFromCart = function (entry) {
    return $scope.currentOrder = OrderManager.removeFromCart(entry);
  };
  $scope.reorderItem = function (entry) {
    return $scope.currentOrder = OrderManager.addToCart(entry.clone());
  };

  $scope.submitCart = function () {
    var job = DialogManager.startJob();

    var options = $scope.options.to_go_order ? 2 : 0;

    OrderManager.submitCart(options).then(function () {
      DialogManager.endJob(job);

      $scope.$apply(function () {
        $scope.currentOrder = OrderManager.model.orderCart;
        $scope.totalOrder = OrderManager.model.orderCheck;
        $scope.toGoOrder = false;
      });

      DialogManager.alert(ALERT_REQUEST_ORDER_SENT);
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  $scope.clearCart = function () {
    $scope.toGoOrder = false;
    $scope.currentOrder = OrderManager.clearCart();
  };

  $scope.closeCart = function () {
    CartModel.isCartOpen = false;
    $scope.showCart();
  };

  $scope.showHistory = function () {
    return CartModel.cartState = CartModel.STATE_HISTORY;
  };
  $scope.showCart = function () {
    return CartModel.cartState = CartModel.STATE_CART;
  };

  $scope.payCheck = function () {
    return NavigationManager.location = { type: 'checkout' };
  };

  $scope.requestAssistance = function () {
    if (!$scope.requestAssistanceAvailable) {
      return;
    }

    DialogManager.confirm(ALERT_TABLE_ASSISTANCE).then(function () {
      var job = DialogManager.startJob();

      OrderManager.requestAssistance().then(function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_ASSISTANCE_SENT);
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
      });
    });
  };

  $scope.requestCloseout = function () {
    if (!$scope.requestCloseoutAvailable) {
      return;
    }

    var job = DialogManager.startJob();

    OrderManager.requestCloseout().then(function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_CLOSEOUT_SENT);
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };
}]);

//src/js/controllers/category.js

angular.module('SNAP.controllers').controller('CategoryBaseCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', function ($scope, $timeout, DataManager, NavigationManager) {}]);

angular.module('SNAP.controllers').controller('CategoryCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', 'SNAPEnvironment', 'ShellManager', function ($scope, $timeout, DataManager, NavigationManager, SNAPEnvironment, ShellManager) {

  var CategoryList = React.createClass({
    displayName: 'CategoryList',

    render: function render() {
      var tileClassName = ShellManager.tileStyle;
      var rows = this.props.tiles.map(function (tile, i) {
        return React.DOM.td({
          className: tileClassName,
          key: i
        }, React.DOM.a({
          onClick: function onClick(e) {
            e.preventDefault();
            NavigationManager.location = tile.destination;
          },
          style: {
            backgroundImage: 'url(' + ShellManager.getMediaUrl(tile.image, 370, 370) + ')'
          }
        }, React.DOM.span(null, tile.title)));
      }).reduce(function (result, value, i) {
        result[i % 2].push(value);
        return result;
      }, [[], []]).map(function (row, i) {
        return React.DOM.tr({ key: i }, row);
      });

      return React.DOM.table({ className: 'tile-table' }, rows);
    }
  });

  NavigationManager.locationChanging.add(function (location) {
    DataManager.category = location.type === 'category' ? location.token : undefined;
    $scope.visible = Boolean(DataManager.category);
    $timeout(function () {
      $scope.$apply();
    });
  });

  DataManager.categoryChanged.add(function (data) {
    if (!data) {
      return;
    }

    var tiles,
        categories = data.categories || [];
    tiles = data.items || [];
    tiles = categories.concat(tiles);

    if (SNAPEnvironment.platform !== 'desktop') {
      tiles = tiles.filter(function (tile) {
        return tile.type !== 3;
      });
    }

    tiles.forEach(function (tile) {
      tile.url = '#' + NavigationManager.getPath(tile.destination);
    });

    React.render(React.createElement(CategoryList, { tiles: tiles }), document.getElementById('content-category'));
  });
}]);

//src/js/controllers/chat.js

angular.module('SNAP.controllers').controller('ChatCtrl', ['$scope', '$timeout', 'CustomerManager', 'ChatManager', 'DialogManager', 'NavigationManager', 'LocationModel', 'ShellManager', 'SNAPLocation', function ($scope, $timeout, CustomerManager, ChatManager, DialogManager, NavigationManager, LocationModel, ShellManager, SNAPLocation) {

  if (!SNAPLocation.chat) {
    NavigationManager.location = { type: 'home' };
    return;
  }

  $scope.locationName = SNAPLocation.location_name;

  $scope.getPartialUrl = function (name) {
    return ShellManager.getPartialUrl(name);
  };

  $scope.chatEnabled = ChatManager.model.isEnabled;
  ChatManager.model.isEnabledChanged.add(function (value) {
    $timeout(function () {
      return $scope.chatEnabled = value;
    });
  });

  $scope.activeDevices = ChatManager.model.activeDevices;
  ChatManager.model.activeDevicesChanged.add(function (value) {
    $timeout(function () {
      return $scope.activeDevices = value;
    });
  });

  $scope.giftSeat = LocationModel.getSeat(ChatManager.model.giftSeat);
  ChatManager.model.giftSeatChanged.add(function (token) {
    $timeout(function () {
      return $scope.giftSeat = LocationModel.getSeat(token);
    });
  });

  $scope.giftDevice = ChatManager.model.giftDevice;
  ChatManager.model.giftDeviceChanged.add(function (value) {
    $timeout(function () {
      return $scope.giftDevice = value;
    });
  });

  $scope.toggleChat = function () {
    ChatManager.model.isEnabled = !ChatManager.model.isEnabled;
  };

  $scope.openMap = function () {
    NavigationManager.location = { type: 'chatmap' };
  };

  $scope.getDeviceName = function (device_token) {
    return ChatManager.getDeviceName(device_token);
  };

  $scope.getSeatNumber = function (device_token) {
    var device = LocationModel.getDevice(device_token);

    for (var p in LocationModel.seats) {
      if (LocationModel.seats[p].token === device.seat) {
        var match = LocationModel.seats[p].name.match(/\d+/);
        return match ? match[0] || '' : '';
      }
    }

    return '';
  };

  $scope.closeChat = function (device_token) {
    DialogManager.confirm('Are you sure you would like to close the chat with ' + $scope.getDeviceName(device_token) + '?').then(function () {
      ChatManager.declineDevice(device_token);
    });
  };

  $scope.getUnreadCount = function (device_token) {
    return ChatManager.getUnreadCount(device_token);
  };

  $scope.sendGift = function (device_token) {
    var device = LocationModel.getDevice(device_token),
        seat = LocationModel.getSeat(device.seat);

    if (!seat) {
      return;
    }

    DialogManager.confirm('Are you sure that you want to send a gift to ' + seat.name + '?').then(function () {
      ChatManager.startGift(device_token);
      NavigationManager.location = { type: 'home' };
    });
  };

  $scope.cancelGift = function () {
    return ChatManager.endGift();
  };

  ChatManager.isPresent = true;

  var watchLocation = true;

  $scope.$on('$locationChangeStart', function () {
    if (watchLocation) {
      ChatManager.model.isPresent = false;
      watchLocation = false;
    }
  });
}]);

//src/js/controllers/chatbox.js

angular.module('SNAP.controllers').controller('ChatBoxCtrl', ['$scope', '$timeout', '$attrs', 'ChatManager', 'LocationModel', function ($scope, $timeout, $attrs, ChatManager, LocationModel) {
  var to_device = $scope.device,
      type = to_device ? ChatManager.MESSAGE_TYPES.DEVICE : ChatManager.MESSAGE_TYPES.LOCATION;

  var device = to_device ? LocationModel.getDevice(to_device) : null;

  $scope.readonly = Boolean($attrs.readonly);
  $scope.chat = {};
  $scope.messages = [];

  function showMessages() {
    $timeout(function () {
      $scope.messages = ChatManager.model.history.filter(function (message) {
        return message.type === type && (message.device === to_device || message.to_device === to_device);
      });
    });
  }

  $scope.chatEnabled = ChatManager.model.isEnabled;
  ChatManager.model.isEnabledChanged.add(function (value) {
    $timeout(function () {
      return $scope.chatEnabled = value;
    });
  });

  $scope.isConnected = ChatManager.model.isConnected;
  ChatManager.model.isConnectedChanged.add(function (value) {
    $timeout(function () {
      return $scope.isConnected = value;
    });
  });

  $scope.sendMessage = function () {
    if (!$scope.isConnected || !$scope.chat.message) {
      return;
    }

    var message = {
      type: type,
      to_device: to_device,
      text: $scope.chat.message
    };

    ChatManager.sendMessage(message);

    $scope.chat.message = '';
  };

  $scope.getFromName = function (message) {
    return ChatManager.getMessageName(message);
  };

  $scope.getStatusText = function (message) {
    if (message.to_device === to_device) {
      switch (message.status) {
        case ChatManager.MESSAGE_STATUSES.CHAT_REQUEST:
          return 'You have requested to chat with ' + ChatManager.getDeviceName(message.to_device);
        case ChatManager.MESSAGE_STATUSES.CHAT_REQUEST_ACCEPTED:
          return 'Accepted chat request';
        case ChatManager.MESSAGE_STATUSES.CHAT_REQUEST_DECLINED:
          return 'Declined chat request';
        case ChatManager.MESSAGE_STATUSES.CHAT_CLOSED:
          return 'Closed the chat';
        case ChatManager.MESSAGE_STATUSES.GIFT_REQUEST:
          return 'Gift request sent';
        case ChatManager.MESSAGE_STATUSES.GIFT_REQUEST_ACCEPTED:
          return 'Accepted a gift';
        case ChatManager.MESSAGE_STATUSES.GIFT_REQUEST_DECLINED:
          return 'Declined a gift';
      }
    } else if (message.device === to_device) {
      switch (message.status) {
        case ChatManager.MESSAGE_STATUSES.CHAT_REQUEST:
          return $scope.getFromName(message) + ' would like to chat with you';
        case ChatManager.MESSAGE_STATUSES.CHAT_REQUEST_ACCEPTED:
          return 'Accepted chat request';
        case ChatManager.MESSAGE_STATUSES.CHAT_REQUEST_DECLINED:
          return 'Declined chat request';
        case ChatManager.MESSAGE_STATUSES.CHAT_CLOSED:
          return 'Closed the chat';
        case ChatManager.MESSAGE_STATUSES.GIFT_REQUEST:
          return 'Would like to send you a gift';
        case ChatManager.MESSAGE_STATUSES.GIFT_REQUEST_ACCEPTED:
          return 'Accepted a gift';
        case ChatManager.MESSAGE_STATUSES.GIFT_REQUEST_DECLINED:
          return 'Declined a gift';
      }
    }
  };

  $scope.isUnread = function (message) {
    if (message.to_device === to_device) {
      return false;
    }

    return ChatManager.checkIfUnread(to_device, message);
  };

  $scope.markAsRead = function () {
    if (!to_device) {
      return;
    }

    ChatManager.markAsRead(to_device);
  };

  $scope.onKeydown = function (keycode) {
    if (keycode === 13) {
      $timeout(function () {
        $scope.sendMessage();
      });
    }
  };

  LocationModel.devicesChanged.add(showMessages);
  LocationModel.seatsChanged.add(showMessages);
  ChatManager.model.historyChanged.add(showMessages);
  showMessages();
}]);

//src/js/controllers/chatmap.js

angular.module('SNAP.controllers').controller('ChatMapCtrl', ['$scope', '$timeout', 'ChatManager', 'ShellManager', 'DialogManager', 'NavigationManager', 'LocationModel', function ($scope, $timeout, ChatManager, ShellManager, DialogManager, NavigationManager, LocationModel) {

  $scope.seats = [];

  $scope.mapImage = ShellManager.model.elements.location_map;
  ShellManager.model.elementsChanged.add(function () {
    $timeout(function () {
      return $scope.mapImage = ShellManager.model.elements.location_map;
    });
  });

  function buildMap() {
    if (!LocationModel.seat) {
      return;
    }

    $timeout(function () {
      $scope.seats = LocationModel.seats.filter(function (seat) {
        return seat.token !== LocationModel.seat.token;
      }).map(function (seat) {
        var devices = LocationModel.devices.filter(function (device) {
          return device.seat === seat.token;
        }).map(function (device) {
          return {
            token: device.token,
            seat: device.seat,
            is_available: device.is_available,
            username: device.username
          };
        });

        return {
          token: seat.token,
          name: seat.name,
          devices: devices,
          map_position_x: seat.map_position_x,
          map_position_y: seat.map_position_y,
          is_available: devices.filter(function (device) {
            return device.is_available;
          }).length > 0
        };
      });
    });
  }

  LocationModel.devicesChanged.add(buildMap);
  LocationModel.seatsChanged.add(buildMap);
  LocationModel.seatChanged.add(buildMap);
  buildMap();

  $scope.chooseSeat = function (seat) {
    var device = seat.devices[0];

    if (!seat.is_available || !device) {
      var deviceName = device && device.username ? device.username : seat.name;
      DialogManager.alert(deviceName + ' is unavailable for chat');
      return;
    }

    ChatManager.approveDevice(device.token);
    $scope.exitMap();
  };

  $scope.exitMap = function () {
    NavigationManager.location = { type: 'chat' };
  };
}]);

//src/js/controllers/chatroom.js

angular.module('SNAP.controllers').controller('ChatRoomCtrl', ['$scope', '$timeout', 'ChatManager', 'NavigationManager', 'ShellManager', 'SNAPLocation', function ($scope, $timeout, ChatManager, NavigationManager, ShellManager, SNAPLocation) {

  if (!SNAPLocation.chat) {
    NavigationManager.location = { type: 'home' };
    return;
  }

  $scope.locationName = SNAPLocation.location_name;

  $scope.getPartialUrl = function (name) {
    return ShellManager.getPartialUrl(name);
  };
}]);

//src/js/controllers/checkout.js

angular.module('SNAP.controllers').controller('CheckoutCtrl', ['$scope', '$timeout', 'CustomerManager', 'OrderManager', 'DialogManager', 'NavigationManager', 'SessionManager', 'ShellManager', 'LocationModel', 'SurveyManager', function ($scope, $timeout, CustomerManager, OrderManager, DialogManager, NavigationManager, SessionManager, ShellManager, LocationModel, SurveyManager) {

  //------------------------------------------------------------------------
  //
  //  Constants
  //
  //------------------------------------------------------------------------

  //-----------------------------------------------
  //    Check split type
  //-----------------------------------------------

  $scope.CHECK_SPLIT_NONE = 0;
  $scope.CHECK_SPLIT_BY_ITEMS = 1;
  $scope.CHECK_SPLIT_EVENLY = 2;

  //-----------------------------------------------
  //    Payment method
  //-----------------------------------------------

  $scope.PAYMENT_METHOD_CARD = 1;
  $scope.PAYMENT_METHOD_CASH = 2;
  $scope.PAYMENT_METHOD_PAYPAL = 3;

  //-----------------------------------------------
  //    Receipt method
  //-----------------------------------------------

  $scope.RECEIPT_METHOD_NONE = 0;
  $scope.RECEIPT_METHOD_EMAIL = 1;
  $scope.RECEIPT_METHOD_SMS = 2;
  $scope.RECEIPT_METHOD_PRINT = 3;

  //-----------------------------------------------
  //    Checkout step
  //-----------------------------------------------

  $scope.STEP_CHECK_SPLIT = 0;
  $scope.STEP_PAYMENT = 1;
  $scope.STEP_TIPPING = 2;
  $scope.STEP_SIGNATURE = 3;
  $scope.STEP_RECEIPT = 4;
  $scope.STEP_COMPLETE = 5;

  //------------------------------------------------------------------------
  //
  //  Properties
  //
  //------------------------------------------------------------------------

  $scope.options = {};
  $scope.data = [{
    items: OrderManager.model.orderCheck
  }];

  //-----------------------------------------------
  //    Check
  //-----------------------------------------------

  //Checks data
  var data = $scope.$watchAsProperty('data');
  data.changes().subscribe(function (value) {
    if (value.value) {
      var data = value.value();
      $scope.options.count = data.length;
    }

    $scope.options.index = 0;
  });

  //Maximum number of guests
  $scope.options.guest_count_max = 9; /*Math.max(
                                      SessionManager.guestCount,
                                      OrderManager.model.orderCheck.reduce((i, item) => i + item.quantity, 0)
                                      );*/

  //Number of guests
  $scope.options.guest_count = SessionManager.guestCount;

  //Check split mode
  $scope.options.check_split = $scope.CHECK_SPLIT_NONE;

  //Check index
  $scope.options.index = 0;
  var index = $scope.$watchAsProperty('options.index');
  Bacon.combineAsArray(index, data).subscribe(function () {
    $scope.current = $scope.data[$scope.options.index];

    if (CustomerManager.model.isAuthenticated && !CustomerManager.model.isGuest) {
      $scope.current.receipt_phone = $scope.current.receipt_phone || CustomerManager.model.profile.phone;
      $scope.current.receipt_email = CustomerManager.model.hasCredentials ? CustomerManager.model.profile.email : $scope.current.receipt_email;
    }

    if ($scope.current.items) {
      $scope.current.subtotal = OrderManager.calculateTotalPrice($scope.current.items);
      $scope.current.tax = OrderManager.calculateTax($scope.current.items);
    }

    if (!$scope.current.tip) {
      $scope.current.tip = 0;
    }
  });

  //-----------------------------------------------
  //    Navigation
  //-----------------------------------------------

  //Current step
  $scope.options.step = $scope.options.guest_count_max > 1 ? $scope.STEP_CHECK_SPLIT : $scope.STEP_TIPPING;
  var step = $scope.$watchAsProperty('options.step');
  step.skipDuplicates().subscribe(function (value) {
    if (!value.value) {
      return;
    }

    var step = value.value();

    if (step === $scope.STEP_COMPLETE) {
      startNextCheck();
    }
  });

  //-----------------------------------------------
  //    Misc
  //-----------------------------------------------

  //Seat name
  $scope.options.seat = LocationModel.seat ? LocationModel.seat.name : 'Table';
  LocationModel.seatChanged.add(function (seat) {
    $scope.options.seat = seat ? seat.name : 'Table';
  });

  $scope.customerName = CustomerManager.customerName;
  CustomerManager.model.profileChanged.add(function () {
    $timeout(function () {
      return $scope.customerName = CustomerManager.customerName;
    });
  });

  $scope.currency = ShellManager.model.currency;
  ShellManager.model.currencyChanged.add(function (currency) {
    return $timeout(function () {
      return $scope.currency = currency;
    });
  });

  //------------------------------------------------------------------------
  //
  //  Private methods
  //
  //------------------------------------------------------------------------

  //Proceed with the next check
  function startNextCheck() {
    var check = $scope.current;

    if ($scope.options.index === $scope.options.count - 1) {
      OrderManager.clearCheck();
      NavigationManager.location = {
        type: SurveyManager.model.isEnabled ? 'survey' : 'home'
      };
      return;
    }

    $timeout(function () {
      $scope.options.index++;
      $scope.options.step = $scope.STEP_TIPPING;
    });
  }

  //------------------------------------------------------------------------
  //
  //  Public methods
  //
  //------------------------------------------------------------------------

  $scope.getPartialUrl = function (name) {
    return ShellManager.getPartialUrl(name);
  };

  //Calculate a cart item title
  $scope.calculateTitle = function (entry) {
    return entry.name || entry.item.title;
  };

  //Calculate a cart item price
  $scope.calculatePrice = function (entry) {
    return OrderManager.calculatePrice(entry);
  };

  //Calculate cart items price
  $scope.calculateTotalPrice = function (entries) {
    return OrderManager.calculateTotalPrice(entries);
  };

  //Output a formatted price string
  $scope.formatPrice = function (value) {
    return ShellManager.formatPrice(value || 0);
  };

  //------------------------------------------------------------------------
  //
  //  Startup
  //
  //------------------------------------------------------------------------

  if (!CustomerManager.model.isAuthenticated) {
    NavigationManager.location = { type: 'signin' };
    return;
  }

  $scope.initialized = true;
}]);

//src/js/controllers/checkoutpayment.js

angular.module('SNAP.controllers').controller('CheckoutPaymentCtrl', ['$scope', '$timeout', 'CustomerModel', 'CardReader', 'DialogManager', 'OrderManager', 'Logger', function ($scope, $timeout, CustomerModel, CardReader, DialogManager, OrderManager, Logger) {

  CardReader.onReceived.add(function (data) {
    Logger.debug('Card reader result: ' + JSON.stringify(data));
    var card = {
      number: data.card_number,
      month: data.expiration_month,
      year: data.expiration_year,
      data: data.data
    };

    CardReader.stop();
    cardDataReceived(card);
  });

  CardReader.onError.add(function (e) {
    Logger.debug('Card reader error: ' + JSON.stringify(e));
    DialogManager.alert(ALERT_CARDREADER_ERROR);
  });

  $scope.$on('$locationChangeStart', function () {
    CardReader.stop();
  });

  //Generate a payment token
  function generatePaymentToken() {
    var job = DialogManager.startJob();

    OrderManager.generatePaymentToken().then(function () {
      DialogManager.endJob(job);
    }, function (e) {
      Logger.debug('Payment token generation error: ' + JSON.stringify(e));
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  }

  //Called when a card data is received
  function cardDataReceived(card) {
    $timeout(function () {
      OrderManager.clearCheck($scope.current.items);
      $scope.current.card_data = card.data;
      $scope.options.step = $scope.STEP_SIGNATURE;
    });
  }

  //Choose to pay with a credit card
  $scope.payCard = function () {
    $scope.current.payment_method = $scope.PAYMENT_METHOD_CARD;
    CardReader.start();
  };

  $scope.payCardCancel = function () {
    $scope.current.payment_method = undefined;
    CardReader.stop();
  };

  //Choose to pay with cash
  $scope.payCash = function () {
    $scope.current.payment_method = $scope.PAYMENT_METHOD_CASH;

    if (OrderManager.model.closeoutRequest != null) {
      DialogManager.alert(ALERT_REQUEST_CLOSEOUT_SENT);
      $timeout(function () {
        $scope.options.step = $scope.STEP_COMPLETE;
      });
      return;
    }

    var job = DialogManager.startJob();

    OrderManager.requestCloseout().then(function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_CLOSEOUT_SENT);
      $timeout(function () {
        $scope.options.step = $scope.STEP_COMPLETE;
      });
    }, function (e) {
      Logger.debug('Request closeout error: ' + JSON.stringify(e));
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  generatePaymentToken();
}]);

//src/js/controllers/checkoutreceipt.js

angular.module('SNAP.controllers').controller('CheckoutReceiptCtrl', ['$scope', '$timeout', 'DialogManager', 'OrderManager', function ($scope, $timeout, DialogManager, OrderManager) {

  $scope.emailEditorOpen = false;

  //Choose to have no receipt
  $scope.receiptNone = function () {
    $scope.current.receipt_method = $scope.RECEIPT_METHOD_NONE;
    $scope.options.step = $scope.STEP_COMPLETE;
  };

  //Choose to receive a receipt by e-mail
  $scope.receiptEmail = function () {
    if (!$scope.current.receipt_email) {
      return;
    }

    $scope.current.receipt_method = $scope.RECEIPT_METHOD_EMAIL;
    requestReceipt();
  };

  //Choose to receive a receipt by sms
  $scope.receiptSms = function () {
    if (!$scope.current.receipt_phone) {
      return;
    }

    $scope.current.receipt_phone = $scope.RECEIPT_METHOD_SMS;
    requestReceipt();
  };

  //Choose to receive a printed receipt
  $scope.receiptPrint = function () {
    $scope.current.receipt_method = $scope.RECEIPT_METHOD_PRINT;
    requestReceipt();
  };

  //Open an e-mail editor
  $scope.receiptEditEmail = function () {
    $scope.emailEditorOpen = true;
  };

  function requestReceipt() {
    var item = $scope.current;

    var request = {
      checkout_token: item.checkout_token,
      receipt_method: item.receipt_method
    };

    if (item.receipt_method === $scope.RECEIPT_METHOD_EMAIL) {
      request.receipt_email = item.receipt_email;
    } else if (item.receipt_method === $scope.RECEIPT_METHOD_SMS) {
      request.receipt_phone = item.receipt_phone;
    }

    var job = DialogManager.startJob();

    OrderManager.requestReceipt(request).then(function () {
      DialogManager.endJob(job);

      $timeout(function () {
        $scope.options.step = $scope.STEP_COMPLETE;
        $scope.emailEditorOpen = false;
      });
    }, function (e) {
      $timeout(function () {
        $scope.emailEditorOpen = false;
      });

      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  }
}]);

//src/js/controllers/checkoutsignature.js

angular.module('SNAP.controllers').controller('CheckoutSignatureCtrl', ['$scope', '$timeout', 'DialogManager', 'OrderManager', 'Logger', function ($scope, $timeout, DialogManager, OrderManager, Logger) {

  //Clear the current signature
  var resetSignature = function resetSignature() {
    $timeout(function () {
      $scope.current.signature_token = undefined;

      var signature = $('#checkout-signature-input');
      signature.empty();
      signature.jSignature('init', {
        'color': '#000',
        'background-color': '#fff',
        'decor-color': '#fff',
        'width': '100%',
        'height': '200px'
      });
    }, 300);
  };

  //Submit the current signature input
  $scope.signatureSubmit = function () {
    var signature = $('#checkout-signature-input');

    if (signature.jSignature('getData', 'native').length === 0) {
      return;
    }

    var job = DialogManager.startJob();
    var sig = signature.jSignature('getData', 'image');

    OrderManager.uploadSignature(sig[1]).then(function (token) {
      DialogManager.endJob(job);

      $timeout(function () {
        $scope.current.signature_token = token;
        completeCheckout();
      });
    }, function (e) {
      Logger.debug('Signature upload error: ' + JSON.stringify(e));
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  //Cancel the current signature input
  $scope.signatureCancel = function () {
    resetSignature();
  };

  //Complete the checkout
  function completeCheckout() {
    var item = $scope.current;
    var job = DialogManager.startJob();

    var request = {
      amount_subtotal: item.subtotal,
      amount_tax: item.tax,
      amount_tip: item.tip,
      card_data: item.card_data,
      signature_token: item.signature_token,
      order_tokens: item.items != null ? item.items.reduce(function (result, item) {
        for (var i = 0; i < item.quantity; i++) {
          result.push(item.request);
        }

        return result;
      }, []) : null
    };

    OrderManager.payOrder(request).then(function (result) {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_CLOSEOUT_SENT);

      $timeout(function () {
        $scope.current.checkout_token = result.token;
        $scope.options.step = $scope.STEP_RECEIPT;
      });
    }, function (e) {
      Logger.debug('Order payment error: ' + JSON.stringify(e));
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  }

  var step = $scope.$watchAsProperty('options.step');
  step.skipDuplicates().subscribe(function (value) {
    if (!value.value || value.value() !== $scope.STEP_SIGNATURE) {
      return;
    }

    resetSignature();
  });
}]);

//src/js/controllers/checkoutsplit.js

angular.module('SNAP.controllers').controller('CheckoutSplitCtrl', ['$scope', '$timeout', 'OrderManager', function ($scope, $timeout, OrderManager) {

  //Open guest count editor
  $scope.editGuestCount = function (type) {
    $scope.guestEditorType = type;
  };

  //Close guest count editor
  $scope.cancelEditGuestCount = function () {
    $scope.guestEditorType = undefined;
  };

  //Split the current order in the selected way
  $scope.splitCheck = function (type) {
    var i,
        data = [];

    if (type === $scope.CHECK_SPLIT_NONE) {
      data.push({
        items: OrderManager.model.orderCheck
      });

      $scope.options.step = $scope.STEP_TIPPING;
    } else if (type === $scope.CHECK_SPLIT_EVENLY) {
      var check = OrderManager.model.orderCheck,
          subtotal = OrderManager.calculateTotalPrice(check),
          tax = OrderManager.calculateTax(check);

      for (i = 0; i < $scope.options.guest_count; i++) {
        data.push({
          subtotal: Math.round(subtotal / $scope.options.guest_count * 100) / 100,
          tax: Math.round(tax / $scope.options.guest_count * 100) / 100
        });
      }

      $scope.options.step = $scope.STEP_TIPPING;
    } else if (type === $scope.CHECK_SPLIT_BY_ITEMS) {
      for (i = 0; i < $scope.options.guest_count; i++) {
        data.push({
          items: []
        });
      }

      $scope.split_items = OrderManager.model.orderCheck.slice(0).map(function (item) {
        return item.clone();
      });
    }

    $scope.$parent.data = data;
    $scope.options.check_split = type;
    $scope.guestEditorType = undefined;
  };

  //Move an item to the current check
  $scope.addToCheck = function (entry) {
    $scope.split_items = $scope.split_items.map(function (item) {
      if (item.request !== entry.request) {
        return item;
      }

      if (item.quantity > 1) {
        item.quantity--;
        return item.clone();
      }

      return null;
    }).filter(function (item) {
      return item != null;
    });

    var exists = false;

    $scope.current.items = $scope.current.items.map(function (item) {
      if (item.request === entry.request) {
        exists = true;
        item.quantity++;
        return item.clone();
      }

      return item;
    });

    if (!exists) {
      var clone = entry.clone();
      clone.quantity = 1;

      $scope.current.items.push(clone);
    }
  };

  //Remove an item from the current check
  $scope.removeFromCheck = function (entry) {
    $scope.current.items = $scope.current.items.map(function (item) {
      if (item.request !== entry.request) {
        return item;
      }

      if (item.quantity > 1) {
        item.quantity--;
        return item.clone();
      }

      return null;
    }).filter(function (item) {
      return item != null;
    });

    var exists = false;

    $scope.split_items = $scope.split_items.map(function (item) {
      if (item.request === entry.request) {
        exists = true;
        item.quantity++;
        return item.clone();
      }

      return item;
    });

    if (!exists) {
      var clone = entry.clone();
      clone.quantity = 1;

      $scope.split_items.push(clone);
    }
  };

  //Move all available items to the current check
  $scope.addAllToCheck = function () {
    $scope.split_items.forEach($scope.addToCheck);

    $scope.split_items.forEach(function (item) {
      $scope.current.items.forEach(function (newitem) {
        if (newitem.request === item.request) {
          newitem.quantity += item.quantity;
        }
      });
    });

    $scope.split_items = [];
  };

  //Remove all items from the current check
  $scope.removeAllFromCheck = function () {
    $scope.current.items.forEach($scope.removeFromCheck);

    $scope.current.items.forEach(function (item) {
      $scope.split_items.forEach(function (newitem) {
        if (newitem.request === item.request) {
          newitem.quantity += item.quantity;
        }
      });
    });

    $scope.current.items = [];
  };

  //Proceed with the next check splitting
  $scope.splitNextCheck = function () {
    if ($scope.options.index < $scope.options.count - 1 && $scope.split_items.length > 0) {
      $scope.options.index++;
      return;
    }

    if ($scope.split_items.length > 0) {
      $scope.addAllToCheck();
    }

    $timeout(function () {
      $scope.$parent.data = $scope.$parent.data.filter(function (check) {
        return check.items.length > 0;
      });

      $scope.options.step = $scope.STEP_TIPPING;
    });
  };

  var step = $scope.$watchAsProperty('options.step');
  step.skipDuplicates().subscribe(function (value) {
    if (!value.value || value.value() !== $scope.STEP_CHECK_SPLIT) {
      return;
    }

    $timeout(function () {
      $scope.options.check_split = $scope.CHECK_SPLIT_NONE;
    });
  });
}]);

//src/js/controllers/checkouttip.js

angular.module('SNAP.controllers').controller('CheckoutTipCtrl', ['$scope', '$timeout', 'OrderManager', function ($scope, $timeout, OrderManager) {

  $scope.tipEditorOpen = false;
  $scope.data = {
    tipAmount: 0.0
  };

  //Add a tip
  $scope.addTip = function (amount) {
    if (amount >= 0) {
      $scope.data.tipAmount = amount;
      $scope.current.tip = Math.round($scope.current.subtotal * amount * 100) / 100;
    }
  };

  //Apply the selected tip amount and proceed further
  $scope.applyTip = function () {
    $scope.options.step = $scope.STEP_PAYMENT;
    $scope.tipEditorOpen = false;
  };

  //Edit tip amount
  $scope.editTip = function () {
    $scope.tipEditorOpen = true;
    $scope.addTip(0.2);
  };

  //Edit tip amount
  $scope.cancelEditTip = function () {
    $scope.tipEditorOpen = false;
    $scope.addTip(0.0);
  };

  $scope.$watchAsProperty('data.tipAmount').skipDuplicates().subscribe(function (value) {
    if (!value.value) {
      return;
    }

    var amount = parseFloat(value.value());

    if (amount >= 0) {
      $scope.addTip(amount);
    }
  });
}]);

//src/js/controllers/commands/boot.js

angular.module('SNAP.controllers').factory('CommandBoot', ['AuthenticationManager', 'LocationManager', function (AuthenticationManager, LocationManager) {

  function loadLocation() {
    return LocationManager.loadConfig().then(function () {
      return LocationManager.loadSeats();
    });
  }

  return function () {
    return AuthenticationManager.validate().then(function (authorized) {
      if (authorized === false) {
        return AuthenticationManager.authorize().then(function () {
          return loadLocation();
        });
      }

      return loadLocation();
    });
  };
}]);

//src/js/controllers/commands/closetable.js

angular.module('SNAP.controllers').factory('CommandCloseTable', ['ManagementService', function (ManagementService) {

  return function () {
    return ManagementService.loadReset();
  };
}]);

//src/js/controllers/commands/customerguestlogin.js

angular.module('SNAP.controllers').factory('CommandCustomerGuestLogin', ['AuthenticationManager', 'CustomerManager', function (AuthenticationManager, CustomerManager) {

  return function () {
    return CustomerManager.guestLogin();
  };
}]);

//src/js/controllers/commands/customerlogin.js

angular.module('SNAP.controllers').factory('CommandCustomerLogin', ['AuthenticationManager', 'CustomerManager', function (AuthenticationManager, CustomerManager) {

  return function (credentials) {
    return AuthenticationManager.customerLoginRegular(credentials).then(function () {
      return CustomerManager.login(credentials);
    });
  };
}]);

//src/js/controllers/commands/customersignup.js

angular.module('SNAP.controllers').factory('CommandCustomerSignup', ['AuthenticationManager', 'CustomerManager', function (AuthenticationManager, CustomerManager) {

  return function (registration) {
    return CustomerManager.signUp(registration).then(function () {
      var credentials = {
        login: registration.username,
        password: registration.password
      };

      return AuthenticationManager.customerLoginRegular(credentials).then(function () {
        return CustomerManager.login(credentials);
      });
    });
  };
}]);

//src/js/controllers/commands/customersociallogin.js

angular.module('SNAP.controllers').factory('CommandCustomerSocialLogin', ['AuthenticationManager', 'CustomerManager', 'SocialManager', function (AuthenticationManager, CustomerManager, SocialManager) {

  function doLogin(auth) {
    return AuthenticationManager.customerLoginSocial(auth).then(function () {
      return CustomerManager.loginSocial(auth);
    });
  }

  return {
    facebook: function facebook() {
      return SocialManager.loginFacebook().then(doLogin);
    },
    googleplus: function googleplus() {
      return SocialManager.loginGooglePlus().then(doLogin);
    },
    twitter: function twitter() {
      return SocialManager.loginTwitter().then(doLogin);
    }
  };
}]);

//src/js/controllers/commands/flipscreen.js

angular.module('SNAP.controllers').factory('CommandFlipScreen', ['ManagementService', function (ManagementService) {
  return function () {
    ManagementService.rotateScreen();
  };
}]);

//src/js/controllers/commands/reset.js

angular.module('SNAP.controllers').factory('CommandReset', ['AnalyticsManager', 'ChatManager', 'CustomerManager', 'OrderManager', 'SessionManager', 'SurveyManager', 'ManagementService', 'Logger', function (AnalyticsManager, ChatManager, CustomerManager, OrderManager, SessionManager, SurveyManager, ManagementService, Logger) {

  return function () {
    return new Promise(function (resolve, reject) {
      Q.all([AnalyticsManager.initialize(), SessionManager.initialize()]).then(function () {
        SessionManager.endSession().then(function () {
          Q.allSettled([AnalyticsManager.submit(), OrderManager.reset(), SurveyManager.reset(), CustomerManager.reset(), ChatManager.reset()]).spread(function () {
            Logger.debug('Reset completed successfully.');
          }, function (e) {
            Logger.warn('Unable to reset properly: ' + e);
          }).then(resolve, reject);
        }, reject);
      }, reject);
    });
  };
}]);

//src/js/controllers/commands/startup.js

angular.module('SNAP.controllers').factory('CommandStartup', ['Logger', 'AnalyticsManager', 'AppCache', 'ChatManager', 'ShellManager', 'CustomerManager', 'DataManager', 'NavigationManager', 'SessionManager', 'SurveyManager', 'SNAPLocation', function (Logger, AnalyticsManager, AppCache, ChatManager, ShellManager, CustomerManager, DataManager, NavigationManager, SessionManager, SurveyManager, SNAPLocation) {

  return function () {
    return new Promise(function (result, reject) {
      /*function cacheComplete(updated) {
        if (updated) {
          window.location.reload(true);
        }
        else {
          DataManager.initialize();
        }
      }
       if (AppCache.isUpdated) {
        cacheComplete(true);
        return result();
      }
      else if (AppCache.isComplete) {
        cacheComplete(false);
      }
       AppCache.complete.add(cacheComplete);*/

      Q.allSettled([AnalyticsManager.initialize(), ChatManager.initialize(), CustomerManager.initialize(), NavigationManager.initialize(), ShellManager.initialize(), SessionManager.initialize(), SurveyManager.initialize()]).then(function () {
        if (CustomerManager.model.isEnabled) {
          if (!CustomerManager.model.isAuthenticated) {
            NavigationManager.location = { type: 'signin' };
          }
        } else {
          CustomerManager.guestLogin();
        }

        DataManager.initialize();
      }, reject);
    });
  };
}]);

//src/js/controllers/commands/submitorder.js

angular.module('SNAP.controllers').factory('CommandSubmitOrder', ['DialogManager', 'LocationModel', 'OrderManager', function (DialogManager, LocationModel, OrderManager) {

  return function (options) {
    if (!LocationModel.seat || !LocationModel.seat.token) {
      DialogManager.alert(ALERT_ERROR_NO_SEAT);
      return;
    }

    var job = DialogManager.startJob();

    options = options || 0;

    OrderManager.submitCart(options).then(function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_ORDER_SENT);
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };
}]);

//src/js/controllers/dialog.js

angular.module('SNAP.controllers').controller('DialogCtrl', ['$scope', '$timeout', 'ActivityMonitor', 'DialogManager', function ($scope, $timeout, ActivityMonitor, DialogManager) {

  var alertStack = [],
      confirmStack = [];
  var alertIndex = -1,
      confirmIndex = -1;
  var alertTimer;

  function updateVisibility(isBusy, showAlert, showConfirm) {
    $timeout(function () {
      $scope.isBusy = isBusy !== undefined ? isBusy : $scope.isBusy;
      $scope.showAlert = showAlert !== undefined ? showAlert : $scope.showAlert;
      $scope.showConfirm = showConfirm !== undefined ? showConfirm : $scope.showConfirm;
      $scope.visible = $scope.isBusy || $scope.showAlert || $scope.showConfirm;
    });
  }

  function showNextAlert() {
    if (alertTimer) {
      $timeout.cancel(alertTimer);
    }

    var alert = alertStack[alertIndex];

    if (alert && alert.resolve) {
      alert.resolve();
    }

    alertIndex++;

    if (alertIndex === alertStack.length) {
      updateVisibility(undefined, false);
      alertStack = [];
      alertIndex = -1;
      return;
    }

    $timeout(function () {
      $scope.alertTitle = alertStack[alertIndex].title;
      $scope.alertText = alertStack[alertIndex].message;
      updateVisibility(undefined, true);
    });

    alertTimer = $timeout(showNextAlert, 10000);
  }

  function showNextConfirm() {
    confirmIndex++;

    if (confirmIndex === confirmStack.length) {
      updateVisibility(undefined, undefined, false);
      confirmStack = [];
      confirmIndex = -1;
      return;
    }

    $timeout(function () {
      $scope.confirmText = confirmStack[confirmIndex].message;
      updateVisibility(undefined, undefined, true);
    });
  }

  function getMessage(message) {
    if (typeof message !== 'string') {
      switch (message) {
        case ALERT_GENERIC_ERROR:
          message = "Oops! My bits are fiddled. Our request system has been disconnected. Please notify a server.";
          break;
        case ALERT_REQUEST_SUBMIT_ERROR:
          message = "Oops! My bits are fiddled. Our request system has been disconnected. Please notify a server.";
          break;
        case ALERT_REQUEST_ASSISTANCE_SENT:
          message = "Call Server request was sent successfully.";
          break;
        case ALERT_REQUEST_ASSISTANCE_RECEIVED:
          message = "Your request for server assistance has been seen, and accepted.";
          break;
        case ALERT_REQUEST_CLOSEOUT_SENT:
          message = "Request check request was sent successfully.";
          break;
        case ALERT_REQUEST_CLOSEOUT_RECEIVED:
          message = "Your check request has been seen, and accepted.";
          break;
        case ALERT_REQUEST_ORDER_SENT:
          message = "Order sent! You will be notified when your waiter accepts the order.";
          break;
        case ALERT_REQUEST_ORDER_RECEIVED:
          message = "Your order has been successfully accepted.";
          break;
        case ALERT_SIGNIN_REQUIRED:
          message = "You must be logged into SNAP to access this page.";
          break;
        case ALERT_TABLE_ASSISTANCE:
          message = "Are you sure you want to call the waiter?";
          break;
        case ALERT_TABLE_CLOSEOUT:
          message = "Are you sure you want to request your check?";
          break;
        case ALERT_TABLE_RESET:
          message = "Are you sure you want to reset?";
          break;
        case ALERT_DELET_CARD:
          message = "Are you sure you want to remove this payment method?";
          break;
        case ALERT_PASSWORD_RESET_COMPLETE:
          message = "A link to change your password has been emailed.";
          break;
        case ALERT_SOFTWARE_OUTDATED:
          message = "A software update is available. Please restart the application.";
          break;
        case ALERT_CARDREADER_ERROR:
          message = "Unable to read the card data. Please try again.";
          break;
        case ALERT_ERROR_NO_SEAT:
          message = "Device is not assigned to any table.";
          break;
        case ALERT_ERROR_STARTUP:
          message = "Unable to start the application.";
          break;
      }
    }

    return message;
  }

  $scope.visible = false;
  $scope.isBusy = false;
  $scope.showAlert = false;
  $scope.showConfirm = false;

  $scope.closeAlert = function () {
    ActivityMonitor.activityDetected();
    showNextAlert();
  };

  $scope.closeConfirm = function (confirmed) {
    ActivityMonitor.activityDetected();

    var confirm = confirmStack[confirmIndex];

    if (confirm) {
      if (confirmed) {
        if (confirm.resolve) {
          confirm.resolve();
        }
      } else {
        if (confirm.reject) {
          confirm.reject();
        }
      }
    }

    showNextConfirm();
  };

  function alertRequested(message, title, resolve, reject) {
    message = getMessage(message);

    alertStack.push({ title: title, message: message, resolve: resolve, reject: reject });

    if (!$scope.showAlert) {
      $timeout(showNextAlert);
    }
  }

  DialogManager.alertRequested.add(alertRequested);

  function confirmRequested(message, resolve, reject) {
    message = getMessage(message);

    confirmStack.push({ message: message, resolve: resolve, reject: reject });

    if (!$scope.showConfirm) {
      $timeout(showNextConfirm);
    }
  }

  DialogManager.confirmRequested.add(confirmRequested);

  function jobStarted() {
    if (document.activeElement && document.activeElement !== document.body) {
      document.activeElement.blur();
    }

    updateVisibility(true);
  }

  DialogManager.jobStarted.add(jobStarted);
  DialogManager.jobEnded.add(function () {
    updateVisibility(false);
  });

  if (DialogManager.jobs > 0) {
    jobStarted();
  }
}]);

//src/js/controllers/galaxies/advertisement.js

angular.module('SNAP.controllers').controller('GalaxiesAdvertisementCtrl', ['$scope', '$timeout', 'ActivityMonitor', 'AnalyticsModel', 'ShellManager', 'DataManager', 'DataModel', 'DialogManager', 'NavigationManager', 'CommandFlipScreen', 'ShellManager', 'WebBrowser', 'SNAPEnvironment', function ($scope, $timeout, ActivityMonitor, AnalyticsModel, hellManager, DataManager, DataModel, DialogManager, NavigationManager, CommandFlipScreen, ShellManager, WebBrowser, SNAPEnvironment) {

  $scope.visible = false;

  $scope.advertisementClick = function (item) {
    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    AnalyticsModel.logAdvertisement({
      token: item.token,
      type: 'click'
    });

    if (item.href) {
      NavigationManager.location = { type: 'url', url: item.href.url };
    }
  };

  $scope.advertisementImpression = function (item) {
    if (ActivityMonitor.active && $scope.visible) {
      AnalyticsModel.logAdvertisement({
        token: item.token,
        type: 'impression'
      });
    }
  };

  $scope.advertisements = [];

  DataModel.advertisements().then(function (data) {
    $timeout(function () {
      $scope.advertisements = data.main.map(function (ad) {
        return {
          src: ShellManager.getMediaUrl(ad.src, 970, 90),
          href: ad.href,
          type: ShellManager.getMediaType(ad.src),
          token: ad.token
        };
      });
    });
  });

  NavigationManager.locationChanging.add(function (location) {
    $scope.visible = location.type === 'home';
    $timeout(function () {
      return $scope.$apply();
    });
  });
}]);

//src/js/controllers/galaxies/cart.js

angular.module('SNAP.controllers').controller('GalaxiesCartCtrl', ['$scope', '$timeout', '$sce', 'CustomerManager', 'ShellManager', 'NavigationManager', 'OrderManager', 'DialogManager', 'CartModel', 'LocationModel', 'ChatManager', function ($scope, $timeout, $sce, CustomerManager, ShellManager, NavigationManager, OrderManager, DialogManager, CartModel, LocationModel, ChatManager) {

  $scope.STATE_CART = CartModel.STATE_CART;
  $scope.STATE_HISTORY = CartModel.STATE_HISTORY;

  $scope.getMediaUrl = function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
  $scope.formatPrice = function (value) {
    return ShellManager.formatPrice(value);
  };
  $scope.options = {};

  $scope.currency = ShellManager.model.currency;
  ShellManager.model.currencyChanged.add(function (currency) {
    return $timeout(function () {
      return $scope.currency = currency;
    });
  });

  $scope.state = CartModel.cartState;
  CartModel.cartStateChanged.add(function (state) {
    return $timeout(function () {
      return $scope.state = state;
    });
  });

  $scope.editableItem = CartModel.editableItem;
  CartModel.editableItemChanged.add(function (item) {
    return $timeout(function () {
      return $scope.editableItem = item;
    });
  });

  $scope.currentOrder = OrderManager.model.orderCart;
  OrderManager.model.orderCartChanged.add(function (value) {
    return $scope.currentOrder = value;
  });

  $scope.totalOrder = OrderManager.model.orderCheck;
  OrderManager.model.orderCheckChanged.add(function (value) {
    return $scope.totalOrder = value;
  });

  $scope.giftSeat = LocationModel.getSeat(ChatManager.model.giftSeat);
  ChatManager.model.giftSeatChanged.add(function (token) {
    $timeout(function () {
      return $scope.giftSeat = LocationModel.getSeat(token);
    });
  });

  $scope.customerName = CustomerManager.customerName;
  CustomerManager.model.profileChanged.add(function () {
    $timeout(function () {
      return $scope.customerName = CustomerManager.customerName;
    });
  });

  $scope.checkoutEnabled = CustomerManager.model.isEnabled;
  $scope.visible = CartModel.isCartOpen;

  NavigationManager.locationChanging.add(function (location) {
    if (location.type !== 'category') {
      CartModel.isCartOpen = false;
      CartModel.closeEditor();
    }
  });

  CartModel.isCartOpenChanged.add(function (value) {
    $scope.showCart();
    $scope.visible = value;
  });

  $scope.seat_name = LocationModel.seat ? LocationModel.seat.name : 'Table';

  LocationModel.seatChanged.add(function (seat) {
    return $scope.seat_name = seat ? seat.name : 'Table';
  });

  var refreshAssistanceRequest = function refreshAssistanceRequest() {
    $scope.requestAssistanceAvailable = OrderManager.model.assistanceRequest == null;
  };
  var refreshCloseoutRequest = function refreshCloseoutRequest() {
    $scope.requestCloseoutAvailable = OrderManager.model.closeoutRequest == null;
  };

  OrderManager.model.assistanceRequestChanged.add(refreshAssistanceRequest);
  OrderManager.model.closeoutRequestChanged.add(refreshCloseoutRequest);

  $scope.requestAssistanceAvailable = OrderManager.model.assistanceRequest == null;
  $scope.requestCloseoutAvailable = OrderManager.model.closeoutRequest == null;

  $scope.getModifiers = function (entry) {
    if (!entry.modifiers) {
      return [];
    }

    return entry.modifiers.reduce(function (result, category) {
      var modifiers = category.modifiers.filter(function (modifier) {
        return modifier.isSelected;
      });
      result = result.concat(modifiers);
      return result;
    }, []);
  };

  $scope.calculatePrice = function (entry) {
    return OrderManager.calculatePrice(entry);
  };
  $scope.calculateTotalPrice = function (entries) {
    return OrderManager.calculateTotalPrice(entries);
  };

  $scope.editItem = function (entry) {
    return CartModel.openEditor(entry, false);
  };

  $scope.updateModifiers = function (category, modifier) {
    if (category.data.selection === 1) {
      angular.forEach(category.modifiers, function (m) {
        return m.isSelected = m === modifier;
      });
    } else {
      modifier.isSelected = !modifier.isSelected;
    }
  };

  $scope.removeFromCart = function (entry) {
    return $scope.currentOrder = OrderManager.removeFromCart(entry);
  };
  $scope.reorderItem = function (entry) {
    return $scope.currentOrder = OrderManager.addToCart(entry.clone());
  };

  $scope.submitCart = function () {
    var job = DialogManager.startJob();

    var options = $scope.options.toGo ? 2 : 0;

    OrderManager.submitCart(options).then(function () {
      DialogManager.endJob(job);

      $scope.$apply(function () {
        $scope.currentOrder = OrderManager.model.orderCart;
        $scope.totalOrder = OrderManager.model.orderCheck;
        $scope.options.toGo = false;
      });

      DialogManager.alert(ALERT_REQUEST_ORDER_SENT);
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  $scope.clearCart = function () {
    $scope.options.toGo = false;
    $scope.currentOrder = OrderManager.clearCart();
  };

  $scope.closeEditor = function () {
    CartModel.closeEditor();
  };

  $scope.closeCart = function () {
    CartModel.isCartOpen = false;
    CartModel.state = CartModel.STATE_CART;
  };

  $scope.showHistory = function () {
    return CartModel.state = CartModel.STATE_HISTORY;
  };
  $scope.showCart = function () {
    return CartModel.state = CartModel.STATE_CART;
  };

  $scope.payCheck = function () {
    return NavigationManager.location = { type: 'checkout' };
  };

  $scope.requestAssistance = function () {
    if (!$scope.requestAssistanceAvailable) {
      return;
    }

    DialogManager.confirm(ALERT_TABLE_ASSISTANCE).then(function () {
      var job = DialogManager.startJob();

      OrderManager.requestAssistance().then(function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_ASSISTANCE_SENT);
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
      });
    });
  };

  $scope.requestCloseout = function () {
    if (!$scope.requestCloseoutAvailable) {
      return;
    }

    var job = DialogManager.startJob();

    OrderManager.requestCloseout().then(function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_CLOSEOUT_SENT);
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };
}]);

//src/js/controllers/galaxies/category.js

angular.module('SNAP.controllers').controller('GalaxiesCategoryCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', 'ShellManager', function ($scope, $timeout, DataManager, NavigationManager, ShellManager) {

  $scope.goBack = function () {
    return NavigationManager.goBack();
  };

  var CategoryList = React.createClass({
    displayName: 'CategoryList',

    render: function render() {
      var rows = this.props.tiles.map(function (tile, i) {
        var background = ShellManager.getMediaUrl(tile.image, 470, 410);
        return React.DOM.td({
          className: 'tile tile-regular',
          key: i
        }, React.DOM.a({
          onClick: function onClick(e) {
            e.preventDefault();
            NavigationManager.location = tile.destination;
          },
          style: {
            backgroundImage: background ? 'url("' + background + '")' : null
          }
        }, React.DOM.span(null, tile.title)));
      }).reduce(function (result, value, i) {
        result[i % 2].push(value);
        return result;
      }, [[], []]).map(function (row, i) {
        return React.DOM.tr({ key: i }, row);
      });

      return React.DOM.table({
        className: 'tile-table'
      }, rows);
    }
  });

  DataManager.categoryChanged.add(function (category) {
    if (!category) {
      return $timeout(function () {
        return $scope.category = null;
      });
    }

    var items = category.items || [],
        categories = category.categories || [];

    var tiles = categories.concat(items).map(function (item) {
      return {
        title: item.title,
        image: item.image,
        url: '#' + NavigationManager.getPath(item.destination),
        destination: item.destination
      };
    });

    React.render(React.createElement(CategoryList, { tiles: tiles }), document.getElementById('page-category-content'));

    $scope.category = category;
    $timeout(function () {
      return $scope.$apply();
    });
  });

  NavigationManager.locationChanging.add(function (location) {
    if (location.type === 'item') {
      $scope.showModal = true;
      return;
    }

    $scope.showModal = false;

    DataManager.category = location.type === 'category' ? location.token : undefined;
    $scope.visible = Boolean(DataManager.category);
    $timeout(function () {
      return $scope.$apply();
    });
  });
}]);

//src/js/controllers/galaxies/home.js

angular.module('SNAP.controllers').controller('GalaxiesHomeCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', 'ShellManager', 'SNAPLocation', function ($scope, $timeout, DataManager, NavigationManager, ShellManager, SNAPLocation) {

  var HomeMenu = React.createClass({
    displayName: 'HomeMenu',

    render: function render() {
      var rows = [],
          home = this.props.home;

      if (Boolean(home.intro)) {
        rows.push(React.DOM.td({
          className: 'tile tile-info',
          key: 'intro'
        }, React.DOM.div({}, [React.DOM.h1({ key: 'intro-title' }, home.intro.title || 'Welcome to ' + SNAPLocation.location_name), React.DOM.p({ key: 'intro-text' }, home.intro.text)])));
      }

      var tiles = this.props.tiles.map(function (tile, i) {
        var background = ShellManager.getMediaUrl(tile.image, 470, 410);
        return React.DOM.td({
          className: 'tile tile-regular',
          key: i
        }, React.DOM.a({
          onClick: function onClick(e) {
            e.preventDefault();
            NavigationManager.location = tile.destination;
          },
          style: {
            backgroundImage: background ? 'url("' + background + '")' : null
          }
        }, React.DOM.span(null, tile.title)));
      });

      rows = rows.concat(tiles).reduce(function (result, value) {
        result[0].push(value);
        return result;
      }, [[]]).map(function (row, i) {
        return React.DOM.tr({ key: i }, row);
      });

      return React.DOM.table({
        className: 'tile-table'
      }, rows);
    }
  });

  DataManager.homeChanged.add(function (home) {
    if (!home) {
      return;
    }

    var tiles = home.menus.map(function (menu) {
      var destination = {
        type: 'menu',
        token: menu.token
      };

      return {
        title: menu.title,
        image: menu.image,
        url: '#' + NavigationManager.getPath(destination),
        destination: destination
      };
    });

    var element = document.getElementById('page-home-menu');

    if (element) {
      React.render(React.createElement(HomeMenu, { tiles: tiles, home: home }), element);
    }
  });

  NavigationManager.locationChanging.add(function (location) {
    $scope.visible = Boolean(location.type === 'home');
    $timeout(function () {
      $scope.$apply();
      DataManager.home = $scope.visible;
    });
  });
}]);

//src/js/controllers/galaxies/item.js

angular.module('SNAP.controllers').controller('GalaxiesItemCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', 'OrderManager', 'ShellManager', 'WebBrowser', 'CommandSubmitOrder', function ($scope, $timeout, DataManager, NavigationManager, OrderManager, ShellManager, WebBrowser, CommandSubmitOrder) {

  $scope.goBack = function () {
    return NavigationManager.goBack();
  };

  DataManager.itemChanged.add(function (item) {
    if (!item) {
      WebBrowser.close();

      return $timeout(function () {
        $scope.entry = $scope.entries = null;
        $scope.type = 1;
        $scope.step = 0;
        $scope.entryIndex = 0;
      });
    }

    var type = item.type;

    if (type === 2 && item.website) {
      WebBrowser.open(item.website.url);
    } else if (type === 3 && item.flash) {
      var flashUrl = ShellManager.getMediaUrl(item.flash.media, 0, 0, 'swf'),
          url = '/flash#url=' + encodeURIComponent(flashUrl) + '&width=' + encodeURIComponent(item.flash.width) + '&height=' + encodeURIComponent(item.flash.height);

      WebBrowser.open(ShellManager.getAppUrl(url));
    }

    $timeout(function () {
      if (type === 1) {
        $scope.entry = new app.CartItem(item, 1);
      }

      $scope.type = type;
      $scope.step = 0;
      $scope.entryIndex = 0;
    });
  });

  $scope.getMediaUrl = function (media, w, h, extension) {
    return ShellManager.getMediaUrl(media, w, h, extension);
  };
  $scope.formatPrice = function (value) {
    return value ? ShellManager.formatPrice(value) : 0;
  };

  $scope.nextStep = function () {
    if ($scope.step === 0) {
      if ($scope.entry.hasModifiers) {
        $scope.entries = $scope.entry.cloneMany();
        $scope.currentEntry = $scope.entries[$scope.entryIndex = 0];
        $scope.step = 1;
      } else {
        OrderManager.addToCart($scope.entry);
        $scope.step = 2;
      }
    } else if ($scope.step === 1) {
      if ($scope.entryIndex === $scope.entries.length - 1) {
        $scope.entries.forEach(function (entry) {
          return OrderManager.addToCart(entry);
        });
        $scope.step = 2;
      } else {
        $scope.currentEntry = $scope.entries[++$scope.entryIndex];
      }
    }
  };

  $scope.previousStep = function () {
    if ($scope.step === 1 && $scope.entryIndex > 0) {
      $scope.currentEntry = $scope.entries[--$scope.entryIndex];
    } else if ($scope.step === 0) {
      $scope.goBack();
    } else {
      $scope.step--;
    }
  };

  $scope.updateModifiers = function (category, modifier) {
    if (category.data.selection === 1) {
      angular.forEach(category.modifiers, function (m) {
        return m.isSelected = m === modifier;
      });
    } else {
      modifier.isSelected = !modifier.isSelected;
    }
  };

  $scope.submitOrder = function () {
    CommandSubmitOrder();
    $scope.goBack();
  };

  NavigationManager.locationChanging.add(function (location) {
    DataManager.item = location.type === 'item' ? location.token : undefined;
    $scope.visible = Boolean(DataManager.item);
    $timeout(function () {
      return $scope.$apply();
    });
  });
}]);

//src/js/controllers/galaxies/itemedit.js

angular.module('SNAP.controllers').controller('GalaxiesItemEditCtrl', ['$scope', 'ShellManager', 'NavigationManager', 'OrderManager', 'CartModel', 'CommandSubmitOrder', function ($scope, ShellManager, NavigationManager, OrderManager, CartModel, CommandSubmitOrder) {

  $scope.getMediaUrl = function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
  $scope.formatPrice = function (value) {
    return ShellManager.formatPrice(value);
  };

  var currentIndex = -1;

  var refreshNavigation = function refreshNavigation() {
    if ($scope.entry && $scope.entry.hasModifiers) {
      $scope.hasNextCategory = $scope.entry.modifiers.length > 1 && currentIndex < $scope.entry.modifiers.length - 1;
      $scope.hasPreviousCategory = currentIndex > 0;
      $scope.category = $scope.entry.modifiers[currentIndex];
      $scope.canExit = CartModel.editableItemNew;
      $scope.canDone = true;
    }
  };

  NavigationManager.locationChanging.add(function (location) {
    if (location.type !== 'menu' && location.type !== 'category') {
      $scope.exit();
    }
  });

  CartModel.isCartOpenChanged.add(function (value) {
    if (value) {
      $scope.exit();
    }
  });

  var init = function init(value) {
    $scope.entry = value;
    $scope.visible = $scope.entry != null;

    currentIndex = 0;

    refreshNavigation();
  };

  init(CartModel.editableItem);

  CartModel.editableItemChanged.add(function (value) {
    init(value);
  });

  $scope.getModifierTitle = function (modifier) {
    return modifier.data.title + (modifier.data.price > 0 ? ' (+' + ShellManager.formatPrice(modifier.data.price) + ')' : '');
  };

  $scope.leftButtonClick = function () {
    var result = currentIndex > 0 ? $scope.previousCategory() : $scope.exit();
  };

  $scope.leftButtonText = function () {
    return currentIndex > 0 ? 'Back' : 'Exit';
  };

  $scope.showLeftButton = function () {
    return currentIndex > 0;
  };

  $scope.rightButtonClick = function () {
    //Make sure Pick 1 modifier categories have met the selection condition.
    if ($scope.entry.modifiers[currentIndex].data.selection === 1) {
      var numSelected = 0;
      angular.forEach($scope.entry.modifiers[currentIndex].modifiers, function (m) {
        if (m.isSelected) {
          numSelected++;
        }
      });

      if (numSelected !== 1) {
        //TODO: Add modal popup. Must make 1 selection!
        return;
      }
    }

    var result = $scope.hasNextCategory ? $scope.nextCategory() : $scope.done();
  };

  $scope.rightButtonText = function () {
    return $scope.hasNextCategory ? 'Next' : 'Done';
  };

  $scope.showRightButton = function () {
    return $scope.hasNextCategory;
  };

  $scope.previousCategory = function () {
    currentIndex--;
    refreshNavigation();
  };

  $scope.nextCategory = function () {
    currentIndex++;
    refreshNavigation();
  };

  $scope.updateModifiers = function (category, modifier) {
    modifier.isSelected = !modifier.isSelected;

    if (modifier.isSelected && category.data.selection === 1) {
      angular.forEach(category.modifiers, function (m) {
        m.isSelected = m === modifier;
      });
    }
  };

  $scope.submitChanges = function () {
    OrderManager.removeFromCart($scope.entry);
    OrderManager.addToCart($scope.entry);
    $scope.exit();
  };

  $scope.done = function () {
    if (CartModel.editableItemNew) {
      OrderManager.addToCart(CartModel.editableItem);
    }

    $scope.exit();
    CartModel.isCartOpen = true;
  };

  $scope.exit = function () {
    CartModel.closeEditor();
  };
}]);

//src/js/controllers/galaxies/menu.js

angular.module('SNAP.controllers').controller('GalaxiesMenuCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', 'ShellManager', function ($scope, $timeout, DataManager, NavigationManager, ShellManager) {

  $scope.goBack = function () {
    return NavigationManager.goBack();
  };

  var MenuList = React.createClass({
    displayName: 'MenuList',

    render: function render() {
      var rows = this.props.tiles.map(function (tile, i) {
        var background = ShellManager.getMediaUrl(tile.image, 470, 410);
        return React.DOM.td({
          className: 'tile tile-regular',
          key: i
        }, React.DOM.a({
          onClick: function onClick(e) {
            e.preventDefault();
            NavigationManager.location = tile.destination;
          },
          style: {
            backgroundImage: background ? 'url("' + background + '")' : null
          }
        }, React.DOM.span(null, tile.title)));
      }).reduce(function (result, value, i) {
        result[i % 2].push(value);
        return result;
      }, [[], []]).map(function (row, i) {
        return React.DOM.tr({ key: i }, row);
      });

      return React.DOM.table({
        className: 'tile-table'
      }, rows);
    }
  });

  DataManager.menuChanged.add(function (menu) {
    if (!menu) {
      return $timeout(function () {
        return $scope.menu = null;
      });
    }

    var tiles = menu.categories.map(function (category) {
      var destination = {
        type: 'category',
        token: category.token
      };

      return {
        title: category.title,
        image: category.image,
        url: '#' + NavigationManager.getPath(destination),
        destination: destination
      };
    });

    React.render(React.createElement(MenuList, { tiles: tiles }), document.getElementById('page-menu-content'));

    $scope.menu = menu;
    $timeout(function () {
      return $scope.$apply();
    });
  });

  NavigationManager.locationChanging.add(function (location) {
    DataManager.menu = location.type === 'menu' ? location.token : undefined;
    $scope.visible = Boolean(DataManager.menu);
    $timeout(function () {
      return $scope.$apply();
    });
  });
}]);

//src/js/controllers/galaxies/navigation.js

angular.module('SNAP.controllers').controller('GalaxiesNavigationCtrl', ['$scope', '$timeout', 'ActivityMonitor', 'CustomerManager', 'AnalyticsModel', 'CartModel', 'ShellManager', 'DataManager', 'DataModel', 'DialogManager', 'LocationModel', 'ManagementService', 'NavigationManager', 'OrderManager', 'CommandCloseTable', 'CommandSubmitOrder', 'CommandFlipScreen', 'WebBrowser', 'SNAPEnvironment', function ($scope, $timeout, ActivityMonitor, CustomerManager, AnalyticsModel, CartModel, ShellManager, DataManager, DataModel, DialogManager, LocationModel, ManagementService, NavigationManager, OrderManager, CommandCloseTable, CommandSubmitOrder, CommandFlipScreen, WebBrowser, SNAPEnvironment) {

  $scope.menus = [];

  DataModel.home().then(function (response) {
    if (!response) {
      return;
    }

    var location = NavigationManager.location,
        limit = SNAPEnvironment.platform === 'desktop' ? 4 : 3;

    $scope.menus = response.menus.filter(function (menu) {
      return SNAPEnvironment.platform === 'desktop' || menu.type !== 3;
    }).filter(function (menu, i) {
      return i < limit;
    }).map(function (menu) {
      var destination = {
        type: 'menu',
        token: menu.token
      };
      return {
        token: menu.token,
        title: menu.title,
        url: '#' + NavigationManager.getPath(destination),
        destination: destination,
        selected: location.type === 'menu' && menu.token === location.token
      };
    });
  });

  $scope.advertisementClick = function (item) {
    if (item.href) {
      NavigationManager.location = { type: 'url', url: item.href.url };
    }
  };

  $scope.currentAdvertisement;

  $scope.advertisementImpression = function (item) {
    $scope.currentAdvertisement = item;

    if (ActivityMonitor.active && $scope.menuOpen) {
      AnalyticsModel.logAdvertisement({
        token: item.token,
        type: 'impression'
      });
    }
  };

  $scope.advertisements = [];

  DataModel.advertisements().then(function (data) {
    $timeout(function () {
      $scope.advertisements = data.misc.map(function (ad) {
        return {
          src: ShellManager.getMediaUrl(ad.src, 300, 250),
          href: ad.href,
          type: ShellManager.getMediaType(ad.src),
          token: ad.token
        };
      });
    });
  });

  $scope.navigateHome = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;
    NavigationManager.location = { type: 'home' };
  };

  $scope.navigateBack = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;
    NavigationManager.goBack();
  };

  $scope.rotateScreen = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;
    CommandFlipScreen();
  };

  $scope.openCart = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;
    CartModel.isCartOpen = !CartModel.isCartOpen;
  };

  $scope.seatName = LocationModel.seat ? LocationModel.seat.name : 'Table';
  LocationModel.seatChanged.add(function (value) {
    return $timeout(function () {
      return $scope.seatName = value ? value.name : 'Table';
    });
  });

  $scope.resetTable = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;
    DialogManager.confirm(ALERT_TABLE_RESET).then(function () {
      var job = DialogManager.startJob();
      CommandCloseTable().then(function () {
        return DialogManager.endJob(job);
      });
    });
  };

  $scope.menuOpen = false;

  $scope.toggleMenu = function () {
    ActivityMonitor.activityDetected();
    $scope.menuOpen = !$scope.menuOpen;

    if ($scope.currentAdvertisement && $scope.menuOpen) {
      AnalyticsModel.logAdvertisement({
        token: $scope.currentAdvertisement.token,
        type: 'impression'
      });
      $scope.currentAdvertisement = null;
    }
  };

  $scope.settingsOpen = false;

  $scope.toggleSettings = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = !$scope.settingsOpen;
  };

  $scope.elements = ShellManager.model.elements;
  ShellManager.model.elementsChanged.add(function (value) {
    $timeout(function () {
      return $scope.elements = value;
    });
  });

  $scope.cartCount = OrderManager.model.orderCart.length;
  OrderManager.model.orderCartChanged.add(function (cart) {
    $timeout(function () {
      return $scope.cartCount = cart.length;
    });
  });

  $scope.checkoutEnabled = CustomerManager.model.isEnabled;

  $scope.totalOrder = OrderManager.model.orderCheck;
  OrderManager.model.orderCheckChanged.add(function (value) {
    $timeout(function () {
      return $scope.totalOrder = value;
    });
  });

  $scope.requestAssistance = function () {
    if (!$scope.requestAssistanceAvailable) {
      return;
    }

    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;

    DialogManager.confirm(ALERT_TABLE_ASSISTANCE).then(function () {
      var job = DialogManager.startJob();

      OrderManager.requestAssistance().then(function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_ASSISTANCE_SENT);
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
      });
    });
  };

  var refreshAssistanceRequest = function refreshAssistanceRequest() {
    $scope.requestAssistanceAvailable = !Boolean(OrderManager.model.assistanceRequest);
  };
  OrderManager.model.assistanceRequestChanged.add(refreshAssistanceRequest);
  refreshAssistanceRequest();

  $scope.submitOrder = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;

    CommandSubmitOrder();
  };

  $scope.viewOrder = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;

    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    CartModel.cartState = CartModel.STATE_CART;
    CartModel.isCartOpen = true;
  };

  $scope.payBill = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;

    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    CartModel.cartState = CartModel.STATE_HISTORY;
    CartModel.isCartOpen = true;
  };

  $scope.customerName = CustomerManager.customerName;
  CustomerManager.model.profileChanged.add(function () {
    $timeout(function () {
      return $scope.customerName = CustomerManager.customerName;
    });
  });

  $scope.settings = {
    displayBrightness: 100,
    soundVolume: 100
  };

  ManagementService.getSoundVolume().then(function (value) {
    return $timeout(function () {
      $scope.settings.soundVolume = value;

      $scope.$watch('settings.soundVolume', function (value, old) {
        if (!value || value === old) {
          return;
        }

        value = parseInt(value);

        ActivityMonitor.activityDetected();
        ManagementService.setSoundVolume(value);
      });
    });
  }, function (e) {});

  ManagementService.getDisplayBrightness().then(function (value) {
    return $timeout(function () {
      $scope.settings.displayBrightness = value;

      $scope.$watch('settings.displayBrightness', function (value, old) {
        if (!value || value === old) {
          return;
        }

        value = parseInt(value);

        ActivityMonitor.activityDetected();
        ManagementService.setDisplayBrightness(value);
      });
    });
  }, function (e) {});

  $scope.navigate = function (destination) {
    return NavigationManager.location = destination;
  };

  NavigationManager.locationChanging.add(function (location) {
    $scope.visible = location.type !== 'signin';
    $timeout(function () {
      return $scope.$apply();
    });
  });

  NavigationManager.locationChanged.add(function (location) {
    $timeout(function () {
      if (location.type !== 'category' && location.type !== 'item') {
        $scope.menus.forEach(function (menu) {
          menu.selected = location.type === 'menu' && menu.token === location.token;
        });
      }

      $scope.menuOpen = false;
      $scope.settingsOpen = false;
    });
  });
}]);

//src/js/controllers/home.js

angular.module('SNAP.controllers').controller('HomeBaseCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', function ($scope, $timeout, DataManager, NavigationManager) {}]);

angular.module('SNAP.controllers').controller('HomeCtrl', ['$scope', '$timeout', 'ChatManager', 'DataModel', 'ShellManager', 'CustomerManager', 'OrderManager', 'DialogManager', 'NavigationManager', 'LocationModel', 'SurveyManager', 'SNAPLocation', 'SNAPEnvironment', 'CommandCloseTable', function ($scope, $timeout, ChatManager, DataModel, ShellManager, CustomerManager, OrderManager, DialogManager, NavigationManager, LocationModel, SurveyManager, SNAPLocation, SNAPEnvironment, CommandCloseTable) {

  var HomeMenu = React.createClass({
    displayName: 'HomeMenu',

    render: function render() {
      var result = [React.DOM.td({ key: -1 })];

      var rows = this.props.tiles.map(function (tile, i) {
        return React.DOM.td({
          className: 'home-menu-item',
          key: i
        }, React.DOM.a({
          onClick: function onClick(e) {
            e.preventDefault();
            NavigationManager.location = tile.destination;
          }
        }, React.DOM.img({
          src: ShellManager.getMediaUrl(tile.image, 160, 160)
        })));
      });

      result = result.concat(rows);
      result.push(React.DOM.td({ key: result.length }));

      return React.DOM.table(null, result);
    }
  });

  DataModel.home().then(function (response) {
    if (!response) {
      return;
    }

    var tiles = [];

    response.menus.filter(function (menu) {
      return SNAPEnvironment.platform === 'desktop' || menu.type !== 3;
    }).reduce(function (tiles, menu) {
      if (menu.promos && menu.promos.length > 0) {
        menu.promos.filter(function (promo) {
          return SNAPEnvironment.platform === 'desktop' || promo.type !== 3;
        }).forEach(function (promo) {
          tiles.push({
            title: promo.title,
            image: promo.image,
            url: '#' + NavigationManager.getPath(promo.destination),
            destination: promo.destination
          });
        });
      } else {
        var destination = {
          type: 'menu',
          token: menu.token
        };

        tiles.push({
          title: menu.title,
          image: menu.image,
          url: '#' + NavigationManager.getPath(destination),
          destination: destination
        });
      }

      return tiles;
    }, tiles);

    $timeout(function () {
      React.render(React.createElement(HomeMenu, { tiles: tiles }), document.getElementById('home-menu-main'));
    }, 1000);
  });

  NavigationManager.locationChanging.add(function (location) {
    $scope.visible = location.type === 'home';
    $timeout(function () {
      $scope.$apply();
    });
  });

  $scope.preload = function (destination) {
    NavigationManager.location = destination;
  };

  $scope.getMediaUrl = function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
  $scope.predicateEven = ShellManager.predicateEven;
  $scope.predicateOdd = ShellManager.predicateOdd;

  $scope.seat_name = LocationModel.seat ? LocationModel.seat.name : 'Table';
  LocationModel.seatChanged.add(function (value) {
    $timeout(function () {
      $scope.seat_name = value ? value.name : 'Table';
    });
  });

  $scope.customer_name = CustomerManager.customerName;
  CustomerManager.model.profileChanged.add(function () {
    $timeout(function () {
      return $scope.customer_name = CustomerManager.customerName;
    });
  });

  $scope.elements = ShellManager.model.elements;
  ShellManager.model.elementsChanged.add(function (value) {
    $timeout(function () {
      return $scope.elements = value;
    });
  });

  var refreshAssistanceRequest = function refreshAssistanceRequest() {
    $scope.requestAssistanceAvailable = !Boolean(OrderManager.model.assistanceRequest);
  };
  var refreshCloseoutRequest = function refreshCloseoutRequest() {
    $scope.requestCloseoutAvailable = !Boolean(OrderManager.model.closeoutRequest);
  };
  var refreshSurvey = function refreshSurvey() {
    $scope.surveyAvailable = SurveyManager.model.isEnabled && SurveyManager.model.feedbackSurvey && !SurveyManager.model.feedbackSurveyComplete;
  };
  OrderManager.model.assistanceRequestChanged.add(refreshAssistanceRequest);
  OrderManager.model.closeoutRequestChanged.add(refreshCloseoutRequest);
  SurveyManager.model.feedbackSurveyChanged.add(refreshSurvey);
  SurveyManager.model.surveyCompleted.add(refreshSurvey);
  refreshAssistanceRequest();
  refreshCloseoutRequest();
  refreshSurvey();

  $scope.chatAvailable = Boolean(SNAPLocation.chat);

  $scope.requestAssistance = function () {
    if (!$scope.requestAssistanceAvailable) {
      return;
    }

    DialogManager.confirm(ALERT_TABLE_ASSISTANCE).then(function () {
      var job = DialogManager.startJob();

      OrderManager.requestAssistance().then(function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_ASSISTANCE_SENT);
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
      });
    });
  };

  $scope.requestCloseout = function () {
    if (!$scope.requestCloseoutAvailable) {
      return;
    }

    DialogManager.confirm(ALERT_TABLE_CLOSEOUT).then(function () {
      var job = DialogManager.startJob();

      OrderManager.requestCloseout().then(function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_CLOSEOUT_SENT);
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
      });
    });
  };

  $scope.openSurvey = function () {
    if (!$scope.surveyAvailable) {
      return;
    }

    NavigationManager.location = { type: 'survey' };
  };

  $scope.seatClicked = function () {
    DialogManager.confirm(ALERT_TABLE_RESET).then(function () {
      var job = DialogManager.startJob();
      CommandCloseTable().then(function () {
        return DialogManager.endJob(job);
      });
    });
  };

  $scope.customerClicked = function () {
    if (!CustomerManager.model.isEnabled) {
      return;
    }

    if (CustomerManager.model.isAuthenticated && !CustomerManager.model.isGuest) {
      NavigationManager.location = { type: 'account' };
    } else {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
    }
  };

  $scope.openChat = function () {
    NavigationManager.location = { type: 'chat' };
  };
}]);

//src/js/controllers/item.js

angular.module('SNAP.controllers').controller('ItemBaseCtrl', ['$scope', function ($scope) {}]);

angular.module('SNAP.controllers').controller('ItemCtrl', ['$scope', '$timeout', 'AnalyticsModel', 'CustomerModel', 'DataManager', 'DialogManager', 'NavigationManager', 'OrderManager', 'CartModel', 'LocationModel', 'ShellManager', 'SNAPEnvironment', 'ChatManager', function ($scope, $timeout, AnalyticsModel, CustomerModel, DataManager, DialogManager, NavigationManager, OrderManager, CartModel, LocationModel, ShellManager, SNAPEnvironment, ChatManager) {

  var ItemImage = React.createClass({
    displayName: 'ItemImage',

    render: function render() {
      return React.DOM.img({
        src: ShellManager.getMediaUrl(this.props.media, 600, 600)
      });
    }
  });

  NavigationManager.locationChanging.add(function (location) {
    DataManager.item = location.type === 'item' ? location.token : undefined;
    $scope.visible = Boolean(DataManager.item);
    $timeout(function () {
      $scope.$apply();
    });
  });

  DataManager.itemChanged.add(function (response) {
    if (!response && ($scope.websiteUrl || $scope.flashUrl)) {
      WebBrowser.close();
    }

    $scope.websiteUrl = null;
    $scope.flashUrl = null;

    if (!response) {
      $scope.entry = null;

      if ($scope.type === 1) {
        document.getElementById('item-photo').innerHTML = '';
      }

      $scope.type = 1;
      $timeout(function () {
        return $scope.$apply();
      });
      return;
    }

    var type = response.type;

    if (type === 2 && response.website) {
      $scope.websiteUrl = response.website.url;
      WebBrowser.open($scope.websiteUrl);
    } else if (type === 3 && response.flash) {
      var url = '/flash#url=' + encodeURIComponent(getMediaUrl(response.flash.media, 0, 0, 'swf')) + '&width=' + encodeURIComponent(response.flash.width) + '&height=' + encodeURIComponent(response.flash.height);
      $scope.flashUrl = ShellManager.getAppUrl(url);
      WebBrowser.open($scope.flashUrl);
    } else if (type === 1) {
      $scope.entry = new app.CartItem(response, 1);

      React.render(React.createElement(ItemImage, { media: $scope.entry.item.image }), document.getElementById('item-photo'));
    }

    $scope.type = type;
    $timeout(function () {
      $scope.$apply();
    });
  });

  $scope.getMediaUrl = function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
  $scope.formatPrice = function (value) {
    return value ? ShellManager.formatPrice(value) : 0;
  };

  $scope.addToCart = function () {
    if (CustomerModel.isEnabled && !CustomerModel.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    var entry = $scope.entry;

    if (entry.hasModifiers) {
      CartModel.openEditor(entry, true);
    } else {
      OrderManager.addToCart(entry);
      CartModel.isCartOpen = true;
    }

    NavigationManager.goBack();
  };

  $scope.cancelGift = function () {
    return ChatManager.cancelGift();
  };

  $scope.giftSeat = LocationModel.getSeat(ChatManager.model.giftSeat);
  ChatManager.model.giftSeatChanged.add(function (token) {
    $timeout(function () {
      return $scope.giftSeat = LocationModel.getSeat(token);
    });
  });
}]);

//src/js/controllers/itemedit.js

angular.module('SNAP.controllers').controller('ItemEditCtrl', ['$scope', 'ShellManager', 'NavigationManager', 'OrderManager', 'CartModel', function ($scope, ShellManager, NavigationManager, OrderManager, CartModel) {

  $scope.getMediaUrl = function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
  $scope.formatPrice = function (value) {
    return ShellManager.formatPrice(value);
  };

  var currentIndex = -1;

  var refreshNavigation = function refreshNavigation() {
    if ($scope.entry && $scope.entry.hasModifiers) {
      $scope.hasNextCategory = $scope.entry.modifiers.length > 1 && currentIndex < $scope.entry.modifiers.length - 1;
      $scope.hasPreviousCategory = currentIndex > 0;
      $scope.category = $scope.entry.modifiers[currentIndex];
      $scope.canExit = CartModel.editableItemNew;
      $scope.canDone = true;
    }
  };

  NavigationManager.locationChanging.add(function (location) {
    if (location.type !== 'menu' && location.type !== 'category') {
      $scope.exit();
    }
  });

  CartModel.isCartOpenChanged.add(function (value) {
    if (value) {
      $scope.exit();
    }
  });

  var init = function init(value) {
    $scope.entry = value;
    $scope.visible = $scope.entry != null;

    currentIndex = 0;

    refreshNavigation();
  };

  init(CartModel.editableItem);

  CartModel.editableItemChanged.add(function (value) {
    init(value);
  });

  $scope.getModifierTitle = function (modifier) {
    return modifier.data.title + (modifier.data.price > 0 ? ' (+' + ShellManager.formatPrice(modifier.data.price) + ')' : '');
  };

  $scope.leftButtonClick = function () {
    var result = currentIndex > 0 ? $scope.previousCategory() : $scope.exit();
  };

  $scope.leftButtonText = function () {
    return currentIndex > 0 ? 'Back' : 'Exit';
  };

  $scope.rightButtonClick = function () {
    //Make sure Pick 1 modifier categories have met the selection condition.
    if ($scope.entry.modifiers[currentIndex].data.selection === 1) {
      var numSelected = 0;
      angular.forEach($scope.entry.modifiers[currentIndex].modifiers, function (m) {
        if (m.isSelected) {
          numSelected++;
        }
      });

      if (numSelected !== 1) {
        //TODO: Add modal popup. Must make 1 selection!
        return;
      }
    }

    var result = $scope.hasNextCategory ? $scope.nextCategory() : $scope.done();
  };

  $scope.rightButtonText = function () {
    return $scope.hasNextCategory ? 'Next' : 'Done';
  };

  $scope.previousCategory = function () {
    currentIndex--;
    refreshNavigation();
  };

  $scope.nextCategory = function () {
    currentIndex++;
    refreshNavigation();
  };

  $scope.updateModifiers = function (category, modifier) {
    modifier.isSelected = !modifier.isSelected;

    if (modifier.isSelected && category.data.selection === 1) {
      angular.forEach(category.modifiers, function (m) {
        m.isSelected = m === modifier;
      });
    }
  };

  $scope.done = function () {
    if (CartModel.editableItemNew) {
      OrderManager.addToCart(CartModel.editableItem);
    }

    $scope.exit();
    CartModel.isCartOpen = true;
  };

  $scope.exit = function () {
    CartModel.closeEditor();
  };
}]);

//src/js/controllers/mainaux.js

angular.module('SNAP.controllers').controller('MainAuxCtrl', ['$scope', 'CommandStartup', function ($scope, CommandStartup) {
  CommandStartup();
}]);

//src/js/controllers/mainsnap.js

angular.module('SNAP.controllers').controller('MainSnapCtrl', ['$scope', '$timeout', 'AppCache', 'CustomerManager', 'ActivityMonitor', 'ChatManager', 'ShellManager', 'DataManager', 'DialogManager', 'OrderManager', 'LocationModel', 'NavigationManager', 'SoftwareManager', 'SNAPLocation', 'CommandStartup', function ($scope, $timeout, AppCache, CustomerManager, ActivityMonitor, ChatManager, ShellManager, DataManager, DialogManager, OrderManager, LocationModel, NavigationManager, SoftwareManager, SNAPLocation, CommandStartup) {

  CommandStartup();

  $scope.touch = function () {
    return ActivityMonitor.activityDetected();
  };

  OrderManager.model.orderRequestChanged.add(function (item) {
    if (!item) {
      return;
    }
    item.promise.then(function () {
      return DialogManager.alert(ALERT_REQUEST_ORDER_RECEIVED);
    });
  });

  OrderManager.model.assistanceRequestChanged.add(function (item) {
    if (!item) {
      return;
    }
    item.promise.then(function () {
      return DialogManager.alert(ALERT_REQUEST_ASSISTANCE_RECEIVED);
    });
  });

  OrderManager.model.closeoutRequestChanged.add(function (item) {
    if (!item) {
      return;
    }
    item.promise.then(function () {
      return DialogManager.alert(ALERT_REQUEST_CLOSEOUT_RECEIVED);
    });
  });

  ChatManager.model.chatRequestReceived.add(function (token) {
    DialogManager.confirm(ChatManager.getDeviceName(token) + ' would like to chat with you.').then(function () {
      ChatManager.approveDevice(token);
      NavigationManager.location = { type: 'chat' };
    }, function () {
      return ChatManager.declineDevice(token);
    });
  });

  ChatManager.model.giftRequestReceived.add(function (token, description) {
    DialogManager.confirm(ChatManager.getDeviceName(token) + ' would like to gift you a ' + description).then(function () {
      ChatManager.acceptGift(token);
    }, function () {
      return ChatManager.declineGift(token);
    });
  });

  ChatManager.model.messageReceived.add(function (message) {
    var device = LocationModel.getDevice(message.device);

    if (!device) {
      return;
    }

    if (message.status === ChatManager.MESSAGE_STATUSES.CHAT_REQUEST_DECLINED) {
      DialogManager.alert('Chat with ' + ChatManager.getDeviceName(device.token) + ' was declined. ' + 'To stop recieving chat requests, open the chat screen and touch the "Chat on/off" button.');
    } else if (message.status === ChatManager.MESSAGE_STATUSES.CHAT_REQUEST_ACCEPTED) {
      DialogManager.alert('Your chat request to ' + ChatManager.getDeviceName(device.token) + ' was accepted.');
    } else if (message.status === ChatManager.MESSAGE_STATUSES.GIFT_REQUEST_ACCEPTED) {
      DialogManager.alert(ChatManager.getDeviceName(device.token) + ' has accepted your gift. The item will be added to your check.');
    } else if (message.status === ChatManager.MESSAGE_STATUSES.GIFT_REQUEST_DECLINED) {
      DialogManager.alert(ChatManager.getDeviceName(device.token) + ' has declined your gift. The item will NOT be added to your check.');
    }

    if (NavigationManager.location.type === 'chat') {
      return;
    }

    if (message.status === ChatManager.MESSAGE_STATUSES.CHAT_CLOSED) {
      DialogManager.notification(ChatManager.getDeviceName(device.token) + ' has closed the chat');
    } else if (!message.status && message.to_device) {
      DialogManager.notification('New message from ' + ChatManager.getDeviceName(device.token));
    }
  });

  ChatManager.model.giftReady.add(function () {
    ChatManager.sendGift(OrderManager.model.orderCart);
    NavigationManager.location = { type: 'chat' };
  });

  ChatManager.model.giftAccepted.add(function (status) {
    if (!status || !ChatManager.model.giftDevice) {
      ChatManager.model.giftSeat = null;
    } else {
      var job = DialogManager.startJob();

      OrderManager.submitCart().then(function () {
        DialogManager.endJob(job);
        NavigationManager.location = { type: 'chat' };
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);

        ChatManager.endGift();
        NavigationManager.location = { type: 'chat' };
      });
    }
  });
}]);

//src/js/controllers/menu.js

angular.module('SNAP.controllers').controller('MenuBaseCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', function ($scope, $timeout, DataManager, NavigationManager) {}]);

angular.module('SNAP.controllers').controller('MenuCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', 'ShellManager', function ($scope, $timeout, DataManager, NavigationManager, ShellManager) {

  var MenuList = React.createClass({
    displayName: 'MenuList',

    render: function render() {
      var tileClassName = ShellManager.tileStyle;
      var rows = this.props.tiles.map(function (tile, i) {
        return React.DOM.td({
          className: tileClassName,
          key: i
        }, React.DOM.a({
          onClick: function onClick(e) {
            e.preventDefault();
            NavigationManager.location = tile.destination;
          },
          style: {
            backgroundImage: 'url(' + ShellManager.getMediaUrl(tile.image, 370, 370) + ')'
          }
        }, React.DOM.span(null, tile.title)));
      }).reduce(function (result, value, i) {
        result[i % 2].push(value);
        return result;
      }, [[], []]).map(function (row, i) {
        return React.DOM.tr({ key: i }, row);
      });

      return React.DOM.table({ className: 'tile-table' }, rows);
    }
  });

  NavigationManager.locationChanging.add(function (location) {
    DataManager.menu = location.type === 'menu' ? location.token : undefined;
    $scope.visible = Boolean(DataManager.menu);
    $timeout(function () {
      $scope.$apply();
    });
  });

  DataManager.menuChanged.add(function (menu) {
    if (!menu) {
      return;
    }

    menu.categories.forEach(function (tile) {
      tile.url = '#' + NavigationManager.getPath(tile.destination);
    });

    React.render(React.createElement(MenuList, { tiles: menu.categories }), document.getElementById('content-menu'));
  });
}]);

//src/js/controllers/modal.js

angular.module('SNAP.controllers').controller('ModalCtrl', ['$scope', '$timeout', 'DialogManager', function ($scope, $timeout, DialogManager) {

  DialogManager.modalStarted.add(function () {
    return $timeout(function () {
      return $scope.visible = true;
    });
  });
  DialogManager.modalEnded.add(function () {
    return $timeout(function () {
      return $scope.visible = false;
    });
  });
}]);

//src/js/controllers/navigation.js

angular.module('SNAP.controllers').controller('NavigationCtrl', ['$scope', '$timeout', 'ActivityMonitor', 'CustomerManager', 'AnalyticsModel', 'CartModel', 'ShellManager', 'DataManager', 'DataModel', 'DialogManager', 'NavigationManager', 'OrderManager', 'CommandCloseTable', 'CommandFlipScreen', 'WebBrowser', 'SNAPEnvironment', function ($scope, $timeout, ActivityMonitor, CustomerManager, AnalyticsModel, CartModel, ShellManager, DataManager, DataModel, DialogManager, NavigationManager, OrderManager, CommandCloseTable, CommandFlipScreen, WebBrowser, SNAPEnvironment) {

  $scope.menus = [];

  DataModel.home().then(function (response) {
    if (!response) {
      return;
    }

    var location = NavigationManager.location,
        limit = SNAPEnvironment.platform === 'desktop' ? 4 : 3;

    $scope.menus = response.menus.filter(function (menu) {
      return SNAPEnvironment.platform === 'desktop' || menu.type !== 3;
    }).filter(function (menu, i) {
      return i < limit;
    }).map(function (menu) {
      var destination = {
        type: 'menu',
        token: menu.token
      };
      return {
        token: menu.token,
        title: menu.title,
        url: '#' + NavigationManager.getPath(destination),
        destination: destination,
        selected: location.type === 'menu' && menu.token === location.token
      };
    });
  });

  $scope.navigateHome = function () {
    ActivityMonitor.activityDetected();

    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.confirm(ALERT_TABLE_RESET).then(function () {
        var job = DialogManager.startJob();
        CommandCloseTable().then(function () {
          return DialogManager.endJob(job);
        });
      });
      return;
    }

    NavigationManager.location = { type: 'home' };
    CartModel.isCartOpen = false;
  };

  $scope.navigateBack = function () {
    ActivityMonitor.activityDetected();

    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    NavigationManager.goBack();

    CartModel.isCartOpen = false;
  };

  $scope.rotateScreen = function () {
    ActivityMonitor.activityDetected();
    CommandFlipScreen();
  };

  $scope.openCart = function () {
    ActivityMonitor.activityDetected();

    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    CartModel.isCartOpen = !CartModel.isCartOpen;
  };

  $scope.openSettings = function () {
    DialogManager.confirm(ALERT_TABLE_RESET).then(function () {
      var job = DialogManager.startJob();
      CommandCloseTable().then(function () {
        return DialogManager.endJob(job);
      });
    });
  };

  $scope.menuOpen = false;

  $scope.toggleMenu = function () {
    $scope.menuOpen = !$scope.menuOpen;
  };

  $scope.advertisementClick = function (item) {
    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    AnalyticsModel.logAdvertisement({
      token: item.token,
      type: 'click'
    });

    if (item.href) {
      NavigationManager.location = { type: 'url', url: item.href.url };
    }
  };

  $scope.advertisementImpression = function (item) {
    if (ActivityMonitor.active && !$scope.wide) {
      AnalyticsModel.logAdvertisement({
        token: item.token,
        type: 'impression'
      });
    }
  };

  $scope.elements = ShellManager.model.elements;
  ShellManager.model.elementsChanged.add(function (value) {
    $timeout(function () {
      return $scope.elements = value;
    });
  });

  $scope.advertisementsAll = [];
  $scope.advertisementsTop = [];
  $scope.advertisementsBottom = [];
  var mapAdvertisement = function mapAdvertisement(ad) {
    return {
      src: ShellManager.getMediaUrl(ad.src, 970, 90),
      href: ad.href,
      type: ShellManager.getMediaType(ad.src),
      token: ad.token
    };
  };
  DataModel.advertisements().then(function (response) {
    $timeout(function () {
      $scope.advertisementsTop = response.top.map(mapAdvertisement);
      $scope.advertisementsBottom = response.bottom.map(mapAdvertisement);
      $scope.advertisementsAll = $scope.advertisementsTop.concat($scope.advertisementsBottom);
    });
  });

  $scope.cartCount = OrderManager.model.orderCart.length;
  OrderManager.model.orderCartChanged.add(function (cart) {
    $timeout(function () {
      return $scope.cartCount = cart.length;
    });
  });

  $scope.requestAssistance = function () {
    if (!$scope.requestAssistanceAvailable) {
      return;
    }

    DialogManager.confirm(ALERT_TABLE_ASSISTANCE).then(function () {
      var job = DialogManager.startJob();

      OrderManager.requestAssistance().then(function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_ASSISTANCE_SENT);
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
      });
    });
  };

  var refreshAssistanceRequest = function refreshAssistanceRequest() {
    $scope.requestAssistanceAvailable = !Boolean(OrderManager.model.assistanceRequest);
  };
  OrderManager.model.assistanceRequestChanged.add(refreshAssistanceRequest);
  refreshAssistanceRequest();

  $scope.customerName = CustomerManager.customerName;
  CustomerManager.model.profileChanged.add(function () {
    $timeout(function () {
      return $scope.customerName = CustomerManager.customerName;
    });
  });

  $scope.navigate = function (destination) {
    return NavigationManager.location = destination;
  };

  NavigationManager.locationChanged.add(function (location) {
    $timeout(function () {
      $scope.menus.forEach(function (menu) {
        //menu.selected = (location.type === 'menu' && menu.token === location.token);
      });
    });
  });
}]);

//src/js/controllers/notification.js

angular.module('SNAP.controllers').controller('NotificationCtrl', ['$scope', '$timeout', 'DialogManager', function ($scope, $timeout, DialogManager) {
  var timer;

  $scope.messages = [];

  function updateVisibility(isVisible) {
    $timeout(function () {
      $scope.visible = isVisible;
    });
  }

  function hideNext() {
    var messages = [];

    for (var i = 1; i < $scope.messages.length; i++) {
      messages.push($scope.messages[i]);
    }

    $scope.messages = messages;

    if ($scope.messages.length === 0) {
      updateVisibility(false);
      return;
    }

    timer = $timeout(hideNext, 4000);
  }

  $scope.visible = false;

  DialogManager.notificationRequested.add(function (message) {
    $timeout(function () {
      $scope.messages.push({ text: message });
    });

    updateVisibility(true);

    if (timer) {
      $timeout.cancel(timer);
    }

    timer = $timeout(hideNext, 4000);
  });
}]);

//src/js/controllers/reset.js

angular.module('SNAP.controllers').controller('ResetCtrl', ['$scope', 'CommandReset', 'DialogManager', 'ManagementService', function ($scope, CommandReset, DialogManager, ManagementService) {

  var job = DialogManager.startJob();

  CommandReset().then(function () {
    ManagementService.loadStartup();
  }, function () {
    DialogManager.endJob(job);
    ManagementService.loadStartup();
  });
}]);

//src/js/controllers/screensaver.js

angular.module('SNAP.controllers').controller('ScreensaverCtrl', ['$scope', '$timeout', 'ShellManager', 'ActivityMonitor', 'DataModel', function ($scope, $timeout, ShellManager, ActivityMonitor, DataModel) {

  $scope.visible = false;

  function showImages(values) {
    $timeout(function () {
      $scope.images = values.map(function (item) {
        return {
          src: ShellManager.getMediaUrl(item.media, 1920, 1080, 'jpg'),
          type: ShellManager.getMediaType(item.media)
        };
      });
    });
  }

  showImages(ShellManager.model.screensavers);
  ShellManager.model.screensaversChanged.add(showImages);

  ActivityMonitor.activeChanged.add(function (value) {
    $timeout(function () {
      $scope.visible = value === false && ($scope.images && $scope.images.length > 0);
    });
  });
}]);

//src/js/controllers/signin.js

angular.module('SNAP.controllers').controller('SignInCtrl', ['$scope', '$timeout', 'CommandCustomerLogin', 'CommandCustomerGuestLogin', 'CommandCustomerSocialLogin', 'CommandCustomerSignup', 'CustomerManager', 'DialogManager', 'NavigationManager', 'SessionManager', 'SNAPLocation', 'WebBrowser', function ($scope, $timeout, CommandCustomerLogin, CommandCustomerGuestLogin, CommandCustomerSocialLogin, CommandCustomerSignup, CustomerManager, DialogManager, NavigationManager, SessionManager, SNAPLocation, WebBrowser) {

  var STEP_SPLASH = 1,
      STEP_LOGIN = 2,
      STEP_REGISTRATION = 3,
      STEP_GUESTS = 4,
      STEP_EVENT = 5,
      STEP_RESET = 6;

  $scope.STEP_SPLASH = STEP_SPLASH;
  $scope.STEP_LOGIN = STEP_LOGIN;
  $scope.STEP_REGISTRATION = STEP_REGISTRATION;
  $scope.STEP_GUESTS = STEP_GUESTS;
  $scope.STEP_EVENT = STEP_EVENT;
  $scope.STEP_RESET = STEP_RESET;

  $scope.locationName = SNAPLocation.location_name;

  //------------------------------------------------------------------------
  //
  //  Public methods
  //
  //------------------------------------------------------------------------

  //-----------------------------------------------
  //    Login
  //-----------------------------------------------

  $scope.login = function () {
    $scope.credentials = {};
    $scope.step = STEP_LOGIN;
  };

  $scope.guestLogin = function () {
    var job = DialogManager.startJob();

    CommandCustomerGuestLogin().then(function () {
      DialogManager.endJob(job);
      $timeout(function () {
        return $scope.step = STEP_GUESTS;
      });
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  $scope.doLogin = function (credentials) {
    var job = DialogManager.startJob();

    $scope.credentials.username = $scope.credentials.email;

    CommandCustomerLogin($scope.credentials).then(function () {
      DialogManager.endJob(job);
      $timeout(function () {
        return $scope.step = STEP_GUESTS;
      });
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_GENERIC_ERROR);
    });
  };

  //-----------------------------------------------
  //    Social login
  //-----------------------------------------------

  $scope.loginFacebook = function () {
    socialBusy();
    CommandCustomerSocialLogin.facebook().then(socialLogin, socialError);
  };

  $scope.loginTwitter = function () {
    socialBusy();
    CommandCustomerSocialLogin.twitter().then(socialLogin, socialError);
  };

  $scope.loginGoogle = function () {
    socialBusy();
    CommandCustomerSocialLogin.googleplus().then(socialLogin, socialError);
  };

  //-----------------------------------------------
  //    Registration
  //-----------------------------------------------

  $scope.register = function () {
    $scope.registration = {};
    $scope.step = STEP_REGISTRATION;
  };

  $scope.doRegistration = function () {
    $scope.registration.username = $scope.registration.email;

    var job = DialogManager.startJob();

    CommandCustomerSignup($scope.registration).then(function () {
      DialogManager.endJob(job);
      $timeout(function () {
        return $scope.step = STEP_GUESTS;
      });
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  //-----------------------------------------------
  //    Guest count
  //-----------------------------------------------

  $scope.session = {
    guestCount: 1,
    special: false
  };

  $scope.submitGuestCount = function () {
    if ($scope.session.guestCount > 1) {
      SessionManager.guestCount = $scope.session.guestCount;
      $scope.step = STEP_EVENT;
    } else {
      endSignIn();
    }
  };

  //-----------------------------------------------
  //    Event
  //-----------------------------------------------

  $scope.submitSpecialEvent = function (value) {
    $scope.session.special = SessionManager.specialEvent = Boolean(value);
    endSignIn();
  };

  //-----------------------------------------------
  //    Reset password
  //-----------------------------------------------

  $scope.resetPassword = function () {
    $scope.passwordreset = {};
    $scope.step = STEP_RESET;
  };

  $scope.passwordResetSubmit = function () {
    var job = DialogManager.startJob();

    CustomerManager.resetPassword($scope.passwordreset).then(function () {
      DialogManager.endJob(job);
      $scope.passwordReset = false;
      DialogManager.alert(ALERT_PASSWORD_RESET_COMPLETE);
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  $scope.passwordResetCancel = function () {
    $scope.step = STEP_SPLASH;
  };

  //------------------------------------------------------------------------
  //
  //  Private methods
  //
  //------------------------------------------------------------------------

  function socialLogin() {
    socialBusyEnd();
    $timeout(function () {
      return $scope.step = STEP_GUESTS;
    });
  }

  function socialError() {
    socialBusyEnd();
    DialogManager.alert(ALERT_GENERIC_ERROR);
  }

  var socialJob, socialTimer;

  function socialBusy() {
    socialBusyEnd();

    socialJob = DialogManager.startJob();
    socialTimer = $timeout(socialBusyEnd, 120 * 1000);
  }

  function socialBusyEnd() {
    if (socialJob) {
      DialogManager.endJob(socialJob);
      socialJob = null;
    }

    if (socialTimer) {
      $timeout.cancel(socialTimer);
      socialTimer = null;
    }
  }

  function endSignIn() {
    NavigationManager.location = { type: 'home' };
  }

  //------------------------------------------------------------------------
  //
  //  State
  //
  //------------------------------------------------------------------------

  $scope.$watchAsProperty('step').skipDuplicates().subscribe(function (value) {
    if (!value.value) {
      return;
    }

    var step = value.value();

    if (step === $scope.STEP_GUESTS) {
      $scope.submitGuestCount();
    }
  });

  //------------------------------------------------------------------------
  //
  //  Startup
  //
  //------------------------------------------------------------------------

  if (!CustomerManager.model.isEnabled || CustomerManager.model.isAuthenticated) {
    return endSignIn();
  }

  $scope.initialized = true;
  $scope.step = STEP_SPLASH;

  var modal = DialogManager.startModal();

  $scope.$on('$destroy', function () {
    WebBrowser.close();
    DialogManager.endModal(modal);
  });
}]);

//src/js/controllers/startup.js

angular.module('SNAP.controllers').controller('StartupCtrl', ['$scope', 'CommandBoot', 'DialogManager', 'ManagementService', function ($scope, CommandBoot, DialogManager, ManagementService) {

  function workflow() {
    var job = DialogManager.startJob();

    CommandBoot().then(function () {
      ManagementService.loadApplication();
    }, function (e) {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_ERROR_STARTUP).then(function () {
        return workflow();
      });
    });
  }

  workflow();
}]);

//src/js/controllers/survey.js

angular.module('SNAP.controllers').controller('SurveyCtrl', ['$scope', '$timeout', 'AnalyticsModel', 'CustomerManager', 'CustomerModel', 'DialogManager', 'NavigationManager', 'OrderManager', 'SurveyManager', function ($scope, $timeout, AnalyticsModel, CustomerManager, CustomerModel, DialogManager, NavigationManager, OrderManager, SurveyManager) {

  if (!SurveyManager.model.isEnabled || !SurveyManager.model.feedbackSurvey || SurveyManager.model.feedbackSurveyComplete) {
    NavigationManager.location = { type: 'home' };
    return;
  }

  //------------------------------------------------------------------------
  //
  //  Properties
  //
  //------------------------------------------------------------------------

  $scope.comment = '';
  $scope.email = '';
  $scope.had_problems = false;

  //-----------------------------------------------
  //    Pages
  //-----------------------------------------------

  $scope.pages = [];
  var pages = $scope.$watchAsProperty('pages');

  //-----------------------------------------------
  //    Index
  //-----------------------------------------------

  $scope.pageIndex = -1;
  var pageIndex = $scope.$watchAsProperty('pageIndex');
  pageIndex.changes().subscribe(function () {
    $scope.page = $scope.pageIndex > -1 ? $scope.pages[$scope.pageIndex] : { questions: [] };

    $timeout(function () {
      $scope.page.forEach(function (item) {
        if (item.type !== 1) {
          return;
        }

        $('#rate-' + item.token).rateit({
          min: 0,
          max: 5,
          step: 1,
          resetable: false,
          backingfld: '#range-' + item.token
        }).bind('rated', function (event, value) {
          item.feedback = value;
        });
      });
    });
  });

  //-----------------------------------------------
  //    Count
  //-----------------------------------------------

  $scope.pageCount = 0;
  pages.changes().subscribe(function () {
    $scope.pageCount = $scope.pages.length;
  });

  //------------------------------------------------------------------------
  //
  //  Private methods
  //
  //------------------------------------------------------------------------

  var generatePassword = function generatePassword() {
    var length = 8,
        charset = 'abcdefghknpqrstuvwxyzABCDEFGHKMNPQRSTUVWXYZ23456789',
        result = '';
    for (var i = 0, n = charset.length; i < length; i++) {
      result += charset.charAt(Math.floor(Math.random() * n));
    }
    return result;
  };

  var submitFeedback = function submitFeedback() {
    $scope.pages.reduce(function (answers, page) {
      return page.reduce(function (answers, question) {
        var value = parseInt(question.feedback);

        if (value > 0) {
          answers.push({
            survey: SurveyManager.model.feedbackSurvey.token,
            question: question.token,
            value: value
          });
        }

        return answers;
      }, answers);
    }, []).forEach(function (answer) {
      return AnalyticsModel.logAnswer(answer);
    });

    if ($scope.comment && $scope.comment.length > 0) {
      AnalyticsModel.logComment({
        type: 'feedback',
        text: $scope.comment
      });
    }

    SurveyManager.model.feedbackSurveyComplete = true;

    if ($scope.had_problems && !OrderManager.model.assistanceRequest) {
      OrderManager.requestAssistance();
    }

    if (CustomerModel.isGuest && $scope.email && $scope.email.length > 0) {
      var job = DialogManager.startJob();
      var password = generatePassword();

      CustomerManager.login({
        email: $scope.email,
        password: password
      }).then(function () {
        CustomerManager.login({
          login: $scope.email,
          password: password
        }).then(function () {
          DialogManager.endJob(job);
          NavigationManager.location = { type: 'home' };
        }, function () {
          DialogManager.endJob(job);
          NavigationManager.location = { type: 'home' };
        });
      }, function () {
        DialogManager.endJob(job);
        NavigationManager.location = { type: 'home' };
      });
    } else {
      NavigationManager.location = { type: 'home' };
    }
  };

  //------------------------------------------------------------------------
  //
  //  Public methods
  //
  //------------------------------------------------------------------------

  $scope.previousPage = function () {
    if ($scope.pageIndex > 0) {
      $scope.pageIndex--;
    }
  };

  $scope.nextPage = function () {
    if ($scope.pageIndex < $scope.pageCount - 1) {
      $scope.pageIndex++;
    } else {
      $scope.nextStep();
    }
  };

  $scope.nextStep = function () {
    if (CustomerModel.isGuest && $scope.step < 3) {
      $scope.step++;
    } else if (!CustomerModel.isGuest && $scope.step < 2) {
      $scope.step++;
    } else {
      submitFeedback();
    }
  };

  $scope.submitProblem = function (status) {
    $scope.had_problems = Boolean(status);
    $scope.nextStep();
  };

  $scope.exit = function () {
    if ($scope.step > 0) {
      submitFeedback();
    }

    NavigationManager.location = { type: 'home' };
  };

  //------------------------------------------------------------------------
  //
  //  Startup
  //
  //------------------------------------------------------------------------

  (function () {
    var page;

    $scope.has_email = CustomerModel.hasCredentials;

    function buildSurvey() {
      SurveyManager.model.feedbackSurvey.questions.forEach(function (item) {
        if (item.type !== 1) {
          return;
        }

        if (!page || page.length > 4) {
          page = [];
          $scope.pages.push(page);
        }

        item.feedback = 0;
        page.push(item);
      });
    }

    if (SurveyManager.model.isEnabled && SurveyManager.model.feedbackSurvey) {
      buildSurvey();
    }

    SurveyManager.model.feedbackSurveyChanged.add(function () {
      return buildSurvey();
    });

    $scope.pageIndex = 0;
    $scope.step = 0;
  })();
}]);

//src/js/controllers/url.js

angular.module('SNAP.controllers').controller('UrlCtrl', ['$scope', 'NavigationManager', 'WebBrowser', function ($scope, NavigationManager, WebBrowser) {

  WebBrowser.open(NavigationManager.location.url);

  $scope.$on('$destroy', function () {
    WebBrowser.close();
  });
}]);

//src/js/controllers/web.js

angular.module('SNAP.controllers').controller('WebCtrl', ['$scope', '$timeout', 'ActivityMonitor', 'WebBrowser', function ($scope, $timeout, ActivityMonitor, WebBrowser) {

  WebBrowser.onOpen.add(function () {
    ActivityMonitor.enabled = false;
  });

  WebBrowser.onClose.add(function () {
    ActivityMonitor.enabled = true;
  });
}]);

//src/js/directives/_base.js

angular.module('SNAP.directives', ['angular-bacon']);

//src/js/directives/gallery.js

angular.module('SNAP.directives').directive('gallery', ['ActivityMonitor', 'ShellManager', '$timeout', function (ActivityMonitor, ShellManager, $timeout) {

  var slider,
      settings = {
    mode: 'fade',
    wrapperClass: 'photo-gallery'
  };

  return {
    restrict: 'E',
    replace: false,
    scope: {
      images: '=',
      imagewidth: '=?',
      imageheight: '=?'
    },
    templateUrl: ShellManager.getPartialUrl('gallery'),
    link: function link(scope, elem, attrs) {
      elem.ready(function () {
        slider = $('.bxslider', elem).bxSlider(settings);
      });

      scope.$watch('images', function () {
        scope.medias = (scope.images || []).map(function (image) {
          return ShellManager.getMediaUrl(image, attrs.imagewidth, attrs.imageheight);
        });
        settings.pager = scope.medias.length > 1;
        $timeout(function () {
          return slider.reloadSlider(settings);
        });
      });
    }
  };
}]);

//src/js/directives/oniframeload.js

angular.module('SNAP.directives').directive('onIframeLoad', function () {
  return {
    restrict: 'A',
    scope: {
      callback: '&onIframeLoad'
    },
    link: function link(scope, element, attrs) {
      element.bind('load', function (e) {
        if (typeof scope.callback === 'function') {
          scope.callback({ event: e });
        }
      });
    }
  };
});

//src/js/directives/onkeydown.js

angular.module('SNAP.directives').directive('onKeydown', function () {
  return {
    restrict: 'A',
    link: function link(scope, elem, attrs) {
      var functionToCall = scope.$eval(attrs.onKeydown);
      elem.on('keydown', function (e) {
        functionToCall(e.which);
      });
    }
  };
});

//src/js/directives/quantity.js

angular.module('SNAP.directives').directive('quantity', ['$timeout', 'ShellManager', function ($timeout, ShellManager) {

  return {
    restrict: 'E',
    replace: true,
    scope: {
      quantity: '=',
      min: '=',
      max: '='
    },
    link: function link(scope, elem) {
      scope.min = scope.min || 1;
      scope.max = scope.max || 9;
      scope.data = {
        min: scope.min,
        max: scope.max,
        quantity: parseInt(scope.quantity)
      };

      scope.decrease = function () {
        scope.quantity = scope.data.quantity = scope.data.quantity > scope.data.min ? scope.data.quantity - 1 : scope.data.min;
      };

      scope.increase = function () {
        scope.quantity = scope.data.quantity = scope.data.quantity < scope.data.max ? scope.data.quantity + 1 : scope.data.max;
      };
    },
    templateUrl: ShellManager.getPartialUrl('input-quantity')
  };
}]);

//src/js/directives/scroller.js

angular.module('SNAP.directives').directive('scroller', ['ActivityMonitor', 'SNAPEnvironment', function (ActivityMonitor, SNAPEnvironment) {
  return {
    restrict: 'C',
    replace: false,
    link: function link(scope, elem) {
      if (SNAPEnvironment.platform === 'desktop') {
        $(elem).kinetic({
          y: false, stopped: function stopped() {
            ActivityMonitor.activityDetected();
          }
        });
      }
    }
  };
}]);

//src/js/directives/scrollglue.js

angular.module('SNAP.directives').directive('scrollglue', ['$parse', function ($parse) {
  function unboundState(initValue) {
    var activated = initValue;
    return {
      getValue: function getValue() {
        return activated;
      },
      setValue: function setValue(value) {
        activated = value;
      }
    };
  }

  function oneWayBindingState(getter, scope) {
    return {
      getValue: function getValue() {
        return getter(scope);
      },
      setValue: function setValue() {}
    };
  }

  function twoWayBindingState(getter, setter, scope) {
    return {
      getValue: function getValue() {
        return getter(scope);
      },
      setValue: function setValue(value) {
        if (value !== getter(scope)) {
          scope.$apply(function () {
            setter(scope, value);
          });
        }
      }
    };
  }

  function createActivationState(attr, scope) {
    if (attr !== "") {
      var getter = $parse(attr);
      if (getter.assign !== undefined) {
        return twoWayBindingState(getter, getter.assign, scope);
      } else {
        return oneWayBindingState(getter, scope);
      }
    } else {
      return unboundState(true);
    }
  }

  return {
    priority: 1,
    restrict: 'A',
    link: function link(scope, $el, attrs) {
      var el = $el[0],
          activationState = createActivationState(attrs.scrollglue, scope);

      function scrollToBottom() {
        el.scrollTop = el.scrollHeight;
      }

      function onScopeChanges() {
        if (activationState.getValue() && !shouldActivateAutoScroll()) {
          scrollToBottom();
        }
      }

      function shouldActivateAutoScroll() {
        return el.scrollTop + el.clientHeight + 1 >= el.scrollHeight;
      }

      function onScroll() {
        activationState.setValue(shouldActivateAutoScroll());
      }

      scope.$watch(onScopeChanges);
      $el.bind('scroll', onScroll);
    }
  };
}]);

//src/js/directives/slider.js

angular.module('SNAP.directives').directive('slider', ['$timeout', 'ShellManager', function ($timeout, ShellManager) {
  return {
    restrict: 'AE',
    replace: true,
    scope: {
      source: '=',
      slideclick: '=',
      slideshow: '=',
      timeout: '='
    },
    link: function link(scope, elem) {
      var timeout = scope.timeout || 5000;
      scope.source = scope.source || [];
      scope.currentIndex = -1;

      var changeImage = function changeImage() {
        if (scope.source.length === 0 || scope.disabled) {
          return;
        }

        $timeout.cancel(timer);

        scope.source.forEach(function (entry, i) {
          entry.visible = false;
        });

        var entry = scope.source[scope.currentIndex];
        entry.visible = true;

        if (scope.slideshow) {
          scope.slideshow(entry);
        }

        if (entry.type === 'video') {
          var v = $('video', elem);
          v.attr('src', entry.src);
          var video = v.get(0);

          if (!video) {
            timer = $timeout(sliderFunc, 300);
            return;
          }

          var onVideoEnded = function onVideoEnded() {
            video.removeEventListener('ended', onVideoEnded, false);
            $timeout(function () {
              scope.next();
            });
          };

          var onVideoError = function onVideoError(error) {
            video.removeEventListener('error', onVideoError, false);
            $timeout(function () {
              scope.next();
            });
          };

          video.addEventListener('ended', onVideoEnded, false);
          video.addEventListener('error', onVideoError, false);

          try {
            video.load();
            video.play();
          } catch (e) {
            console.error('Unable to play video: ' + e);
          }
        } else {
          timer = $timeout(sliderFunc, timeout);
        }
      };

      scope.next = function () {
        scope.currentIndex < scope.source.length - 1 ? scope.currentIndex++ : scope.currentIndex = 0;
        changeImage();
      };

      scope.prev = function () {
        scope.currentIndex > 0 ? scope.currentIndex-- : scope.currentIndex = scope.source.length - 1;
        changeImage();
      };

      var timer;

      var sliderFunc = function sliderFunc() {
        if (scope.source.length === 0 || scope.disabled) {
          return;
        }

        scope.next();
      };

      scope.$watch('source', function () {
        scope.currentIndex = -1;
        sliderFunc();
      });

      scope.$watch('disabled', function () {
        scope.currentIndex = -1;
        sliderFunc();
      });

      sliderFunc();

      scope.$on('$destroy', function () {
        $timeout.cancel(timer);
      });
    },
    templateUrl: ShellManager.getPartialUrl('slider')
  };
}]);

//src/js/directives/switch.js

angular.module('SNAP.directives').directive('switch', ['$timeout', 'ShellManager', function ($timeout, ShellManager) {

  return {
    restrict: 'E',
    replace: true,
    scope: {
      disabled: '=?',
      selected: '=?'
    },
    link: function link(scope, elem) {
      scope.disabled = Boolean(scope.disabled);
      scope.selected = Boolean(scope.selected);
      scope.data = {
        disabled: Boolean(scope.disabled),
        selected: Boolean(scope.selected),
        changed: false
      };

      scope.toggle = function () {
        if (scope.disabled) {
          return;
        }

        scope.selected = scope.data.selected = !scope.data.selected;
        scope.data.changed = true;
      };
    },
    templateUrl: ShellManager.getPartialUrl('input-switch')
  };
}]);

//src/js/filters/_base.js

angular.module('SNAP.filters', []);

//src/js/filters/partial.js

angular.module('SNAP.filters').filter('partial', ['ShellManager', function (ShellManager) {
  return function (name) {
    return ShellManager.getPartialUrl(name);
  };
}]);

//src/js/filters/thumbnail.js

angular.module('SNAP.filters').filter('thumbnail', ['ShellManager', function (ShellManager) {
  return function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
}]);

//src/js/filters/trusturl.js

angular.module('SNAP.filters').filter('trustUrl', ['$sce', function ($sce) {
  return function (val) {
    return $sce.trustAsResourceUrl(val);
  };
}]);

//src/js/services.js

angular.module('SNAP.services', ['ngResource', 'SNAP.configs']).factory('Logger', ['SNAPEnvironment', function (SNAPEnvironment) {
  return new app.Logger(SNAPEnvironment);
}]).factory('$exceptionHandler', ['Logger', function (Logger) {
  return function (exception, cause) {
    Logger.fatal(exception.stack, cause, exception);
    throw exception;
  };
}])

//Services

.factory('CardReader', ['ManagementService', function (ManagementService) {
  window.SnapCardReader = new app.CardReader(ManagementService);
  return window.SnapCardReader;
}]).factory('DtsApi', ['SNAPHosts', 'SessionModel', function (SNAPHosts, SessionModel) {
  return new app.BackendApi(SNAPHosts, SessionModel);
}]).factory('ManagementService', ['Logger', function (Logger) {
  return new app.CordovaManagementService(Logger);
}]).factory('SocketClient', ['SessionModel', 'SNAPHosts', 'Logger', function (SessionModel, SNAPHosts, Logger) {
  return new app.SocketClient(SessionModel, SNAPHosts, Logger);
}]).factory('TelemetryService', ['$resource', function ($resource) {
  return new app.TelemetryService($resource);
}]).factory('WebBrowser', ['AnalyticsModel', 'ManagementService', 'SNAPEnvironment', 'SNAPHosts', function (AnalyticsModel, ManagementService, SNAPEnvironment, SNAPHosts) {
  window.SnapWebBrowser = new app.WebBrowser(AnalyticsModel, ManagementService, SNAPEnvironment, SNAPHosts);
  return window.SnapWebBrowser;
}])

//Models

.factory('AppCache', ['Logger', function (Logger) {
  return new app.AppCache(Logger);
}]).factory('AnalyticsModel', ['StorageProvider', 'HeatMap', 'Logger', function (StorageProvider, HeatMap, Logger) {
  return new app.AnalyticsModel(StorageProvider, HeatMap, Logger);
}]).factory('CartModel', function () {
  return new app.CartModel();
}).factory('ChatModel', ['SNAPLocation', 'SNAPEnvironment', 'StorageProvider', function (SNAPLocation, SNAPEnvironment, StorageProvider) {
  return new app.ChatModel(SNAPLocation, SNAPEnvironment, StorageProvider);
}]).factory('CustomerModel', ['SNAPLocation', 'StorageProvider', function (SNAPLocation, StorageProvider) {
  return new app.CustomerModel(SNAPLocation, StorageProvider);
}]).factory('DataModel', ['SNAPLocation', 'DtsApi', 'StorageProvider', function (SNAPLocation, DtsApi, StorageProvider) {
  return new app.DataModel(SNAPLocation, DtsApi, StorageProvider);
}]).factory('HeatMap', function () {
  return new app.HeatMap(document.body);
}).factory('LocationModel', ['DtsApi', 'SNAPEnvironment', 'SNAPLocation', 'StorageProvider', function (DtsApi, SNAPEnvironment, SNAPLocation, StorageProvider) {
  return new app.LocationModel(DtsApi, SNAPEnvironment, SNAPLocation, StorageProvider);
}]).factory('OrderModel', ['StorageProvider', function (StorageProvider) {
  return new app.OrderModel(StorageProvider);
}]).factory('ShellModel', function () {
  return new app.ShellModel();
}).factory('SurveyModel', ['SNAPLocation', 'StorageProvider', function (SNAPLocation, StorageProvider) {
  return new app.SurveyModel(SNAPLocation, StorageProvider);
}]).factory('SessionModel', ['StorageProvider', function (StorageProvider) {
  return new app.SessionModel(StorageProvider);
}]).factory('StorageProvider', ['Logger', function (Logger) {
  return function (id) {
    return new app.CordovaLocalStorageStore(id, Logger);
  };
}])

//Managers

.factory('ActivityMonitor', ['$rootScope', '$timeout', 'SNAPEnvironment', function ($rootScope, $timeout, SNAPEnvironment) {
  var monitor = new app.ActivityMonitor($rootScope, $timeout);
  monitor.timeout = 30000;

  if (SNAPEnvironment.debug) {
    monitor.timeout *= 9000;
  }

  return monitor;
}]).factory('AnalyticsManager', ['TelemetryService', 'AnalyticsModel', 'Logger', function (TelemetryService, AnalyticsModel, Logger) {
  return new app.AnalyticsManager(TelemetryService, AnalyticsModel, Logger);
}]).factory('AuthenticationManager', ['DtsApi', 'SessionModel', 'SNAPEnvironment', 'WebBrowser', 'Logger', function (DtsApi, SessionModel, SNAPEnvironment, WebBrowser, Logger) {
  return new app.AuthenticationManager(DtsApi, SessionModel, SNAPEnvironment, WebBrowser, Logger);
}]).factory('CustomerManager', ['SNAPLocation', 'SNAPEnvironment', 'DtsApi', 'CustomerModel', 'SessionModel', 'Logger', function (SNAPLocation, SNAPEnvironment, DtsApi, CustomerModel, SessionModel, Logger) {
  return new app.CustomerManager(SNAPLocation, SNAPEnvironment, DtsApi, CustomerModel, SessionModel, Logger);
}]).factory('ChatManager', ['AnalyticsModel', 'ChatModel', 'CustomerModel', 'LocationModel', 'SocketClient', 'Logger', function (AnalyticsModel, ChatModel, CustomerModel, LocationModel, SocketClient, Logger) {
  return new app.ChatManager(AnalyticsModel, ChatModel, CustomerModel, LocationModel, SocketClient, Logger);
}]).factory('DataManager', ['DataModel', 'Logger', 'SNAPEnvironment', function (DataModel, Logger, SNAPEnvironment) {
  return new app.DataManager(DataModel, Logger, SNAPEnvironment);
}]).factory('DialogManager', ['Logger', function (Logger) {
  return new app.DialogManager(Logger);
}]).factory('LocationManager', ['DataModel', 'DtsApi', 'LocationModel', 'Logger', function (DataModel, DtsApi, LocationModel, Logger) {
  return new app.LocationManager(DataModel, DtsApi, LocationModel, Logger);
}]).factory('NavigationManager', ['$rootScope', '$location', '$window', 'AnalyticsModel', 'Logger', function ($rootScope, $location, $window, AnalyticsModel, Logger) {
  return new app.NavigationManager($rootScope, $location, $window, AnalyticsModel, Logger);
}]).factory('OrderManager', ['ChatModel', 'CustomerModel', 'DtsApi', 'OrderModel', 'Logger', function (ChatModel, CustomerModel, DtsApi, OrderModel, Logger) {
  return new app.OrderManager(ChatModel, CustomerModel, DtsApi, OrderModel, Logger);
}]).factory('SessionManager', ['SNAPEnvironment', 'AnalyticsModel', 'CustomerModel', 'LocationModel', 'OrderModel', 'SurveyModel', 'StorageProvider', 'Logger', function (SNAPEnvironment, AnalyticsModel, CustomerModel, LocationModel, OrderModel, SurveyModel, StorageProvider, Logger) {
  return new app.SessionManager(SNAPEnvironment, AnalyticsModel, CustomerModel, LocationModel, OrderModel, SurveyModel, StorageProvider, Logger);
}]).factory('ShellManager', ['$sce', 'DataModel', 'ShellModel', 'SNAPLocation', 'SNAPEnvironment', 'SNAPHosts', 'Logger', function ($sce, DataModel, ShellModel, SNAPLocation, SNAPEnvironment, SNAPHosts, Logger) {
  var manager = new app.ShellManager($sce, DataModel, ShellModel, SNAPLocation, SNAPEnvironment, SNAPHosts, Logger);
  DataModel._getMediaUrl = function (media, width, height, extension) {
    return manager.getMediaUrl(media, width, height, extension);
  }; //ToDo: refactor
  return manager;
}]).factory('SocialManager', ['SNAPEnvironment', 'DtsApi', 'WebBrowser', 'Logger', function (SNAPEnvironment, DtsApi, WebBrowser, Logger) {
  return new app.SocialManager(SNAPEnvironment, DtsApi, WebBrowser, Logger);
}]).factory('SoftwareManager', ['SNAPEnvironment', function (SNAPEnvironment) {
  return new app.SoftwareManager(SNAPEnvironment);
}]).factory('SurveyManager', ['DataModel', 'SurveyModel', 'Logger', function (DataModel, SurveyModel, Logger) {
  return new app.SurveyManager(DataModel, SurveyModel, Logger);
}]);
//# sourceMappingURL=data:application/json;base64,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QUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0NBQzNFLENBQUMsQ0FBQyxDQUNGLE9BQU8sQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLGlCQUFpQixFQUFFLFVBQUMsZUFBZSxFQUFLO0FBQ25FLFNBQU8sSUFBSSxHQUFHLENBQUMsZUFBZSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0NBQ2pELENBQUMsQ0FBQyxDQUNGLE9BQU8sQ0FBQyxlQUFlLEVBQUUsQ0FBQyxXQUFXLEVBQUUsYUFBYSxFQUFFLFFBQVEsRUFBRSxVQUFDLFNBQVMsRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFLO0FBQ25HLFNBQU8sSUFBSSxHQUFHLENBQUMsYUFBYSxDQUFDLFNBQVMsRUFBRSxXQUFXLEVBQUUsTUFBTSxDQUFDLENBQUM7Q0FDOUQsQ0FBQyxDQUFDLENBQUMiLCJmaWxlIjoidGVtcC9zbmFwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9zcmMvanMvc2hhcmVkL19iYXNlLmpzXG5cbndpbmRvdy5hcHAgPSB7fTtcblxudmFyIEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SID0gMSxcbiAgICBBTEVSVF9SRVFVRVNUX0FTU0lTVEFOQ0VfU0VOVCA9IDEwLFxuICAgIEFMRVJUX1JFUVVFU1RfQVNTSVNUQU5DRV9SRUNFSVZFRCA9IDExLFxuICAgIEFMRVJUX1JFUVVFU1RfQ0xPU0VPVVRfU0VOVCA9IDIwLFxuICAgIEFMRVJUX1JFUVVFU1RfQ0xPU0VPVVRfUkVDRUlWRUQgPSAyMSxcbiAgICBBTEVSVF9SRVFVRVNUX09SREVSX1NFTlQgPSAzMCxcbiAgICBBTEVSVF9SRVFVRVNUX09SREVSX1JFQ0VJVkVEID0gMzEsXG4gICAgQUxFUlRfU0lHTklOX1JFUVVJUkVEID0gNDAsXG4gICAgQUxFUlRfVEFCTEVfUkVTRVQgPSA1MCxcbiAgICBBTEVSVF9UQUJMRV9BU1NJU1RBTkNFID0gNTEsXG4gICAgQUxFUlRfVEFCTEVfQ0xPU0VPVVQgPSA1MixcbiAgICBBTEVSVF9HRU5FUklDX0VSUk9SID0gMTAwLFxuICAgIEFMRVJUX0RFTEVUX0NBUkQgPSAyMDAsXG4gICAgQUxFUlRfUEFTU1dPUkRfUkVTRVRfQ09NUExFVEUgPSAyMTAsXG4gICAgQUxFUlRfU09GVFdBUkVfT1VUREFURUQgPSAyMjAsXG4gICAgQUxFUlRfQ0FSRFJFQURFUl9FUlJPUiA9IDMxMCxcbiAgICBBTEVSVF9FUlJPUl9OT19TRUFUID0gNDEwLFxuICAgIEFMRVJUX0VSUk9SX1NUQVJUVVAgPSA1MTA7XG5cbi8vc3JjL2pzL3NoYXJlZC9kb21haW4vYW5hbHl0aWNzZGF0YS5qc1xuXG53aW5kb3cuYXBwLkFuYWx5dGljc0RhdGEgPSBjbGFzcyBBbmFseXRpY3NEYXRhIHtcbiAgY29uc3RydWN0b3IobmFtZSwgc3RvcmFnZVByb3ZpZGVyLCBkZWZhdWx0VmFsdWUpIHtcbiAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWUgfHwgKCgpID0+IFtdKTtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl9kYXRhID0gdGhpcy5fZGVmYXVsdFZhbHVlKCk7XG4gICAgdGhpcy5fc3RvcmUgPSBzdG9yYWdlUHJvdmlkZXIoJ3NuYXBfYW5hbHl0aWNzXycgKyBuYW1lKTtcbiAgfVxuXG4gIGluaXRpYWxpemUoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiB0aGlzLl9zdG9yZS5yZWFkKCkudGhlbihkYXRhID0+IHNlbGYuX2RhdGEgPSBkYXRhIHx8IHNlbGYuX2RhdGEpO1xuICB9XG5cbiAgZ2V0IG5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gIH1cblxuICBnZXQgZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgfVxuXG4gIHNldCBkYXRhKHZhbHVlKSB7XG4gICAgdGhpcy5fZGF0YSA9IHZhbHVlO1xuICAgIHRoaXMuc3RvcmUoKTtcbiAgfVxuXG4gIGdldCBsZW5ndGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEubGVuZ3RoO1xuICB9XG5cbiAgZ2V0IGxhc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGFbdGhpcy5sZW5ndGggLSAxXTtcbiAgfVxuXG4gIHB1c2goaXRlbSkge1xuICAgIHRoaXMuX2RhdGEucHVzaChpdGVtKTtcbiAgICB0aGlzLnN0b3JlKCk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLl9kYXRhID0gdGhpcy5fZGVmYXVsdFZhbHVlKCk7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmUoKTtcbiAgfVxuXG4gIHN0b3JlKCkge1xuICAgIHJldHVybiB0aGlzLl9zdG9yZS53cml0ZSh0aGlzLl9kYXRhKTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL2RvbWFpbi9jYXJ0aXRlbS5qc1xuXG53aW5kb3cuYXBwLkNhcnRJdGVtID0gY2xhc3MgQ2FydEl0ZW0ge1xuICBjb25zdHJ1Y3RvcihpdGVtLCBxdWFudGl0eSwgbmFtZSwgbW9kaWZpZXJzLCByZXF1ZXN0KSB7XG4gICAgdGhpcy5pdGVtID0gaXRlbTtcbiAgICB0aGlzLnF1YW50aXR5ID0gcXVhbnRpdHk7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuXG4gICAgaWYgKCF0aGlzLmhhc01vZGlmaWVycykge1xuICAgICAgdGhpcy5tb2RpZmllcnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIW1vZGlmaWVycykge1xuICAgICAgdGhpcy5tb2RpZmllcnMgPSBpdGVtLm1vZGlmaWVycy5tYXAoZnVuY3Rpb24oY2F0ZWdvcnkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBhcHAuQ2FydE1vZGlmaWVyQ2F0ZWdvcnkoY2F0ZWdvcnksIGNhdGVnb3J5Lml0ZW1zLm1hcChmdW5jdGlvbihtb2RpZmllcikge1xuICAgICAgICAgIHJldHVybiBuZXcgYXBwLkNhcnRNb2RpZmllcihtb2RpZmllcik7XG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMubW9kaWZpZXJzID0gbW9kaWZpZXJzO1xuICAgIH1cbiAgfVxuXG4gIGdldCBoYXNNb2RpZmllcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbS5tb2RpZmllcnMgIT0gbnVsbCAmJiB0aGlzLml0ZW0ubW9kaWZpZXJzLmxlbmd0aCA+IDA7XG4gIH1cblxuICBnZXQgc2VsZWN0ZWRNb2RpZmllcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9kaWZpZXJzLnJlZHVjZShmdW5jdGlvbihwcmV2aW91c0NhdGVnb3J5LCBjYXRlZ29yeSwgaSwgYXJyYXkpIHtcbiAgICAgIHJldHVybiBhcnJheS5jb25jYXQoY2F0ZWdvcnkuaXRlbXMuZmlsdGVyKGZ1bmN0aW9uKG1vZGlmaWVyKSB7XG4gICAgICAgIHJldHVybiBtb2RpZmllci5pc1NlbGVjdGVkO1xuICAgICAgfSkpO1xuICAgIH0sIFtdKTtcbiAgfVxuXG4gIGNsb25lKGNvdW50KSB7XG4gICAgcmV0dXJuIG5ldyBhcHAuQ2FydEl0ZW0oXG4gICAgICB0aGlzLml0ZW0sXG4gICAgICB0aGlzLnF1YW50aXR5LFxuICAgICAgdGhpcy5uYW1lLFxuICAgICAgdGhpcy5tb2RpZmllcnMubWFwKGNhdGVnb3J5ID0+IGNhdGVnb3J5LmNsb25lKCkpLFxuICAgICAgdGhpcy5yZXF1ZXN0KTtcbiAgfVxuXG4gIGNsb25lTWFueShjb3VudCkge1xuICAgIGNvdW50ID0gY291bnQgfHwgdGhpcy5xdWFudGl0eTtcbiAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgIHJlc3VsdC5wdXNoKG5ldyBhcHAuQ2FydEl0ZW0oXG4gICAgICAgIHRoaXMuaXRlbSxcbiAgICAgICAgMSxcbiAgICAgICAgdGhpcy5uYW1lLFxuICAgICAgICB0aGlzLm1vZGlmaWVycy5tYXAoY2F0ZWdvcnkgPT4gY2F0ZWdvcnkuY2xvbmUoKSksXG4gICAgICAgIHRoaXMucmVxdWVzdClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHJlc3RvcmUoZGF0YSkge1xuICAgIHJldHVybiBuZXcgYXBwLkNhcnRJdGVtKFxuICAgICAgZGF0YS5pdGVtLFxuICAgICAgZGF0YS5xdWFudGl0eSxcbiAgICAgIGRhdGEubmFtZSxcbiAgICAgIGRhdGEubW9kaWZpZXJzLm1hcChhcHAuQ2FydE1vZGlmaWVyQ2F0ZWdvcnkucHJvdG90eXBlLnJlc3RvcmUpLFxuICAgICAgZGF0YS5yZXF1ZXN0XG4gICAgKTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL2RvbWFpbi9jYXJ0bW9kaWZpZXIuanNcblxuKGZ1bmN0aW9uKCkge1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBDYXJ0TW9kaWZpZXJcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICB2YXIgQ2FydE1vZGlmaWVyID0gZnVuY3Rpb24oZGF0YSwgaXNTZWxlY3RlZCkge1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5pc1NlbGVjdGVkID0gaXNTZWxlY3RlZCB8fCBmYWxzZTtcbiAgfTtcblxuICBDYXJ0TW9kaWZpZXIucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBhcHAuQ2FydE1vZGlmaWVyKHRoaXMuZGF0YSwgdGhpcy5pc1NlbGVjdGVkKTtcbiAgfTtcblxuICBDYXJ0TW9kaWZpZXIucHJvdG90eXBlLnJlc3RvcmUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBhcHAuQ2FydE1vZGlmaWVyKGRhdGEuZGF0YSwgZGF0YS5pc1NlbGVjdGVkKTtcbiAgfTtcblxuICB3aW5kb3cuYXBwLkNhcnRNb2RpZmllciA9IENhcnRNb2RpZmllcjtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgQ2FydE1vZGlmaWVyQ2F0ZWdvcnlcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICB2YXIgQ2FydE1vZGlmaWVyQ2F0ZWdvcnkgPSBmdW5jdGlvbihkYXRhLCBtb2RpZmllcnMpIHtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIHRoaXMubW9kaWZpZXJzID0gbW9kaWZpZXJzO1xuICB9O1xuXG4gIENhcnRNb2RpZmllckNhdGVnb3J5LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtb2RpZmllcnMgPSB0aGlzLm1vZGlmaWVycy5tYXAoZnVuY3Rpb24obW9kaWZpZXIpIHtcbiAgICAgIHJldHVybiBtb2RpZmllci5jbG9uZSgpO1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgYXBwLkNhcnRNb2RpZmllckNhdGVnb3J5KHRoaXMuZGF0YSwgbW9kaWZpZXJzKTtcbiAgfTtcblxuICBDYXJ0TW9kaWZpZXJDYXRlZ29yeS5wcm90b3R5cGUucmVzdG9yZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICByZXR1cm4gbmV3IGFwcC5DYXJ0TW9kaWZpZXJDYXRlZ29yeShkYXRhLmRhdGEsIGRhdGEubW9kaWZpZXJzLm1hcChDYXJ0TW9kaWZpZXIucHJvdG90eXBlLnJlc3RvcmUpKTtcbiAgfTtcblxuICB3aW5kb3cuYXBwLkNhcnRNb2RpZmllckNhdGVnb3J5ID0gQ2FydE1vZGlmaWVyQ2F0ZWdvcnk7XG59KSgpO1xuXG4vL3NyYy9qcy9zaGFyZWQvZG9tYWluL3JlcXVlc3R3YXRjaGVyLmpzXG5cbndpbmRvdy5hcHAuUmVxdWVzdFdhdGNoZXIgPSBjbGFzcyBSZXF1ZXN0V2F0Y2hlciB7XG4gIGNvbnN0cnVjdG9yKHRpY2tldCwgRHRzQXBpKSB7XG4gICAgdGhpcy5fdG9rZW4gPSB0aWNrZXQudG9rZW47XG4gICAgdGhpcy5fcmVtb3RlID0gRHRzQXBpO1xuXG4gICAgdGhpcy5QT0xMSU5HX0lOVEVSVkFMID0gNTAwMDtcblxuICAgIHRoaXMuUkVRVUVTVF9TVEFUVVNfUEVORElORyA9IDE7XG4gICAgdGhpcy5SRVFVRVNUX1NUQVRVU19SRUNFSVZFRCA9IDI7XG4gICAgdGhpcy5SRVFVRVNUX1NUQVRVU19BQ0NFUFRFRCA9IDM7XG4gICAgdGhpcy5SRVFVRVNUX1NUQVRVU19FWFBJUkVEID0gMjU1O1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuX3Byb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZWxmLl9zdGF0dXNVcGRhdGVSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIHNlbGYuX3N0YXR1c1VwZGF0ZVJlamVjdCA9IHJlamVjdDtcbiAgICB9KTtcblxuICAgIHRoaXMuX3RpY2tldCA9IHsgc3RhdHVzOiAwIH07XG4gICAgdGhpcy5fd2F0Y2hTdGF0dXMoKTtcbiAgfVxuXG4gIGdldCB0b2tlbigpIHtcbiAgICByZXR1cm4gdGhpcy5fdG9rZW47XG4gIH1cblxuICBnZXQgdGlja2V0KCkge1xuICAgIHJldHVybiB0aGlzLl90aWNrZXQ7XG4gIH1cblxuICBnZXQgcHJvbWlzZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvbWlzZTtcbiAgfVxuXG4gIGRpc3Bvc2UoKSB7XG4gICAgaWYgKHRoaXMuX3RpbWVvdXRJZCkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0SWQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl90aWNrZXQuc3RhdHVzIDwgdGhpcy5SRVFVRVNUX1NUQVRVU19BQ0NFUFRFRCkge1xuICAgICAgdGhpcy5fc3RhdHVzVXBkYXRlUmVqZWN0KCk7XG4gICAgfVxuICB9XG5cbiAgX3dhdGNoU3RhdHVzKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGlmIChzZWxmLl90aW1lb3V0SWQpIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoc2VsZi5fdGltZW91dElkKTtcbiAgICB9XG5cbiAgICB2YXIgb25UaW1lb3V0ID0gKCkgPT4ge1xuICAgICAgc2VsZi5fcmVtb3RlLndhaXRlci5nZXRTdGF0dXMoc2VsZi5fdG9rZW4pLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICBzZWxmLl9zZXRUaWNrZXQocmVzcG9uc2UpO1xuICAgICAgICBzZWxmLl93YXRjaFN0YXR1cygpO1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZWxmLl93YXRjaFN0YXR1cygpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGlmIChzZWxmLl90aWNrZXQuc3RhdHVzID09PSBzZWxmLlJFUVVFU1RfU1RBVFVTX0FDQ0VQVEVEKSB7XG4gICAgICBzZWxmLl9zdGF0dXNVcGRhdGVSZXNvbHZlKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNlbGYuX3RpY2tldC5zdGF0dXMgIT09IHNlbGYuUkVRVUVTVF9TVEFUVVNfRVhQSVJFRCkge1xuICAgICAgc2VsZi5fdGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQob25UaW1lb3V0LCB0aGlzLlBPTExJTkdfSU5URVJWQUwpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRUaWNrZXQodmFsdWUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAoc2VsZi5fdGlja2V0LnN0YXR1cyA9PT0gdmFsdWUuc3RhdHVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2VsZi5fdGlja2V0ID0gdmFsdWU7XG4gICAgc2VsZi5fd2F0Y2hTdGF0dXMoKTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL2RvbWFpbi93ZWJicm93c2VycmVmZXJlbmNlLmpzXG5cbndpbmRvdy5hcHAuV2ViQnJvd3NlclJlZmVyZW5jZSA9IGNsYXNzIFdlYkJyb3dzZXJSZWZlcmVuY2Uge1xuICBjb25zdHJ1Y3Rvcihicm93c2VyUmVmKSB7XG4gICAgdGhpcy5icm93c2VyID0gYnJvd3NlclJlZjtcbiAgICB0aGlzLm9uTmF2aWdhdGVkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5vbkV4aXQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLm9uQ2FsbGJhY2sgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgfVxuXG4gIGV4aXQoKSB7XG4gICAgdGhpcy5vbkV4aXQuZGlzcGF0Y2goKTtcbiAgfVxufTtcblxuXG53aW5kb3cuYXBwLkNvcmRvdmFXZWJCcm93c2VyUmVmZXJlbmNlID0gY2xhc3MgQ29yZG92YVdlYkJyb3dzZXJSZWZlcmVuY2UgZXh0ZW5kcyBhcHAuV2ViQnJvd3NlclJlZmVyZW5jZSB7XG4gIGNvbnN0cnVjdG9yKGJyb3dzZXJSZWYpIHtcbiAgICBzdXBlcihicm93c2VyUmVmKTtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBvbkxvYWRTdGFydChldmVudCkge1xuICAgICAgc2VsZi5vbk5hdmlnYXRlZC5kaXNwYXRjaChldmVudC51cmwpO1xuICAgIH1cbiAgICB0aGlzLl9vbkxvYWRTdGFydCA9IG9uTG9hZFN0YXJ0O1xuXG4gICAgZnVuY3Rpb24gb25FeGl0KCkge1xuICAgICAgYnJvd3NlclJlZi5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2Fkc3RhcnQnLCBvbkxvYWRTdGFydCk7XG4gICAgICBicm93c2VyUmVmLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2V4aXQnLCBvbkV4aXQpO1xuICAgICAgc2VsZi5vbkV4aXQuZGlzcGF0Y2goKTtcbiAgICB9XG4gICAgdGhpcy5fb25FeGl0ID0gb25FeGl0O1xuXG4gICAgdGhpcy5icm93c2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRzdGFydCcsIG9uTG9hZFN0YXJ0KTtcbiAgICB0aGlzLmJyb3dzZXIuYWRkRXZlbnRMaXN0ZW5lcignZXhpdCcsIG9uRXhpdCk7XG4gIH1cblxuICBleGl0KCkge1xuICAgIHN1cGVyLmV4aXQoKTtcblxuICAgIHRoaXMuX2Rpc3Bvc2UoKTtcbiAgICB0aGlzLmJyb3dzZXIuY2xvc2UoKTtcbiAgfVxuXG4gIF9kaXNwb3NlKCkge1xuICAgIHRoaXMub25OYXZpZ2F0ZWQuZGlzcG9zZSgpO1xuICAgIHRoaXMub25FeGl0LmRpc3Bvc2UoKTtcblxuICAgIHRoaXMuYnJvd3Nlci5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2Fkc3RhcnQnLCB0aGlzLl9vbkxvYWRTdGFydCk7XG4gICAgdGhpcy5icm93c2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2V4aXQnLCB0aGlzLl9vbkV4aXQpO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbWFuYWdlcnMvYWJzdHJhY3RtYW5hZ2VyLmpzXG5cbndpbmRvdy5hcHAuQWJzdHJhY3RNYW5hZ2VyID0gY2xhc3MgQWJzdHJhY3RNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoTG9nZ2VyKSB7XG4gICAgICB0aGlzLl9Mb2dnZXIgPSBMb2dnZXI7XG4gIH1cblxuICBpbml0aWFsaXplKCkge1xuICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZyhgSW5pdGlhbGl6aW5nICR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfS4uLmApO1xuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5fTG9nZ2VyLmRlYnVnKGBSZXNldHRpbmcgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9Li4uYCk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9hY3Rpdml0eW1vbml0b3IuanNcblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBBY3Rpdml0eU1vbml0b3IgPSBmdW5jdGlvbigkcm9vdFNjb3BlLCAkdGltZW91dCkge1xuICAgIHRoaXMuJCRyb290U2NvcGUgPSAkcm9vdFNjb3BlO1xuICAgIHRoaXMuJCR0aW1lb3V0ID0gJHRpbWVvdXQ7XG4gICAgdGhpcy5fdGltZW91dCA9IDEwMDAwO1xuXG4gICAgdGhpcy5fYWN0aXZlQ2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLiQkcm9vdFNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHNlbGYuZW5hYmxlZCkge1xuICAgICAgICBzZWxmLmFjdGl2aXR5RGV0ZWN0ZWQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICB9O1xuXG4gIEFjdGl2aXR5TW9uaXRvci5wcm90b3R5cGUgPSB7fTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWN0aXZpdHlNb25pdG9yLnByb3RvdHlwZSwgJ3RpbWVvdXQnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3RpbWVvdXQ7IH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID4gMCkge1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFjdGl2aXR5TW9uaXRvci5wcm90b3R5cGUsICdlbmFibGVkJywge1xuICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl9lbmFibGVkOyB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5fZW5hYmxlZCA9IHZhbHVlOyB9XG4gIH0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBY3Rpdml0eU1vbml0b3IucHJvdG90eXBlLCAnYWN0aXZlJywge1xuICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl90aW1lciAhPSBudWxsOyB9XG4gIH0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBY3Rpdml0eU1vbml0b3IucHJvdG90eXBlLCAnYWN0aXZlQ2hhbmdlZCcsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5fYWN0aXZlQ2hhbmdlZDsgfVxuICB9KTtcblxuICBBY3Rpdml0eU1vbml0b3IucHJvdG90eXBlLmFjdGl2aXR5RGV0ZWN0ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2hhbmdlZDtcblxuICAgIGlmICh0aGlzLl90aW1lcikge1xuICAgICAgdGhpcy4kJHRpbWVvdXQuY2FuY2VsKHRoaXMuX3RpbWVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5fdGltZXIgPT09IG51bGwpIHtcbiAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBvblRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuX3RpbWVyID0gbnVsbDtcblxuICAgICAgc2VsZi4kJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChzZWxmLmVuYWJsZWQpIHtcbiAgICAgICAgICBzZWxmLmFjdGl2ZUNoYW5nZWQuZGlzcGF0Y2goc2VsZi5hY3RpdmUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5fdGltZXIgPSB0aGlzLiQkdGltZW91dChvblRpbWVvdXQsIHRoaXMuX3RpbWVvdXQpO1xuXG4gICAgaWYgKGNoYW5nZWQgJiYgdGhpcy5lbmFibGVkKSB7XG4gICAgICB0aGlzLmFjdGl2ZUNoYW5nZWQuZGlzcGF0Y2godGhpcy5hY3RpdmUpO1xuICAgIH1cbiAgfTtcblxuICB3aW5kb3cuYXBwLkFjdGl2aXR5TW9uaXRvciA9IEFjdGl2aXR5TW9uaXRvcjtcbn0pKCk7XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9hbmFseXRpY3NtYW5hZ2VyLmpzXG5cbndpbmRvdy5hcHAuQW5hbHl0aWNzTWFuYWdlciA9IGNsYXNzIEFuYWx5dGljc01hbmFnZXIgZXh0ZW5kcyBhcHAuQWJzdHJhY3RNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoVGVsZW1ldHJ5U2VydmljZSwgQW5hbHl0aWNzTW9kZWwsIExvZ2dlcikge1xuICAgIHN1cGVyKExvZ2dlcik7XG4gICAgdGhpcy5fVGVsZW1ldHJ5U2VydmljZSA9IFRlbGVtZXRyeVNlcnZpY2U7XG4gICAgdGhpcy5fQW5hbHl0aWNzTW9kZWwgPSBBbmFseXRpY3NNb2RlbDtcbiAgfVxuXG4gIGluaXRpYWxpemUoKSB7XG4gICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuXG4gICAgcmV0dXJuIHRoaXMubW9kZWwuaW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgc3VwZXIucmVzZXQoKTtcblxuICAgIHJldHVybiB0aGlzLm1vZGVsLnJlc2V0KCk7XG4gIH1cblxuICBnZXQgbW9kZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX0FuYWx5dGljc01vZGVsO1xuICB9XG5cbiAgc3VibWl0KCkge1xuICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZyhgU3VibWl0dGluZyBhbmFseXRpY3MgZGF0YSB3aXRoIGAgK1xuICAgICAgYCR7dGhpcy5tb2RlbC5zZXNzaW9ucy5sZW5ndGh9IHNlYXQgc2Vzc2lvbnMsIGAgK1xuICAgICAgYCR7dGhpcy5tb2RlbC5hbnN3ZXJzLmxlbmd0aH0gYW5zd2VycywgYCArXG4gICAgICBgJHt0aGlzLm1vZGVsLmNoYXRzLmxlbmd0aH0gY2hhdHMsIGAgK1xuICAgICAgYCR7dGhpcy5tb2RlbC5jb21tZW50cy5sZW5ndGh9IGNvbW1lbnRzLCBgICtcbiAgICAgIGAke3RoaXMubW9kZWwuY2xpY2tzLmxlbmd0aH0gY2xpY2tzLCBgICtcbiAgICAgIGAke3RoaXMubW9kZWwucGFnZXMubGVuZ3RofSBwYWdlcywgYCArXG4gICAgICBgJHt0aGlzLm1vZGVsLmFkdmVydGlzZW1lbnRzLmxlbmd0aH0gYWR2ZXJ0aXNlbWVudHMgYW5kIGAgK1xuICAgICAgYCR7dGhpcy5tb2RlbC51cmxzLmxlbmd0aH0gVVJMcy5gKTtcblxuICAgIHJldHVybiB0aGlzLnJlc2V0KCk7XG5cbiAgICAvKnZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2VsZi5fVGVsZW1ldHJ5U2VydmljZS5zdWJtaXRUZWxlbWV0cnkoe1xuICAgICAgICBzZXNzaW9uczogc2VsZi5tb2RlbC5zZXNzaW9ucy5kYXRhLFxuICAgICAgICBhZHZlcnRpc2VtZW50czogc2VsZi5tb2RlbC5hZHZlcnRpc2VtZW50cy5kYXRhLFxuICAgICAgICBhbnN3ZXJzOiBzZWxmLm1vZGVsLmFuc3dlcnMuZGF0YSxcbiAgICAgICAgY2hhdHM6IHNlbGYubW9kZWwuY2hhdHMuZGF0YSxcbiAgICAgICAgY29tbWVudHM6IHNlbGYubW9kZWwuY29tbWVudHMuZGF0YSxcbiAgICAgICAgY2xpY2tzOiBzZWxmLm1vZGVsLmNsaWNrcy5kYXRhLFxuICAgICAgICBwYWdlczogc2VsZi5tb2RlbC5wYWdlcy5kYXRhLFxuICAgICAgICB1cmxzOiBzZWxmLm1vZGVsLnVybHMuZGF0YVxuICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgIHNlbGYubW9kZWwucmVzZXQoKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSwgZSA9PiB7XG4gICAgICAgIHNlbGYuX0xvZ2dlci53YXJuKGBVbmFibGUgdG8gc3VibWl0IGFuYWx5dGljcyBkYXRhOiAke2UubWVzc2FnZX1gKTtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfSk7XG4gICAgfSk7Ki9cbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21hbmFnZXJzL2F1dGhlbnRpY2F0aW9ubWFuYWdlci5qc1xuXG53aW5kb3cuYXBwLkF1dGhlbnRpY2F0aW9uTWFuYWdlciA9IGNsYXNzIEF1dGhlbnRpY2F0aW9uTWFuYWdlciBleHRlbmRzIGFwcC5BYnN0cmFjdE1hbmFnZXIge1xuICAvKiBnbG9iYWwgbW9tZW50LCBzaWduYWxzICovXG5cbiAgY29uc3RydWN0b3IoQmFja2VuZEFwaSwgU2Vzc2lvbk1vZGVsLCBTTkFQRW52aXJvbm1lbnQsIFdlYkJyb3dzZXIsIExvZ2dlcikge1xuICAgIHN1cGVyKExvZ2dlcik7XG5cbiAgICB0aGlzLl9CYWNrZW5kQXBpID0gQmFja2VuZEFwaTtcbiAgICB0aGlzLl9TZXNzaW9uTW9kZWwgPSBTZXNzaW9uTW9kZWw7XG4gICAgdGhpcy5fU05BUEVudmlyb25tZW50ID0gU05BUEVudmlyb25tZW50O1xuICAgIHRoaXMuX1dlYkJyb3dzZXIgPSBXZWJCcm93c2VyO1xuICB9XG5cbiAgdmFsaWRhdGUoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBtb2RlbCA9IHNlbGYuX1Nlc3Npb25Nb2RlbDtcblxuICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZygnVmFsaWRhdGluZyBhY2Nlc3MgdG9rZW4uLi4nKTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBtb2RlbC5pbml0aWFsaXplKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHZhciB0b2tlbiA9IG1vZGVsLmFwaVRva2VuO1xuXG4gICAgICAgIGlmICghdG9rZW4gfHwgIXNlbGYuX3ZhbGlkYXRlVG9rZW4odG9rZW4pKSB7XG4gICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdBdXRob3JpemF0aW9uIGlzIG5vdCB2YWxpZC4nKTtcbiAgICAgICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ1ZhbGlkYXRpbmcgYXV0aG9yaXphdGlvbiBzZXNzaW9uLi4uJyk7XG5cbiAgICAgICAgICBzZWxmLl9CYWNrZW5kQXBpLm9hdXRoMi5nZXRTZXNzaW9uKCkudGhlbihzZXNzaW9uID0+IHtcbiAgICAgICAgICAgIHNlc3Npb24gPSBVUkkoJz8nICsgc2Vzc2lvbikucXVlcnkodHJ1ZSk7IC8vVG9EbzogcmVtb3ZlIHRoaXMgaGFja1xuXG4gICAgICAgICAgICBpZiAoc2Vzc2lvbiAmJiBzZXNzaW9uLnZhbGlkID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdBdXRob3JpemF0aW9uIGlzIHZhbGlkLicsIHNlc3Npb24pO1xuICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnQXV0aG9yaXphdGlvbiBpcyBub3QgdmFsaWQgb3IgZXhwaXJlZC4nLCBzZXNzaW9uKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnVW5hYmxlIHRvIHZhbGlkYXRlIGF1dGhvcml6YXRpb24uJywgZSk7XG4gICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZSA9PiB7XG4gICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnRXJyb3IgdmFsaWRhdGluZyBhdXRob3JpemF0aW9uLicsIGUpO1xuICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBhdXRob3JpemUoKSB7XG4gICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdBdXRob3JpemluZyBBUEkgYWNjZXNzLi4uJyk7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNlbGYuX1Nlc3Npb25Nb2RlbC5jbGVhcigpLnRoZW4oKCkgPT4ge1xuICAgICAgICB2YXIgYXBwbGljYXRpb24gPSBzZWxmLl9TTkFQRW52aXJvbm1lbnQubWFpbl9hcHBsaWNhdGlvbixcbiAgICAgICAgICAgIGF1dGhVcmwgPSBzZWxmLl9CYWNrZW5kQXBpLm9hdXRoMi5nZXRUb2tlbkF1dGhvcml6ZVVybChhcHBsaWNhdGlvbi5jbGllbnRfaWQsIGFwcGxpY2F0aW9uLmNhbGxiYWNrX3VybCwgYXBwbGljYXRpb24uc2NvcGUpO1xuXG4gICAgICAgIHNlbGYuX1dlYkJyb3dzZXIub3BlbihhdXRoVXJsLCB7IHN5c3RlbTogdHJ1ZSB9KS50aGVuKGJyb3dzZXIgPT4ge1xuICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZUNhbGxiYWNrKHVybCkge1xuICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKGFwcGxpY2F0aW9uLmNhbGxiYWNrX3VybCkgIT09IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicm93c2VyLmV4aXQoKTtcblxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrUmVzcG9uc2UgPSB1cmwuc3BsaXQoJyMnKVsxXSxcbiAgICAgICAgICAgICAgICByZXNwb25zZVBhcmFtZXRlcnMgPSBjYWxsYmFja1Jlc3BvbnNlLnNwbGl0KCcmJyksXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyTWFwID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2VQYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIHBhcmFtZXRlck1hcFtyZXNwb25zZVBhcmFtZXRlcnNbaV0uc3BsaXQoJz0nKVswXV0gPSByZXNwb25zZVBhcmFtZXRlcnNbaV0uc3BsaXQoJz0nKVsxXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBhcmFtZXRlck1hcC5hY2Nlc3NfdG9rZW4gIT09IHVuZGVmaW5lZCAmJiBwYXJhbWV0ZXJNYXAuYWNjZXNzX3Rva2VuICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHZhciB0b2tlbiA9IHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NfdG9rZW46IHBhcmFtZXRlck1hcC5hY2Nlc3NfdG9rZW4sXG4gICAgICAgICAgICAgICAgZXhwaXJlc19pbjogcGFyYW1ldGVyTWFwLmV4cGlyZXNfaW5cbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ05ldyBhY2Nlc3MgdG9rZW4gaXNzdWVkLicsIHRva2VuKTtcblxuICAgICAgICAgICAgICBzZWxmLl9TZXNzaW9uTW9kZWwuYXBpVG9rZW4gPSB0b2tlbjtcblxuICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ1Byb2JsZW0gaXNzdWluZyBuZXcgYWNjZXNzIHRva2VuLicsIHBhcmFtZXRlck1hcCk7XG4gICAgICAgICAgICByZWplY3QoJ1Byb2JsZW0gYXV0aGVudGljYXRpbmc6ICcgKyB1cmwpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyb3dzZXIub25DYWxsYmFjay5hZGQodXJsID0+IGhhbmRsZUNhbGxiYWNrKHVybCkpO1xuICAgICAgICAgIGJyb3dzZXIub25OYXZpZ2F0ZWQuYWRkKHVybCA9PiBoYW5kbGVDYWxsYmFjayh1cmwpKTtcbiAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBjdXN0b21lckxvZ2luUmVndWxhcihjcmVkZW50aWFscykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdmFyIGFwcGxpY2F0aW9uID0gc2VsZi5fU05BUEVudmlyb25tZW50LmN1c3RvbWVyX2FwcGxpY2F0aW9uO1xuICAgICAgc2VsZi5fQmFja2VuZEFwaS5vYXV0aDIuZ2V0VG9rZW5XaXRoQ3JlZGVudGlhbHMoXG4gICAgICAgIGFwcGxpY2F0aW9uLmNsaWVudF9pZCxcbiAgICAgICAgY3JlZGVudGlhbHMubG9naW4sXG4gICAgICAgIGNyZWRlbnRpYWxzLnBhc3N3b3JkXG4gICAgICApLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzdWx0LmVycm9yIHx8ICFyZXN1bHQuYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChyZXN1bHQuZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlc3Npb24gPSB7XG4gICAgICAgICAgYWNjZXNzX3Rva2VuOiByZXN1bHQuYWNjZXNzX3Rva2VuXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHJlc3VsdC5leHBpcmVzX2luKSB7XG4gICAgICAgICAgc2Vzc2lvbi5leHBpcmVzID0gbW9tZW50KCkuYWRkKHJlc3VsdC5leHBpcmVzX2luLCAnc2Vjb25kcycpLnVuaXgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuX1Nlc3Npb25Nb2RlbC5jdXN0b21lclRva2VuID0gc2Vzc2lvbjtcblxuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgY3VzdG9tZXJMb2dpblNvY2lhbCh0b2tlbikge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdmFyIHNlc3Npb24gPSB7XG4gICAgICAgIGFjY2Vzc190b2tlbjogdG9rZW4uYWNjZXNzX3Rva2VuXG4gICAgICB9O1xuXG4gICAgICBpZiAodG9rZW4uZXhwaXJlc19pbikge1xuICAgICAgICBzZXNzaW9uLmV4cGlyZXMgPSBtb21lbnQoKS5hZGQodG9rZW4uZXhwaXJlc19pbiwgJ3NlY29uZHMnKS51bml4KCk7XG4gICAgICB9XG5cbiAgICAgIHNlbGYuX1Nlc3Npb25Nb2RlbC5jdXN0b21lclRva2VuID0gc2Vzc2lvbjtcblxuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgX3ZhbGlkYXRlVG9rZW4odG9rZW4pIHtcbiAgICBpZiAoIXRva2VuIHx8ICF0b2tlbi5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0b2tlbi5leHBpcmVzKSB7XG4gICAgICB2YXIgZXhwaXJlcyA9IG1vbWVudC51bml4KHRva2VuLmV4cGlyZXMpO1xuXG4gICAgICBpZiAoZXhwaXJlcy5pc0JlZm9yZShtb21lbnQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbWFuYWdlcnMvY2hhdG1hbmFnZXIuanNcblxud2luZG93LmFwcC5DaGF0TWFuYWdlciA9IGNsYXNzIENoYXRNYW5hZ2VyIGV4dGVuZHMgYXBwLkFic3RyYWN0TWFuYWdlciB7XG4gIC8qIGdsb2JhbCBtb21lbnQsIHNpZ25hbHMgKi9cblxuICBjb25zdHJ1Y3RvcihBbmFseXRpY3NNb2RlbCwgQ2hhdE1vZGVsLCBDdXN0b21lck1vZGVsLCBMb2NhdGlvbk1vZGVsLCBTb2NrZXRDbGllbnQsIExvZ2dlcikge1xuICAgIHN1cGVyKExvZ2dlcik7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLk1FU1NBR0VfVFlQRVMgPSB7XG4gICAgICBMT0NBVElPTjogJ2xvY2F0aW9uJyxcbiAgICAgIERFVklDRTogJ2RldmljZSdcbiAgICB9O1xuICAgIHRoaXMuTUVTU0FHRV9TVEFUVVNFUyA9IHtcbiAgICAgIENIQVRfUkVRVUVTVDogJ2NoYXRfcmVxdWVzdCcsXG4gICAgICBDSEFUX1JFUVVFU1RfQUNDRVBURUQ6ICdjaGF0X3JlcXVlc3RfYWNjZXB0ZWQnLFxuICAgICAgQ0hBVF9SRVFVRVNUX0RFQ0xJTkVEOiAnY2hhdF9yZXF1ZXN0X2RlY2xpbmVkJyxcbiAgICAgIEdJRlRfUkVRVUVTVDogJ2dpZnRfcmVxdWVzdCcsXG4gICAgICBHSUZUX1JFUVVFU1RfQUNDRVBURUQ6ICdnaWZ0X3JlcXVlc3RfYWNjZXB0ZWQnLFxuICAgICAgR0lGVF9SRVFVRVNUX0RFQ0xJTkVEOiAnZ2lmdF9yZXF1ZXN0X2RlY2xpbmVkJyxcbiAgICAgIENIQVRfQ0xPU0VEOiAnY2hhdF9jbG9zZWQnXG4gICAgfTtcbiAgICB0aGlzLk9QRVJBVElPTlMgPSB7XG4gICAgICBDSEFUX01FU1NBR0U6ICdjaGF0X21lc3NhZ2UnLFxuICAgICAgU1RBVFVTX1JFUVVFU1Q6ICdzdGF0dXNfcmVxdWVzdCcsXG4gICAgICBTVEFUVVNfVVBEQVRFOiAnc3RhdHVzX3VwZGF0ZSdcbiAgICB9O1xuICAgIHRoaXMuUk9PTVMgPSB7XG4gICAgICBMT0NBVElPTjogJ2xvY2F0aW9uXycsXG4gICAgICBERVZJQ0U6ICdkZXZpY2VfJ1xuICAgIH07XG5cbiAgICB0aGlzLl9BbmFseXRpY3NNb2RlbCA9IEFuYWx5dGljc01vZGVsO1xuICAgIHRoaXMuX0NoYXRNb2RlbCA9IENoYXRNb2RlbDtcbiAgICB0aGlzLl9DdXN0b21lck1vZGVsID0gQ3VzdG9tZXJNb2RlbDtcbiAgICB0aGlzLl9Mb2NhdGlvbk1vZGVsID0gTG9jYXRpb25Nb2RlbDtcbiAgICB0aGlzLl9Tb2NrZXRDbGllbnQgPSBTb2NrZXRDbGllbnQ7XG5cbiAgICB0aGlzLl9DaGF0TW9kZWwuaXNFbmFibGVkQ2hhbmdlZC5hZGQoKCkgPT4gc2VsZi5fc2VuZFN0YXR1c1VwZGF0ZSgpKTtcbiAgICB0aGlzLl9DaGF0TW9kZWwuaXNQcmVzZW50Q2hhbmdlZC5hZGQoKCkgPT4gc2VsZi5fc2VuZFN0YXR1c1VwZGF0ZSgpKTtcbiAgICB0aGlzLl9DdXN0b21lck1vZGVsLnByb2ZpbGVDaGFuZ2VkLmFkZCgoKSA9PiBzZWxmLl9zZW5kU3RhdHVzVXBkYXRlKCkpO1xuICAgIHRoaXMuX0xvY2F0aW9uTW9kZWwuc2VhdENoYW5nZWQuYWRkKCgpID0+IHNlbGYuX3NlbmRTdGF0dXNVcGRhdGUoKSk7XG5cbiAgICB0aGlzLl9Tb2NrZXRDbGllbnQuaXNDb25uZWN0ZWRDaGFuZ2VkLmFkZChpc0Nvbm5lY3RlZCA9PiB7XG4gICAgICBzZWxmLm1vZGVsLmlzQ29ubmVjdGVkID0gaXNDb25uZWN0ZWQ7XG4gICAgICBzZWxmLl9zZW5kU3RhdHVzVXBkYXRlKCk7XG4gICAgICBzZWxmLl9zZW5kU3RhdHVzUmVxdWVzdCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fU29ja2V0Q2xpZW50LnN1YnNjcmliZSh0aGlzLlJPT01TLkxPQ0FUSU9OICsgdGhpcy5fTG9jYXRpb25Nb2RlbC5sb2NhdGlvbi50b2tlbiwgbWVzc2FnZSA9PiB7XG4gICAgICBzd2l0Y2ggKG1lc3NhZ2Uub3BlcmF0aW9uKSB7XG4gICAgICAgIGNhc2Ugc2VsZi5PUEVSQVRJT05TLkNIQVRfTUVTU0FHRTpcbiAgICAgICAgICBzZWxmLl9vbk1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2Ugc2VsZi5PUEVSQVRJT05TLlNUQVRVU19SRVFVRVNUOlxuICAgICAgICAgIHNlbGYuX29uU3RhdHVzUmVxdWVzdChtZXNzYWdlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBzZWxmLk9QRVJBVElPTlMuU1RBVFVTX1VQREFURTpcbiAgICAgICAgICBzZWxmLl9vblN0YXR1c1VwZGF0ZShtZXNzYWdlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX1NvY2tldENsaWVudC5zdWJzY3JpYmUodGhpcy5ST09NUy5ERVZJQ0UgKyB0aGlzLl9Mb2NhdGlvbk1vZGVsLmRldmljZSwgbWVzc2FnZSA9PiB7XG4gICAgICBzd2l0Y2ggKG1lc3NhZ2Uub3BlcmF0aW9uKSB7XG4gICAgICAgIGNhc2Ugc2VsZi5PUEVSQVRJT05TLkNIQVRfTUVTU0FHRTpcbiAgICAgICAgICBzZWxmLl9vbk1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2Ugc2VsZi5PUEVSQVRJT05TLlNUQVRVU19VUERBVEU6XG4gICAgICAgICAgc2VsZi5fb25TdGF0dXNVcGRhdGUobWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBnZXQgbW9kZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX0NoYXRNb2RlbDtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHN1cGVyLnJlc2V0KCk7XG5cbiAgICB0aGlzLm1vZGVsLnJlc2V0KCk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIE1lc3NhZ2luZ1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgc2VuZE1lc3NhZ2UobWVzc2FnZSkge1xuICAgIG1lc3NhZ2UuZGV2aWNlID0gdGhpcy5fTG9jYXRpb25Nb2RlbC5kZXZpY2U7XG4gICAgbWVzc2FnZS5vcGVyYXRpb24gPSB0aGlzLk9QRVJBVElPTlMuQ0hBVF9NRVNTQUdFO1xuICAgIG1lc3NhZ2UudHlwZSA9IG1lc3NhZ2UudG9fZGV2aWNlID9cbiAgICAgIHRoaXMuTUVTU0FHRV9UWVBFUy5ERVZJQ0UgOlxuICAgICAgdGhpcy5NRVNTQUdFX1RZUEVTLkxPQ0FUSU9OO1xuXG4gICAgdGhpcy5fYWRkTWVzc2FnZUlEKG1lc3NhZ2UpO1xuICAgIHRoaXMubW9kZWwuYWRkSGlzdG9yeShtZXNzYWdlKTtcblxuICAgIHZhciB0b3BpYyA9IHRoaXMuX2dldFRvcGljKG1lc3NhZ2UpO1xuXG4gICAgdGhpcy5fU29ja2V0Q2xpZW50LnNlbmQodG9waWMsIG1lc3NhZ2UpO1xuICAgIHRoaXMuX0FuYWx5dGljc01vZGVsLmxvZ0NoYXQobWVzc2FnZSk7XG4gIH1cblxuICBhcHByb3ZlRGV2aWNlKHRva2VuKSB7XG4gICAgdmFyIGRldmljZSA9IHRoaXMuX0xvY2F0aW9uTW9kZWwuZ2V0RGV2aWNlKHRva2VuKTtcblxuICAgIHRoaXMubW9kZWwuc2V0TGFzdFJlYWQodG9rZW4sIG1vbWVudCgpLnVuaXgoKSk7XG5cbiAgICBpZiAodGhpcy5tb2RlbC5pc1BlbmRpbmdEZXZpY2UoZGV2aWNlKSkge1xuICAgICAgdGhpcy5tb2RlbC5yZW1vdmVQZW5kaW5nRGV2aWNlKGRldmljZSk7XG5cbiAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICBzdGF0dXM6IHRoaXMuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX1JFUVVFU1RfQUNDRVBURUQsXG4gICAgICAgIHRvX2RldmljZTogZGV2aWNlLnRva2VuXG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgc3RhdHVzOiB0aGlzLk1FU1NBR0VfU1RBVFVTRVMuQ0hBVF9SRVFVRVNULFxuICAgICAgICB0b19kZXZpY2U6IGRldmljZS50b2tlblxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1vZGVsLmlzQWN0aXZlRGV2aWNlKGRldmljZSkpIHtcbiAgICAgIHRoaXMubW9kZWwuYWRkQWN0aXZlRGV2aWNlKGRldmljZSk7XG4gICAgfVxuICB9XG5cbiAgZGVjbGluZURldmljZSh0b2tlbikge1xuICAgIHZhciBkZXZpY2UgPSB0aGlzLl9Mb2NhdGlvbk1vZGVsLmdldERldmljZSh0b2tlbik7XG5cbiAgICBpZiAodGhpcy5tb2RlbC5pc0FjdGl2ZURldmljZShkZXZpY2UpKSB7XG4gICAgICB0aGlzLm1vZGVsLnJlbW92ZUFjdGl2ZURldmljZShkZXZpY2UpO1xuXG4gICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgc3RhdHVzOiB0aGlzLk1FU1NBR0VfU1RBVFVTRVMuQ0hBVF9DTE9TRUQsXG4gICAgICAgIHRvX2RldmljZTogZGV2aWNlLnRva2VuXG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgc3RhdHVzOiB0aGlzLk1FU1NBR0VfU1RBVFVTRVMuQ0hBVF9SRVFVRVNUX0RFQ0xJTkVELFxuICAgICAgICB0b19kZXZpY2U6IGRldmljZS50b2tlblxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0TWVzc2FnZU5hbWUobWVzc2FnZSkge1xuICAgIGlmICh0aGlzLl9Mb2NhdGlvbk1vZGVsLmRldmljZSA9PT0gbWVzc2FnZS5kZXZpY2UpIHtcbiAgICAgIHJldHVybiAnTWUnO1xuICAgIH1cblxuICAgIHJldHVybiBtZXNzYWdlLnVzZXJuYW1lIHx8IHRoaXMuZ2V0RGV2aWNlTmFtZShtZXNzYWdlLmRldmljZSk7XG4gIH1cblxuICBnZXREZXZpY2VOYW1lKHRva2VuKSB7XG4gICAgdmFyIGRldmljZSA9IHRoaXMuX0xvY2F0aW9uTW9kZWwuZ2V0RGV2aWNlKHRva2VuKTtcblxuICAgIGlmIChkZXZpY2UpIHtcbiAgICAgIGlmICh0aGlzLl9Mb2NhdGlvbk1vZGVsLmRldmljZSA9PT0gZGV2aWNlLnRva2VuKSB7XG4gICAgICAgIHJldHVybiAnTWUnO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGV2aWNlLnVzZXJuYW1lKSB7XG4gICAgICAgIHJldHVybiBkZXZpY2UudXNlcm5hbWU7XG4gICAgICB9XG5cbiAgICAgIGZvcih2YXIgcCBpbiB0aGlzLl9Mb2NhdGlvbk1vZGVsLnNlYXRzKSB7XG4gICAgICAgIGlmICh0aGlzLl9Mb2NhdGlvbk1vZGVsLnNlYXRzW3BdLnRva2VuID09PSBkZXZpY2Uuc2VhdCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9Mb2NhdGlvbk1vZGVsLnNlYXRzW3BdLm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gJ0d1ZXN0JztcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgTm90aWZpY2F0aW9uc1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgY2hlY2tJZlVucmVhZChkZXZpY2VfdG9rZW4sIG1lc3NhZ2UpIHtcbiAgICBsZXQgbGFzdFJlYWQgPSB0aGlzLm1vZGVsLmdldExhc3RSZWFkKGRldmljZV90b2tlbik7XG5cbiAgICBpZiAoIWxhc3RSZWFkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBtb21lbnQudW5peChtZXNzYWdlLnJlY2VpdmVkKS5pc0FmdGVyKG1vbWVudC51bml4KGxhc3RSZWFkKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZ2V0VW5yZWFkQ291bnQoZGV2aWNlX3Rva2VuKSA+IDA7XG4gIH1cblxuICBnZXRVbnJlYWRDb3VudChkZXZpY2VfdG9rZW4pIHtcbiAgICBsZXQgbGFzdFJlYWQgPSB0aGlzLm1vZGVsLmdldExhc3RSZWFkKGRldmljZV90b2tlbik7XG5cbiAgICBpZiAoIWxhc3RSZWFkKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGZyb21EYXRlID0gbW9tZW50LnVuaXgobGFzdFJlYWQpO1xuXG4gICAgcmV0dXJuIHRoaXMubW9kZWwuaGlzdG9yeVxuICAgICAgLmZpbHRlcihtZXNzYWdlID0+IG1lc3NhZ2UudHlwZSA9PT0gc2VsZi5NRVNTQUdFX1RZUEVTLkRFVklDRSAmJiBtZXNzYWdlLmRldmljZSA9PT0gZGV2aWNlX3Rva2VuKVxuICAgICAgLmZpbHRlcihtZXNzYWdlID0+IG1vbWVudC51bml4KG1lc3NhZ2UucmVjZWl2ZWQpLmlzQWZ0ZXIoZnJvbURhdGUpKVxuICAgICAgLmxlbmd0aDtcbiAgfVxuXG4gIG1hcmtBc1JlYWQoZGV2aWNlX3Rva2VuKSB7XG4gICAgdGhpcy5tb2RlbC5zZXRMYXN0UmVhZChkZXZpY2VfdG9rZW4sIG1vbWVudCgpLnVuaXgoKSk7XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIEdpZnRzXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBzZW5kR2lmdChpdGVtcykge1xuICAgIGlmICghdGhpcy5tb2RlbC5naWZ0RGV2aWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZW5kTWVzc2FnZSh7XG4gICAgICBzdGF0dXM6IHRoaXMuTUVTU0FHRV9TVEFUVVNFUy5HSUZUX1JFUVVFU1QsXG4gICAgICB0b19kZXZpY2U6IHRoaXMubW9kZWwuZ2lmdERldmljZSxcbiAgICAgIHRleHQ6IGl0ZW1zLnJlZHVjZSgocmVzdWx0LCBpdGVtKSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQgIT09ICcnKSB7XG4gICAgICAgICAgcmVzdWx0ICs9ICcsICc7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ICs9IGl0ZW0uaXRlbS50aXRsZTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sICcnKVxuICAgIH0pO1xuICB9XG5cbiAgYWNjZXB0R2lmdChkZXZpY2UpIHtcbiAgICB0aGlzLnNlbmRNZXNzYWdlKHtcbiAgICAgIHN0YXR1czogdGhpcy5NRVNTQUdFX1NUQVRVU0VTLkdJRlRfUkVRVUVTVF9BQ0NFUFRFRCxcbiAgICAgIHRvX2RldmljZTogZGV2aWNlLnRva2VuXG4gICAgfSk7XG4gIH1cblxuICBkZWNsaW5lR2lmdChkZXZpY2UpIHtcbiAgICB0aGlzLnNlbmRNZXNzYWdlKHtcbiAgICAgIHN0YXR1czogdGhpcy5NRVNTQUdFX1NUQVRVU0VTLkdJRlRfUkVRVUVTVF9ERUNMSU5FRCxcbiAgICAgIHRvX2RldmljZTogZGV2aWNlLnRva2VuXG4gICAgfSk7XG4gIH1cblxuICBzdGFydEdpZnQoZGV2aWNlX3Rva2VuKSB7XG4gICAgbGV0IGRldmljZSA9IHRoaXMuX0xvY2F0aW9uTW9kZWwuZ2V0RGV2aWNlKGRldmljZV90b2tlbik7XG5cbiAgICB0aGlzLm1vZGVsLmdpZnREZXZpY2UgPSBkZXZpY2VfdG9rZW47XG4gICAgdGhpcy5tb2RlbC5naWZ0U2VhdCA9IGRldmljZS5zZWF0O1xuICB9XG5cbiAgZW5kR2lmdCgpIHtcbiAgICB0aGlzLm1vZGVsLmdpZnREZXZpY2UgPSBudWxsO1xuICAgIHRoaXMubW9kZWwuZ2lmdFNlYXQgPSBudWxsO1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFByaXZhdGUgbWV0aG9kc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIF9vbk1lc3NhZ2UobWVzc2FnZSkge1xuICAgIGlmICghbWVzc2FnZS5pZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm1vZGVsLmhpc3RvcnkuZmlsdGVyKG1zZyA9PiBtc2cuaWQgPT09IG1lc3NhZ2UuaWQpLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBtZXNzYWdlLnJlY2VpdmVkID0gbW9tZW50KCkudW5peCgpO1xuXG4gICAgdmFyIGRldmljZSA9IHRoaXMuX0xvY2F0aW9uTW9kZWwuZ2V0RGV2aWNlKG1lc3NhZ2UuZGV2aWNlKSxcbiAgICAgICAgZ2lmdERldmljZSA9IHRoaXMubW9kZWwuZ2lmdERldmljZSxcbiAgICAgICAgc2VhdCA9IHRoaXMuX0xvY2F0aW9uTW9kZWwuc2VhdC50b2tlbjtcblxuICAgIGlmICghZGV2aWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKChtZXNzYWdlLnN0YXR1cyA9PT0gdGhpcy5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfUkVRVUVTVCkgJiZcbiAgICAgICAgIXRoaXMubW9kZWwuaXNQZW5kaW5nRGV2aWNlKGRldmljZSkgJiZcbiAgICAgICAgIXRoaXMubW9kZWwuaXNBY3RpdmVEZXZpY2UoZGV2aWNlKSkge1xuICAgICAgdGhpcy5tb2RlbC5hZGRQZW5kaW5nRGV2aWNlKGRldmljZSk7XG4gICAgICB0aGlzLm1vZGVsLmNoYXRSZXF1ZXN0UmVjZWl2ZWQuZGlzcGF0Y2goZGV2aWNlLnRva2VuKTtcbiAgICB9XG5cbiAgICBpZiAobWVzc2FnZS5zdGF0dXMgPT09IHRoaXMuTUVTU0FHRV9TVEFUVVNFUy5HSUZUX1JFUVVFU1QgJiZcbiAgICAgICAgdGhpcy5tb2RlbC5pc0FjdGl2ZURldmljZShkZXZpY2UpKSB7XG4gICAgICB0aGlzLm1vZGVsLmdpZnRSZXF1ZXN0UmVjZWl2ZWQuZGlzcGF0Y2goZGV2aWNlLCBtZXNzYWdlLnRleHQpO1xuICAgIH1cblxuICAgIGlmIChtZXNzYWdlLnRvX2RldmljZSkge1xuICAgICAgaWYgKG1lc3NhZ2Uuc3RhdHVzID09PSB0aGlzLk1FU1NBR0VfU1RBVFVTRVMuR0lGVF9SRVFVRVNUX0FDQ0VQVEVEKSB7XG4gICAgICAgIGlmIChnaWZ0RGV2aWNlICYmIGdpZnREZXZpY2UgPT09IG1lc3NhZ2UuZGV2aWNlKSB7XG4gICAgICAgICAgdGhpcy5tb2RlbC5naWZ0QWNjZXB0ZWQuZGlzcGF0Y2godHJ1ZSk7XG4gICAgICAgICAgdGhpcy5tb2RlbC5naWZ0RGV2aWNlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAobWVzc2FnZS5zdGF0dXMgPT09IHRoaXMuTUVTU0FHRV9TVEFUVVNFUy5HSUZUX1JFUVVFU1RfREVDTElORUQpIHtcbiAgICAgICAgaWYgKGdpZnREZXZpY2UgJiYgZ2lmdERldmljZSA9PT0gbWVzc2FnZS5kZXZpY2UpIHtcbiAgICAgICAgICB0aGlzLm1vZGVsLmdpZnRBY2NlcHRlZC5kaXNwYXRjaChmYWxzZSk7XG4gICAgICAgICAgdGhpcy5tb2RlbC5naWZ0RGV2aWNlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAobWVzc2FnZS5zdGF0dXMgPT09IHRoaXMuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX1JFUVVFU1RfREVDTElORUQpIHtcbiAgICAgICAgdGhpcy5kZWNsaW5lRGV2aWNlKGRldmljZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1lc3NhZ2Uub3BlcmF0aW9uID09PSB0aGlzLk9QRVJBVElPTlMuQ0hBVF9NRVNTQUdFKSB7XG4gICAgICBtZXNzYWdlLnVzZXJuYW1lID0gdGhpcy5nZXREZXZpY2VOYW1lKGRldmljZSk7XG4gICAgICB0aGlzLm1vZGVsLmFkZEhpc3RvcnkobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgdGhpcy5tb2RlbC5tZXNzYWdlUmVjZWl2ZWQuZGlzcGF0Y2gobWVzc2FnZSk7XG4gIH1cblxuICBfb25TdGF0dXNSZXF1ZXN0KG1lc3NhZ2UpIHtcbiAgICBpZiAobWVzc2FnZS5kZXZpY2UgPT09IHRoaXMuX0xvY2F0aW9uTW9kZWwuZGV2aWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2VuZFN0YXR1c1VwZGF0ZShtZXNzYWdlLmRldmljZSk7XG4gIH1cblxuICBfb25TdGF0dXNVcGRhdGUobWVzc2FnZSkge1xuICAgIGlmIChtZXNzYWdlLmRldmljZSA9PT0gdGhpcy5fTG9jYXRpb25Nb2RlbC5kZXZpY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZGV2aWNlID0gdGhpcy5fTG9jYXRpb25Nb2RlbC5nZXREZXZpY2UobWVzc2FnZS5kZXZpY2UpO1xuXG4gICAgaWYgKCFkZXZpY2UpIHtcbiAgICAgIGRldmljZSA9IHtcbiAgICAgICAgdG9rZW46IG1lc3NhZ2UuZGV2aWNlLFxuICAgICAgfTtcblxuICAgICAgdGhpcy5fTG9jYXRpb25Nb2RlbC5hZGREZXZpY2UoZGV2aWNlKTtcbiAgICB9XG5cbiAgICBpZiAoIW1lc3NhZ2UuaXNfYXZhaWxhYmxlICYmIGRldmljZS5pc19hdmFpbGFibGUpIHtcbiAgICAgIGxldCBoaXN0b3J5ID0ge1xuICAgICAgICBvcGVyYXRpb246IHRoaXMuT1BFUkFUSU9OUy5DSEFUX01FU1NBR0UsXG4gICAgICAgIHR5cGU6IHRoaXMuTUVTU0FHRV9UWVBFUy5ERVZJQ0UsXG4gICAgICAgIGRldmljZTogZGV2aWNlLnRva2VuLFxuICAgICAgICBzdGF0dXM6IHRoaXMuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX0NMT1NFRCxcbiAgICAgICAgdG9fZGV2aWNlOiB0aGlzLl9Mb2NhdGlvbk1vZGVsLmRldmljZVxuICAgICAgfTtcbiAgICAgIHRoaXMuX2FkZE1lc3NhZ2VJRChoaXN0b3J5KTtcbiAgICAgIHRoaXMubW9kZWwuYWRkSGlzdG9yeShoaXN0b3J5KTtcbiAgICB9XG5cbiAgICBkZXZpY2UuaXNfYXZhaWxhYmxlID0gQm9vbGVhbihtZXNzYWdlLmlzX2F2YWlsYWJsZSk7XG4gICAgZGV2aWNlLmlzX3ByZXNlbnQgPSBCb29sZWFuKG1lc3NhZ2UuaXNfcHJlc2VudCk7XG4gICAgZGV2aWNlLnNlYXQgPSBtZXNzYWdlLnNlYXQ7XG4gICAgZGV2aWNlLnVzZXJuYW1lID0gbWVzc2FnZS51c2VybmFtZTtcblxuICAgIHRoaXMuX0xvY2F0aW9uTW9kZWwuZGV2aWNlc0NoYW5nZWQuZGlzcGF0Y2godGhpcy5fTG9jYXRpb25Nb2RlbC5kZXZpY2VzKTtcbiAgfVxuXG4gIF9zZW5kU3RhdHVzUmVxdWVzdCgpIHtcbiAgICBpZiAoIXRoaXMubW9kZWwuaXNDb25uZWN0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgbWVzc2FnZSA9IHtcbiAgICAgIG9wZXJhdGlvbjogdGhpcy5PUEVSQVRJT05TLlNUQVRVU19SRVFVRVNULFxuICAgICAgZGV2aWNlOiB0aGlzLl9Mb2NhdGlvbk1vZGVsLmRldmljZVxuICAgIH07XG5cbiAgICB0aGlzLl9Tb2NrZXRDbGllbnQuc2VuZCh0aGlzLl9nZXRUb3BpYyhtZXNzYWdlKSwgbWVzc2FnZSk7XG4gIH1cblxuICBfc2VuZFN0YXR1c1VwZGF0ZShkZXZpY2UpIHtcbiAgICBpZiAoIXRoaXMubW9kZWwuaXNDb25uZWN0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgcHJvZmlsZSA9IHRoaXMuX0N1c3RvbWVyTW9kZWwucHJvZmlsZSxcbiAgICAgICAgdXNlcm5hbWU7XG5cbiAgICBpZiAocHJvZmlsZSAmJiBwcm9maWxlLmZpcnN0X25hbWUpIHtcbiAgICAgIHVzZXJuYW1lID0gcHJvZmlsZS5maXJzdF9uYW1lICsgJyAnICsgcHJvZmlsZS5sYXN0X25hbWU7XG4gICAgfVxuXG4gICAgbGV0IG1lc3NhZ2UgPSB7XG4gICAgICBvcGVyYXRpb246IHRoaXMuT1BFUkFUSU9OUy5TVEFUVVNfVVBEQVRFLFxuICAgICAgdG9fZGV2aWNlOiBkZXZpY2UsXG4gICAgICBkZXZpY2U6IHRoaXMuX0xvY2F0aW9uTW9kZWwuZGV2aWNlLFxuICAgICAgc2VhdDogdGhpcy5fTG9jYXRpb25Nb2RlbC5zZWF0LnRva2VuLFxuICAgICAgaXNfYXZhaWxhYmxlOiB0aGlzLm1vZGVsLmlzRW5hYmxlZCxcbiAgICAgIGlzX3ByZXNlbnQ6IHRoaXMubW9kZWwuaXNQcmVzZW50LFxuICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lXG4gICAgfTtcblxuICAgIHRoaXMuX1NvY2tldENsaWVudC5zZW5kKHRoaXMuX2dldFRvcGljKG1lc3NhZ2UpLCBtZXNzYWdlKTtcbiAgfVxuXG4gIF9nZXRUb3BpYyhtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gbWVzc2FnZS50b19kZXZpY2UgP1xuICAgICAgICB0aGlzLlJPT01TLkRFVklDRSArIG1lc3NhZ2UudG9fZGV2aWNlIDpcbiAgICAgICAgdGhpcy5ST09NUy5MT0NBVElPTiArIHRoaXMuX0xvY2F0aW9uTW9kZWwubG9jYXRpb24udG9rZW47XG4gIH1cblxuICBfYWRkTWVzc2FnZUlEKG1lc3NhZ2UpIHtcbiAgICBtZXNzYWdlLmlkID0gbWVzc2FnZS5pZCB8fCAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGMgPT4ge1xuICAgICAgdmFyIHIgPSBNYXRoLnJhbmRvbSgpICogMTZ8MCxcbiAgICAgICAgICB2ID0gYyA9PT0gJ3gnID8gciA6IChyJjB4M3wweDgpO1xuICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbWFuYWdlcnMvY3VzdG9tZXJtYW5hZ2VyLmpzXG5cbndpbmRvdy5hcHAuQ3VzdG9tZXJNYW5hZ2VyID0gY2xhc3MgQ3VzdG9tZXJNYW5hZ2VyIGV4dGVuZHMgYXBwLkFic3RyYWN0TWFuYWdlciB7XG4gIC8qIGdsb2JhbCBtb21lbnQgKi9cblxuICBjb25zdHJ1Y3RvcihDb25maWcsIEVudmlyb25tZW50LCBEdHNBcGksIEN1c3RvbWVyTW9kZWwsIFNlc3Npb25Nb2RlbCwgTG9nZ2VyKSB7XG4gICAgc3VwZXIoTG9nZ2VyKTtcblxuICAgIHRoaXMuX2FwaSA9IER0c0FwaTtcbiAgICB0aGlzLl9DdXN0b21lck1vZGVsID0gQ3VzdG9tZXJNb2RlbDtcbiAgICB0aGlzLl9TZXNzaW9uTW9kZWwgPSBTZXNzaW9uTW9kZWw7XG4gICAgdGhpcy5fY3VzdG9tZXJBcHBJZCA9IEVudmlyb25tZW50LmN1c3RvbWVyX2FwcGxpY2F0aW9uLmNsaWVudF9pZDtcbiAgfVxuXG4gIGdldCBtb2RlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fQ3VzdG9tZXJNb2RlbDtcbiAgfVxuXG4gIGdldCBjdXN0b21lck5hbWUoKSB7XG4gICAgaWYgKHRoaXMubW9kZWwuaXNFbmFibGVkICYmIHRoaXMubW9kZWwuaXNBdXRoZW50aWNhdGVkICYmICF0aGlzLm1vZGVsLmlzR3Vlc3QpIHtcbiAgICAgIHZhciBuYW1lID0gJyc7XG5cbiAgICAgIGlmIChDdXN0b21lck1hbmFnZXIubW9kZWwucHJvZmlsZS5maXJzdF9uYW1lKSB7XG4gICAgICAgIG5hbWUgKz0gQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLnByb2ZpbGUuZmlyc3RfbmFtZTtcbiAgICAgIH1cblxuICAgICAgaWYgKEN1c3RvbWVyTWFuYWdlci5tb2RlbC5wcm9maWxlLmxhc3RfbmFtZSkge1xuICAgICAgICBuYW1lICs9ICcgJyArIEN1c3RvbWVyTWFuYWdlci5tb2RlbC5wcm9maWxlLmxhc3RfbmFtZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuXG4gICAgcmV0dXJuICdHdWVzdCc7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICBzdXBlci5yZXNldCgpO1xuXG4gICAgcmV0dXJuIHRoaXMubG9nb3V0KCk7XG4gIH1cblxuICBsb2dvdXQoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIHNlbGYuX1Nlc3Npb25Nb2RlbC5jdXN0b21lclRva2VuID0gbnVsbDtcbiAgICAgIHNlbGYuX0N1c3RvbWVyTW9kZWwucHJvZmlsZSA9IG51bGw7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH1cblxuICBndWVzdExvZ2luKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICBzZWxmLl9DdXN0b21lck1vZGVsLnByb2ZpbGUgPSAnZ3Vlc3QnO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgbG9naW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xvYWRQcm9maWxlKCk7XG4gIH1cblxuICBsb2dpblNvY2lhbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbG9hZFByb2ZpbGUoKTtcbiAgfVxuXG4gIHNpZ25VcChyZWdpc3RyYXRpb24pIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHJlZ2lzdHJhdGlvbi5jbGllbnRfaWQgPSBzZWxmLl9jdXN0b21lckFwcElkO1xuICAgICAgc2VsZi5fYXBpLmN1c3RvbWVyLnNpZ25VcChyZWdpc3RyYXRpb24pLnRoZW4oKCkgPT4ge1xuICAgICAgICBzZWxmLmxvZ2luKHtcbiAgICAgICAgICBsb2dpbjogcmVnaXN0cmF0aW9uLnVzZXJuYW1lLFxuICAgICAgICAgIHBhc3N3b3JkOiByZWdpc3RyYXRpb24ucGFzc3dvcmRcbiAgICAgICAgfSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZVByb2ZpbGUocHJvZmlsZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2VsZi5fYXBpLmN1c3RvbWVyLnVwZGF0ZVByb2ZpbGUocHJvZmlsZSkudGhlbigoKSA9PiB7XG4gICAgICAgIHNlbGYuX0N1c3RvbWVyTW9kZWwucHJvZmlsZSA9IHByb2ZpbGU7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBjaGFuZ2VQYXNzd29yZChyZXF1ZXN0KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZWxmLl9hcGkuY3VzdG9tZXIuY2hhbmdlUGFzc3dvcmQocmVxdWVzdCkudGhlbigoKSA9PiB7XG4gICAgICAgIHNlbGYubG9naW4oe1xuICAgICAgICAgIGxvZ2luOiBzZWxmLl9DdXN0b21lck1vZGVsLmVtYWlsLFxuICAgICAgICAgIHBhc3N3b3JkOiByZXF1ZXN0Lm5ld19wYXNzd29yZFxuICAgICAgICB9KS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgcmVzZXRQYXNzd29yZChyZXF1ZXN0KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZWxmLl9hcGkuY3VzdG9tZXIucmVzZXRQYXNzd29yZChyZXF1ZXN0KS50aGVuKCgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9sb2FkUHJvZmlsZSgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNlbGYuX2FwaS5jdXN0b21lci5nZXRQcm9maWxlKCkudGhlbihwcm9maWxlID0+IHtcbiAgICAgICAgc2VsZi5fQ3VzdG9tZXJNb2RlbC5wcm9maWxlID0gcHJvZmlsZTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21hbmFnZXJzL2RhdGFtYW5hZ2VyLmpzXG5cbndpbmRvdy5hcHAuRGF0YU1hbmFnZXIgPSBjbGFzcyBEYXRhTWFuYWdlciBleHRlbmRzIGFwcC5BYnN0cmFjdE1hbmFnZXIge1xuICAvKiBnbG9iYWwgc2lnbmFscyAqL1xuXG4gIGNvbnN0cnVjdG9yKERhdGFNb2RlbCwgTG9nZ2VyLCBTTkFQRW52aXJvbm1lbnQpIHtcbiAgICBzdXBlcihMb2dnZXIpO1xuXG4gICAgdGhpcy5fRGF0YU1vZGVsID0gRGF0YU1vZGVsO1xuICAgIHRoaXMuX1NOQVBFbnZpcm9ubWVudCA9IFNOQVBFbnZpcm9ubWVudDtcblxuICAgIHRoaXMuaG9tZUNoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLm1lbnVDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5jYXRlZ29yeUNoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLml0ZW1DaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5cbiAgICB0aGlzLl9DQUNIRUFCTEVfTUVESUFfS0lORFMgPSBbXG4gICAgICAxMSwgNDEsIDUxLCA1OCwgNjFcbiAgICBdO1xuICB9XG5cbiAgZ2V0IG1vZGVsKCkge1xuICAgIHJldHVybiB0aGlzLl9EYXRhTW9kZWw7XG4gIH1cblxuICBpbml0aWFsaXplKCkge1xuICAgIHN1cGVyLmluaXRpYWxpemUoKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLl9jYWNoZSA9IHtcbiAgICAgIG1lbnU6IHt9LFxuICAgICAgY2F0ZWdvcnk6IHt9LFxuICAgICAgaXRlbToge30sXG4gICAgICBtZWRpYToge31cbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXMubW9kZWwuZGlnZXN0KCkudGhlbihkaWdlc3QgPT4ge1xuICAgICAgdmFyIG1lbnVTZXRzID0gKGRpZ2VzdC5tZW51X3NldHMgfHwgW10pLm1hcChtZW51ID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBzZWxmLm1vZGVsLm1lbnUobWVudS50b2tlbilcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gc2VsZi5fY2FjaGUubWVudVttZW51LnRva2VuXSA9IHNlbGYuX2ZpbHRlck1lbnUoZGF0YSkpXG4gICAgICAgICAgICAudGhlbihyZXNvbHZlLCByZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIG1lbnVDYXRlZ29yaWVzID0gKGRpZ2VzdC5tZW51X2NhdGVnb3JpZXMgfHwgW10pLm1hcChjYXRlZ29yeSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgc2VsZi5tb2RlbC5jYXRlZ29yeShjYXRlZ29yeS50b2tlbilcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gc2VsZi5fY2FjaGUuY2F0ZWdvcnlbY2F0ZWdvcnkudG9rZW5dID0gc2VsZi5fZmlsdGVyQ2F0ZWdvcnkoZGF0YSkpXG4gICAgICAgICAgICAudGhlbihyZXNvbHZlLCByZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIG1lbnVJdGVtcyA9IChkaWdlc3QubWVudV9pdGVtcyB8fCBbXSkubWFwKGl0ZW0gPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIHNlbGYubW9kZWwuaXRlbShpdGVtLnRva2VuKVxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiBzZWxmLl9jYWNoZS5pdGVtW2l0ZW0udG9rZW5dID0gZGF0YSlcbiAgICAgICAgICAgIC50aGVuKHJlc29sdmUsIHJlc29sdmUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgbWVkaWFzID0gKGRpZ2VzdC5tZWRpYSB8fCBbXSlcbiAgICAgICAgLmZpbHRlcihtZWRpYSA9PiBzZWxmLl9DQUNIRUFCTEVfTUVESUFfS0lORFMuaW5kZXhPZihtZWRpYS5raW5kKSAhPT0gLTEpXG4gICAgICAgIC5tYXAobWVkaWEgPT4ge1xuICAgICAgICAgIHZhciB3aWR0aCwgaGVpZ2h0O1xuXG4gICAgICAgICAgc3dpdGNoIChtZWRpYS5raW5kKSB7XG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICB3aWR0aCA9IDE5MjA7XG4gICAgICAgICAgICAgIGhlaWdodCA9IDEwODA7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0MTpcbiAgICAgICAgICAgIGNhc2UgNTE6XG4gICAgICAgICAgICAgIHdpZHRoID0gMzcwO1xuICAgICAgICAgICAgICBoZWlnaHQgPSAzNzA7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA1ODpcbiAgICAgICAgICAgICAgd2lkdGggPSA2MDA7XG4gICAgICAgICAgICAgIGhlaWdodCA9IDYwMDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDYxOlxuICAgICAgICAgICAgICB3aWR0aCA9IDEwMDtcbiAgICAgICAgICAgICAgaGVpZ2h0ID0gMTAwO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBtZWRpYS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgIG1lZGlhLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgIHJldHVybiBtZWRpYTtcbiAgICAgICAgfSlcbiAgICAgICAgLm1hcChtZWRpYSA9PiB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHNlbGYubW9kZWwubWVkaWEobWVkaWEpXG4gICAgICAgICAgICAgIC50aGVuKGltZyA9PiBzZWxmLl9jYWNoZS5tZWRpYVttZWRpYS50b2tlbl0gPSBpbWcpXG4gICAgICAgICAgICAgIC50aGVuKHJlc29sdmUsIHJlc29sdmUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKGBEaWdlc3QgY29udGFpbnMgJHttZW51U2V0cy5sZW5ndGh9IG1lbnVzLCBgICtcbiAgICAgICAgYCR7bWVudUNhdGVnb3JpZXMubGVuZ3RofSBjYXRlZ29yaWVzLCBgICtcbiAgICAgICAgYCR7bWVudUl0ZW1zLmxlbmd0aH0gaXRlbXMgYW5kIGAgK1xuICAgICAgICBgJHttZWRpYXMubGVuZ3RofSBmaWxlcy5gKTtcblxuICAgICAgdmFyIHRhc2tzID0gW11cbiAgICAgICAgLmNvbmNhdChtZW51U2V0cylcbiAgICAgICAgLmNvbmNhdChtZW51Q2F0ZWdvcmllcylcbiAgICAgICAgLmNvbmNhdChtZW51SXRlbXMpO1xuXG4gICAgICBQcm9taXNlLmFsbCh0YXNrcykudGhlbigoKSA9PiB7XG4gICAgICAgIFByb21pc2UuYWxsKG1lZGlhcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHN1cGVyLnJlc2V0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5tb2RlbC5jbGVhcigpO1xuICB9XG5cbiAgZ2V0IGhvbWUoKSB7IHJldHVybiB0aGlzLl9ob21lOyB9XG4gIHNldCBob21lKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX2hvbWUgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB0aGlzLl9ob21lID0gdmFsdWU7XG4gICAgICB0aGlzLm1vZGVsLmhvbWUoKS50aGVuKGhvbWUgPT4ge1xuICAgICAgICBpZiAoc2VsZi5faG9tZSkge1xuICAgICAgICAgIGhvbWUgPSBzZWxmLl9maWx0ZXJIb21lKGhvbWUpO1xuICAgICAgICAgIHNlbGYuaG9tZUNoYW5nZWQuZGlzcGF0Y2goaG9tZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX2hvbWUgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmhvbWVDaGFuZ2VkLmRpc3BhdGNoKHVuZGVmaW5lZCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IG1lbnUoKSB7IHJldHVybiB0aGlzLl9tZW51OyB9XG4gIHNldCBtZW51KHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX21lbnUgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB0aGlzLl9tZW51ID0gdmFsdWU7XG5cbiAgICAgIHZhciBkYXRhID0gdGhpcy5fY2FjaGVkKCdtZW51JywgdmFsdWUpO1xuXG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZW51Q2hhbmdlZC5kaXNwYXRjaChkYXRhKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5tb2RlbC5tZW51KHZhbHVlKS50aGVuKG1lbnUgPT4ge1xuICAgICAgICBpZiAoc2VsZi5fbWVudSkge1xuICAgICAgICAgIG1lbnUgPSBzZWxmLl9maWx0ZXJNZW51KG1lbnUpO1xuICAgICAgICAgIHNlbGYubWVudUNoYW5nZWQuZGlzcGF0Y2gobWVudSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX21lbnUgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLm1lbnVDaGFuZ2VkLmRpc3BhdGNoKHVuZGVmaW5lZCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGNhdGVnb3J5KCkgeyByZXR1cm4gdGhpcy5fY2F0ZWdvcnk7IH1cbiAgc2V0IGNhdGVnb3J5KHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX2NhdGVnb3J5ID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdGhpcy5fY2F0ZWdvcnkgPSB2YWx1ZTtcblxuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9jYWNoZWQoJ2NhdGVnb3J5JywgdmFsdWUpO1xuXG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXRlZ29yeUNoYW5nZWQuZGlzcGF0Y2goZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubW9kZWwuY2F0ZWdvcnkodmFsdWUpLnRoZW4oY2F0ZWdvcnkgPT4ge1xuICAgICAgICBpZiAoc2VsZi5fY2F0ZWdvcnkpIHtcbiAgICAgICAgICBjYXRlZ29yeSA9IHNlbGYuX2ZpbHRlckNhdGVnb3J5KGNhdGVnb3J5KTtcbiAgICAgICAgICBzZWxmLmNhdGVnb3J5Q2hhbmdlZC5kaXNwYXRjaChjYXRlZ29yeSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX2NhdGVnb3J5ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5jYXRlZ29yeUNoYW5nZWQuZGlzcGF0Y2godW5kZWZpbmVkKTtcbiAgICB9XG4gIH1cblxuICBnZXQgaXRlbSgpIHsgcmV0dXJuIHRoaXMuX2l0ZW07IH1cbiAgc2V0IGl0ZW0odmFsdWUpIHtcbiAgICBpZiAodGhpcy5faXRlbSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHRoaXMuX2l0ZW0gPSB2YWx1ZTtcblxuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9jYWNoZWQoJ2l0ZW0nLCB2YWx1ZSk7XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1DaGFuZ2VkLmRpc3BhdGNoKGRhdGEpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1vZGVsLml0ZW0odmFsdWUpLnRoZW4oaXRlbSA9PiB7XG4gICAgICAgIGlmIChzZWxmLl9pdGVtKSB7XG4gICAgICAgICAgc2VsZi5pdGVtQ2hhbmdlZC5kaXNwYXRjaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5faXRlbSA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuaXRlbUNoYW5nZWQuZGlzcGF0Y2godW5kZWZpbmVkKTtcbiAgICB9XG4gIH1cblxuICBfY2FjaGVkKGdyb3VwLCBpZCkge1xuICAgIGlmICghdGhpcy5fY2FjaGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChpZCAmJiB0aGlzLl9jYWNoZVtncm91cF0gJiYgdGhpcy5fY2FjaGVbZ3JvdXBdW2lkXSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlW2dyb3VwXVtpZF07XG4gICAgfVxuICAgIGVsc2UgaWYgKCFpZCAmJiB0aGlzLl9jYWNoZVtncm91cF0pIHtcbiAgICAgIHJldHVybiB0aGlzLl9jYWNoZVtncm91cF07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBfZmlsdGVySG9tZShkYXRhKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGRhdGEubWVudXMgPSBkYXRhLm1lbnVzXG4gICAgICAuZmlsdGVyKG1lbnUgPT4gc2VsZi5fU05BUEVudmlyb25tZW50LnBsYXRmb3JtID09PSAnZGVza3RvcCcgfHwgbWVudS50eXBlICE9PSAzKTtcblxuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgX2ZpbHRlck1lbnUoZGF0YSkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgX2ZpbHRlckNhdGVnb3J5KGRhdGEpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZGF0YS5pdGVtcyA9IGRhdGEuaXRlbXNcbiAgICAgIC5maWx0ZXIoaXRlbSA9PiBzZWxmLl9TTkFQRW52aXJvbm1lbnQucGxhdGZvcm0gPT09ICdkZXNrdG9wJyB8fCBpdGVtLnR5cGUgIT09IDMpO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9kaWFsb2dtYW5hZ2VyLmpzXG5cbndpbmRvdy5hcHAuRGlhbG9nTWFuYWdlciA9IGNsYXNzIERpYWxvZ01hbmFnZXIgZXh0ZW5kcyBhcHAuQWJzdHJhY3RNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoTG9nZ2VyKSB7XG4gICAgc3VwZXIoTG9nZ2VyKTtcblxuICAgIHRoaXMuYWxlcnRSZXF1ZXN0ZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLm5vdGlmaWNhdGlvblJlcXVlc3RlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuY29uZmlybVJlcXVlc3RlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuam9iU3RhcnRlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuam9iRW5kZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLm1vZGFsU3RhcnRlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMubW9kYWxFbmRlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuX2pvYnMgPSAwO1xuICAgIHRoaXMuX21vZGFscyA9IDA7XG4gIH1cblxuICBnZXQgam9icygpIHsgcmV0dXJuIHRoaXMuX2pvYnM7IH1cbiAgZ2V0IG1vZGFscygpIHsgcmV0dXJuIHRoaXMuX21vZGFsczsgfVxuXG4gIGFsZXJ0KG1lc3NhZ2UsIHRpdGxlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZWxmLmFsZXJ0UmVxdWVzdGVkLmRpc3BhdGNoKG1lc3NhZ2UsIHRpdGxlLCByZXNvbHZlLCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgbm90aWZpY2F0aW9uKG1lc3NhZ2UpIHtcbiAgICB0aGlzLm5vdGlmaWNhdGlvblJlcXVlc3RlZC5kaXNwYXRjaChtZXNzYWdlKTtcbiAgfVxuXG4gIGNvbmZpcm0obWVzc2FnZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2VsZi5jb25maXJtUmVxdWVzdGVkLmRpc3BhdGNoKG1lc3NhZ2UsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBzdGFydEpvYigpIHtcbiAgICB0aGlzLl9qb2JzKys7XG5cbiAgICBpZiAodGhpcy5fam9icyA9PT0gMSkge1xuICAgICAgdGhpcy5qb2JTdGFydGVkLmRpc3BhdGNoKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2pvYnM7XG4gIH1cblxuICBlbmRKb2IoaWQpIHtcbiAgICB0aGlzLl9qb2JzLS07XG5cbiAgICBpZiAodGhpcy5fam9icyA9PT0gMCkge1xuICAgICAgdGhpcy5qb2JFbmRlZC5kaXNwYXRjaCgpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXJ0TW9kYWwoKSB7XG4gICAgdGhpcy5fbW9kYWxzKys7XG5cbiAgICBpZiAodGhpcy5fbW9kYWxzID09PSAxKSB7XG4gICAgICB0aGlzLm1vZGFsU3RhcnRlZC5kaXNwYXRjaCgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9tb2RhbHM7XG4gIH1cblxuICBlbmRNb2RhbChpZCkge1xuICAgIHRoaXMuX21vZGFscy0tO1xuXG4gICAgaWYgKHRoaXMuX21vZGFscyA9PT0gMCkge1xuICAgICAgdGhpcy5tb2RhbEVuZGVkLmRpc3BhdGNoKCk7XG4gICAgfVxuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbWFuYWdlcnMvbG9jYXRpb25tYW5hZ2VyLmpzXG5cbndpbmRvdy5hcHAuTG9jYXRpb25NYW5hZ2VyID0gY2xhc3MgTG9jYXRpb25NYW5hZ2VyIGV4dGVuZHMgYXBwLkFic3RyYWN0TWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKERhdGFNb2RlbCwgRHRzQXBpLCBMb2NhdGlvbk1vZGVsLCBMb2dnZXIpIHtcbiAgICBzdXBlcihMb2dnZXIpO1xuXG4gICAgdGhpcy5fRGF0YU1vZGVsID0gRGF0YU1vZGVsO1xuICAgIHRoaXMuX0R0c0FwaSA9IER0c0FwaTtcbiAgICB0aGlzLl9Mb2NhdGlvbk1vZGVsID0gTG9jYXRpb25Nb2RlbDtcbiAgfVxuXG4gIGxvYWRDb25maWcoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBtb2RlbCA9IHNlbGYuX0xvY2F0aW9uTW9kZWw7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgZnVuY3Rpb24gbG9hZENvbmZpZygpIHtcbiAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdMb2FkaW5nIGxvY2F0aW9uIGNvbmZpZy4uLicpO1xuXG4gICAgICAgIG1vZGVsLmZldGNoKCdsb2NhdGlvbicpLnRoZW4obG9jYXRpb24gPT4ge1xuICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZyhgTmV3ICcke2xvY2F0aW9uLmxvY2F0aW9uX25hbWV9JyBsb2NhdGlvbiBjb25maWcgbG9hZGVkLmApO1xuICAgICAgICAgIHJlc29sdmUobG9jYXRpb24pO1xuICAgICAgICB9LCBlID0+IHtcbiAgICAgICAgICBpZiAoIW1vZGVsLmxvY2F0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZyhgRmFsbGJhY2sgdG8gc3RvcmVkIGxvY2F0aW9uICcke21vZGVsLmxvY2F0aW9uLmxvY2F0aW9uX25hbWV9Jy5gKTtcbiAgICAgICAgICByZXNvbHZlKG1vZGVsLmxvY2F0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIG1vZGVsLmluaXRpYWxpemUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdMb2FkaW5nIGRldmljZSBpbmZvLi4uJyk7XG5cbiAgICAgICAgbW9kZWwuZmV0Y2goJ2RldmljZScpLnRoZW4oZGV2aWNlID0+IHtcbiAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoYE5ldyBkZXZpY2UgbG9hZGVkOiB0b2tlbj0ke2RldmljZS50b2tlbn07bG9jYXRpb249JHtkZXZpY2UubG9jYXRpb25fdG9rZW59YCk7XG4gICAgICAgICAgbG9hZENvbmZpZygpO1xuICAgICAgICB9LCBlID0+IHtcbiAgICAgICAgICBpZiAoIW1vZGVsLmRldmljZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoYEZhbGxiYWNrIHRvIHN0b3JlZCBkZXZpY2U6IHRva2VuPSR7bW9kZWwuZGV2aWNlLnRva2VufTtsb2NhdGlvbj0ke21vZGVsLmRldmljZS5sb2NhdGlvbl90b2tlbn1gKTtcbiAgICAgICAgICBsb2FkQ29uZmlnKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGxvYWRTZWF0cygpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIG1vZGVsID0gc2VsZi5fTG9jYXRpb25Nb2RlbDtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBmdW5jdGlvbiBsb2FkU2VhdCgpIHtcbiAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdMb2FkaW5nIGN1cnJlbnQgc2VhdCBpbmZvLi4uJyk7XG5cbiAgICAgICAgbW9kZWwuZmV0Y2goJ3NlYXQnKS50aGVuKHNlYXQgPT4ge1xuICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZyhgTmV3IHNlYXQgZGF0YSBsb2FkZWQgZm9yICMke3NlYXQudG9rZW59LmApO1xuICAgICAgICAgIHJlc29sdmUoc2VhdCk7XG4gICAgICAgIH0sIGUgPT4ge1xuICAgICAgICAgIGlmICghbW9kZWwuc2VhdCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoYEZhbGxiYWNrIHRvIHN0b3JlZCBzZWF0ICMke21vZGVsLnNlYXQudG9rZW59LmApO1xuICAgICAgICAgIHJlc29sdmUobW9kZWwuc2VhdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBtb2RlbC5pbml0aWFsaXplKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnTG9hZGluZyBsb2NhdGlvbiBzZWF0cy4uLicpO1xuXG4gICAgICAgIG1vZGVsLmZldGNoKCdzZWF0cycpLnRoZW4oc2VhdHMgPT4ge1xuICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZyhgTG9jYXRpb24gc2VhdHMgbG9hZGVkICgke3NlYXRzLmxlbmd0aH0pLmApO1xuICAgICAgICAgIGxvYWRTZWF0KCk7XG4gICAgICAgIH0sIGUgPT4ge1xuICAgICAgICAgIGlmICghbW9kZWwuc2VhdHMpIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKGBGYWxsYmFjayB0byBzdG9yZWQgc2VhdHMgKCR7bW9kZWwuc2VhdHMubGVuZ3RofSkuYCk7XG4gICAgICAgICAgbG9hZFNlYXQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbWFuYWdlcnMvbmF2aWdhdGlvbm1hbmFnZXIuanNcblxud2luZG93LmFwcC5OYXZpZ2F0aW9uTWFuYWdlciA9IGNsYXNzIE5hdmlnYXRpb25NYW5hZ2VyIGV4dGVuZHMgYXBwLkFic3RyYWN0TWFuYWdlciB7XG4gIC8qIGdsb2JhbCBzaWduYWxzICovXG5cbiAgY29uc3RydWN0b3IoJHJvb3RTY29wZSwgJGxvY2F0aW9uLCAkd2luZG93LCBBbmFseXRpY3NNb2RlbCwgTG9nZ2VyKSB7XG4gICAgc3VwZXIoTG9nZ2VyKTtcblxuICAgIHRoaXMuJCRsb2NhdGlvbiA9ICRsb2NhdGlvbjtcbiAgICB0aGlzLiQkd2luZG93ID0gJHdpbmRvdztcbiAgICB0aGlzLl9BbmFseXRpY3NNb2RlbCA9IEFuYWx5dGljc01vZGVsO1xuXG4gICAgdGhpcy5sb2NhdGlvbkNoYW5naW5nID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5sb2NhdGlvbkNoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICRyb290U2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdWNjZXNzJywgKCkgPT4ge1xuICAgICAgdmFyIHBhdGggPSBzZWxmLiQkbG9jYXRpb24ucGF0aCgpO1xuXG4gICAgICBpZiAocGF0aCA9PT0gc2VsZi5fcGF0aCkge1xuICAgICAgICBzZWxmLmxvY2F0aW9uQ2hhbmdlZC5kaXNwYXRjaChzZWxmLl9sb2NhdGlvbik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fcGF0aCA9IHBhdGg7XG4gICAgICBzZWxmLl9sb2NhdGlvbiA9IHNlbGYuZ2V0TG9jYXRpb24ocGF0aCk7XG4gICAgICBzZWxmLmxvY2F0aW9uQ2hhbmdpbmcuZGlzcGF0Y2goc2VsZi5fbG9jYXRpb24pO1xuICAgICAgc2VsZi5sb2NhdGlvbkNoYW5nZWQuZGlzcGF0Y2goc2VsZi5fbG9jYXRpb24pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5sb2NhdGlvbkNoYW5nZWQuYWRkKGxvY2F0aW9uID0+IHNlbGYuX0FuYWx5dGljc01vZGVsLmxvZ05hdmlnYXRpb24obG9jYXRpb24pKTtcbiAgfVxuXG4gIGdldCBwYXRoKCkgeyByZXR1cm4gdGhpcy5fcGF0aDsgfVxuICBzZXQgcGF0aCh2YWx1ZSkge1xuICAgIHZhciBpID0gdmFsdWUuaW5kZXhPZignIycpLFxuICAgICAgICBwYXRoID0gaSAhPT0gLTEgPyB2YWx1ZS5zdWJzdHJpbmcoaSArIDEpIDogdmFsdWU7XG5cbiAgICB0aGlzLmxvY2F0aW9uID0gdGhpcy5nZXRMb2NhdGlvbihwYXRoKTtcbiAgfVxuXG4gIGdldCBsb2NhdGlvbigpIHsgcmV0dXJuIHRoaXMuX2xvY2F0aW9uOyB9XG4gIHNldCBsb2NhdGlvbih2YWx1ZSkge1xuICAgIHRoaXMuX2xvY2F0aW9uID0gdmFsdWU7XG5cbiAgICB0aGlzLmxvY2F0aW9uQ2hhbmdpbmcuZGlzcGF0Y2godGhpcy5fbG9jYXRpb24pO1xuXG4gICAgdmFyIHBhdGggPSB0aGlzLl9wYXRoID0gdGhpcy5nZXRQYXRoKHRoaXMuX2xvY2F0aW9uKTtcbiAgICB0aGlzLiQkbG9jYXRpb24ucGF0aChwYXRoKTtcbiAgfVxuXG4gIGdldFBhdGgobG9jYXRpb24pIHtcbiAgICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAobG9jYXRpb24udG9rZW4pIHtcbiAgICAgIHJldHVybiAnLycgKyBsb2NhdGlvbi50eXBlICsgJy8nICsgbG9jYXRpb24udG9rZW47XG4gICAgfVxuICAgIGVsc2UgaWYgKGxvY2F0aW9uLnVybCkge1xuICAgICAgcmV0dXJuICcvJyArIGxvY2F0aW9uLnR5cGUgKyAnLycgKyBlbmNvZGVVUklDb21wb25lbnQobG9jYXRpb24udXJsKTtcbiAgICB9XG5cbiAgICBpZiAobG9jYXRpb24udHlwZSA9PT0gJ2hvbWUnKSB7XG4gICAgICByZXR1cm4gJy8nO1xuICAgIH1cblxuICAgIHJldHVybiAnLycgKyBsb2NhdGlvbi50eXBlO1xuICB9XG5cbiAgZ2V0TG9jYXRpb24ocGF0aCkge1xuICAgIHZhciBtYXRjaCA9IC9cXC8oXFx3Kyk/KFxcLyguKykpPy8uZXhlYyhwYXRoKTtcblxuICAgIGlmIChtYXRjaCAmJiBtYXRjaC5sZW5ndGggPiAxKSB7XG4gICAgICB2YXIgdHlwZSA9IG1hdGNoWzFdO1xuICAgICAgdmFyIHBhcmFtID0gbWF0Y2hbM107XG5cbiAgICAgIGlmIChwYXJhbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN3aXRjaCh0eXBlKSB7XG4gICAgICAgICAgY2FzZSAndXJsJzpcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IHR5cGUsIHVybDogZGVjb2RlVVJJQ29tcG9uZW50KHBhcmFtKSB9O1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IHR5cGUsIHRva2VuOiBwYXJhbSB9O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghdHlwZSkge1xuICAgICAgICB0eXBlID0gJ2hvbWUnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyB0eXBlOiB0eXBlIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgZ29CYWNrKCkge1xuICAgIGlmICh0aGlzLmxvY2F0aW9uLnR5cGUgIT09ICdob21lJyAmJiB0aGlzLmxvY2F0aW9uLnR5cGUgIT09ICdzaWduaW4nKSB7XG4gICAgICB0aGlzLiQkd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuICAgIH1cbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21hbmFnZXJzL29yZGVybWFuYWdlci5qc1xuXG53aW5kb3cuYXBwLk9yZGVyTWFuYWdlciA9IGNsYXNzIE9yZGVyTWFuYWdlciBleHRlbmRzIGFwcC5BYnN0cmFjdE1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcihDaGF0TW9kZWwsIEN1c3RvbWVyTW9kZWwsIER0c0FwaSwgT3JkZXJNb2RlbCwgTG9nZ2VyKSB7XG4gICAgc3VwZXIoTG9nZ2VyKTtcblxuICAgIHRoaXMuX0R0c0FwaSA9IER0c0FwaTtcbiAgICB0aGlzLl9DaGF0TW9kZWwgPSBDaGF0TW9kZWw7XG4gICAgdGhpcy5fQ3VzdG9tZXJNb2RlbCA9IEN1c3RvbWVyTW9kZWw7XG4gICAgdGhpcy5fT3JkZXJNb2RlbCA9IE9yZGVyTW9kZWw7XG5cbiAgICB0aGlzLl9DaGF0TW9kZWwuZ2lmdFNlYXRDaGFuZ2VkLmFkZChnaWZ0U2VhdCA9PiB7XG4gICAgICBpZiAodGhpcy5tb2RlbC5vcmRlckNhcnRTdGFzaC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5tb2RlbC5vcmRlckNhcnRTdGFzaCA9IHRoaXMubW9kZWwub3JkZXJDYXJ0O1xuICAgICAgICB0aGlzLm1vZGVsLm9yZGVyQ2FydCA9IFtdO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWdpZnRTZWF0KSB7XG4gICAgICAgIHRoaXMubW9kZWwub3JkZXJDYXJ0ID0gdGhpcy5tb2RlbC5vcmRlckNhcnRTdGFzaDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGdldCBtb2RlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fT3JkZXJNb2RlbDtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHN1cGVyLnJlc2V0KCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMubW9kZWwuY2xlYXJXYXRjaGVyKHNlbGYubW9kZWwuUkVRVUVTVF9LSU5EX09SREVSKTtcbiAgICAgIHRoaXMubW9kZWwuY2xlYXJXYXRjaGVyKHNlbGYubW9kZWwuUkVRVUVTVF9LSU5EX0FTU0lTVEFOQ0UpO1xuICAgICAgdGhpcy5tb2RlbC5jbGVhcldhdGNoZXIoc2VsZi5tb2RlbC5SRVFVRVNUX0tJTkRfQ0xPU0VPVVQpO1xuXG4gICAgICB0aGlzLmNsZWFyQ2FydCgpO1xuICAgICAgdGhpcy5jbGVhckNoZWNrKCk7XG4gICAgICB0aGlzLm1vZGVsLm9yZGVyVGlja2V0ID0ge307XG5cbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgQ2FydCBhbmQgY2hlY2tzXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBhZGRUb0NhcnQoaXRlbSkge1xuICAgIHRoaXMubW9kZWwub3JkZXJDYXJ0LnB1c2goaXRlbSk7XG4gICAgdGhpcy5tb2RlbC5vcmRlckNhcnRDaGFuZ2VkLmRpc3BhdGNoKHRoaXMubW9kZWwub3JkZXJDYXJ0KTtcblxuICAgIGlmICh0aGlzLl9DaGF0TW9kZWwuZ2lmdFNlYXQpIHtcbiAgICAgIHRoaXMuX0NoYXRNb2RlbC5naWZ0UmVhZHkuZGlzcGF0Y2goKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5tb2RlbC5vcmRlckNhcnQ7XG4gIH1cblxuICByZW1vdmVGcm9tQ2FydChpdGVtKSB7XG4gICAgdGhpcy5tb2RlbC5vcmRlckNhcnQgPSB0aGlzLm1vZGVsLm9yZGVyQ2FydC5maWx0ZXIoZW50cnkgPT4gZW50cnkgIT09IGl0ZW0pO1xuICAgIHJldHVybiB0aGlzLm1vZGVsLm9yZGVyQ2FydDtcbiAgfVxuXG4gIGNsZWFyQ2FydCgpIHtcbiAgICB0aGlzLm1vZGVsLm9yZGVyQ2FydCA9IFtdO1xuICAgIHRoaXMubW9kZWwub3JkZXJDYXJ0U3Rhc2ggPSBbXTtcblxuICAgIHRoaXMuX0NoYXRNb2RlbC5naWZ0U2VhdCA9IG51bGw7XG4gIH1cblxuICBjbGVhckNoZWNrKGl0ZW1zKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgaWYgKGl0ZW1zKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubW9kZWwub3JkZXJDaGVjay5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGl0ZW1zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgaWYgKHRoaXMubW9kZWwub3JkZXJDaGVja1tpXSA9PT0gaXRlbXNbal0pIHtcbiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLm1vZGVsLm9yZGVyQ2hlY2tbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5tb2RlbC5vcmRlckNoZWNrID0gcmVzdWx0O1xuICB9XG5cbiAgc3VibWl0Q2FydChvcHRpb25zKSB7XG4gICAgaWYgKHRoaXMubW9kZWwub3JkZXJDYXJ0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IDA7XG5cbiAgICBpZiAodGhpcy5fQ2hhdE1vZGVsLmdpZnRTZWF0KSB7XG4gICAgICBvcHRpb25zIHw9IDQ7XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHJlcXVlc3QgPSB7XG4gICAgICBraW5kOiB0aGlzLm1vZGVsLlJFUVVFU1RfS0lORF9PUkRFUixcbiAgICAgIGl0ZW1zOiB0aGlzLm1vZGVsLm9yZGVyQ2FydC5tYXAoZW50cnkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRva2VuOiBlbnRyeS5pdGVtLm9yZGVyLnRva2VuLFxuICAgICAgICAgIHF1YW50aXR5OiBlbnRyeS5xdWFudGl0eSxcbiAgICAgICAgICBtb2RpZmllcnM6IGVudHJ5Lm1vZGlmaWVycy5yZWR1Y2UoKHJlc3VsdCwgY2F0ZWdvcnkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuY29uY2F0KGNhdGVnb3J5Lm1vZGlmaWVycy5yZWR1Y2UoKHJlc3VsdCwgbW9kaWZpZXIpID0+IHtcbiAgICAgICAgICAgICAgaWYgKG1vZGlmaWVyLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChtb2RpZmllci5kYXRhLnRva2VuKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfSwgW10pKTtcbiAgICAgICAgICB9LCBbXSksXG4gICAgICAgICAgbm90ZTogZW50cnkubmFtZSB8fCAnJ1xuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICB0aWNrZXRfdG9rZW46IHNlbGYubW9kZWwub3JkZXJUaWNrZXQudG9rZW4sXG4gICAgICBzZWF0X3Rva2VuOiBzZWxmLl9DaGF0TW9kZWwuZ2lmdFNlYXQsXG4gICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgfTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZWxmLl9EdHNBcGkud2FpdGVyLnBsYWNlT3JkZXIocmVxdWVzdCkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZS5pdGVtX3Rva2Vucykge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuaXRlbV90b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNlbGYubW9kZWwub3JkZXJDYXJ0W2ldLnJlcXVlc3QgPSByZXNwb25zZS5pdGVtX3Rva2Vuc1tpXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLm1vZGVsLm9yZGVyVGlja2V0ID0geyB0b2tlbjogcmVzcG9uc2UudGlja2V0X3Rva2VuIH07XG5cbiAgICAgICAgc2VsZi5tb2RlbC5vcmRlckNoZWNrID0gc2VsZi5tb2RlbC5vcmRlckNoZWNrLmNvbmNhdChzZWxmLm1vZGVsLm9yZGVyQ2FydCk7XG4gICAgICAgIHNlbGYuY2xlYXJDYXJ0KCk7XG5cbiAgICAgICAgc2VsZi5fQ2hhdE1vZGVsLmdpZnRTZWF0ID0gbnVsbDtcblxuICAgICAgICBsZXQgd2F0Y2hlciA9IHNlbGYuX2NyZWF0ZVdhdGNoZXIoc2VsZi5tb2RlbC5SRVFVRVNUX0tJTkRfT1JERVIsIHJlc3BvbnNlKTtcbiAgICAgICAgcmVzb2x2ZSh3YXRjaGVyKTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICByZXF1ZXN0Q2xvc2VvdXQoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciByZXF1ZXN0ID0ge1xuICAgICAga2luZDogdGhpcy5tb2RlbC5SRVFVRVNUX0tJTkRfQ0xPU0VPVVQsXG4gICAgICB0aWNrZXRfdG9rZW46IHRoaXMubW9kZWwub3JkZXJUaWNrZXQudG9rZW4sXG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLl9EdHNBcGkud2FpdGVyLnBsYWNlUmVxdWVzdChyZXF1ZXN0KS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgIHNlbGYubW9kZWwub3JkZXJUaWNrZXQgPSB7IHRva2VuOiByZXNwb25zZS50aWNrZXRfdG9rZW4gfTtcbiAgICAgIHJldHVybiBzZWxmLl9jcmVhdGVXYXRjaGVyKHNlbGYubW9kZWwuUkVRVUVTVF9LSU5EX0NMT1NFT1VULCByZXNwb25zZSk7XG4gICAgfSk7XG4gIH1cblxuICByZXF1ZXN0QXNzaXN0YW5jZSgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHJlcXVlc3QgPSB7XG4gICAgICBraW5kOiB0aGlzLm1vZGVsLlJFUVVFU1RfS0lORF9BU1NJU1RBTkNFLFxuICAgICAgdGlja2V0X3Rva2VuOiB0aGlzLm1vZGVsLm9yZGVyVGlja2V0LnRva2VuLFxuICAgIH07XG5cbiAgICByZXR1cm4gdGhpcy5fRHRzQXBpLndhaXRlci5wbGFjZVJlcXVlc3QocmVxdWVzdCkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICBzZWxmLl9zYXZlVGlja2V0KHJlc3BvbnNlKTtcbiAgICAgIHJldHVybiBzZWxmLl9jcmVhdGVXYXRjaGVyKHNlbGYubW9kZWwuUkVRVUVTVF9LSU5EX0FTU0lTVEFOQ0UsIHJlc3BvbnNlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNhbGN1bGF0ZVByaWNlKGVudHJ5KSB7XG4gICAgdmFyIG1vZGlmaWVycyA9IGVudHJ5Lm1vZGlmaWVycy5yZWR1Y2UoKHRvdGFsLCBjYXRlZ29yeSkgPT4ge1xuICAgICAgcmV0dXJuIHRvdGFsICsgY2F0ZWdvcnkubW9kaWZpZXJzLnJlZHVjZSgodG90YWwsIG1vZGlmaWVyKSA9PiB7XG4gICAgICAgIHJldHVybiB0b3RhbCArIChtb2RpZmllci5pc1NlbGVjdGVkICYmIG1vZGlmaWVyLmRhdGEucHJpY2UgPiAwID9cbiAgICAgICAgICBtb2RpZmllci5kYXRhLnByaWNlIDpcbiAgICAgICAgICAwXG4gICAgICAgICk7XG4gICAgICB9LCAwKTtcbiAgICB9LCAwKTtcblxuICAgIHJldHVybiBlbnRyeS5xdWFudGl0eSAqIChtb2RpZmllcnMgKyBlbnRyeS5pdGVtLm9yZGVyLnByaWNlKTtcbiAgfVxuXG4gIGNhbGN1bGF0ZVRvdGFsUHJpY2UoZW50cmllcykge1xuICAgIHJldHVybiAoZW50cmllcyA/IGVudHJpZXMucmVkdWNlKCh0b3RhbCwgZW50cnkpID0+IHtcbiAgICAgIHJldHVybiB0b3RhbCArIE9yZGVyTWFuYWdlci5wcm90b3R5cGUuY2FsY3VsYXRlUHJpY2UoZW50cnkpO1xuICAgIH0sIDApIDogMCk7XG4gIH1cblxuICBjYWxjdWxhdGVUYXgoZW50cmllcykge1xuICAgIHJldHVybiB0aGlzLmNhbGN1bGF0ZVRvdGFsUHJpY2UoZW50cmllcykgKiB0aGlzLm1vZGVsLnRheDtcbiAgfVxuXG4gIHVwbG9hZFNpZ25hdHVyZShkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMuX0R0c0FwaS51cGxvYWQudXBsb2FkVGVtcChkYXRhLCAnaW1hZ2UvcG5nJywgJ3NpZ25hdHVyZS5wbmcnKVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudG9rZW4pO1xuICB9XG5cbiAgZ2VuZXJhdGVQYXltZW50VG9rZW4oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMuX0N1c3RvbWVyTW9kZWwuaXNBdXRoZW50aWNhdGVkICYmICF0aGlzLl9DdXN0b21lck1vZGVsLmlzR3Vlc3QpIHtcbiAgICAgIHJldHVybiB0aGlzLl9EdHNBcGkuY3VzdG9tZXIuaW5pdGlhbGl6ZVBheW1lbnQoKS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgc2VsZi5fc2F2ZVBheW1lbnRUb2tlbihyZXNwb25zZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fRHRzQXBpLndhaXRlci5pbml0aWFsaXplUGF5bWVudCgpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgc2VsZi5fc2F2ZVBheW1lbnRUb2tlbihyZXNwb25zZSk7XG4gICAgfSk7XG4gIH1cblxuICBwYXlPcmRlcihyZXF1ZXN0KSB7XG4gICAgcmVxdWVzdC50aWNrZXRfdG9rZW4gPSB0aGlzLm1vZGVsLm9yZGVyVGlja2V0LnRva2VuO1xuICAgIHJlcXVlc3QucGF5bWVudF90b2tlbiA9IHRoaXMubW9kZWwub3JkZXJUaWNrZXQucGF5bWVudF90b2tlbjtcbiAgICByZXR1cm4gdGhpcy5fRHRzQXBpLndhaXRlci5zdWJtaXRDaGVja291dFBheW1lbnQocmVxdWVzdCk7XG4gIH1cblxuICByZXF1ZXN0UmVjZWlwdChyZXF1ZXN0KSB7XG4gICAgcmVxdWVzdC50aWNrZXRfdG9rZW4gPSB0aGlzLm1vZGVsLm9yZGVyVGlja2V0LnRva2VuO1xuICAgIHJldHVybiB0aGlzLl9EdHNBcGkud2FpdGVyLnJlcXVlc3RSZWNlaXB0KHJlcXVlc3QpO1xuICB9XG5cbiAgX3NhdmVUaWNrZXQocmVzcG9uc2UpIHtcbiAgICB0aGlzLm1vZGVsLm9yZGVyVGlja2V0ID0ge1xuICAgICAgdG9rZW46IHJlc3BvbnNlLnRpY2tldF90b2tlbixcbiAgICAgIHBheW1lbnRfdG9rZW46IHRoaXMubW9kZWwub3JkZXJUaWNrZXQucGF5bWVudF90b2tlblxuICAgIH07XG4gIH1cblxuICBfc2F2ZVBheW1lbnRUb2tlbihyZXNwb25zZSkge1xuICAgIHRoaXMubW9kZWwub3JkZXJUaWNrZXQgPSB7XG4gICAgICB0b2tlbjogdGhpcy5tb2RlbC5vcmRlclRpY2tldC50b2tlbixcbiAgICAgIHBheW1lbnRfdG9rZW46IHJlc3BvbnNlLnRva2VuXG4gICAgfTtcbiAgfVxuXG4gIF9jcmVhdGVXYXRjaGVyKGtpbmQsIHRpY2tldCkge1xuICAgIGxldCB3YXRjaGVyID0gbmV3IGFwcC5SZXF1ZXN0V2F0Y2hlcih0aWNrZXQsIHRoaXMuX0R0c0FwaSk7XG4gICAgdGhpcy5tb2RlbC5hZGRXYXRjaGVyKGtpbmQsIHdhdGNoZXIpO1xuXG4gICAgcmV0dXJuIHdhdGNoZXI7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9zZXNzaW9ubWFuYWdlci5qc1xuXG53aW5kb3cuYXBwLlNlc3Npb25NYW5hZ2VyID0gY2xhc3MgU2Vzc2lvbk1hbmFnZXIgZXh0ZW5kcyBhcHAuQWJzdHJhY3RNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoU05BUEVudmlyb25tZW50LCBBbmFseXRpY3NNb2RlbCwgQ3VzdG9tZXJNb2RlbCwgTG9jYXRpb25Nb2RlbCwgT3JkZXJNb2RlbCwgU3VydmV5TW9kZWwsIHN0b3JhZ2VQcm92aWRlciwgTG9nZ2VyKSB7XG4gICAgc3VwZXIoTG9nZ2VyKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuc2Vzc2lvblN0YXJ0ZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLnNlc3Npb25FbmRlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgdGhpcy5fU05BUEVudmlyb25tZW50ID0gU05BUEVudmlyb25tZW50O1xuICAgIHRoaXMuX0FuYWx5dGljc01vZGVsID0gQW5hbHl0aWNzTW9kZWw7XG4gICAgdGhpcy5fQ3VzdG9tZXJNb2RlbCA9IEN1c3RvbWVyTW9kZWw7XG4gICAgdGhpcy5fTG9jYXRpb25Nb2RlbCA9IExvY2F0aW9uTW9kZWw7XG4gICAgdGhpcy5fT3JkZXJNb2RlbCA9IE9yZGVyTW9kZWw7XG4gICAgdGhpcy5fU3VydmV5TW9kZWwgPSBTdXJ2ZXlNb2RlbDtcblxuICAgIHRoaXMuX3N0b3JlID0gc3RvcmFnZVByb3ZpZGVyKCdzbmFwX3NlYXRfc2Vzc2lvbicpO1xuXG4gICAgdGhpcy5fQ3VzdG9tZXJNb2RlbC5wcm9maWxlQ2hhbmdlZC5hZGQoY3VzdG9tZXIgPT4ge1xuICAgICAgaWYgKCFzZWxmLl9zZXNzaW9uIHx8ICFjdXN0b21lcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNlbGYuX3Nlc3Npb24uY3VzdG9tZXIgPSBjdXN0b21lci50b2tlbjtcbiAgICAgIHNlbGYuX3N0b3JlLndyaXRlKHRoaXMuX3Nlc3Npb24pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fTG9jYXRpb25Nb2RlbC5zZWF0Q2hhbmdlZC5hZGQoc2VhdCA9PiB7XG4gICAgICBpZiAoIXNlbGYuX3Nlc3Npb24gfHwgIXNlYXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9zZXNzaW9uLnNlYXQgPSBzZWF0LnRva2VuO1xuICAgICAgc2VsZi5fc3RvcmUud3JpdGUodGhpcy5fc2Vzc2lvbik7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9PcmRlck1vZGVsLm9yZGVyVGlja2V0Q2hhbmdlZC5hZGQodGlja2V0ID0+IHtcbiAgICAgIGlmICghc2VsZi5fc2Vzc2lvbiB8fCAhdGlja2V0IHx8ICF0aWNrZXQudG9rZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9zZXNzaW9uLnRpY2tldCA9IHRpY2tldC50b2tlbjtcbiAgICAgIHNlbGYuX3N0b3JlLndyaXRlKHRoaXMuX3Nlc3Npb24pO1xuICAgIH0pO1xuICB9XG5cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICBzdXBlci5pbml0aWFsaXplKCk7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNlbGYuX3N0b3JlLnJlYWQoKS50aGVuKGRhdGEgPT4ge1xuICAgICAgICBzZWxmLl9zZXNzaW9uID0gZGF0YTtcblxuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICBzZWxmLl9zdGFydFNlc3Npb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICBzdXBlci5yZXNldCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX3N0b3JlLmNsZWFyKCk7XG4gIH1cblxuICBnZXQgc2Vzc2lvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fc2Vzc2lvbjtcbiAgfVxuXG4gIGVuZFNlc3Npb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZWxmLl9zdG9yZS5yZWFkKCkudGhlbihzID0+IHtcbiAgICAgICAgc2VsZi5fc2Vzc2lvbiA9IG51bGw7XG5cbiAgICAgICAgaWYgKHMpIHtcbiAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoYFNlYXQgc2Vzc2lvbiAke3MuaWR9IGVuZGVkLmApO1xuXG4gICAgICAgICAgcy5lbmRlZCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgc2VsZi5fQW5hbHl0aWNzTW9kZWwubG9nU2Vzc2lvbihzKTtcbiAgICAgICAgICBzZWxmLnNlc3Npb25FbmRlZC5kaXNwYXRjaChzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuX3N0b3JlLmNsZWFyKCkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBndWVzdENvdW50KCkge1xuICAgIHJldHVybiB0aGlzLl9zZXNzaW9uLmd1ZXN0X2NvdW50IHx8IDE7XG4gIH1cblxuICBzZXQgZ3Vlc3RDb3VudCh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9zZXNzaW9uLmd1ZXN0X2NvdW50ID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3Nlc3Npb24uZ3Vlc3RfY291bnQgPSB2YWx1ZTtcbiAgICB0aGlzLl9zdG9yZS53cml0ZSh0aGlzLl9zZXNzaW9uKTtcbiAgfVxuXG4gIGdldCBzcGVjaWFsRXZlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Nlc3Npb24uc3BlY2lhbF9ldmVudDtcbiAgfVxuXG4gIHNldCBzcGVjaWFsRXZlbnQodmFsdWUpIHtcbiAgICBpZiAodGhpcy5fc2Vzc2lvbi5zcGVjaWFsX2V2ZW50ID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3Nlc3Npb24uc3BlY2lhbF9ldmVudCA9IHZhbHVlO1xuICAgIHRoaXMuX3N0b3JlLndyaXRlKHRoaXMuX3Nlc3Npb24pO1xuICB9XG5cbiAgX3N0YXJ0U2Vzc2lvbigpIHtcbiAgICBsZXQgc2VhdCA9IHRoaXMuX0xvY2F0aW9uTW9kZWwuc2VhdDtcblxuICAgIHRoaXMuX3Nlc3Npb24gPSB7XG4gICAgICBpZDogdGhpcy5fZ2VuZXJhdGVJRCgpLFxuICAgICAgc2VhdDogc2VhdCA/IHNlYXQudG9rZW4gOiB1bmRlZmluZWQsXG4gICAgICBwbGF0Zm9ybTogdGhpcy5fU05BUEVudmlyb25tZW50LnBsYXRmb3JtLFxuICAgICAgc3RhcnRlZDogbmV3IERhdGUoKVxuICAgIH07XG5cbiAgICB0aGlzLl9Mb2dnZXIuZGVidWcoYFNlYXQgc2Vzc2lvbiAke3RoaXMuX3Nlc3Npb24uaWR9IHN0YXJ0ZWQuYCk7XG5cbiAgICB0aGlzLl9zdG9yZS53cml0ZSh0aGlzLl9zZXNzaW9uKTtcbiAgICB0aGlzLnNlc3Npb25TdGFydGVkLmRpc3BhdGNoKHRoaXMuX3Nlc3Npb24pO1xuICB9XG5cbiAgX2dlbmVyYXRlSUQoKXtcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbihjKSB7XG4gICAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkqMTZ8MCwgdiA9IGMgPT09ICd4JyA/IHIgOiAociYweDN8MHg4KTtcbiAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICB9KTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21hbmFnZXJzL3NoZWxsbWFuYWdlci5qc1xuXG53aW5kb3cuYXBwLlNoZWxsTWFuYWdlciA9IGNsYXNzIFNoZWxsTWFuYWdlciBleHRlbmRzIGFwcC5BYnN0cmFjdE1hbmFnZXIge1xuICBjb25zdHJ1Y3Rvcigkc2NlLCBEYXRhTW9kZWwsIFNoZWxsTW9kZWwsIENvbmZpZywgRW52aXJvbm1lbnQsIEhvc3RzLCBMb2dnZXIpIHtcbiAgICBzdXBlcihMb2dnZXIpO1xuXG4gICAgdGhpcy4kJHNjZSA9ICRzY2U7XG4gICAgdGhpcy5fRGF0YU1vZGVsID0gRGF0YU1vZGVsO1xuICAgIHRoaXMuX1NoZWxsTW9kZWwgPSBTaGVsbE1vZGVsO1xuICAgIHRoaXMuX0NvbmZpZyA9IENvbmZpZztcbiAgICB0aGlzLl9FbnZpcm9ubWVudCA9IEVudmlyb25tZW50O1xuICAgIHRoaXMuX0hvc3RzID0gSG9zdHM7XG5cbiAgICB0aGlzLmxvY2FsZSA9IENvbmZpZy5sb2NhbGU7XG4gIH1cblxuICBnZXQgbG9jYWxlKCkge1xuICAgIHJldHVybiB0aGlzLl9sb2NhbGU7XG4gIH1cblxuICBzZXQgbG9jYWxlKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX2xvY2FsZSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fbG9jYWxlID0gdmFsdWU7XG5cbiAgICB2YXIgZm9ybWF0ID0gJ3swfScsXG4gICAgICAgIGN1cnJlbmN5ID0gJyc7XG5cbiAgICBzd2l0Y2ggKHRoaXMuX2xvY2FsZSkge1xuICAgICAgY2FzZSAncm9fTUQnOlxuICAgICAgICBmb3JtYXQgPSAnezB9IExlaSc7XG4gICAgICAgIGN1cnJlbmN5ID0gJyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnemhfTU8nOlxuICAgICAgICBmb3JtYXQgPSAnTU9QJCB7MH0nO1xuICAgICAgICBjdXJyZW5jeSA9ICcnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2VuX1VTJzpcbiAgICAgICAgZm9ybWF0ID0gJyR7MH0nO1xuICAgICAgICBjdXJyZW5jeSA9ICdVU0QnO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICB0aGlzLl9TaGVsbE1vZGVsLnByaWNlRm9ybWF0ID0gZm9ybWF0O1xuICAgIHRoaXMuX1NoZWxsTW9kZWwuY3VycmVuY3kgPSBjdXJyZW5jeTtcbiAgfVxuXG4gIGdldCBtb2RlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fU2hlbGxNb2RlbDtcbiAgfVxuXG4gIGluaXRpYWxpemUoKSB7XG4gICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHRhc2tCYWNrZ3JvdW5kcyA9IHRoaXMuX0RhdGFNb2RlbC5iYWNrZ3JvdW5kcygpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgIHNlbGYuX1NoZWxsTW9kZWwuYmFja2dyb3VuZHMgPSByZXNwb25zZS5tYWluLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtZWRpYTogaXRlbS5zcmNcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICBzZWxmLl9TaGVsbE1vZGVsLnNjcmVlbnNhdmVycyA9IHJlc3BvbnNlLnNjcmVlbnNhdmVyLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtZWRpYTogaXRlbS5zcmNcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICBzZWxmLl9TaGVsbE1vZGVsLnBhZ2VCYWNrZ3JvdW5kcyA9IHJlc3BvbnNlLnBhZ2VzLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtZWRpYTogaXRlbS5iYWNrZ3JvdW5kLnNyYyxcbiAgICAgICAgICBkZXN0aW5hdGlvbjogaXRlbS5kZXN0aW5hdGlvblxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB2YXIgdGFza0VsZW1lbnRzID0gdGhpcy5fRGF0YU1vZGVsLmVsZW1lbnRzKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgdmFyIGxheW91dCA9IHNlbGYuX0NvbmZpZy50aGVtZS5sYXlvdXQ7XG5cbiAgICAgIHZhciBlbGVtZW50cyA9IHt9O1xuXG4gICAgICBzd2l0Y2ggKGxheW91dCkge1xuICAgICAgICBjYXNlICdjbGFzc2ljJzpcbiAgICAgICAgICBlbGVtZW50cyA9IHtcbiAgICAgICAgICAgICdidXR0b25faG9tZSc6IHNlbGYuZ2V0QXNzZXRVcmwoJ2ltYWdlcy9idXR0b24taG9tZS5wbmcnKSxcbiAgICAgICAgICAgICdidXR0b25fYmFjayc6IHNlbGYuZ2V0QXNzZXRVcmwoJ2ltYWdlcy9idXR0b24tYmFjay5wbmcnKSxcbiAgICAgICAgICAgICdidXR0b25fY2FydCc6IHNlbGYuZ2V0QXNzZXRVcmwoJ2ltYWdlcy9idXR0b24tY2FydC5wbmcnKSxcbiAgICAgICAgICAgICdidXR0b25fcm90YXRlJzogc2VsZi5nZXRBc3NldFVybCgnaW1hZ2VzL2J1dHRvbi1yb3RhdGUucG5nJyksXG4gICAgICAgICAgICAnYnV0dG9uX3dhaXRlcic6IHNlbGYuZ2V0QXNzZXRVcmwoJ2ltYWdlcy9idXR0b24tYXNzaXN0YW5jZS5wbmcnKSxcbiAgICAgICAgICAgICdidXR0b25fY2hlY2snOiBzZWxmLmdldEFzc2V0VXJsKCdpbWFnZXMvYnV0dG9uLWNsb3Nlb3V0LnBuZycpLFxuICAgICAgICAgICAgJ2J1dHRvbl9zdXJ2ZXknOiBzZWxmLmdldEFzc2V0VXJsKCdpbWFnZXMvYnV0dG9uLXN1cnZleS5wbmcnKSxcbiAgICAgICAgICAgICdidXR0b25fY2hhdCc6IHNlbGYuZ2V0QXNzZXRVcmwoJ2ltYWdlcy9idXR0b24tY2hhdC5wbmcnKVxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2dhbGF4aWVzJzpcbiAgICAgICAgICBlbGVtZW50cyA9IHtcbiAgICAgICAgICAgICdidXR0b25fYmFjayc6IHNlbGYuZ2V0QXNzZXRVcmwoJ2ltYWdlcy9idXR0b24tYmFjay5wbmcnKSxcbiAgICAgICAgICAgICdidXR0b25fcm90YXRlJzogc2VsZi5nZXRBc3NldFVybCgnaW1hZ2VzL2J1dHRvbi1yb3RhdGUucG5nJyksXG4gICAgICAgICAgICAnYnV0dG9uX3NldHRpbmdzJzogc2VsZi5nZXRBc3NldFVybCgnaW1hZ2VzL2J1dHRvbi1zZXR0aW5ncy5wbmcnKSxcbiAgICAgICAgICAgICdsb2NhdGlvbl9sb2dvJzogc2VsZi5nZXRBc3NldFVybCgnaW1hZ2VzL2J1dHRvbi1sb2dvLnBuZycpLFxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSByZXNwb25zZS5lbGVtZW50c1tpXTtcbiAgICAgICAgZWxlbWVudHNbZWxlbWVudC5zbG90XSA9IGVsZW1lbnQuc3JjO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9TaGVsbE1vZGVsLmVsZW1lbnRzID0gZWxlbWVudHM7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgdGFza0JhY2tncm91bmRzLFxuICAgICAgdGFza0VsZW1lbnRzXG4gICAgXSk7XG4gIH1cblxuICBmb3JtYXRQcmljZShwcmljZSkge1xuICAgIHJldHVybiB0aGlzLl9TaGVsbE1vZGVsLnByaWNlRm9ybWF0LnJlcGxhY2UoL3soXFxkKyl9L2csICgpID0+IHByaWNlLnRvRml4ZWQoMikpO1xuICB9XG5cbiAgZ2V0UGFnZUJhY2tncm91bmRzKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuX1NoZWxsTW9kZWwucGFnZUJhY2tncm91bmRzLmZpbHRlcihpdGVtID0+IHtcbiAgICAgIHJldHVybiBpdGVtLmRlc3RpbmF0aW9uLnR5cGUgPT09IGxvY2F0aW9uLnR5cGUgJiZcbiAgICAgICAgKGl0ZW0uZGVzdGluYXRpb24udG9rZW4gPT09IGxvY2F0aW9uLnRva2VuICYmIGxvY2F0aW9uLnRva2VuIHx8XG4gICAgICAgICBpdGVtLmRlc3RpbmF0aW9uLnVybCA9PT0gbG9jYXRpb24udXJsICYmIGxvY2F0aW9uLnVybCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRBcHBVcmwodXJsKSB7XG4gICAgdmFyIGhvc3QgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lICtcbiAgICAgICh3aW5kb3cubG9jYXRpb24ucG9ydCA/ICc6JyArIHdpbmRvdy5sb2NhdGlvbi5wb3J0OiAnJyk7XG4gICAgcmV0dXJuIGhvc3QgKyB1cmw7XG4gIH1cblxuICBnZXRBc3NldFVybChmaWxlKSB7XG4gICAgdmFyIHBhdGggPSB0aGlzLl9nZXRQYXRoKHRoaXMuX0hvc3RzLnN0YXRpYyk7XG5cbiAgICByZXR1cm4gdGhpcy4kJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwoYCR7cGF0aH1hc3NldHMvJHt0aGlzLl9Db25maWcudGhlbWUubGF5b3V0fS8ke2ZpbGV9YCk7XG4gIH1cblxuICBnZXRQYXJ0aWFsVXJsKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBc3NldFVybChgcGFydGlhbHMvJHtuYW1lfS5odG1sYCk7XG4gIH1cblxuICBnZXRNZWRpYVVybChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKSB7XG4gICAgaWYgKCFtZWRpYSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHBhdGggPSB0aGlzLl9nZXRQYXRoKHRoaXMuX0hvc3RzLm1lZGlhKTtcblxuICAgIGlmICh0eXBlb2YgbWVkaWEgPT09ICdzdHJpbmcnIHx8IG1lZGlhIGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICBpZiAobWVkaWEuc3Vic3RyaW5nKDAsIDQpICE9PSAnaHR0cCcgJiYgbWVkaWEuc3Vic3RyaW5nKDAsIDIpICE9PSAnLy8nKSB7XG4gICAgICAgIGV4dGVuc2lvbiA9IGV4dGVuc2lvbiB8fCAnanBnJztcbiAgICAgICAgcmV0dXJuIHRoaXMuJCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKGAke3BhdGh9bWVkaWEvJHttZWRpYX1fJHt3aWR0aH1fJHtoZWlnaHR9LiR7ZXh0ZW5zaW9ufWApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWVkaWE7XG4gICAgfVxuXG4gICAgaWYgKCFtZWRpYS50b2tlbikge1xuICAgICAgcmV0dXJuIG1lZGlhO1xuICAgIH1cblxuICAgIHZhciB0eXBlID0gdGhpcy5nZXRNZWRpYVR5cGUobWVkaWEpO1xuICAgIHZhciB1cmwgPSBgJHtwYXRofW1lZGlhLyR7bWVkaWEudG9rZW59YDtcblxuICAgIGlmICghdHlwZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICd2aWRlbycpIHtcbiAgICAgIHVybCArPSAnLndlYm0nO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSAnZmxhc2gnKSB7XG4gICAgICB1cmwgKz0gJy5zd2YnO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSAnaW1hZ2UnKSB7XG4gICAgICBpZiAod2lkdGggJiYgaGVpZ2h0KSB7XG4gICAgICAgIHVybCArPSAnXycgKyB3aWR0aCArICdfJyArIGhlaWdodDtcbiAgICAgIH1cblxuICAgICAgaWYgKGV4dGVuc2lvbikge1xuICAgICAgICB1cmwgKz0gJy4nICsgZXh0ZW5zaW9uO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmICghbWVkaWEgfHwgIW1lZGlhLm1pbWVfdHlwZSkge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChtZWRpYS5taW1lX3R5cGUpIHtcbiAgICAgICAgICBjYXNlICdpbWFnZS9wbmcnOlxuICAgICAgICAgICAgdXJsICs9ICcucG5nJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB1cmwgKz0gJy5qcGcnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy4kJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwodXJsKTtcbiAgfVxuXG4gIGdldE1lZGlhVHlwZShtZWRpYSkge1xuICAgIGlmICghbWVkaWEgfHwgIW1lZGlhLm1pbWVfdHlwZSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAobWVkaWEubWltZV90eXBlLnN1YnN0cmluZygwLCA1KSA9PT0gJ2ltYWdlJyl7XG4gICAgICByZXR1cm4gJ2ltYWdlJztcbiAgICB9XG4gICAgZWxzZSBpZiAobWVkaWEubWltZV90eXBlLnN1YnN0cmluZygwLCA1KSA9PT0gJ3ZpZGVvJykge1xuICAgICAgcmV0dXJuICd2aWRlbyc7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1lZGlhLm1pbWVfdHlwZSA9PT0gJ2FwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoJykge1xuICAgICAgcmV0dXJuICdmbGFzaCc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGdldCB0aWxlU3R5bGUoKSB7XG4gICAgdmFyIHN0eWxlID0gJ3RpbGUnO1xuXG4gICAgc3dpdGNoICh0aGlzLl9Db25maWcudGhlbWUudGlsZXNfc3R5bGUpIHtcbiAgICAgIGNhc2UgJ3JlZ3VsYXInOlxuICAgICAgICBzdHlsZSArPSAnIHRpbGUtcmVndWxhcic7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvL3N0eWxlICs9ICcgdGlsZS1yZWd1bGFyJztcbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cblxuICBnZXQgcHJlZGljYXRlRXZlbigpIHtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHJldHVybiAoKSA9PiBpbmRleCsrICUgMiA9PT0gMTtcbiAgfVxuXG4gIGdldCBwcmVkaWNhdGVPZGQoKSB7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICByZXR1cm4gKCkgPT4gaW5kZXgrKyAlIDIgPT09IDA7XG4gIH1cblxuICBfZ2V0UGF0aChyZXMpIHtcbiAgICB2YXIgcGF0aCA9ICcnO1xuXG4gICAgaWYgKHJlcy5wcm90b2NvbCkge1xuICAgICAgcGF0aCArPSBgJHtyZXMucHJvZm9jb2x9Oi8vYDtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVzLnNlY3VyZSkge1xuICAgICAgcGF0aCArPSBgaHR0cHM6Ly9gO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXMuc2VjdXJlID09PSBmYWxzZSkge1xuICAgICAgcGF0aCArPSBgaHR0cDovL2A7XG4gICAgfVxuXG4gICAgaWYgKHJlcy5ob3N0KSB7XG4gICAgICBpZiAoIXJlcy5wcm90b2NvbCkge1xuICAgICAgICBwYXRoICs9ICcvLyc7XG4gICAgICB9XG4gICAgICBwYXRoICs9IHJlcy5ob3N0O1xuICAgIH1cblxuICAgIGlmIChyZXMucGF0aCkge1xuICAgICAgcGF0aCArPSByZXMucGF0aDtcbiAgICB9XG5cbiAgICBpZiAocGF0aC5sZW5ndGggPiAwICYmICFwYXRoLmVuZHNXaXRoKCcvJykpIHtcbiAgICAgIHBhdGggKz0gJy8nO1xuICAgIH1cblxuICAgIHJldHVybiBwYXRoO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbWFuYWdlcnMvc29jaWFsbWFuYWdlci5qc1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLyogZ2xvYmFsIFVSSSAqL1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBTb2NpYWxNYW5hZ2VyXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgdmFyIFNvY2lhbE1hbmFnZXIgPSBmdW5jdGlvbihTTkFQRW52aXJvbm1lbnQsIER0c0FwaSwgV2ViQnJvd3NlciwgTG9nZ2VyKSB7XG4gICAgdGhpcy5fU05BUEVudmlyb25tZW50ID0gU05BUEVudmlyb25tZW50O1xuICAgIHRoaXMuX0R0c0FwaSA9IER0c0FwaTtcbiAgICB0aGlzLl9XZWJCcm93c2VyID0gV2ViQnJvd3NlcjtcbiAgICB0aGlzLl9Mb2dnZXIgPSBMb2dnZXI7XG4gIH07XG5cbiAgd2luZG93LmFwcC5Tb2NpYWxNYW5hZ2VyID0gU29jaWFsTWFuYWdlcjtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIExvZ2luXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBTb2NpYWxNYW5hZ2VyLnByb3RvdHlwZS5sb2dpbkZhY2Vib29rID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBmYWNlYm9va0FwcCA9IHRoaXMuX1NOQVBFbnZpcm9ubWVudC5mYWNlYm9va19hcHBsaWNhdGlvbixcbiAgICAgICAgY3VzdG9tZXJBcHAgPSB0aGlzLl9TTkFQRW52aXJvbm1lbnQuY3VzdG9tZXJfYXBwbGljYXRpb247XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgICBzZWxmLl9XZWJCcm93c2VyLm9uTmF2aWdhdGVkLnJlbW92ZShvbk5hdmlnYXRlZCk7XG4gICAgICAgIHNlbGYuX1dlYkJyb3dzZXIuY2xvc2UoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9yZWplY3QgPSByZWplY3QsIF9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIHJlamVjdCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdVbmFibGUgdG8gbG9naW4gd2l0aCBGYWNlYm9vazogJyArIGUpO1xuICAgICAgICBkaXNwb3NlKCk7XG4gICAgICAgIF9yZWplY3QoZSk7XG4gICAgICB9O1xuICAgICAgcmVzb2x2ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdGYWNlYm9vayBsb2dpbiBjb21wbGV0ZS4nKTtcbiAgICAgICAgZGlzcG9zZSgpO1xuICAgICAgICBfcmVzb2x2ZShkYXRhKTtcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIG9uTmF2aWdhdGVkKHVybCkge1xuICAgICAgICBpZiAodXJsLmluZGV4T2YoZmFjZWJvb2tBcHAucmVkaXJlY3RfdXJsKSA9PT0gMCkge1xuICAgICAgICAgIHZhciBmYWNlYm9va0F1dGggPSBVUkkoJz8nICsgVVJJKHVybCkuZnJhZ21lbnQoKSkuc2VhcmNoKHRydWUpO1xuXG4gICAgICAgICAgaWYgKGZhY2Vib29rQXV0aC5lcnJvciB8fCAhZmFjZWJvb2tBdXRoLmFjY2Vzc190b2tlbikge1xuICAgICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdGYWNlYm9vayBjYWxsYmFjayBlcnJvcjogJyArIGZhY2Vib29rQXV0aC5lcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGZhY2Vib29rQXV0aC5lcnJvcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdGYWNlYm9vayBjYWxsYmFjayByZWNlaXZlZC4nKTtcblxuICAgICAgICAgIHNlbGYuX0R0c0FwaS5jdXN0b21lci5zaWduVXBGYWNlYm9vayh7XG4gICAgICAgICAgICBhY2Nlc3NfdG9rZW46IGZhY2Vib29rQXV0aC5hY2Nlc3NfdG9rZW4sXG4gICAgICAgICAgICBjbGllbnRfaWQ6IGN1c3RvbWVyQXBwLmNsaWVudF9pZFxuICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24odGlja2V0KSB7XG4gICAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ0ZhY2Vib29rIHNpZ25pbiBjb21wbGV0ZS4nKTtcblxuICAgICAgICAgICAgdmFyIHVybCA9IHNlbGYuX0R0c0FwaS5vYXV0aDIuZ2V0QXV0aENvbmZpcm1VcmwodGlja2V0LnRpY2tldF9pZCwge1xuICAgICAgICAgICAgICBjbGllbnRfaWQ6IGN1c3RvbWVyQXBwLmNsaWVudF9pZCxcbiAgICAgICAgICAgICAgcmVzcG9uc2VfdHlwZTogJ3Rva2VuJyxcbiAgICAgICAgICAgICAgcmVkaXJlY3RfdXJpOiBjdXN0b21lckFwcC5jYWxsYmFja191cmxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzZWxmLl9XZWJCcm93c2VyLm9wZW4odXJsKTtcbiAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHVybC5pbmRleE9mKGN1c3RvbWVyQXBwLmNhbGxiYWNrX3VybCkgPT09IDApIHtcbiAgICAgICAgICB2YXIgY3VzdG9tZXJBdXRoID0gVVJJKCc/JyArIFVSSSh1cmwpLmZyYWdtZW50KCkpLnNlYXJjaCh0cnVlKTtcblxuICAgICAgICAgIGlmIChjdXN0b21lckF1dGguZXJyb3IgfHwgIWN1c3RvbWVyQXV0aC5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnRmFjZWJvb2sgY3VzdG9tZXIgY2FsbGJhY2sgZXJyb3I6ICcgKyBjdXN0b21lckF1dGguZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChjdXN0b21lckF1dGguZXJyb3IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnRmFjZWJvb2sgY3VzdG9tZXIgbG9naW4gY29tcGxldGUuJyk7XG5cbiAgICAgICAgICByZXNvbHZlKGN1c3RvbWVyQXV0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2VsZi5fV2ViQnJvd3Nlci5vbk5hdmlnYXRlZC5hZGQob25OYXZpZ2F0ZWQpO1xuXG4gICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ0xvZ2dpbmcgaW4gd2l0aCBGYWNlYm9vay4nKTtcblxuICAgICAgdmFyIHVybCA9IFVSSSgnaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL2RpYWxvZy9vYXV0aCcpXG4gICAgICAgIC5hZGRTZWFyY2goJ2NsaWVudF9pZCcsIGZhY2Vib29rQXBwLmNsaWVudF9pZClcbiAgICAgICAgLmFkZFNlYXJjaCgncmVkaXJlY3RfdXJpJywgZmFjZWJvb2tBcHAucmVkaXJlY3RfdXJsKVxuICAgICAgICAuYWRkU2VhcmNoKCdyZXNwb25zZV90eXBlJywgJ3Rva2VuJylcbiAgICAgICAgLmFkZFNlYXJjaCgnc2NvcGUnLCAncHVibGljX3Byb2ZpbGUsZW1haWwnKVxuICAgICAgICAudG9TdHJpbmcoKTtcblxuICAgICAgc2VsZi5fV2ViQnJvd3Nlci5vcGVuKHVybCk7XG4gICAgfSk7XG4gIH07XG5cbiAgU29jaWFsTWFuYWdlci5wcm90b3R5cGUubG9naW5Hb29nbGVQbHVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBnb29nbGVwbHVzQXBwID0gdGhpcy5fU05BUEVudmlyb25tZW50Lmdvb2dsZXBsdXNfYXBwbGljYXRpb24sXG4gICAgICAgIGN1c3RvbWVyQXBwID0gdGhpcy5fU05BUEVudmlyb25tZW50LmN1c3RvbWVyX2FwcGxpY2F0aW9uO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHN0YXRlID0gc2VsZi5fZ2VuZXJhdGVUb2tlbigpO1xuXG4gICAgICBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgICBzZWxmLl9XZWJCcm93c2VyLm9uTmF2aWdhdGVkLnJlbW92ZShvbk5hdmlnYXRlZCk7XG4gICAgICAgIHNlbGYuX1dlYkJyb3dzZXIuY2xvc2UoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9yZWplY3QgPSByZWplY3QsIF9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIHJlamVjdCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdVbmFibGUgdG8gbG9naW4gd2l0aCBHb29nbGU6ICcgKyBlKTtcbiAgICAgICAgZGlzcG9zZSgpO1xuICAgICAgICBfcmVqZWN0KGUpO1xuICAgICAgfTtcbiAgICAgIHJlc29sdmUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnR29vZ2xlIGxvZ2luIGNvbXBsZXRlLicpO1xuICAgICAgICBkaXNwb3NlKCk7XG4gICAgICAgIF9yZXNvbHZlKGRhdGEpO1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gb25OYXZpZ2F0ZWQodXJsKSB7XG4gICAgICAgIGlmICh1cmwuaW5kZXhPZihnb29nbGVwbHVzQXBwLnJlZGlyZWN0X3VybCkgPT09IDApIHtcbiAgICAgICAgICB2YXIgZ29vZ2xlcGx1c0F1dGggPSBVUkkodXJsKS5zZWFyY2godHJ1ZSk7XG5cbiAgICAgICAgICBpZiAoZ29vZ2xlcGx1c0F1dGguZXJyb3IgfHwgIWdvb2dsZXBsdXNBdXRoLmNvZGUgfHwgZ29vZ2xlcGx1c0F1dGguc3RhdGUgIT09IHN0YXRlKSB7XG4gICAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ0dvb2dsZSBjYWxsYmFjayBlcnJvcjogJyArIGdvb2dsZXBsdXNBdXRoLmVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoZ29vZ2xlcGx1c0F1dGguZXJyb3IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnR29vZ2xlIGNhbGxiYWNrIHJlY2VpdmVkLicpO1xuXG4gICAgICAgICAgc2VsZi5fRHRzQXBpLmN1c3RvbWVyLnNpZ25VcEdvb2dsZVBsdXMoe1xuICAgICAgICAgICAgY29kZTogZ29vZ2xlcGx1c0F1dGguY29kZSxcbiAgICAgICAgICAgIGNsaWVudF9pZDogY3VzdG9tZXJBcHAuY2xpZW50X2lkXG4gICAgICAgICAgfSkudGhlbihmdW5jdGlvbih0aWNrZXQpIHtcbiAgICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnR29vZ2xlIHNpZ25pbiBjb21wbGV0ZS4nKTtcblxuICAgICAgICAgICAgdmFyIHVybCA9IHNlbGYuX0R0c0FwaS5vYXV0aDIuZ2V0QXV0aENvbmZpcm1VcmwodGlja2V0LnRpY2tldF9pZCwge1xuICAgICAgICAgICAgICBjbGllbnRfaWQ6IGN1c3RvbWVyQXBwLmNsaWVudF9pZCxcbiAgICAgICAgICAgICAgcmVzcG9uc2VfdHlwZTogJ3Rva2VuJyxcbiAgICAgICAgICAgICAgcmVkaXJlY3RfdXJpOiBjdXN0b21lckFwcC5jYWxsYmFja191cmxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzZWxmLl9XZWJCcm93c2VyLm9wZW4odXJsKTtcbiAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHVybC5pbmRleE9mKGN1c3RvbWVyQXBwLmNhbGxiYWNrX3VybCkgPT09IDApIHtcbiAgICAgICAgICB2YXIgY3VzdG9tZXJBdXRoID0gVVJJKCc/JyArIFVSSSh1cmwpLmZyYWdtZW50KCkpLnNlYXJjaCh0cnVlKTtcblxuICAgICAgICAgIGlmIChjdXN0b21lckF1dGguZXJyb3IgfHwgIWN1c3RvbWVyQXV0aC5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnR29vZ2xlIGN1c3RvbWVyIGNhbGxiYWNrIGVycm9yOiAnICsgY3VzdG9tZXJBdXRoLmVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoY3VzdG9tZXJBdXRoLmVycm9yKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ0dvb2dsZSBjdXN0b21lciBsb2dpbiBjb21wbGV0ZS4nKTtcblxuICAgICAgICAgIHJlc29sdmUoY3VzdG9tZXJBdXRoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZWxmLl9XZWJCcm93c2VyLm9uTmF2aWdhdGVkLmFkZChvbk5hdmlnYXRlZCk7XG5cbiAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnTG9nZ2luZyBpbiB3aXRoIEdvb2dsZS4nKTtcblxuICAgICAgdmFyIHVybCA9IFVSSSgnaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGgnKVxuICAgICAgICAuYWRkU2VhcmNoKCdjbGllbnRfaWQnLCBnb29nbGVwbHVzQXBwLmNsaWVudF9pZClcbiAgICAgICAgLmFkZFNlYXJjaCgncmVkaXJlY3RfdXJpJywgZ29vZ2xlcGx1c0FwcC5yZWRpcmVjdF91cmwpXG4gICAgICAgIC5hZGRTZWFyY2goJ3Jlc3BvbnNlX3R5cGUnLCAnY29kZScpXG4gICAgICAgIC5hZGRTZWFyY2goJ3Njb3BlJywgJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvcGx1cy5sb2dpbiBlbWFpbCcpXG4gICAgICAgIC5hZGRTZWFyY2goJ2FjY2Vzc190eXBlJywgJ29mZmxpbmUnKVxuICAgICAgICAuYWRkU2VhcmNoKCdzdGF0ZScsIHN0YXRlKVxuICAgICAgICAudG9TdHJpbmcoKTtcblxuICAgICAgc2VsZi5fV2ViQnJvd3Nlci5vcGVuKHVybCk7XG4gICAgfSk7XG4gIH07XG5cbiAgU29jaWFsTWFuYWdlci5wcm90b3R5cGUubG9naW5Ud2l0dGVyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICB0d2l0dGVyQXBwID0gdGhpcy5fU05BUEVudmlyb25tZW50LnR3aXR0ZXJfYXBwbGljYXRpb24sXG4gICAgICAgIGN1c3RvbWVyQXBwID0gdGhpcy5fU05BUEVudmlyb25tZW50LmN1c3RvbWVyX2FwcGxpY2F0aW9uO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHRva2VuU2VjcmV0O1xuXG4gICAgICBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgICBzZWxmLl9XZWJCcm93c2VyLm9uTmF2aWdhdGVkLnJlbW92ZShvbk5hdmlnYXRlZCk7XG4gICAgICAgIHNlbGYuX1dlYkJyb3dzZXIuY2xvc2UoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9yZWplY3QgPSByZWplY3QsIF9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIHJlamVjdCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdVbmFibGUgdG8gbG9naW4gd2l0aCBUd2l0dGVyOiAnICsgZSk7XG4gICAgICAgIGRpc3Bvc2UoKTtcbiAgICAgICAgX3JlamVjdChlKTtcbiAgICAgIH07XG4gICAgICByZXNvbHZlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ1R3aXR0ZXIgbG9naW4gY29tcGxldGUuJyk7XG4gICAgICAgIGRpc3Bvc2UoKTtcbiAgICAgICAgX3Jlc29sdmUoZGF0YSk7XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBvbk5hdmlnYXRlZCh1cmwpIHtcbiAgICAgICAgaWYgKHVybC5pbmRleE9mKHR3aXR0ZXJBcHAucmVkaXJlY3RfdXJsKSA9PT0gMCkge1xuICAgICAgICAgIHZhciB0d2l0dGVyQXV0aCA9IFVSSSh1cmwpLnNlYXJjaCh0cnVlKTtcblxuICAgICAgICAgIGlmICh0d2l0dGVyQXV0aC5lcnJvciB8fCAhdHdpdHRlckF1dGgub2F1dGhfdmVyaWZpZXIpIHtcbiAgICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnVHdpdHRlciBjYWxsYmFjayBlcnJvcjogJyArIHR3aXR0ZXJBdXRoLmVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QodHdpdHRlckF1dGguZXJyb3IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnVHdpdHRlciBjYWxsYmFjayByZWNlaXZlZC4nKTtcblxuICAgICAgICAgIHNlbGYuX0R0c0FwaS5jdXN0b21lci5zaWduVXBUd2l0dGVyKHtcbiAgICAgICAgICAgIGNsaWVudF9pZDogY3VzdG9tZXJBcHAuY2xpZW50X2lkLFxuICAgICAgICAgICAgcmVxdWVzdF90b2tlbjogdHdpdHRlckF1dGgub2F1dGhfdG9rZW4sXG4gICAgICAgICAgICByZXF1ZXN0X3Rva2VuX3NlY3JldDogdG9rZW5TZWNyZXQsXG4gICAgICAgICAgICByZXF1ZXN0X3Rva2VuX3ZlcmlmaWVyOiB0d2l0dGVyQXV0aC5vYXV0aF92ZXJpZmllclxuICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24odGlja2V0KSB7XG4gICAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ1R3aXR0ZXIgc2lnbmluIGNvbXBsZXRlLicpO1xuXG4gICAgICAgICAgICB2YXIgdXJsID0gc2VsZi5fRHRzQXBpLm9hdXRoMi5nZXRBdXRoQ29uZmlybVVybCh0aWNrZXQudGlja2V0X2lkLCB7XG4gICAgICAgICAgICAgIGNsaWVudF9pZDogY3VzdG9tZXJBcHAuY2xpZW50X2lkLFxuICAgICAgICAgICAgICByZXNwb25zZV90eXBlOiAndG9rZW4nLFxuICAgICAgICAgICAgICByZWRpcmVjdF91cmk6IGN1c3RvbWVyQXBwLmNhbGxiYWNrX3VybFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNlbGYuX1dlYkJyb3dzZXIub3Blbih1cmwpO1xuICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodXJsLmluZGV4T2YoY3VzdG9tZXJBcHAuY2FsbGJhY2tfdXJsKSA9PT0gMCkge1xuICAgICAgICAgIHZhciBjdXN0b21lckF1dGggPSBVUkkoJz8nICsgVVJJKHVybCkuZnJhZ21lbnQoKSkuc2VhcmNoKHRydWUpO1xuXG4gICAgICAgICAgaWYgKGN1c3RvbWVyQXV0aC5lcnJvciB8fCAhY3VzdG9tZXJBdXRoLmFjY2Vzc190b2tlbikge1xuICAgICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdUd2l0dGVyIGN1c3RvbWVyIGNhbGxiYWNrIGVycm9yOiAnICsgY3VzdG9tZXJBdXRoLmVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoY3VzdG9tZXJBdXRoLmVycm9yKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ1R3aXR0ZXIgY3VzdG9tZXIgbG9naW4gY29tcGxldGUuJyk7XG5cbiAgICAgICAgICByZXNvbHZlKGN1c3RvbWVyQXV0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2VsZi5fV2ViQnJvd3Nlci5vbk5hdmlnYXRlZC5hZGQob25OYXZpZ2F0ZWQpO1xuXG4gICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ0xvZ2dpbmcgaW4gd2l0aCBUd2l0dGVyLicpO1xuXG4gICAgICBzZWxmLl9EdHNBcGkuY3VzdG9tZXIuc2lnblVwVHdpdHRlclJlcXVlc3RUb2tlbih7XG4gICAgICAgIG9hdXRoX2NhbGxiYWNrOiB0d2l0dGVyQXBwLnJlZGlyZWN0X3VybFxuICAgICAgfSkudGhlbihmdW5jdGlvbih0b2tlbikge1xuICAgICAgICB2YXIgdXJsID0gVVJJKCdodHRwczovL2FwaS50d2l0dGVyLmNvbS9vYXV0aC9hdXRoZW50aWNhdGUnKVxuICAgICAgICAuYWRkU2VhcmNoKCdvYXV0aF90b2tlbicsIHRva2VuLm9hdXRoX3Rva2VuKVxuICAgICAgICAuYWRkU2VhcmNoKCdmb3JjZV9sb2dpbicsICd0cnVlJylcbiAgICAgICAgLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdUd2l0dGVyIHJlcXVlc3QgdG9rZW4gcmVjZWl2ZWQuJyk7XG5cbiAgICAgICAgdG9rZW5TZWNyZXQgPSB0b2tlbi5vYXV0aF90b2tlbl9zZWNyZXQ7XG4gICAgICAgIHNlbGYuX1dlYkJyb3dzZXIub3Blbih1cmwpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIEhlbHBlcnNcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIFNvY2lhbE1hbmFnZXIucHJvdG90eXBlLl9nZW5lcmF0ZVRva2VuID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24oYykge1xuICAgICAgdmFyIHIgPSBNYXRoLnJhbmRvbSgpKjE2fDAsIHYgPSBjID09PSAneCcgPyByIDogKHImMHgzfDB4OCk7XG4gICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gICAgfSk7XG4gIH07XG5cbn0pKCk7XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9zb2Z0d2FyZW1hbmFnZXIuanNcblxuKGZ1bmN0aW9uKCkge1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBTb2Z0d2FyZU1hbmFnZXJcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICB2YXIgU29mdHdhcmVNYW5hZ2VyID0gZnVuY3Rpb24oU05BUEVudmlyb25tZW50KSB7XG4gICAgdGhpcy5fU05BUEVudmlyb25tZW50ID0gU05BUEVudmlyb25tZW50O1xuICB9O1xuXG4gIHdpbmRvdy5hcHAuU29mdHdhcmVNYW5hZ2VyID0gU29mdHdhcmVNYW5hZ2VyO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTb2Z0d2FyZU1hbmFnZXIucHJvdG90eXBlLCAnY3VycmVudFZlcnNpb24nLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXR0ZXJuID0gLyhTTkFQKVxcLyhbMC05Ll0rKS8sXG4gICAgICAgICAgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuICc4LjguOC44JztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hdGNoWzFdO1xuICAgIH1cbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvZnR3YXJlTWFuYWdlci5wcm90b3R5cGUsICdyZXF1aXJlZFZlcnNpb24nLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9TTkFQRW52aXJvbm1lbnQucmVxdWlyZW1lbnRzW3RoaXMuX1NOQVBFbnZpcm9ubWVudC5wbGF0Zm9ybV07XG4gICAgfVxuICB9KTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU29mdHdhcmVNYW5hZ2VyLnByb3RvdHlwZSwgJ3VwZGF0ZVJlcXVpcmVkJywge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdmVyc2lvbkNvbXBhcmUodGhpcy5jdXJyZW50VmVyc2lvbiwgdGhpcy5yZXF1aXJlZFZlcnNpb24pID09PSAtMTtcbiAgICB9XG4gIH0pO1xuXG4gIFNvZnR3YXJlTWFuYWdlci5wcm90b3R5cGUuX3ZlcnNpb25Db21wYXJlID0gZnVuY3Rpb24odjEsIHYyLCBvcHRpb25zKSB7XG4gICAgaWYgKCF2MSB8fCAhdjIpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHZhciBsZXhpY29ncmFwaGljYWwgPSBvcHRpb25zICYmIG9wdGlvbnMubGV4aWNvZ3JhcGhpY2FsLFxuICAgICAgICB6ZXJvRXh0ZW5kID0gb3B0aW9ucyAmJiBvcHRpb25zLnplcm9FeHRlbmQsXG4gICAgICAgIHYxcGFydHMgPSB2MS5zcGxpdCgnLicpLFxuICAgICAgICB2MnBhcnRzID0gdjIuc3BsaXQoJy4nKTtcblxuICAgIGZ1bmN0aW9uIGlzVmFsaWRQYXJ0KHgpIHtcbiAgICAgIHJldHVybiAobGV4aWNvZ3JhcGhpY2FsID8gL15cXGQrW0EtWmEtel0qJC8gOiAvXlxcZCskLykudGVzdCh4KTtcbiAgICB9XG5cbiAgICBpZiAoIXYxcGFydHMuZXZlcnkoaXNWYWxpZFBhcnQpIHx8ICF2MnBhcnRzLmV2ZXJ5KGlzVmFsaWRQYXJ0KSkge1xuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG5cbiAgICBpZiAoemVyb0V4dGVuZCkge1xuICAgICAgd2hpbGUgKHYxcGFydHMubGVuZ3RoIDwgdjJwYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgdjFwYXJ0cy5wdXNoKCcwJyk7XG4gICAgICB9XG4gICAgICB3aGlsZSAodjJwYXJ0cy5sZW5ndGggPCB2MXBhcnRzLmxlbmd0aCkge1xuICAgICAgICB2MnBhcnRzLnB1c2goJzAnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWxleGljb2dyYXBoaWNhbCkge1xuICAgICAgdjFwYXJ0cyA9IHYxcGFydHMubWFwKE51bWJlcik7XG4gICAgICB2MnBhcnRzID0gdjJwYXJ0cy5tYXAoTnVtYmVyKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHYxcGFydHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGlmICh2MnBhcnRzLmxlbmd0aCA9PT0gaSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKHYxcGFydHNbaV0gPT09IHYycGFydHNbaV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh2MXBhcnRzW2ldID4gdjJwYXJ0c1tpXSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHYxcGFydHMubGVuZ3RoICE9PSB2MnBhcnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9O1xufSkoKTtcblxuLy9zcmMvanMvc2hhcmVkL21hbmFnZXJzL3N1cnZleW1hbmFnZXIuanNcblxud2luZG93LmFwcC5TdXJ2ZXlNYW5hZ2VyID0gY2xhc3MgU3VydmV5TWFuYWdlciBleHRlbmRzIGFwcC5BYnN0cmFjdE1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcihEYXRhTW9kZWwsIFN1cnZleU1vZGVsLCBMb2dnZXIpIHtcbiAgICBzdXBlcihMb2dnZXIpO1xuXG4gICAgdGhpcy5fRGF0YU1vZGVsID0gRGF0YU1vZGVsO1xuICAgIHRoaXMuX1N1cnZleU1vZGVsID0gU3VydmV5TW9kZWw7XG4gIH1cblxuICBnZXQgbW9kZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX1N1cnZleU1vZGVsO1xuICB9XG5cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICBzdXBlci5pbml0aWFsaXplKCk7XG5cbiAgICBpZiAodGhpcy5tb2RlbC5pc0VuYWJsZWQpIHtcbiAgICAgIHRoaXMuX0RhdGFNb2RlbC5zdXJ2ZXlzKCkudGhlbihkYXRhID0+IHtcbiAgICAgICAgdGhpcy5tb2RlbC5mZWVkYmFja1N1cnZleSA9IGRhdGEuc3VydmV5c1swXTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHN1cGVyLnJlc2V0KCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKHRoaXMubW9kZWwuaXNFbmFibGVkKSB7XG4gICAgICAgIHRoaXMubW9kZWwuZmVlZGJhY2tTdXJ2ZXlDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tb2RlbC9hYnN0cmFjdG1vZGVsLmpzXG5cbndpbmRvdy5hcHAuQWJzdHJhY3RNb2RlbCA9IGNsYXNzIEFic3RyYWN0TW9kZWwge1xuICAvKiBnbG9iYWwgc2lnbmFscyAqL1xuXG4gIGNvbnN0cnVjdG9yKHN0b3JhZ2VQcm92aWRlcikge1xuICAgIHRoaXMuX3N0b3JhZ2VQcm92aWRlciA9IHN0b3JhZ2VQcm92aWRlcjtcbiAgICB0aGlzLl9wcm9wZXJ0aWVzID0ge307XG4gIH1cblxuICBfZGVmaW5lUHJvcGVydHkobmFtZSwgc3RvcmVOYW1lLCBkZWZhdWx0VmFsdWUsIHByb3ZpZGVyRnVuY3Rpb24pIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIHByb3BlcnR5ID0gdGhpcy5fcHJvcGVydGllc1tuYW1lXSA9IHsgbmFtZTogJ18nICsgbmFtZSB9O1xuXG4gICAgaWYgKHN0b3JlTmFtZSkge1xuICAgICAgcHJvcGVydHkuc3RvcmUgPSB0aGlzLl9zdG9yYWdlUHJvdmlkZXIoc3RvcmVOYW1lKTtcbiAgICB9XG5cbiAgICBpZiAocHJvdmlkZXJGdW5jdGlvbikge1xuICAgICAgcHJvcGVydHkucHJvdmlkZXIgPSBwcm92aWRlckZ1bmN0aW9uO1xuICAgIH1cblxuICAgIHRoaXNbbmFtZSArICdDaGFuZ2VkJ10gPSBwcm9wZXJ0eS5zaWduYWwgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBuYW1lLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gc2VsZltwcm9wZXJ0eS5uYW1lXSB8fCBkZWZhdWx0VmFsdWU7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHNlbGZbcHJvcGVydHkubmFtZV0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmW3Byb3BlcnR5Lm5hbWVdID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKHByb3BlcnR5LnN0b3JlKSB7XG4gICAgICAgICAgcHJvcGVydHkuc3RvcmUud3JpdGUodmFsdWUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcHJvcGVydHkuc2lnbmFsLmRpc3BhdGNoKHZhbHVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2luaXRQcm9wZXJ0eShuYW1lKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBwcm9wZXJ0eSA9IHRoaXMuX3Byb3BlcnRpZXNbbmFtZV07XG5cbiAgICBpZiAoIXByb3BlcnR5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3BlcnR5ICcke25hbWV9JyBub3QgZm91bmQuYCk7XG4gICAgfVxuXG4gICAgaWYgKHByb3BlcnR5LmluaXRpYWxpemVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3BlcnR5ICcke25hbWV9JyBpcyBhbHJlYWR5IGluaXRpYWxpemVkLmApO1xuICAgIH1cblxuICAgIGlmICghcHJvcGVydHkuc3RvcmUpIHtcbiAgICAgIHByb3BlcnR5LmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvcGVydHkuc3RvcmUucmVhZCgpLnRoZW4odmFsdWUgPT4ge1xuICAgICAgcHJvcGVydHkuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgc2VsZltwcm9wZXJ0eS5uYW1lXSA9IHZhbHVlO1xuICAgICAgcHJvcGVydHkuc2lnbmFsLmRpc3BhdGNoKHZhbHVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGluaXRpYWxpemUoKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKE9iamVjdC5rZXlzKHRoaXMuX3Byb3BlcnRpZXMpXG4gICAgICAuZmlsdGVyKGtleSA9PiAhdGhpcy5fcHJvcGVydGllc1trZXldLmluaXRpYWxpemVkKVxuICAgICAgLm1hcChrZXkgPT4gdGhpcy5faW5pdFByb3BlcnR5KGtleSkpKTtcbiAgfVxuXG4gIGZldGNoKHByb3BlcnR5TmFtZSkge1xuICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuX3Byb3BlcnRpZXNbcHJvcGVydHlOYW1lXTtcblxuICAgIGlmICghcHJvcGVydHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUHJvcGVydHkgJyR7cHJvcGVydHlOYW1lfScgbm90IGZvdW5kLmApO1xuICAgIH1cblxuICAgIGlmICghcHJvcGVydHkucHJvdmlkZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUHJvcGVydHkgJyR7cHJvcGVydHlOYW1lfScgaGFzIG5vIHByb3ZpZGVyLmApO1xuICAgIH1cblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gcHJvcGVydHkucHJvdmlkZXIoKS50aGVuKHZhbHVlID0+IHtcbiAgICAgIHNlbGZbcHJvcGVydHlOYW1lXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0pO1xuICB9XG5cbiAgZmV0Y2hBbGwoKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKE9iamVjdC5rZXlzKHRoaXMuX3Byb3BlcnRpZXMpXG4gICAgICAuZmlsdGVyKGtleSA9PiB0aGlzLl9wcm9wZXJ0aWVzW2tleV0ucHJvdmlkZXIpXG4gICAgICAubWFwKGtleSA9PiB0aGlzLmZldGNoKGtleSkpKTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyh0aGlzLl9wcm9wZXJ0aWVzKVxuICAgICAgLmZpbHRlcihrZXkgPT4gdGhpcy5fcHJvcGVydGllc1trZXldLnN0b3JlKVxuICAgICAgLm1hcChrZXkgPT4gdGhpcy5fcHJvcGVydGllc1trZXldLnN0b3JlLmNsZWFyKCkpKTtcbiAgfVxuXG4gIF9wcm9wZXJ0eUNoYW5nZWQobmFtZSkge1xuICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuX3Byb3BlcnRpZXNbbmFtZV07XG5cbiAgICBwcm9wZXJ0eS5zaWduYWwuZGlzcGF0Y2godGhpc1twcm9wZXJ0eS5uYW1lXSk7XG5cbiAgICBpZiAocHJvcGVydHkuc3RvcmUpIHtcbiAgICAgIHByb3BlcnR5LnN0b3JlLndyaXRlKHRoaXNbcHJvcGVydHkubmFtZV0pO1xuICAgIH1cbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21vZGVsL2FuYWx5dGljc21vZGVsLmpzXG5cbndpbmRvdy5hcHAuQW5hbHl0aWNzTW9kZWwgPSBjbGFzcyBBbmFseXRpY3NNb2RlbCB7XG4gIGNvbnN0cnVjdG9yKHN0b3JhZ2VQcm92aWRlciwgaGVhdG1hcCwgTG9nZ2VyKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuX2RhdGEgPSBbXG4gICAgICBuZXcgYXBwLkFuYWx5dGljc0RhdGEoJ3Nlc3Npb25zJywgc3RvcmFnZVByb3ZpZGVyKSxcbiAgICAgIG5ldyBhcHAuQW5hbHl0aWNzRGF0YSgnYWR2ZXJ0aXNlbWVudHMnLCBzdG9yYWdlUHJvdmlkZXIpLFxuICAgICAgbmV3IGFwcC5BbmFseXRpY3NEYXRhKCdhbnN3ZXJzJywgc3RvcmFnZVByb3ZpZGVyKSxcbiAgICAgIG5ldyBhcHAuQW5hbHl0aWNzRGF0YSgnY2hhdHMnLCBzdG9yYWdlUHJvdmlkZXIpLFxuICAgICAgbmV3IGFwcC5BbmFseXRpY3NEYXRhKCdjb21tZW50cycsIHN0b3JhZ2VQcm92aWRlciksXG4gICAgICBuZXcgYXBwLkFuYWx5dGljc0RhdGEoJ2NsaWNrcycsIHN0b3JhZ2VQcm92aWRlciksXG4gICAgICBuZXcgYXBwLkFuYWx5dGljc0RhdGEoJ3BhZ2VzJywgc3RvcmFnZVByb3ZpZGVyKSxcbiAgICAgIG5ldyBhcHAuQW5hbHl0aWNzRGF0YSgndXJscycsIHN0b3JhZ2VQcm92aWRlcilcbiAgICBdLnJlZHVjZSgocmVzdWx0LCBpdGVtKSA9PiB7XG4gICAgICByZXN1bHRbaXRlbS5uYW1lXSA9IGl0ZW07XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sIHt9KTtcblxuICAgIGhlYXRtYXAuY2xpY2tlZC5hZGQoY2xpY2sgPT4ge1xuICAgICAgc2VsZi5fbG9nQ2xpY2soY2xpY2spO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fTG9nZ2VyID0gTG9nZ2VyO1xuICB9XG5cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICByZXR1cm4gUS5hbGxTZXR0bGVkKHRoaXMuX2RhdGFzLm1hcChkID0+IGQuaW5pdGlhbGl6ZSgpKSk7XG4gIH1cblxuICBsb2dTZXNzaW9uKHNlc3Npb24pIHtcbiAgICB0aGlzLl9kYXRhLnNlc3Npb25zLnB1c2goc2Vzc2lvbik7XG4gIH1cblxuICBnZXQgc2Vzc2lvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEuc2Vzc2lvbnM7XG4gIH1cblxuICBsb2dOYXZpZ2F0aW9uKGRlc3RpbmF0aW9uKSB7XG4gICAgdGhpcy5fZGF0YS5wYWdlcy5wdXNoKHtcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCksXG4gICAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb25cbiAgICB9KTtcblxuICAgIHRoaXMuX2RhdGEuY2xpY2tzLnN0b3JlKCk7XG4gIH1cblxuICBnZXQgcGFnZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEucGFnZXM7XG4gIH1cblxuICBsb2dBZHZlcnRpc2VtZW50KGFkdmVydGlzZW1lbnQpIHtcbiAgICB0aGlzLl9kYXRhLmFkdmVydGlzZW1lbnRzLnB1c2goe1xuICAgICAgdGltZTogbmV3IERhdGUoKSxcbiAgICAgIGFkdmVydGlzZW1lbnQ6IGFkdmVydGlzZW1lbnRcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBhZHZlcnRpc2VtZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YS5hZHZlcnRpc2VtZW50cztcbiAgfVxuXG4gIGxvZ0Fuc3dlcihhbnN3ZXIpIHtcbiAgICB0aGlzLl9kYXRhLmFuc3dlcnMucHVzaCh7XG4gICAgICB0aW1lOiBuZXcgRGF0ZSgpLFxuICAgICAgYW5zd2VyOiBhbnN3ZXJcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBhbnN3ZXJzKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhLmFuc3dlcnM7XG4gIH1cblxuICBsb2dDaGF0KGNoYXQpIHtcbiAgICB0aGlzLl9kYXRhLmNoYXRzLnB1c2goe1xuICAgICAgdGltZTogbmV3IERhdGUoKSxcbiAgICAgIGNoYXQ6IGNoYXRcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBjaGF0cygpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YS5jaGF0cztcbiAgfVxuXG4gIGxvZ0NvbW1lbnQoY29tbWVudCkge1xuICAgIHRoaXMuX2RhdGEuY29tbWVudHMucHVzaCh7XG4gICAgICB0aW1lOiBuZXcgRGF0ZSgpLFxuICAgICAgY29tbWVudDogY29tbWVudFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0IGNvbW1lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhLmNvbW1lbnRzO1xuICB9XG5cbiAgbG9nVXJsKHVybCkge1xuICAgIHRoaXMuX2RhdGEudXJscy5wdXNoKHtcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCksXG4gICAgICB1cmw6IHVybFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0IHVybHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEudXJscztcbiAgfVxuXG4gIGdldCBjbGlja3MoKSB7XG4gICAgdGhpcy5fZGF0YS5jbGlja3Muc3RvcmUoKTtcblxuICAgIHJldHVybiB0aGlzLl9kYXRhLmNsaWNrcztcbiAgfVxuXG4gIGdldCBfZGF0YXMoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX2RhdGEpLm1hcCh4ID0+IHRoaXMuX2RhdGFbeF0pO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgcmV0dXJuIFEuYWxsU2V0dGxlZCh0aGlzLl9kYXRhcy5tYXAoZCA9PiBkLnJlc2V0KCkpKTtcbiAgfVxuXG4gIF9sb2dDbGljayhjbGljaykge1xuICAgIGNsaWNrLnRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgIHRoaXMuX2RhdGEuY2xpY2tzLmRhdGEucHVzaChjbGljayk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tb2RlbC9jYXJ0bW9kZWwuanNcblxud2luZG93LmFwcC5DYXJ0TW9kZWwgPSBjbGFzcyBDYXJ0TW9kZWwge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLlNUQVRFX0NBUlQgPSAnY2FydCc7XG4gICAgdGhpcy5TVEFURV9ISVNUT1JZID0gJ2hpc3RvcnknO1xuXG4gICAgdGhpcy5faXNDYXJ0T3BlbiA9IGZhbHNlO1xuICAgIHRoaXMuaXNDYXJ0T3BlbkNoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLl9jYXJ0U3RhdGUgPSB0aGlzLlNUQVRFX0NBUlQ7XG4gICAgdGhpcy5jYXJ0U3RhdGVDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5fZWRpdGFibGVJdGVtID0gbnVsbDtcbiAgICB0aGlzLmVkaXRhYmxlSXRlbUNoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgfVxuXG4gIGdldCBpc0NhcnRPcGVuKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0NhcnRPcGVuO1xuICB9XG5cbiAgc2V0IGlzQ2FydE9wZW4odmFsdWUpIHtcbiAgICBpZiAodGhpcy5faXNDYXJ0T3BlbiA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5faXNDYXJ0T3BlbiA9IHZhbHVlO1xuICAgIHRoaXMuaXNDYXJ0T3BlbkNoYW5nZWQuZGlzcGF0Y2godmFsdWUpO1xuICB9XG5cbiAgZ2V0IGNhcnRTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FydFN0YXRlO1xuICB9XG5cbiAgc2V0IGNhcnRTdGF0ZSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9jYXJ0U3RhdGUgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2NhcnRTdGF0ZSA9IHZhbHVlO1xuICAgIHRoaXMuY2FydFN0YXRlQ2hhbmdlZC5kaXNwYXRjaCh2YWx1ZSk7XG4gIH1cblxuICBnZXQgZWRpdGFibGVJdGVtKCkge1xuICAgIHJldHVybiB0aGlzLl9lZGl0YWJsZUl0ZW07XG4gIH1cblxuICBnZXQgZWRpdGFibGVJdGVtTmV3KCkge1xuICAgIHJldHVybiB0aGlzLl9lZGl0YWJsZUl0ZW1OZXc7XG4gIH1cblxuICBvcGVuRWRpdG9yKGl0ZW0sIGlzTmV3KSB7XG4gICAgaWYgKHRoaXMuX2VkaXRhYmxlSXRlbSA9PT0gaXRlbSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9lZGl0YWJsZUl0ZW1OZXcgPSBpc05ldyB8fCBmYWxzZTtcbiAgICB0aGlzLl9lZGl0YWJsZUl0ZW0gPSBpdGVtO1xuICAgIHRoaXMuZWRpdGFibGVJdGVtQ2hhbmdlZC5kaXNwYXRjaChpdGVtKTtcbiAgfVxuXG4gIGNsb3NlRWRpdG9yKCkge1xuICAgIHRoaXMuX2VkaXRhYmxlSXRlbU5ldyA9IGZhbHNlO1xuICAgIHRoaXMuX2VkaXRhYmxlSXRlbSA9IG51bGw7XG4gICAgdGhpcy5lZGl0YWJsZUl0ZW1DaGFuZ2VkLmRpc3BhdGNoKG51bGwpO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbW9kZWwvY2hhdG1vZGVsLmpzXG5cbndpbmRvdy5hcHAuQ2hhdE1vZGVsID0gY2xhc3MgQ2hhdE1vZGVsIHtcbiAgLyogZ2xvYmFsIHNpZ25hbHMgKi9cblxuICBjb25zdHJ1Y3RvcihTTkFQTG9jYXRpb24sIFNOQVBFbnZpcm9ubWVudCwgc3RvcmFnZVByb3ZpZGVyKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5fcHJlZmVyZW5jZXNTdG9yZSA9IHN0b3JhZ2VQcm92aWRlcignc25hcF9jaGF0X3ByZWZlcmVuY2VzJyk7XG4gICAgdGhpcy5faGlzdG9yeVN0b3JlID0gc3RvcmFnZVByb3ZpZGVyKCdzbmFwX2NoYXRfaGlzdG9yeScpO1xuXG4gICAgdGhpcy5pc0Nvbm5lY3RlZENoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLmlzRW5hYmxlZENoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLmlzUHJlc2VudENoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcblxuICAgIHRoaXMuYWN0aXZlRGV2aWNlc0NoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLnBlbmRpbmdEZXZpY2VzQ2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuY2hhdFJlcXVlc3RSZWNlaXZlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgdGhpcy5oaXN0b3J5Q2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMubWVzc2FnZVJlY2VpdmVkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgXG4gICAgdGhpcy5naWZ0UmVxdWVzdFJlY2VpdmVkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5naWZ0QWNjZXB0ZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcblxuICAgIHRoaXMuX2dpZnRTZWF0ID0gbnVsbDtcbiAgICB0aGlzLmdpZnRTZWF0Q2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgdGhpcy5fZ2lmdERldmljZSA9IG51bGw7XG4gICAgdGhpcy5naWZ0RGV2aWNlQ2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgdGhpcy5naWZ0UmVhZHkgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLmdpZnRBY2NlcHRlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgdGhpcy5faXNFbmFibGVkID0gU05BUExvY2F0aW9uLmNoYXQ7XG4gICAgdGhpcy5fcGVuZGluZ0RldmljZXMgPSBbXTtcbiAgICB0aGlzLl9hY3RpdmVEZXZpY2VzID0gW107XG4gICAgdGhpcy5fbGFzdFJlYWRzID0ge307XG5cbiAgICB0aGlzLl9wcmVmZXJlbmNlc1N0b3JlLnJlYWQoKS50aGVuKHByZWZzID0+IHtcbiAgICAgIGlmICghcHJlZnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9pc0VuYWJsZWQgPSBCb29sZWFuKHByZWZzLmlzX2VuYWJsZWQpO1xuXG4gICAgICBzZWxmLl9hY3RpdmVEZXZpY2VzID0gcHJlZnMuYWN0aXZlX2RldmljZXMgfHwgW107XG4gICAgICBzZWxmLl9wZW5kaW5nRGV2aWNlcyA9IHByZWZzLnBlbmRpbmdfZGV2aWNlcyB8fCBbXTtcbiAgICAgIHNlbGYuX2xhc3RSZWFkcyA9IHByZWZzLmxhc3RfcmVhZHMgfHwge307XG4gICAgfSk7XG5cbiAgICB0aGlzLl9oaXN0b3J5U3RvcmUucmVhZCgpLnRoZW4oaGlzdG9yeSA9PiB7XG4gICAgICBzZWxmLl9oaXN0b3J5ID0gaGlzdG9yeSB8fCBbXTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBpc0Nvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNDb25uZWN0ZWQ7XG4gIH1cblxuICBzZXQgaXNDb25uZWN0ZWQodmFsdWUpIHtcbiAgICBpZiAodGhpcy5faXNDb25uZWN0ZWQgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faXNDb25uZWN0ZWQgPSBCb29sZWFuKHZhbHVlKTtcbiAgICB0aGlzLmlzQ29ubmVjdGVkQ2hhbmdlZC5kaXNwYXRjaCh0aGlzLl9pc0Nvbm5lY3RlZCk7XG4gIH1cblxuICBnZXQgaXNFbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0VuYWJsZWQ7XG4gIH1cblxuICBzZXQgaXNFbmFibGVkKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX2lzRW5hYmxlZCA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pc0VuYWJsZWQgPSBCb29sZWFuKHZhbHVlKTtcbiAgICB0aGlzLmlzRW5hYmxlZENoYW5nZWQuZGlzcGF0Y2godGhpcy5faXNFbmFibGVkKTtcblxuICAgIHRoaXMuX3VwZGF0ZVByZWZlcmVuY2VzKCk7XG4gIH1cblxuICBnZXQgaXNQcmVzZW50KCkge1xuICAgIHJldHVybiB0aGlzLl9pc1ByZXNlbnQ7XG4gIH1cblxuICBzZXQgaXNQcmVzZW50KHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX2lzUHJlc2VudCA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pc1ByZXNlbnQgPSBCb29sZWFuKHZhbHVlKTtcbiAgICB0aGlzLmlzUHJlc2VudENoYW5nZWQuZGlzcGF0Y2godGhpcy5faXNQcmVzZW50KTtcbiAgfVxuXG4gIGdldCBnaWZ0RGV2aWNlKCkge1xuICAgIHJldHVybiB0aGlzLl9naWZ0RGV2aWNlO1xuICB9XG5cbiAgc2V0IGdpZnREZXZpY2UodmFsdWUpIHtcbiAgICBpZiAodGhpcy5fZ2lmdERldmljZSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9naWZ0RGV2aWNlID0gdmFsdWU7XG4gICAgdGhpcy5naWZ0RGV2aWNlQ2hhbmdlZC5kaXNwYXRjaCh0aGlzLl9naWZ0RGV2aWNlKTtcbiAgfVxuXG4gIGdldCBnaWZ0U2VhdCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2lmdFNlYXQ7XG4gIH1cblxuICBzZXQgZ2lmdFNlYXQodmFsdWUpIHtcbiAgICBpZiAodGhpcy5fZ2lmdFNlYXQgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fZ2lmdFNlYXQgPSB2YWx1ZTtcbiAgICB0aGlzLmdpZnRTZWF0Q2hhbmdlZC5kaXNwYXRjaCh0aGlzLl9naWZ0U2VhdCk7XG4gIH1cblxuICBnZXQgcGVuZGluZ0RldmljZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BlbmRpbmdEZXZpY2VzO1xuICB9XG5cbiAgc2V0IHBlbmRpbmdEZXZpY2VzKHZhbHVlKSB7XG4gICAgdGhpcy5fcGVuZGluZ0RldmljZXMgPSB2YWx1ZSB8fCBbXTtcbiAgICB0aGlzLnBlbmRpbmdEZXZpY2VzQ2hhbmdlZC5kaXNwYXRjaCh0aGlzLnBlbmRpbmdEZXZpY2VzKTtcbiAgfVxuXG4gIGdldCBhY3RpdmVEZXZpY2VzKCkge1xuICAgIHJldHVybiB0aGlzLl9hY3RpdmVEZXZpY2VzO1xuICB9XG5cbiAgc2V0IGFjdGl2ZURldmljZXModmFsdWUpIHtcbiAgICB0aGlzLl9hY3RpdmVEZXZpY2VzID0gdmFsdWUgfHwgW107XG4gICAgdGhpcy5hY3RpdmVEZXZpY2VzQ2hhbmdlZC5kaXNwYXRjaCh0aGlzLmFjdGl2ZURldmljZXMpO1xuICB9XG5cbiAgaXNBY3RpdmVEZXZpY2UoZGV2aWNlKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlRGV2aWNlcy5pbmRleE9mKGRldmljZS50b2tlbiB8fCBkZXZpY2UpICE9PSAtMTtcbiAgfVxuXG4gIGlzUGVuZGluZ0RldmljZShkZXZpY2UpIHtcbiAgICByZXR1cm4gdGhpcy5wZW5kaW5nRGV2aWNlcy5pbmRleE9mKGRldmljZS50b2tlbiB8fCBkZXZpY2UpICE9PSAtMTtcbiAgfVxuXG4gIGFkZEFjdGl2ZURldmljZShkZXZpY2UpIHtcbiAgICB0aGlzLl9hY3RpdmVEZXZpY2VzLnB1c2goZGV2aWNlLnRva2VuIHx8IGRldmljZSk7XG4gICAgdGhpcy5hY3RpdmVEZXZpY2VzID0gdGhpcy5fYWN0aXZlRGV2aWNlcztcbiAgfVxuXG4gIGFkZFBlbmRpbmdEZXZpY2UoZGV2aWNlKSB7XG4gICAgdGhpcy5fcGVuZGluZ0RldmljZXMucHVzaChkZXZpY2UudG9rZW4gfHwgZGV2aWNlKTtcbiAgICB0aGlzLnBlbmRpbmdEZXZpY2VzID0gdGhpcy5fcGVuZGluZ0RldmljZXM7XG4gIH1cblxuICByZW1vdmVBY3RpdmVEZXZpY2UoZGV2aWNlKSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5hY3RpdmVEZXZpY2VzLmluZGV4T2YoZGV2aWNlLnRva2VuIHx8IGRldmljZSk7XG4gICAgdGhpcy5fYWN0aXZlRGV2aWNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHRoaXMuYWN0aXZlRGV2aWNlcyA9IHRoaXMuX2FjdGl2ZURldmljZXM7XG4gIH1cblxuICByZW1vdmVQZW5kaW5nRGV2aWNlKGRldmljZSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMucGVuZGluZ0RldmljZXMuaW5kZXhPZihkZXZpY2UudG9rZW4gfHwgZGV2aWNlKTtcbiAgICB0aGlzLl9wZW5kaW5nRGV2aWNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHRoaXMucGVuZGluZ0RldmljZXMgPSB0aGlzLl9wZW5kaW5nRGV2aWNlcztcbiAgfVxuXG4gIGdldCBoaXN0b3J5KCkge1xuICAgIHJldHVybiB0aGlzLl9oaXN0b3J5O1xuICB9XG5cbiAgc2V0IGhpc3RvcnkodmFsdWUpIHtcbiAgICB0aGlzLl9oaXN0b3J5ID0gdmFsdWUgfHwgW107XG5cbiAgICB0aGlzLmhpc3RvcnlDaGFuZ2VkLmRpc3BhdGNoKHRoaXMuX2hpc3RvcnkpO1xuICAgIHRoaXMuX3VwZGF0ZUhpc3RvcnkoKTtcbiAgfVxuXG4gIGFkZEhpc3RvcnkobWVzc2FnZSkge1xuICAgIHRoaXMuX2hpc3RvcnkucHVzaChtZXNzYWdlKTtcbiAgICB0aGlzLmhpc3RvcnkgPSB0aGlzLl9oaXN0b3J5O1xuICB9XG5cbiAgZ2V0TGFzdFJlYWQoZGV2aWNlKSB7XG4gICAgbGV0IHRva2VuID0gZGV2aWNlLnRva2VuIHx8IGRldmljZTtcbiAgICByZXR1cm4gdGhpcy5fbGFzdFJlYWRzW3Rva2VuXSB8fCBudWxsO1xuICB9XG5cbiAgc2V0TGFzdFJlYWQoZGV2aWNlLCB2YWx1ZSkge1xuICAgIGxldCB0b2tlbiA9IGRldmljZS50b2tlbiB8fCBkZXZpY2U7XG4gICAgdGhpcy5fbGFzdFJlYWRzW3Rva2VuXSA9IHZhbHVlO1xuICAgIHRoaXMuX3VwZGF0ZVByZWZlcmVuY2VzKCk7XG4gIH1cblxuICBzYXZlKCkge1xuICAgIHRoaXMuX3VwZGF0ZUhpc3RvcnkoKTtcbiAgICB0aGlzLl91cGRhdGVQcmVmZXJlbmNlcygpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5faXNDb25uZWN0ZWQgPSB0aGlzLl9pc0VuYWJsZWQgPSB0aGlzLl9pc1ByZXNlbnQgPSBmYWxzZTtcbiAgICB0aGlzLl9oaXN0b3J5ID0gW107XG4gICAgdGhpcy5fYWN0aXZlRGV2aWNlcyA9IFtdO1xuICAgIHRoaXMuX3BlbmRpbmdEZXZpY2VzID0gW107XG5cbiAgICB0aGlzLl9oaXN0b3J5U3RvcmUuY2xlYXIoKTtcbiAgICB0aGlzLl9wcmVmZXJlbmNlc1N0b3JlLmNsZWFyKCk7XG4gIH1cblxuICBfdXBkYXRlSGlzdG9yeSgpIHtcbiAgICB0aGlzLl9oaXN0b3J5U3RvcmUud3JpdGUodGhpcy5oaXN0b3J5KTtcbiAgfVxuXG4gIF91cGRhdGVQcmVmZXJlbmNlcygpIHtcbiAgICB0aGlzLl9wcmVmZXJlbmNlc1N0b3JlLndyaXRlKHtcbiAgICAgIGlzX2VuYWJsZWQ6IHRoaXMuaXNFbmFibGVkLFxuICAgICAgYWN0aXZlX2RldmljZXM6IHRoaXMuYWN0aXZlRGV2aWNlcyxcbiAgICAgIHBlbmRpbmdfZGV2aWNlczogdGhpcy5wZW5kaW5nRGV2aWNlcyxcbiAgICAgIGxhc3RfcmVhZHM6IHRoaXMuX2xhc3RSZWFkc1xuICAgIH0pO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbW9kZWwvY3VzdG9tZXJtb2RlbC5qc1xuXG53aW5kb3cuYXBwLkN1c3RvbWVyTW9kZWwgPSBjbGFzcyBDdXN0b21lck1vZGVsIHtcbiAgLyogZ2xvYmFsIHNpZ25hbHMgKi9cblxuICBjb25zdHJ1Y3RvcihDb25maWcsIHN0b3JhZ2VQcm92aWRlcikge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuX2FjY291bnRTdG9yZSA9IHN0b3JhZ2VQcm92aWRlcignc25hcF9jdXN0b21lcicpO1xuXG4gICAgdGhpcy5fcHJvZmlsZSA9IG51bGw7XG5cbiAgICB0aGlzLl9pc0d1ZXN0ID0gZmFsc2U7XG4gICAgdGhpcy5faXNFbmFibGVkID0gQm9vbGVhbihDb25maWcuYWNjb3VudHMpO1xuXG4gICAgdGhpcy5wcm9maWxlQ2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgdGhpcy5fYWNjb3VudFN0b3JlLnJlYWQoKS50aGVuKGFjY291bnQgPT4ge1xuICAgICAgc2VsZi5faXNHdWVzdCA9IGFjY291bnQgJiYgYWNjb3VudC5pc19ndWVzdDtcblxuICAgICAgaWYgKCFhY2NvdW50IHx8IGFjY291bnQuaXNfZ3Vlc3QpIHtcbiAgICAgICAgc2VsZi5fcHJvZmlsZSA9IG51bGw7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2VsZi5fcHJvZmlsZSA9IGFjY291bnQucHJvZmlsZTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5wcm9maWxlQ2hhbmdlZC5kaXNwYXRjaChzZWxmLl9wcm9maWxlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBpc0VuYWJsZWQoKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5faXNFbmFibGVkKTtcbiAgfVxuXG4gIGdldCBpc0F1dGhlbnRpY2F0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNFbmFibGVkICYmIChCb29sZWFuKHRoaXMucHJvZmlsZSkgfHwgdGhpcy5pc0d1ZXN0KTtcbiAgfVxuXG4gIGdldCBpc0d1ZXN0KCkge1xuICAgIHJldHVybiB0aGlzLmlzRW5hYmxlZCAmJiBCb29sZWFuKHRoaXMuX2lzR3Vlc3QpO1xuICB9XG5cbiAgZ2V0IGhhc0NyZWRlbnRpYWxzKCkge1xuICAgIHJldHVybiBCb29sZWFuKHRoaXMuaXNBdXRoZW50aWNhdGVkICYmICF0aGlzLmlzR3Vlc3QgJiYgdGhpcy5wcm9maWxlLnR5cGUgPT09IDEpO1xuICB9XG5cbiAgZ2V0IHByb2ZpbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb2ZpbGU7XG4gIH1cblxuICBzZXQgcHJvZmlsZSh2YWx1ZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLl9wcm9maWxlID0gdmFsdWUgfHwgbnVsbDtcbiAgICB0aGlzLl9pc0d1ZXN0ID0gdmFsdWUgPT09ICdndWVzdCc7XG5cbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICB0aGlzLl9hY2NvdW50U3RvcmUuY2xlYXIoKS50aGVuKCgpID0+IHtcbiAgICAgICAgc2VsZi5faXNHdWVzdCA9IGZhbHNlO1xuICAgICAgICBzZWxmLnByb2ZpbGVDaGFuZ2VkLmRpc3BhdGNoKHNlbGYuX3Byb2ZpbGUpO1xuICAgICAgICBzZWxmLnNlc3Npb24gPSBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fYWNjb3VudFN0b3JlLndyaXRlKHtcbiAgICAgICAgcHJvZmlsZTogdGhpcy5fcHJvZmlsZSxcbiAgICAgICAgaXNfZ3Vlc3Q6IHRoaXMuX2lzR3Vlc3RcbiAgICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICBzZWxmLnByb2ZpbGVDaGFuZ2VkLmRpc3BhdGNoKHNlbGYuX3Byb2ZpbGUpO1xuXG4gICAgICAgIGlmICghdmFsdWUgfHwgc2VsZi5faXNHdWVzdCkge1xuICAgICAgICAgIHNlbGYuc2Vzc2lvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21vZGVsL2RhdGFtb2RlbC5qc1xuXG53aW5kb3cuYXBwLkRhdGFNb2RlbCA9IGNsYXNzIERhdGFNb2RlbCB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgc2VydmljZSwgc3RvcmFnZVByb3ZpZGVyKSB7XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuX3NlcnZpY2UgPSBzZXJ2aWNlO1xuICAgIHRoaXMuX2NhY2hlID0ge307XG4gICAgdGhpcy5fc3RvcmFnZVByb3ZpZGVyID0gc3RvcmFnZVByb3ZpZGVyO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZWxmLl9jYWNoZSA9IHt9O1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgZGlnZXN0KCkge1xuICAgIHJldHVybiB0aGlzLl9zZXJ2aWNlLnNuYXAuZ2V0RGlnZXN0KHRoaXMuX2NvbmZpZy5sb2NhdGlvbik7XG4gIH1cblxuICBob21lKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRTbmFwRGF0YSgnaG9tZScsICdnZXRNZW51cycpO1xuICB9XG5cbiAgYWR2ZXJ0aXNlbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldFNuYXBEYXRhKCdhZHZlcnRpc2VtZW50cycsICdnZXRBZHZlcnRpc2VtZW50cycpO1xuICB9XG5cbiAgYmFja2dyb3VuZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldFNuYXBEYXRhKCdiYWNrZ3JvdW5kcycsICdnZXRCYWNrZ3JvdW5kcycpO1xuICB9XG5cbiAgZWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldFNuYXBEYXRhKCdlbGVtZW50cycsICdnZXRFbGVtZW50cycpO1xuICB9XG5cbiAgbWVudShpZCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRTbmFwRGF0YSgnbWVudScsICdnZXRNZW51JywgaWQpO1xuICB9XG5cbiAgY2F0ZWdvcnkoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0U25hcERhdGEoJ2NhdGVnb3J5JywgJ2dldE1lbnVDYXRlZ29yeScsIGlkKTtcbiAgfVxuXG4gIGl0ZW0oaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0U25hcERhdGEoJ2l0ZW0nLCAnZ2V0TWVudUl0ZW0nLCBpZCk7XG4gIH1cblxuICBzdXJ2ZXlzKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRTbmFwRGF0YSgnc3VydmV5cycsICdnZXRTdXJ2ZXlzJyk7XG4gIH1cblxuICBzZWF0cygpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlZCgnc2VhdHMnKSB8fCB0aGlzLl9zZXJ2aWNlLmxvY2F0aW9uLmdldFNlYXRzKCkudGhlbihkYXRhID0+IHtcbiAgICAgIGRhdGEgPSBkYXRhIHx8IFtdO1xuICAgICAgc2VsZi5fc3RvcmUoZGF0YSwgJ3NlYXRzJyk7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9KTtcbiAgfVxuXG4gIG1lZGlhKG1lZGlhKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICB0b2tlbiA9IG1lZGlhLnRva2VuICsgJ18nICsgbWVkaWEud2lkdGggKyAnXycgKyBtZWRpYS5oZWlnaHQ7XG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlZCgnbWVkaWEnLCB0b2tlbikgfHwgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKG1lZGlhLndpZHRoICYmIG1lZGlhLmhlaWdodCkge1xuICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKGltZyk7XG4gICAgICAgIGltZy5vbmVycm9yID0gKGUpID0+IHJlamVjdChlKTtcbiAgICAgICAgaW1nLnNyYyA9IHNlbGYuX2dldE1lZGlhVXJsKG1lZGlhLCBtZWRpYS53aWR0aCwgbWVkaWEuaGVpZ2h0LCBtZWRpYS5leHRlbnNpb24pO1xuXG4gICAgICAgIHNlbGYuX3N0b3JlKGltZywgJ21lZGlhJywgdG9rZW4pO1xuXG4gICAgICAgIGlmIChpbWcuY29tcGxldGUpIHtcbiAgICAgICAgICByZXNvbHZlKGltZyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZWplY3QoJ01pc3NpbmcgaW1hZ2UgZGltZW5zaW9ucycpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2dldFNuYXBEYXRhKG5hbWUsIG1ldGhvZCwgaWQpIHtcbiAgICB2YXIgY2FjaGVkID0gdGhpcy5fY2FjaGVkKG5hbWUsIGlkKTtcblxuICAgIGlmIChjYWNoZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY2FjaGVkKTtcbiAgICB9XG5cbiAgICBpZiAobmF2aWdhdG9yLm9uTGluZSA9PT0gZmFsc2UpIHtcbiAgICAgIHZhciBzdG9yZWQgPSB0aGlzLl9zdG9yZWQobmFtZSwgaWQpO1xuXG4gICAgICBpZiAoc3RvcmVkKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc3RvcmVkKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYERhdGEgaXMgbm90IGF2YWlsYWJsZTogLyR7bmFtZX0vJHtpZH1gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fc2VydmljZS5zbmFwW21ldGhvZF0odGhpcy5fY29uZmlnLmxvY2F0aW9uLCBpZCkudGhlbihkYXRhID0+IHtcbiAgICAgIGRhdGEgPSBkYXRhIHx8IFtdO1xuICAgICAgdGhpcy5fc3RvcmUoZGF0YSwgbmFtZSwgaWQpO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSk7XG4gIH1cblxuICBfY2FjaGVkKGdyb3VwLCBpZCkge1xuICAgIGlmIChpZCAmJiB0aGlzLl9jYWNoZVtncm91cF0gJiYgdGhpcy5fY2FjaGVbZ3JvdXBdW2lkXSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9jYWNoZVtncm91cF1baWRdKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWlkICYmIHRoaXMuX2NhY2hlW2dyb3VwXSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9jYWNoZVtncm91cF0pO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgX3N0b3JlZChncm91cCwgaWQpIHtcbiAgICBsZXQgc3RvcmFnZSA9IHRoaXMuX2dldFN0b3JhZ2UoZ3JvdXAsIGlkKTtcblxuICAgIHJldHVybiBzdG9yYWdlLnJlYWRTeW5jKCk7XG4gIH1cblxuICBfc3RvcmUoZGF0YSwgZ3JvdXAsIGlkKSB7XG4gICAgaWYgKGlkKSB7XG4gICAgICBpZiAoIXRoaXMuX2NhY2hlW2dyb3VwXSkge1xuICAgICAgICB0aGlzLl9jYWNoZVtncm91cF0gPSB7fTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fY2FjaGVbZ3JvdXBdW2lkXSA9IGRhdGE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fY2FjaGVbZ3JvdXBdID0gZGF0YTtcbiAgICB9XG5cbiAgICBpZiAoZ3JvdXAgIT09ICdtZWRpYScpIHtcbiAgICAgIGxldCBzdG9yYWdlID0gdGhpcy5fZ2V0U3RvcmFnZShncm91cCwgaWQpO1xuICAgICAgc3RvcmFnZS53cml0ZShkYXRhKTtcbiAgICB9XG4gIH1cblxuICBfZ2V0U3RvcmFnZShncm91cCwgaWQpIHtcbiAgICBpZiAoaWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdG9yYWdlUHJvdmlkZXIoYHNuYXBfY2FjaGVfJHtncm91cH1fJHtpZH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fc3RvcmFnZVByb3ZpZGVyKGBzbmFwX2NhY2hlXyR7Z3JvdXB9YCk7XG4gIH1cblxuICBfZ2V0TWVkaWFVcmwoKSB7XG5cbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21vZGVsL2xvY2F0aW9ubW9kZWwuanNcblxud2luZG93LmFwcC5Mb2NhdGlvbk1vZGVsID0gY2xhc3MgTG9jYXRpb25Nb2RlbCBleHRlbmRzIGFwcC5BYnN0cmFjdE1vZGVsIHtcbiAgY29uc3RydWN0b3IoRHRzQXBpLCBTTkFQRW52aXJvbm1lbnQsIFNOQVBMb2NhdGlvbiwgc3RvcmFnZVByb3ZpZGVyKSB7XG4gICAgc3VwZXIoc3RvcmFnZVByb3ZpZGVyKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuX2RlZmluZVByb3BlcnR5KCdkZXZpY2UnLCAnc25hcF9kZXZpY2UnLCBudWxsLCAoKSA9PiBEdHNBcGkuaGFyZHdhcmUuZ2V0Q3VycmVudERldmljZSgpKTtcbiAgICB0aGlzLl9kZWZpbmVQcm9wZXJ0eSgnZGV2aWNlcycsIHVuZGVmaW5lZCwgW10pO1xuICAgIHRoaXMuX2RlZmluZVByb3BlcnR5KCdzZWF0JywgJ3NuYXBfc2VhdCcsIG51bGwsICgpID0+IER0c0FwaS5sb2NhdGlvbi5nZXRDdXJyZW50U2VhdCgpKTtcbiAgICB0aGlzLl9kZWZpbmVQcm9wZXJ0eSgnc2VhdHMnLCAnc25hcF9zZWF0cycsIFtdLCAoKSA9PiBEdHNBcGkubG9jYXRpb24uZ2V0U2VhdHMoKSk7XG4gICAgdGhpcy5fZGVmaW5lUHJvcGVydHkoJ2xvY2F0aW9uJywgJ3NuYXBfbG9jYXRpb24nLCBTTkFQTG9jYXRpb24sICgpID0+IHtcbiAgICAgIGlmICghc2VsZi5kZXZpY2UpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdEZXZpY2UgZGF0YSBpcyBtaXNzaW5nLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gRHRzQXBpLnNuYXAuZ2V0Q29uZmlnKHNlbGYuZGV2aWNlLmxvY2F0aW9uX3Rva2VuKTtcbiAgICB9KTtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgYWRkRGV2aWNlKGRldmljZSkge1xuICAgIHRoaXMuZGV2aWNlcy5wdXNoKGRldmljZSk7XG4gICAgdGhpcy5fcHJvcGVydHlDaGFuZ2VkKCdkZXZpY2UnKTtcbiAgfVxuXG4gIGdldFNlYXQodG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5zZWF0cy5maWx0ZXIoc2VhdCA9PiBzZWF0LnRva2VuID09PSB0b2tlbilbMF0gfHwgbnVsbDtcbiAgfVxuXG4gIGdldERldmljZShkZXZpY2UpIHtcbiAgICByZXR1cm4gdGhpcy5kZXZpY2VzLmZpbHRlcihkID0+IChkZXZpY2UudG9rZW4gfHwgZGV2aWNlKSA9PT0gZC50b2tlbilbMF0gfHwgbnVsbDtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21vZGVsL29yZGVybW9kZWwuanNcblxud2luZG93LmFwcC5PcmRlck1vZGVsID0gY2xhc3MgT3JkZXJNb2RlbCB7XG4gIC8qIGdsb2JhbCBzaWduYWxzICovXG5cbiAgY29uc3RydWN0b3Ioc3RvcmFnZVByb3ZpZGVyKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5SRVFVRVNUX0tJTkRfT1JERVIgPSAxO1xuICAgIHRoaXMuUkVRVUVTVF9LSU5EX0FTU0lTVEFOQ0UgPSAyO1xuICAgIHRoaXMuUkVRVUVTVF9LSU5EX0NMT1NFT1VUID0gMztcblxuICAgIHRoaXMucHJpY2VGb3JtYXQgPSAnezB9JztcbiAgICB0aGlzLnRheCA9IDA7XG5cbiAgICB0aGlzLl9vcmRlckNhcnQgPSBbXTtcbiAgICB0aGlzLl9vcmRlckNhcnRTdGFzaCA9IFtdO1xuICAgIHRoaXMuX29yZGVyQ2hlY2sgPSBbXTtcbiAgICB0aGlzLl9vcmRlclRpY2tldCA9IHt9O1xuXG4gICAgdGhpcy5fcmVxdWVzdFdhdGNoZXJzID0ge307XG5cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gICAgU2lnbmFsc1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIHRoaXMub3JkZXJDYXJ0Q2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMub3JkZXJDYXJ0U3Rhc2hDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5vcmRlckNoZWNrQ2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMub3JkZXJUaWNrZXRDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5vcmRlclJlcXVlc3RDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5hc3Npc3RhbmNlUmVxdWVzdENoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLmNsb3Nlb3V0UmVxdWVzdENoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcblxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAgICBJbml0aWFsaXphdGlvblxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGZ1bmN0aW9uIHByZXBhcmVDYXJ0RGF0YShpdGVtcykge1xuICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc3RvcmVDYXJ0RGF0YShpdGVtcykge1xuICAgICAgcmV0dXJuIGl0ZW1zLm1hcCA/IGl0ZW1zLm1hcChhcHAuQ2FydEl0ZW0ucHJvdG90eXBlLnJlc3RvcmUpIDogW107XG4gICAgfVxuXG4gICAgdGhpcy5fb3JkZXJDYXJ0U3RvcmFnZSA9IHN0b3JhZ2VQcm92aWRlcignc25hcF9vcmRlcl9jYXJ0Jyk7XG4gICAgdGhpcy5fb3JkZXJDYXJ0U3RvcmFnZS5yZWFkKCkudGhlbih2YWx1ZSA9PiB7XG4gICAgICBzZWxmLm9yZGVyQ2FydCA9IHJlc3RvcmVDYXJ0RGF0YSh2YWx1ZSB8fCBbXSk7XG4gICAgICBzZWxmLm9yZGVyQ2FydENoYW5nZWQuZGlzcGF0Y2goc2VsZi5vcmRlckNhcnQpO1xuICAgICAgc2VsZi5vcmRlckNhcnRDaGFuZ2VkLmFkZChpdGVtcyA9PiB7XG4gICAgICAgIHNlbGYuX29yZGVyQ2FydFN0b3JhZ2Uud3JpdGUocHJlcGFyZUNhcnREYXRhKGl0ZW1zKSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMuX29yZGVyQ2FydFN0YXNoU3RvcmFnZSA9IHN0b3JhZ2VQcm92aWRlcignc25hcF9vcmRlcl9jYXJ0X3N0YXNoJyk7XG4gICAgdGhpcy5fb3JkZXJDYXJ0U3Rhc2hTdG9yYWdlLnJlYWQoKS50aGVuKHZhbHVlID0+IHtcbiAgICAgIHNlbGYub3JkZXJDYXJ0U3Rhc2ggPSByZXN0b3JlQ2FydERhdGEodmFsdWUgfHwgW10pO1xuICAgICAgc2VsZi5vcmRlckNhcnRTdGFzaENoYW5nZWQuZGlzcGF0Y2goc2VsZi5vcmRlckNhcnRTdGFzaCk7XG4gICAgICBzZWxmLm9yZGVyQ2FydFN0YXNoQ2hhbmdlZC5hZGQoaXRlbXMgPT4ge1xuICAgICAgICBzZWxmLl9vcmRlckNhcnRTdGFzaFN0b3JhZ2Uud3JpdGUocHJlcGFyZUNhcnREYXRhKGl0ZW1zKSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMuX29yZGVyQ2hlY2tTdG9yYWdlID0gc3RvcmFnZVByb3ZpZGVyKCdzbmFwX29yZGVyX2NoZWNrJyk7XG4gICAgdGhpcy5fb3JkZXJDaGVja1N0b3JhZ2UucmVhZCgpLnRoZW4odmFsdWUgPT4ge1xuICAgICAgc2VsZi5vcmRlckNoZWNrID0gcmVzdG9yZUNhcnREYXRhKHZhbHVlIHx8IFtdKTtcbiAgICAgIHNlbGYub3JkZXJDaGVja0NoYW5nZWQuZGlzcGF0Y2goc2VsZi5vcmRlckNoZWNrKTtcbiAgICAgIHNlbGYub3JkZXJDaGVja0NoYW5nZWQuYWRkKGl0ZW1zID0+IHtcbiAgICAgICAgc2VsZi5fb3JkZXJDaGVja1N0b3JhZ2Uud3JpdGUocHJlcGFyZUNhcnREYXRhKGl0ZW1zKSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMuX29yZGVyVGlja2V0U3RvcmFnZSA9IHN0b3JhZ2VQcm92aWRlcignc25hcF9vcmRlcl90aWNrZXQnKTtcbiAgICB0aGlzLl9vcmRlclRpY2tldFN0b3JhZ2UucmVhZCgpLnRoZW4odmFsdWUgPT4ge1xuICAgICAgc2VsZi5vcmRlclRpY2tldCA9IHZhbHVlIHx8IHt9O1xuICAgICAgc2VsZi5vcmRlclRpY2tldENoYW5nZWQuZGlzcGF0Y2goc2VsZi5vcmRlclRpY2tldCk7XG4gICAgICBzZWxmLm9yZGVyVGlja2V0Q2hhbmdlZC5hZGQoZGF0YSA9PiB7XG4gICAgICAgIHNlbGYuX29yZGVyVGlja2V0U3RvcmFnZS53cml0ZShkYXRhKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFByb3BlcnRpZXNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBnZXQgb3JkZXJDYXJ0KCkge1xuICAgIHJldHVybiB0aGlzLl9vcmRlckNhcnQ7XG4gIH1cblxuICBzZXQgb3JkZXJDYXJ0KHZhbHVlKSB7XG4gICAgdGhpcy5fb3JkZXJDYXJ0ID0gdmFsdWUgfHwgW107XG4gICAgdGhpcy5vcmRlckNhcnRDaGFuZ2VkLmRpc3BhdGNoKHRoaXMub3JkZXJDYXJ0KTtcbiAgfVxuXG4gIGdldCBvcmRlckNhcnRTdGFzaCgpIHtcbiAgICByZXR1cm4gdGhpcy5fb3JkZXJDYXJ0U3Rhc2g7XG4gIH1cblxuICBzZXQgb3JkZXJDYXJ0U3Rhc2godmFsdWUpIHtcbiAgICB0aGlzLl9vcmRlckNhcnRTdGFzaCA9IHZhbHVlIHx8IFtdO1xuICAgIHRoaXMub3JkZXJDYXJ0U3Rhc2hDaGFuZ2VkLmRpc3BhdGNoKHRoaXMub3JkZXJDYXJ0U3Rhc2gpO1xuICB9XG5cbiAgZ2V0IG9yZGVyQ2hlY2soKSB7XG4gICAgcmV0dXJuIHRoaXMuX29yZGVyQ2hlY2s7XG4gIH1cblxuICBzZXQgb3JkZXJDaGVjayh2YWx1ZSkge1xuICAgIHRoaXMuX29yZGVyQ2hlY2sgPSB2YWx1ZSB8fCBbXTtcbiAgICB0aGlzLm9yZGVyQ2hlY2tDaGFuZ2VkLmRpc3BhdGNoKHRoaXMub3JkZXJDaGVjayk7XG4gIH1cblxuICBnZXQgb3JkZXJUaWNrZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX29yZGVyVGlja2V0O1xuICB9XG5cbiAgc2V0IG9yZGVyVGlja2V0KHZhbHVlKSB7XG4gICAgdGhpcy5fb3JkZXJUaWNrZXQgPSB2YWx1ZSB8fCB7fTtcbiAgICB0aGlzLm9yZGVyVGlja2V0Q2hhbmdlZC5kaXNwYXRjaCh0aGlzLm9yZGVyVGlja2V0KTtcbiAgfVxuXG4gIGdldCBvcmRlclJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0V2F0Y2hlcih0aGlzLlJFUVVFU1RfS0lORF9PUkRFUik7XG4gIH1cblxuICBnZXQgYXNzaXN0YW5jZVJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0V2F0Y2hlcih0aGlzLlJFUVVFU1RfS0lORF9BU1NJU1RBTkNFKTtcbiAgfVxuXG4gIGdldCBjbG9zZW91dFJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0V2F0Y2hlcih0aGlzLlJFUVVFU1RfS0lORF9DTE9TRU9VVCk7XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHVibGljIG1ldGhvZHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIFJlcXVlc3Qgd2F0Y2hlcnNcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIGdldFdhdGNoZXIoa2luZCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0V2F0Y2hlcnNba2luZF07XG4gIH1cblxuICBhZGRXYXRjaGVyKGtpbmQsIHdhdGNoZXIpIHtcbiAgICB0aGlzLmNsZWFyV2F0Y2hlcihraW5kKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB3YXRjaGVyLnByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICBpZiAoc2VsZi5nZXRXYXRjaGVyKGtpbmQpICE9PSB3YXRjaGVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlbGYuY2xlYXJXYXRjaGVyKGtpbmQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcmVxdWVzdFdhdGNoZXJzW2tpbmRdID0gd2F0Y2hlcjtcbiAgICB0aGlzLl9ub3RpZnlDaGFuZ2Uoa2luZCk7XG4gIH1cblxuICBjbGVhcldhdGNoZXIoa2luZCkge1xuICAgIHZhciB3YXRjaGVyID0gdGhpcy5nZXRXYXRjaGVyKGtpbmQpO1xuXG4gICAgaWYgKHdhdGNoZXIpIHtcbiAgICAgIHdhdGNoZXIuZGlzcG9zZSgpO1xuICAgIH1cblxuICAgIGRlbGV0ZSB0aGlzLl9yZXF1ZXN0V2F0Y2hlcnNba2luZF07XG4gICAgdGhpcy5fbm90aWZ5Q2hhbmdlKGtpbmQpO1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFByaXZhdGUgbWV0aG9kc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIF9ub3RpZnlDaGFuZ2Uoa2luZCkge1xuICAgIHZhciBzaWduYWw7XG5cbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgIGNhc2UgdGhpcy5SRVFVRVNUX0tJTkRfT1JERVI6XG4gICAgICAgIHNpZ25hbCA9IHRoaXMub3JkZXJSZXF1ZXN0Q2hhbmdlZDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHRoaXMuUkVRVUVTVF9LSU5EX0FTU0lTVEFOQ0U6XG4gICAgICAgIHNpZ25hbCA9IHRoaXMuYXNzaXN0YW5jZVJlcXVlc3RDaGFuZ2VkO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgdGhpcy5SRVFVRVNUX0tJTkRfQ0xPU0VPVVQ6XG4gICAgICAgIHNpZ25hbCA9IHRoaXMuY2xvc2VvdXRSZXF1ZXN0Q2hhbmdlZDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKHNpZ25hbCkge1xuICAgICAgc2lnbmFsLmRpc3BhdGNoKHRoaXMuZ2V0V2F0Y2hlcihraW5kKSk7XG4gICAgfVxuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbW9kZWwvc2Vzc2lvbm1vZGVsLmpzXG5cbndpbmRvdy5hcHAuU2Vzc2lvbk1vZGVsID0gY2xhc3MgU2Vzc2lvbk1vZGVsIGV4dGVuZHMgYXBwLkFic3RyYWN0TW9kZWwgIHtcbiAgY29uc3RydWN0b3Ioc3RvcmFnZVByb3ZpZGVyKSB7XG4gICAgc3VwZXIoc3RvcmFnZVByb3ZpZGVyKTtcblxuICAgIHRoaXMuX2RlZmluZVByb3BlcnR5KCdhcGlUb2tlbicsICdzbmFwX2FjY2Vzc3Rva2VuJyk7XG4gICAgdGhpcy5fZGVmaW5lUHJvcGVydHkoJ2N1c3RvbWVyVG9rZW4nLCAnc25hcF9jdXN0b21lcl9hY2Nlc3N0b2tlbicpO1xuXG4gICAgdGhpcy5pbml0aWFsaXplKCk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tb2RlbC9zaGVsbG1vZGVsLmpzXG5cbndpbmRvdy5hcHAuU2hlbGxNb2RlbCA9IGNsYXNzIFNoZWxsTW9kZWwge1xuICAvKiBnbG9iYWwgc2lnbmFscyAqL1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2JhY2tncm91bmRzID0gW107XG4gICAgdGhpcy5iYWNrZ3JvdW5kc0NoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLl9zY3JlZW5zYXZlcnMgPSBbXTtcbiAgICB0aGlzLnNjcmVlbnNhdmVyc0NoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLl9wYWdlQmFja2dyb3VuZHMgPSBbXTtcbiAgICB0aGlzLnBhZ2VCYWNrZ3JvdW5kc0NoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLl9lbGVtZW50cyA9IFtdO1xuICAgIHRoaXMuZWxlbWVudHNDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5fcHJpY2VGb3JtYXQgPSAnezB9JztcbiAgICB0aGlzLnByaWNlRm9ybWF0Q2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuX2N1cnJlbmN5ID0gJyc7XG4gICAgdGhpcy5jdXJyZW5jeUNoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgfVxuXG4gIGdldCBiYWNrZ3JvdW5kcygpIHtcbiAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZHM7XG4gIH1cblxuICBzZXQgYmFja2dyb3VuZHModmFsdWUpIHtcbiAgICB0aGlzLl9iYWNrZ3JvdW5kcyA9IHZhbHVlO1xuICAgIHRoaXMuYmFja2dyb3VuZHNDaGFuZ2VkLmRpc3BhdGNoKHZhbHVlKTtcbiAgfVxuXG4gIGdldCBzY3JlZW5zYXZlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NjcmVlbnNhdmVycztcbiAgfVxuXG4gIHNldCBzY3JlZW5zYXZlcnModmFsdWUpIHtcbiAgICB0aGlzLl9zY3JlZW5zYXZlcnMgPSB2YWx1ZTtcbiAgICB0aGlzLnNjcmVlbnNhdmVyc0NoYW5nZWQuZGlzcGF0Y2godmFsdWUpO1xuICB9XG5cbiAgZ2V0IHBhZ2VCYWNrZ3JvdW5kcygpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFnZUJhY2tncm91bmRzO1xuICB9XG5cbiAgc2V0IHBhZ2VCYWNrZ3JvdW5kcyh2YWx1ZSkge1xuICAgIHRoaXMuX3BhZ2VCYWNrZ3JvdW5kcyA9IHZhbHVlO1xuICAgIHRoaXMucGFnZUJhY2tncm91bmRzQ2hhbmdlZC5kaXNwYXRjaCh2YWx1ZSk7XG4gIH1cblxuICBnZXQgZWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRzO1xuICB9XG5cbiAgc2V0IGVsZW1lbnRzKHZhbHVlKSB7XG4gICAgdGhpcy5fZWxlbWVudHMgPSB2YWx1ZTtcbiAgICB0aGlzLmVsZW1lbnRzQ2hhbmdlZC5kaXNwYXRjaCh2YWx1ZSk7XG4gIH1cblxuICBnZXQgcHJpY2VGb3JtYXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ByaWNlRm9ybWF0O1xuICB9XG5cbiAgc2V0IHByaWNlRm9ybWF0KHZhbHVlKSB7XG4gICAgdGhpcy5fcHJpY2VGb3JtYXQgPSB2YWx1ZTtcbiAgICB0aGlzLnByaWNlRm9ybWF0Q2hhbmdlZC5kaXNwYXRjaCh2YWx1ZSk7XG4gIH1cblxuICBnZXQgY3VycmVuY3koKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbmN5O1xuICB9XG5cbiAgc2V0IGN1cnJlbmN5KHZhbHVlKSB7XG4gICAgdGhpcy5fY3VycmVuY3kgPSB2YWx1ZTtcbiAgICB0aGlzLmN1cnJlbmN5Q2hhbmdlZC5kaXNwYXRjaCh2YWx1ZSk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tb2RlbC9zdXJ2ZXltb2RlbC5qc1xuXG53aW5kb3cuYXBwLlN1cnZleU1vZGVsID0gY2xhc3MgU3VydmV5TW9kZWwge1xuICAvKiBnbG9iYWwgc2lnbmFscyAqL1xuXG4gIGNvbnN0cnVjdG9yKENvbmZpZywgc3RvcmFnZVByb3ZpZGVyKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5faXNFbmFibGVkID0gQm9vbGVhbihDb25maWcuc3VydmV5cyk7XG4gICAgdGhpcy5fc3VydmV5cyA9IHt9O1xuXG4gICAgdGhpcy5fc3RvcmUgPSBzdG9yYWdlUHJvdmlkZXIoJ3NuYXBfc3VydmV5Jyk7XG5cbiAgICB0aGlzLl9mZWVkYmFja1N1cnZleSA9IG51bGw7XG4gICAgdGhpcy5mZWVkYmFja1N1cnZleUNoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcblxuICAgIHRoaXMuc3VydmV5Q29tcGxldGVkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5cbiAgICB0aGlzLl9zdG9yZS5yZWFkKCkudGhlbih2YWx1ZSA9PiB7XG4gICAgICBzZWxmLl9zdXJ2ZXlzID0gdmFsdWUgfHwgc2VsZi5fc3VydmV5cztcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBpc0VuYWJsZWQoKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5faXNFbmFibGVkKTtcbiAgfVxuXG4gIGdldCBmZWVkYmFja1N1cnZleSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZmVlZGJhY2tTdXJ2ZXk7XG4gIH1cblxuICBzZXQgZmVlZGJhY2tTdXJ2ZXkodmFsdWUpIHtcbiAgICB0aGlzLl9mZWVkYmFja1N1cnZleSA9IHZhbHVlO1xuICAgIHRoaXMuZmVlZGJhY2tTdXJ2ZXlDaGFuZ2VkLmRpc3BhdGNoKHRoaXMuX2ZlZWRiYWNrU3VydmV5KTtcbiAgfVxuXG4gIGdldCBmZWVkYmFja1N1cnZleUNvbXBsZXRlKCkge1xuICAgIHJldHVybiBCb29sZWFuKHRoaXMuX3N1cnZleXMuZmVlZGJhY2spO1xuICB9XG5cbiAgc2V0IGZlZWRiYWNrU3VydmV5Q29tcGxldGUodmFsdWUpIHtcbiAgICB0aGlzLl9zdXJ2ZXlzLmZlZWRiYWNrID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgdGhpcy5fc3RvcmUud3JpdGUodGhpcy5fc3VydmV5cyk7XG5cbiAgICB0aGlzLnN1cnZleUNvbXBsZXRlZC5kaXNwYXRjaCh0aGlzLmZlZWRiYWNrU3VydmV5KTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL3BlcnNpc3RlbmNlL2FwcGNhY2hlLmpzXG5cbihmdW5jdGlvbigpIHtcbiAgLyogZ2xvYmFsIHNpZ25hbHMgKi9cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgQXBwQ2FjaGVcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICB2YXIgQXBwQ2FjaGUgPSBmdW5jdGlvbihMb2dnZXIpIHtcbiAgICB0aGlzLl9Mb2dnZXIgPSBMb2dnZXI7XG4gICAgdGhpcy5fY2FjaGUgPSB3aW5kb3cuYXBwbGljYXRpb25DYWNoZTtcbiAgICB0aGlzLl9hcHBDYWNoZUV2ZW50cyA9IFtcbiAgICAgICdjYWNoZWQnLFxuICAgICAgJ2NoZWNraW5nJyxcbiAgICAgICdkb3dubG9hZGluZycsXG4gICAgICAnY2FjaGVkJyxcbiAgICAgICdub3VwZGF0ZScsXG4gICAgICAnb2Jzb2xldGUnLFxuICAgICAgJ3VwZGF0ZXJlYWR5JyxcbiAgICAgICdwcm9ncmVzcydcbiAgICBdO1xuXG4gICAgdmFyIHN0YXR1cyA9IHRoaXMuX2dldENhY2hlU3RhdHVzKCk7XG5cbiAgICB0aGlzLl9Mb2dnZXIuZGVidWcoJ0NhY2hlIHN0YXR1czogJyArIHN0YXR1cyk7XG5cbiAgICB0aGlzLmNvbXBsZXRlID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5faXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgIHRoaXMuX2lzVXBkYXRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2hhZEVycm9ycyA9IGZhbHNlO1xuXG4gICAgaWYgKHN0YXR1cyA9PT0gJ1VOQ0FDSEVEJykge1xuICAgICAgdGhpcy5faXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICB0aGlzLmNvbXBsZXRlLmRpc3BhdGNoKGZhbHNlKTtcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5fZXJyb3JIYW5kbGVyID0gZnVuY3Rpb24oZSkge1xuICAgICAgc2VsZi5faGFuZGxlQ2FjaGVFcnJvcihlKTtcbiAgICB9O1xuICAgIHRoaXMuX2V2ZW50SGFuZGxlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHNlbGYuX2hhbmRsZUNhY2hlRXZlbnQoZSk7XG4gICAgfTtcblxuICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XG4gIH07XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcENhY2hlLnByb3RvdHlwZSwgJ2lzQ29tcGxldGUnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX2lzQ29tcGxldGU7IH1cbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcENhY2hlLnByb3RvdHlwZSwgJ2lzVXBkYXRlZCcsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5faXNVcGRhdGVkOyB9XG4gIH0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBDYWNoZS5wcm90b3R5cGUsICdoYWRFcnJvcnMnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX2hhZEVycm9yczsgfVxuICB9KTtcblxuICBBcHBDYWNoZS5wcm90b3R5cGUuX2dldENhY2hlU3RhdHVzID0gZnVuY3Rpb24oKSB7XG4gICAgc3dpdGNoICh0aGlzLl9jYWNoZS5zdGF0dXMpIHtcbiAgICAgIGNhc2UgdGhpcy5fY2FjaGUuVU5DQUNIRUQ6XG4gICAgICAgIHJldHVybiAnVU5DQUNIRUQnO1xuICAgICAgY2FzZSB0aGlzLl9jYWNoZS5JRExFOlxuICAgICAgICByZXR1cm4gJ0lETEUnO1xuICAgICAgY2FzZSB0aGlzLl9jYWNoZS5DSEVDS0lORzpcbiAgICAgICAgcmV0dXJuICdDSEVDS0lORyc7XG4gICAgICBjYXNlIHRoaXMuX2NhY2hlLkRPV05MT0FESU5HOlxuICAgICAgICByZXR1cm4gJ0RPV05MT0FESU5HJztcbiAgICAgIGNhc2UgdGhpcy5fY2FjaGUuVVBEQVRFUkVBRFk6XG4gICAgICAgIHJldHVybiAnVVBEQVRFUkVBRFknO1xuICAgICAgY2FzZSB0aGlzLl9jYWNoZS5PQlNPTEVURTpcbiAgICAgICAgcmV0dXJuICdPQlNPTEVURSc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJ1VLTk9XTiBDQUNIRSBTVEFUVVMnO1xuICAgIH1cbiAgfTtcblxuICBBcHBDYWNoZS5wcm90b3R5cGUuX3Jlc3VsdCA9IGZ1bmN0aW9uKGVycm9yLCB1cGRhdGVkKSB7XG4gICAgdGhpcy5faXNDb21wbGV0ZSA9IHRydWU7XG4gICAgdGhpcy5faXNVcGRhdGVkID0gdXBkYXRlZDtcbiAgICB0aGlzLl9oYWRFcnJvcnMgPSAoZXJyb3IgIT0gbnVsbCk7XG4gICAgdGhpcy5jb21wbGV0ZS5kaXNwYXRjaCh1cGRhdGVkKTtcbiAgfTtcblxuICBBcHBDYWNoZS5wcm90b3R5cGUuX2FkZEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuX2NhY2hlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fZXJyb3JIYW5kbGVyKTtcbiAgICB0aGlzLl9hcHBDYWNoZUV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgIHNlbGYuX2NhY2hlLmFkZEV2ZW50TGlzdGVuZXIoZSwgc2VsZi5fZXZlbnRIYW5kbGVyKTtcbiAgICB9KTtcbiAgfTtcblxuICBBcHBDYWNoZS5wcm90b3R5cGUuX3JlbW92ZUV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuX2NhY2hlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fZXJyb3JIYW5kbGVyKTtcbiAgICB0aGlzLl9hcHBDYWNoZUV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgIHNlbGYuX2NhY2hlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSwgc2VsZi5fZXZlbnRIYW5kbGVyKTtcbiAgICB9KTtcbiAgfTtcblxuICBBcHBDYWNoZS5wcm90b3R5cGUuX2hhbmRsZUNhY2hlRXZlbnQgPSBmdW5jdGlvbihlKSB7XG4gICAgaWYgKGUudHlwZSAhPT0gJ3Byb2dyZXNzJykge1xuICAgICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdDYWNoZSBldmVudDogJyArIGUudHlwZSk7XG4gICAgICB0aGlzLl9Mb2dnZXIuZGVidWcoJ0NhY2hlIHN0YXR1czogJyArIHRoaXMuX2dldENhY2hlU3RhdHVzKCkpO1xuICAgIH1cblxuICAgIGlmIChlLnR5cGUgPT09ICd1cGRhdGVyZWFkeScpIHtcbiAgICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZygnQ2FjaGluZyBjb21wbGV0ZS4gU3dhcHBpbmcgdGhlIGNhY2hlLicpO1xuXG4gICAgICB0aGlzLl9yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICAgICAgdGhpcy5fY2FjaGUuc3dhcENhY2hlKCk7XG5cbiAgICAgIHRoaXMuX3Jlc3VsdChudWxsLCB0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSBpZiAoZS50eXBlID09PSAnY2FjaGVkJykge1xuICAgICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdDYWNoaW5nIGNvbXBsZXRlLiBDYWNoZSBzYXZlZC4nKTtcblxuICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMuX3Jlc3VsdChudWxsLCBmYWxzZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGUudHlwZSA9PT0gJ25vdXBkYXRlJykge1xuICAgICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdDYWNoaW5nIGNvbXBsZXRlLiBObyB1cGRhdGVzLicpO1xuXG4gICAgICB0aGlzLl9yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICAgICAgdGhpcy5fcmVzdWx0KG51bGwsIGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgQXBwQ2FjaGUucHJvdG90eXBlLl9oYW5kbGVDYWNoZUVycm9yID0gZnVuY3Rpb24oZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0NhY2hlIHVwZGF0ZSBlcnJvcjogJyArIGUubWVzc2FnZSk7XG4gICAgdGhpcy5fcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9yZXN1bHQoZSwgZmFsc2UpO1xuICB9O1xuXG4gIHdpbmRvdy5hcHAuQXBwQ2FjaGUgPSBBcHBDYWNoZTtcbn0pKCk7XG5cbi8vc3JjL2pzL3NoYXJlZC9wZXJzaXN0ZW5jZS9zdG9yZS5jb3Jkb3ZhLmpzXG5cbndpbmRvdy5hcHAuQ29yZG92YUxvY2FsU3RvcmFnZVN0b3JlID0gY2xhc3MgQ29yZG92YUxvY2FsU3RvcmFnZVN0b3JlIHtcbiAgY29uc3RydWN0b3IoaWQsIExvZ2dlcikge1xuICAgIHRoaXMuX2lkID0gaWQ7XG4gICAgdGhpcy5fTG9nZ2VyID0gTG9nZ2VyO1xuXG4gICAgaWYgKCFsb2NhbFN0b3JhZ2UpIHtcbiAgICAgIHRocm93IEVycm9yKCdDb3Jkb3ZhIG5vdCBmb3VuZC4nKTtcbiAgICB9XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5faWQpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuX0xvZ2dlci53YXJuKGBVbmFibGUgdG8gY2xlYXIgc3RvcmUgIyR7dGhpcy5faWR9OiAke2UubWVzc2FnZX1gKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICB9XG4gIH1cblxuICByZWFkKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgdmFsdWUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuX2lkKSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLl9Mb2dnZXIud2FybihgVW5hYmxlIHRvIHJlYWQgZnJvbSBzdG9yZSAjJHt0aGlzLl9pZH06ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgIH1cbiAgfVxuXG4gIHJlYWRTeW5jKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgdmFsdWUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuX2lkKSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5fTG9nZ2VyLndhcm4oYFVuYWJsZSB0byByZWFkIGZyb20gc3RvcmUgIyR7dGhpcy5faWR9OiAke2UubWVzc2FnZX1gKTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgd3JpdGUodmFsdWUpIHtcbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5faWQsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5fTG9nZ2VyLndhcm4oYFVuYWJsZSB0byB3cml0ZSB0byBzdG9yZSAjJHt0aGlzLl9pZH06ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgIH1cbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL3BlcnNpc3RlbmNlL3N0b3JlLmlubWVtb3J5LmpzXG5cbndpbmRvdy5hcHAuSW5NZW1vcnlTdG9yZSA9IGNsYXNzIEluTWVtb3J5U3RvcmUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9zdG9yYWdlID0gbnVsbDtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuX3N0b3JhZ2UgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgcmVhZCgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JhZ2UpO1xuICB9XG5cbiAgcmVhZFN5bmMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0b3JhZ2U7XG4gIH1cblxuICB3cml0ZSh2YWx1ZSkge1xuICAgIHRoaXMuX3N0b3JhZ2UgPSB2YWx1ZTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9wZXJzaXN0ZW5jZS9zdG9yZS5sb2NhbHN0b3JhZ2UuanNcblxud2luZG93LmFwcC5Mb2NhbFN0b3JhZ2VTdG9yZSA9IGNsYXNzIExvY2FsU3RvcmFnZVN0b3JlIHtcbiAgY29uc3RydWN0b3IoaWQpIHtcbiAgICB0aGlzLl9pZCA9IGlkO1xuXG4gICAgaWYgKCFzdG9yZSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ1N0b3JlLmpzIG5vdCBmb3VuZC4nKTtcbiAgICB9XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0cnkge1xuICAgICAgc3RvcmUucmVtb3ZlKHRoaXMuX2lkKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgfVxuICB9XG5cbiAgcmVhZCgpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHZhbHVlID0gc3RvcmUuZ2V0KHRoaXMuX2lkKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICB9XG4gIH1cblxuICByZWFkU3luYygpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHN0b3JlLmdldCh0aGlzLl9pZCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICB3cml0ZSh2YWx1ZSkge1xuICAgIHRyeSB7XG4gICAgICBzdG9yZS5zZXQodGhpcy5faWQsIHZhbHVlKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgfVxuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvc2VydmljZS9iYWNrZW5kYXBpLmpzXG5cbndpbmRvdy5hcHAuQmFja2VuZEFwaSA9IGNsYXNzIEJhY2tlbmRBcGkge1xuICBjb25zdHJ1Y3RvcihIb3N0cywgU2Vzc2lvbk1vZGVsKSB7XG4gICAgdGhpcy5fU2Vzc2lvbk1vZGVsID0gU2Vzc2lvbk1vZGVsO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gYnVzaW5lc3NUb2tlblByb3ZpZGVyKCkge1xuICAgICAgaWYgKCFzZWxmLl9TZXNzaW9uTW9kZWwuYXBpVG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc2VsZi5fU2Vzc2lvbk1vZGVsLmFwaVRva2VuLmFjY2Vzc190b2tlbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3VzdG9tZXJUb2tlblByb3ZpZGVyKCkge1xuICAgICAgaWYgKCFzZWxmLl9TZXNzaW9uTW9kZWwuY3VzdG9tZXJUb2tlbikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShzZWxmLl9TZXNzaW9uTW9kZWwuY3VzdG9tZXJUb2tlbi5hY2Nlc3NfdG9rZW4pO1xuICAgIH1cblxuICAgIGZvciAodmFyIGtleSBpbiBEdHNBcGlDbGllbnQpIHtcbiAgICAgIGxldCBjb25maWcgPSB7XG4gICAgICAgIGhvc3Q6IHtcbiAgICAgICAgICBkb21haW46IEhvc3RzLmFwaS5ob3N0LFxuICAgICAgICAgIHNlY3VyZTogSG9zdHMuYXBpLnNlY3VyZSA9PT0gJ3RydWUnXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGxldCBwcm92aWRlciA9IGJ1c2luZXNzVG9rZW5Qcm92aWRlcjtcblxuICAgICAgaWYgKGtleSA9PT0gJ3NuYXAnKSB7XG4gICAgICAgIGNvbmZpZy5ob3N0LmRvbWFpbiA9IEhvc3RzLmNvbnRlbnQuaG9zdDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ2N1c3RvbWVyJykge1xuICAgICAgICBwcm92aWRlciA9IGN1c3RvbWVyVG9rZW5Qcm92aWRlcjtcbiAgICAgIH1cblxuICAgICAgdGhpc1trZXldID0gbmV3IER0c0FwaUNsaWVudFtrZXldKGNvbmZpZywgcHJvdmlkZXIpO1xuICAgIH1cbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL3NlcnZpY2UvY2FyZHJlYWRlci5qc1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLyogZ2xvYmFsIHNpZ25hbHMgKi9cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgQ2FyZFJlYWRlclxuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIHZhciBDYXJkUmVhZGVyID0gZnVuY3Rpb24oTWFuYWdlbWVudFNlcnZpY2UpIHtcbiAgICB0aGlzLl9NYW5hZ2VtZW50U2VydmljZSA9IE1hbmFnZW1lbnRTZXJ2aWNlO1xuICAgIHRoaXMub25SZWNlaXZlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMub25FcnJvciA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICB9O1xuXG4gIENhcmRSZWFkZXIucHJvdG90eXBlLnJlY2VpdmVkID0gZnVuY3Rpb24oY2FyZCkge1xuICAgIHRoaXMub25SZWNlaXZlZC5kaXNwYXRjaChjYXJkKTtcbiAgfTtcblxuICBDYXJkUmVhZGVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uKGUpIHtcbiAgICB0aGlzLm9uRXJyb3IuZGlzcGF0Y2goZSk7XG4gIH07XG5cbiAgQ2FyZFJlYWRlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuX2FjdGl2ZSkge1xuICAgICAgdGhpcy5fTWFuYWdlbWVudFNlcnZpY2Uuc3RhcnRDYXJkUmVhZGVyKCk7XG4gICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICBDYXJkUmVhZGVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgdGhpcy5fTWFuYWdlbWVudFNlcnZpY2Uuc3RvcENhcmRSZWFkZXIoKTtcbiAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICB3aW5kb3cuYXBwLkNhcmRSZWFkZXIgPSBDYXJkUmVhZGVyO1xufSkoKTtcblxuLy9zcmMvanMvc2hhcmVkL3NlcnZpY2UvbWFuYWdlbWVudHNlcnZpY2UuY29yZG92YS5qc1xuXG53aW5kb3cuYXBwLkNvcmRvdmFNYW5hZ2VtZW50U2VydmljZSA9IGNsYXNzIENvcmRvdmFNYW5hZ2VtZW50U2VydmljZSB7XG4gIC8qIGdsb2JhbCBzaWduYWxzICovXG5cbiAgY29uc3RydWN0b3IoTG9nZ2VyKSB7XG4gICAgdGhpcy5fTG9nZ2VyID0gTG9nZ2VyO1xuXG4gICAgaWYgKCF3aW5kb3cuY29yZG92YSkge1xuICAgICAgdGhpcy5fTG9nZ2VyLndhcm4oJ0NvcmRvdmEgaXMgbm90IGF2YWlsYWJsZS4nKTtcbiAgICB9XG5cbiAgICBpZiAod2luZG93LnNjcmVlbikge1xuICAgICAgdGhpcy5fb3JpZW50YXRpb24gPSB3aW5kb3cuc2NyZWVuLm9yaWVudGF0aW9uO1xuICAgIH1cbiAgfVxuXG4gIHJvdGF0ZVNjcmVlbigpIHtcbiAgICBpZiAoIXdpbmRvdy5zY3JlZW4gfHwgIXRoaXMuX29yaWVudGF0aW9uKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIHZhciBvcmllbnRhdGlvbjtcbiAgICAgIHN3aXRjaCAoc2VsZi5fb3JpZW50YXRpb24udHlwZSkge1xuICAgICAgICBjYXNlICdsYW5kc2NhcGUnOlxuICAgICAgICBjYXNlICdsYW5kc2NhcGUtcHJpbWFyeSc6XG4gICAgICAgICAgb3JpZW50YXRpb24gPSAnbGFuZHNjYXBlLXNlY29uZGFyeSc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2xhbmRzY2FwZS1zZWNvbmRhcnknOlxuICAgICAgICAgIG9yaWVudGF0aW9uID0gJ2xhbmRzY2FwZS1wcmltYXJ5JztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBvcmllbnRhdGlvbiA9ICdsYW5kc2NhcGUtcHJpbWFyeSc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHdpbmRvdy5zY3JlZW4ubG9ja09yaWVudGF0aW9uKG9yaWVudGF0aW9uKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIG9wZW5Ccm93c2VyKHVybCwgYnJvd3NlclJlZiwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgdmFyIHRhcmdldCA9IG9wdGlvbnMuc3lzdGVtID8gJ19ibGFuaycgOiAnX2JsYW5rJyxcbiAgICAgICAgICBzZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIGxvY2F0aW9uOiBvcHRpb25zLnN5c3RlbSA/ICdubycgOiAneWVzJyxcbiAgICAgICAgICAgIGNsZWFyY2FjaGU6ICd5ZXMnLFxuICAgICAgICAgICAgY2xlYXJzZXNzaW9uY2FjaGU6ICd5ZXMnLFxuICAgICAgICAgICAgem9vbTogJ25vJyxcbiAgICAgICAgICAgIGhhcmR3YXJlYmFjazogJ25vJ1xuICAgICAgICAgIH07XG5cbiAgICAgIGJyb3dzZXJSZWYgPSB3aW5kb3cub3Blbih1cmwsIHRhcmdldCwgT2JqZWN0LmtleXMoc2V0dGluZ3MpLm1hcCh4ID0+IGAke3h9PSR7c2V0dGluZ3NbeF19YCkuam9pbignLCcpKTtcbiAgICAgIHJlc29sdmUobmV3IGFwcC5Db3Jkb3ZhV2ViQnJvd3NlclJlZmVyZW5jZShicm93c2VyUmVmKSk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZUJyb3dzZXIoYnJvd3NlclJlZikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGJyb3dzZXJSZWYuZXhpdCgpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhcnRDYXJkUmVhZGVyKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIHN0b3BDYXJkUmVhZGVyKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIGxvYWRSZXNldCgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHdpbmRvdy5vcGVuKGByZXNldC5odG1sYCwgJ19zZWxmJyk7XG4gICAgfSk7XG4gIH1cblxuICBsb2FkU3RhcnR1cCgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHdpbmRvdy5vcGVuKGBzdGFydHVwLmh0bWxgLCAnX3NlbGYnKTtcbiAgICB9KTtcbiAgfVxuXG4gIGxvYWRBcHBsaWNhdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHdpbmRvdy5vcGVuKGBzbmFwLmh0bWxgLCAnX3NlbGYnKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFNvdW5kVm9sdW1lKCkge1xuICAgIGlmICghd2luZG93LnZvbHVtZSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgxMDApO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB3aW5kb3cudm9sdW1lLmdldFZvbHVtZShyZXNvbHZlLCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0U291bmRWb2x1bWUodmFsdWUpIHtcbiAgICBpZiAoISh2YWx1ZSA+PSAwICYmIHZhbHVlIDw9IDEwMCkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgSW52YWxpZCB2YWx1ZTogJHt2YWx1ZX1gKTtcbiAgICB9XG5cbiAgICBpZiAoIXdpbmRvdy52b2x1bWUpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgd2luZG93LnZvbHVtZS5zZXRWb2x1bWUodmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXREaXNwbGF5QnJpZ2h0bmVzcygpIHtcbiAgICBpZiAoIXdpbmRvdy5icmlnaHRuZXNzKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKDEwMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHdpbmRvdy5icmlnaHRuZXNzLmdldEJyaWdodG5lc3ModmFsdWUgPT4ge1xuICAgICAgICBpZiAodmFsdWUgPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoNTApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFsdWUgPSBwYXJzZUludCh2YWx1ZSAqIDEwMCk7XG4gICAgICAgIHZhbHVlID0gTWF0aC5taW4oMTAwLCB2YWx1ZSk7XG4gICAgICAgIHZhbHVlID0gTWF0aC5tYXgoMCwgdmFsdWUpO1xuXG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldERpc3BsYXlCcmlnaHRuZXNzKHZhbHVlKSB7XG4gICAgaWYgKCEodmFsdWUgPj0gMCAmJiB2YWx1ZSA8PSAxMDApKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEludmFsaWQgdmFsdWU6ICR7dmFsdWV9YCk7XG4gICAgfVxuXG4gICAgaWYgKCF3aW5kb3cuYnJpZ2h0bmVzcykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB3aW5kb3cuYnJpZ2h0bmVzcy5zZXRCcmlnaHRuZXNzKHZhbHVlIC8gMTAwLCAoKSA9PiByZXNvbHZlKCksIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9zZXJ2aWNlL21hbmFnZW1lbnRzZXJ2aWNlLmhvbWVicmV3LmpzXG5cbndpbmRvdy5hcHAuSG9tZWJyZXdNYW5hZ2VtZW50U2VydmljZSA9IGNsYXNzIEhvbWVicmV3TWFuYWdlbWVudFNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigkcmVzb3VyY2UsIFNOQVBMb2NhdGlvbiwgU05BUEVudmlyb25tZW50KSB7XG4gICAgdGhpcy5fYXBpID0ge1xuICAgICAgJ3JvdGF0ZVNjcmVlbic6ICRyZXNvdXJjZSgnL21hbmFnZW1lbnQvcm90YXRlLXNjcmVlbicsIHt9LCB7IHF1ZXJ5OiB7IG1ldGhvZDogJ0dFVCcgfSB9KSxcbiAgICAgICdvcGVuQnJvd3Nlcic6ICRyZXNvdXJjZSgnL21hbmFnZW1lbnQvb3Blbi1icm93c2VyJywge30sIHsgcXVlcnk6IHsgbWV0aG9kOiAnR0VUJyB9IH0pLFxuICAgICAgJ2Nsb3NlQnJvd3Nlcic6ICRyZXNvdXJjZSgnL21hbmFnZW1lbnQvY2xvc2UtYnJvd3NlcicsIHt9LCB7IHF1ZXJ5OiB7IG1ldGhvZDogJ0dFVCcgfSB9KSxcbiAgICAgICdzdGFydENhcmRSZWFkZXInOiAkcmVzb3VyY2UoJy9tYW5hZ2VtZW50L3N0YXJ0LWNhcmQtcmVhZGVyJywge30sIHsgcXVlcnk6IHsgbWV0aG9kOiAnR0VUJyB9IH0pLFxuICAgICAgJ3N0b3BDYXJkUmVhZGVyJzogJHJlc291cmNlKCcvbWFuYWdlbWVudC9zdG9wLWNhcmQtcmVhZGVyJywge30sIHsgcXVlcnk6IHsgbWV0aG9kOiAnR0VUJyB9IH0pLFxuICAgICAgJ3Jlc2V0JzogJHJlc291cmNlKCcvbWFuYWdlbWVudC9yZXNldCcsIHt9LCB7IHF1ZXJ5OiB7IG1ldGhvZDogJ0dFVCcgfSB9KSxcbiAgICAgICdnZXRTb3VuZFZvbHVtZSc6ICRyZXNvdXJjZSgnL21hbmFnZW1lbnQvdm9sdW1lJywge30sIHsgcXVlcnk6IHsgbWV0aG9kOiAnR0VUJyB9IH0pLFxuICAgICAgJ3NldFNvdW5kVm9sdW1lJzogJHJlc291cmNlKCcvbWFuYWdlbWVudC92b2x1bWUnLCB7fSwgeyBxdWVyeTogeyBtZXRob2Q6ICdHRVQnIH0gfSksXG4gICAgICAnZ2V0RGlzcGxheUJyaWdodG5lc3MnOiAkcmVzb3VyY2UoJy9tYW5hZ2VtZW50L2JyaWdodG5lc3MnLCB7fSwgeyBxdWVyeTogeyBtZXRob2Q6ICdHRVQnIH0gfSksXG4gICAgICAnc2V0RGlzcGxheUJyaWdodG5lc3MnOiAkcmVzb3VyY2UoJy9tYW5hZ2VtZW50L2JyaWdodG5lc3MnLCB7fSwgeyBxdWVyeTogeyBtZXRob2Q6ICdHRVQnIH0gfSlcbiAgICB9O1xuICAgIHRoaXMuX1NOQVBMb2NhdGlvbiA9IFNOQVBMb2NhdGlvbjtcbiAgICB0aGlzLl9TTkFQRW52aXJvbm1lbnQgPSBTTkFQRW52aXJvbm1lbnQ7XG4gIH1cblxuICByb3RhdGVTY3JlZW4oKSB7XG4gICAgdGhpcy5fYXBpLnJvdGF0ZVNjcmVlbi5xdWVyeSgpO1xuICB9XG5cbiAgb3BlbkJyb3dzZXIodXJsLCBicm93c2VyUmVmKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIHJldHVybiBzZWxmLl9hcGkub3BlbkJyb3dzZXIucXVlcnkoeyB1cmw6IHVybCB9KS50aGVuKHJlc29sdmUgPT4ge1xuICAgICAgICB2YXIgYnJvd3NlciA9IG5ldyBhcHAuV2ViQnJvd3NlclJlZmVyZW5jZSgpO1xuICAgICAgICBicm93c2VyLm9uTmF2aWdhdGVkLmRpc3BhdGNoKHVybCk7XG4gICAgICAgIHJlc29sdmUoYnJvd3Nlcik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsb3NlQnJvd3Nlcihicm93c2VyUmVmKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGlmIChicm93c2VyUmVmKSB7XG4gICAgICAgIGJyb3dzZXJSZWYub25FeGl0LmRpc3BhdGNoKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmLl9hcGkuY2xvc2VCcm93c2VyLnF1ZXJ5KCk7XG4gICAgfSk7XG4gIH1cblxuICBzdGFydENhcmRSZWFkZXIoKSB7XG4gICAgdGhpcy5fYXBpLnN0YXJ0Q2FyZFJlYWRlci5xdWVyeSgpO1xuICB9XG5cbiAgc3RvcENhcmRSZWFkZXIoKSB7XG4gICAgdGhpcy5fYXBpLnN0b3BDYXJkUmVhZGVyLnF1ZXJ5KCk7XG4gIH1cblxuICBsb2FkUmVzZXQoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZWxmLl9hcGkucmVzZXQucXVlcnkoKS4kcHJvbWlzZS50aGVuKHJlc29sdmUsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLmxvYWRTdGFydHVwKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGxvYWRTdGFydHVwKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbihgL3NuYXAvJHtlbmNvZGVVUklDb21wb25lbnQoc2VsZi5fU05BUEVudmlyb25tZW50LnBsYXRmb3JtKX0vYCk7XG4gICAgfSk7XG4gIH1cblxuICBsb2FkQXBwbGljYXRpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKGAvc25hcC8ke2VuY29kZVVSSUNvbXBvbmVudChzZWxmLl9TTkFQRW52aXJvbm1lbnQucGxhdGZvcm0pfWAgK1xuICAgICAgICBgL2xvY2F0aW9uLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHNlbGYuX1NOQVBMb2NhdGlvbi50b2tlbil9YCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRTb3VuZFZvbHVtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYXBpLmdldFNvdW5kVm9sdW1lLnF1ZXJ5KCkuJHByb21pc2U7XG4gIH1cblxuICBzZXRTb3VuZFZvbHVtZSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9hcGkuc2V0U291bmRWb2x1bWUucXVlcnkoeyB2YWx1ZTogdmFsdWUgfSkuJHByb21pc2U7XG4gIH1cblxuICBnZXREaXNwbGF5QnJpZ2h0bmVzcygpIHtcbiAgICByZXR1cm4gdGhpcy5fYXBpLmdldERpc3BsYXlCcmlnaHRuZXNzLnF1ZXJ5KCkuJHByb21pc2U7XG4gIH1cblxuICBzZXREaXNwbGF5QnJpZ2h0bmVzcyh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9hcGkuc2V0RGlzcGxheUJyaWdodG5lc3MucXVlcnkoeyB2YWx1ZTogdmFsdWUgfSkuJHByb21pc2U7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9zZXJ2aWNlL3NvY2tldGNsaWVudC5qc1xuXG53aW5kb3cuYXBwLlNvY2tldENsaWVudCA9IGNsYXNzIFNvY2tldENsaWVudCB7XG4gIGNvbnN0cnVjdG9yKFNlc3Npb25Nb2RlbCwgSG9zdHMsIExvZ2dlcikge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuX1Nlc3Npb25Nb2RlbCA9IFNlc3Npb25Nb2RlbDtcbiAgICB0aGlzLl9Mb2dnZXIgPSBMb2dnZXI7XG5cbiAgICB0aGlzLmlzQ29ubmVjdGVkQ2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgdGhpcy5fY2hhbm5lbHMgPSB7fTtcbiAgICB0aGlzLl9pc0Nvbm5lY3RlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5fc29ja2V0ID0gc29ja2V0Q2x1c3Rlci5jb25uZWN0KHtcbiAgICAgIGhvc3RuYW1lOiBIb3N0cy5zb2NrZXQuaG9zdCxcbiAgICAgIHBhdGg6IEhvc3RzLnNvY2tldC5wYXRoLFxuICAgICAgcG9ydDogSG9zdHMuc29ja2V0LnBvcnQsXG4gICAgICBzZWN1cmU6IEhvc3RzLnNvY2tldC5zZWN1cmVcbiAgICB9KTtcbiAgICB0aGlzLl9zb2NrZXQub24oJ2Nvbm5lY3QnLCBzdGF0dXMgPT4ge1xuICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKGBTb2NrZXQgY29ubmVjdGVkLmApO1xuICAgICAgc2VsZi5fYXV0aGVudGljYXRlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc29ja2V0Lm9uKCdkaXNjb25uZWN0JywgKCkgPT4ge1xuICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKGBTb2NrZXQgZGlzY29ubmVjdGVkLmApO1xuICAgICAgc2VsZi5faXNDb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgIHNlbGYuaXNDb25uZWN0ZWRDaGFuZ2VkLmRpc3BhdGNoKHNlbGYuaXNDb25uZWN0ZWQpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0IGlzQ29ubmVjdGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0Nvbm5lY3RlZDtcbiAgfVxuXG4gIHN1YnNjcmliZSh0b3BpYywgaGFuZGxlcikge1xuICAgIHRoaXMuX2dldENoYW5uZWwodG9waWMpLndhdGNoKGhhbmRsZXIpO1xuICB9XG5cbiAgc2VuZCh0b3BpYywgZGF0YSkge1xuICAgIHRoaXMuX2dldENoYW5uZWwodG9waWMpLnB1Ymxpc2goZGF0YSk7XG4gIH1cblxuICBfZ2V0Q2hhbm5lbCh0b3BpYykge1xuICAgIHJldHVybiB0aGlzLl9jaGFubmVsc1t0b3BpY10gfHwgKHRoaXMuX2NoYW5uZWxzW3RvcGljXSA9IHRoaXMuX3NvY2tldC5zdWJzY3JpYmUodG9waWMpKTtcbiAgfVxuXG4gIF9hdXRoZW50aWNhdGUoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYuX3NvY2tldC5lbWl0KCdhdXRoZW50aWNhdGUnLCB7XG4gICAgICBhY2Nlc3NfdG9rZW46IHNlbGYuX1Nlc3Npb25Nb2RlbC5hcGlUb2tlblxuICAgIH0sIGVyciA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHNlbGYuX0xvZ2dlci53YXJuKGBVbmFibGUgdG8gYXV0aGVudGljYXRlIHNvY2tldDogJHtlcnIubWVzc2FnZX1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9pc0Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICBzZWxmLmlzQ29ubmVjdGVkQ2hhbmdlZC5kaXNwYXRjaChzZWxmLmlzQ29ubmVjdGVkKTtcbiAgICB9KTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL3NlcnZpY2UvdGVsZW1ldHJ5c2VydmljZS5qc1xuXG53aW5kb3cuYXBwLlRlbGVtZXRyeVNlcnZpY2UgPSBjbGFzcyBUZWxlbWV0cnlTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoJHJlc291cmNlKSB7XG4gICAgdGhpcy5fYXBpID0ge1xuICAgICAgJ3N1Ym1pdFRlbGVtZXRyeSc6ICRyZXNvdXJjZSgnL3NuYXAvdGVsZW1ldHJ5Jywge30sIHsgcXVlcnk6IHsgbWV0aG9kOiAnUE9TVCcgfSB9KSxcbiAgICAgICdzdWJtaXRMb2dzJzogJHJlc291cmNlKCcvc25hcC9sb2dzJywge30sIHsgcXVlcnk6IHsgbWV0aG9kOiAnUE9TVCcgfSB9KVxuICAgIH07XG4gIH1cblxuICBzdWJtaXRUZWxlbWV0cnkoZGF0YSkge1xuICAgIHJldHVybiB0aGlzLl9hcGkuc3VibWl0VGVsZW1ldHJ5LnF1ZXJ5KGRhdGEpLiRwcm9taXNlO1xuICB9XG5cbiAgc3VibWl0TG9ncyhkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FwaS5zdWJtaXRMb2dzLnF1ZXJ5KGRhdGEpLiRwcm9taXNlO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvc2VydmljZS93ZWJicm93c2VyLmpzXG5cbndpbmRvdy5hcHAuV2ViQnJvd3NlciA9IGNsYXNzIFdlYkJyb3dzZXIge1xuICAvKiBnbG9iYWwgc2lnbmFscywgVVJJICovXG5cbiAgY29uc3RydWN0b3IoQW5hbHl0aWNzTW9kZWwsIE1hbmFnZW1lbnRTZXJ2aWNlLCBTTkFQRW52aXJvbm1lbnQsIFNOQVBIb3N0cykge1xuICAgIHRoaXMuX0FuYWx5dGljc01vZGVsID0gQW5hbHl0aWNzTW9kZWw7XG4gICAgdGhpcy5fTWFuYWdlbWVudFNlcnZpY2UgPSBNYW5hZ2VtZW50U2VydmljZTtcbiAgICB0aGlzLl9TTkFQRW52aXJvbm1lbnQgPSBTTkFQRW52aXJvbm1lbnQ7XG5cbiAgICB0aGlzLl9sb2NhbEhvc3RzID0gT2JqZWN0LmtleXMoU05BUEhvc3RzKS5tYXAocCA9PiBTTkFQSG9zdHNbcF0uaG9zdCk7XG4gICAgdGhpcy5fbG9jYWxIb3N0cy5wdXNoKCdsb2NhbGhvc3QnKTtcblxuICAgIHRoaXMub25PcGVuID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5vbkNsb3NlID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5vbk5hdmlnYXRlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgdGhpcy5fYnJvd3NlciA9IG51bGw7XG4gIH1cblxuICBvcGVuKHVybCwgb3B0aW9ucykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9NYW5hZ2VtZW50U2VydmljZS5vcGVuQnJvd3Nlcih1cmwsIHRoaXMuX2Jyb3dzZXIsIG9wdGlvbnMpLnRoZW4oYnJvd3NlciA9PiB7XG4gICAgICBzZWxmLl9icm93c2VyID0gYnJvd3NlcjtcbiAgICAgIHNlbGYub25PcGVuLmRpc3BhdGNoKHVybCwgc2VsZi5fYnJvd3Nlcik7XG4gICAgICBzZWxmLl9icm93c2VyT3BlbmVkID0gdHJ1ZTtcblxuICAgICAgc2VsZi5fYnJvd3Nlci5vbk5hdmlnYXRlZC5hZGQodXJsID0+IHtcbiAgICAgICAgc2VsZi5vbk5hdmlnYXRlZC5kaXNwYXRjaCh1cmwpO1xuXG4gICAgICAgIGxldCBob3N0ID0gVVJJKHVybCkuaG9zdG5hbWUoKTtcblxuICAgICAgICBpZiAoc2VsZi5fbG9jYWxIb3N0cy5pbmRleE9mKGhvc3QpID09PSAtMSkge1xuICAgICAgICAgIHNlbGYuX0FuYWx5dGljc01vZGVsLmxvZ1VybCh1cmwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNlbGYuX2Jyb3dzZXIub25FeGl0LmFkZE9uY2UoKCkgPT4ge1xuICAgICAgICBzZWxmLm9uQ2xvc2UuZGlzcGF0Y2goKTtcbiAgICAgICAgc2VsZi5fYnJvd3Nlck9wZW5lZCA9IGZhbHNlO1xuICAgICAgICBzZWxmLl9icm93c2VyID0gbnVsbDtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYnJvd3NlcjtcbiAgICB9KTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGlmICghdGhpcy5fYnJvd3Nlck9wZW5lZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9NYW5hZ2VtZW50U2VydmljZS5jbG9zZUJyb3dzZXIodGhpcy5fYnJvd3NlcikudGhlbigoKSA9PiB7XG4gICAgICBzZWxmLl9icm93c2VyID0gbnVsbDtcbiAgICAgIHNlbGYub25DbG9zZS5kaXNwYXRjaCgpO1xuICAgICAgc2VsZi5fYnJvd3Nlck9wZW5lZCA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBFeHRlcm5hbCBtZXRob2RzXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBuYXZpZ2F0ZWQodXJsKSB7XG4gICAgaWYgKHRoaXMuX2Jyb3dzZXIpIHtcbiAgICAgIHRoaXMuX2Jyb3dzZXIub25OYXZpZ2F0ZWQuZGlzcGF0Y2godXJsKTtcbiAgICB9XG4gIH1cblxuICBjYWxsYmFjayhkYXRhKSB7XG4gICAgaWYgKHRoaXMuX2Jyb3dzZXIpIHtcbiAgICAgIHRoaXMuX2Jyb3dzZXIub25DYWxsYmFjay5kaXNwYXRjaChkYXRhKTtcbiAgICB9XG5cbiAgICB0aGlzLmNsb3NlKCk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC93b3JrZXJzL2hlYXRtYXAuanNcblxud2luZG93LmFwcC5IZWF0TWFwID0gY2xhc3MgSGVhdE1hcCB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLl9saXN0ZW5lciA9IGUgPT4ge1xuICAgICAgc2VsZi5fb25DbGljayhlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2xpc3RlbmVyKTtcblxuICAgIHRoaXMuY2xpY2tlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fbGlzdGVuZXIpO1xuICB9XG5cbiAgX29uQ2xpY2soZSkge1xuICAgIGxldCBkYXRhID0ge1xuICAgICAgeDogZS5sYXllclggLyB0aGlzLl9lbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgeTogZS5sYXllclkgLyB0aGlzLl9lbGVtZW50LmNsaWVudEhlaWdodFxuICAgIH07XG5cbiAgICBpZiAoZGF0YS54IDwgMCB8fCBkYXRhLnkgPCAwIHx8IGRhdGEueCA+IDEgfHwgZGF0YS55ID4gMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuY2xpY2tlZC5kaXNwYXRjaChkYXRhKTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL3dvcmtlcnMvbG9nZ2VyLmpzXG5cbndpbmRvdy5hcHAuTG9nZ2VyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihTTkFQRW52aXJvbm1lbnQpIHtcbiAgICB0aGlzLl9TTkFQRW52aXJvbm1lbnQgPSBTTkFQRW52aXJvbm1lbnQ7XG4gICAgdGhpcy5fbG9nID0gbG9nNGphdmFzY3JpcHQuZ2V0TG9nZ2VyKCk7XG5cbiAgICB2YXIgYWpheEFwcGVuZGVyID0gbmV3IGxvZzRqYXZhc2NyaXB0LkFqYXhBcHBlbmRlcignL3NuYXAvbG9nJyk7XG4gICAgYWpheEFwcGVuZGVyLnNldFdhaXRGb3JSZXNwb25zZSh0cnVlKTtcbiAgICBhamF4QXBwZW5kZXIuc2V0TGF5b3V0KG5ldyBsb2c0amF2YXNjcmlwdC5Kc29uTGF5b3V0KCkpO1xuICAgIGFqYXhBcHBlbmRlci5zZXRUaHJlc2hvbGQobG9nNGphdmFzY3JpcHQuTGV2ZWwuRVJST1IpO1xuXG4gICAgdGhpcy5fbG9nLmFkZEFwcGVuZGVyKGFqYXhBcHBlbmRlcik7XG4gICAgdGhpcy5fbG9nLmFkZEFwcGVuZGVyKG5ldyBsb2c0amF2YXNjcmlwdC5Ccm93c2VyQ29uc29sZUFwcGVuZGVyKCkpO1xuICB9XG5cbiAgZGVidWcoLi4uYXJncykge1xuICAgIHRoaXMuX2xvZy5kZWJ1ZyguLi5hcmdzKTtcbiAgfVxuXG4gIGluZm8oLi4uYXJncykge1xuICAgIHRoaXMuX2xvZy5pbmZvKC4uLmFyZ3MpO1xuICB9XG5cbiAgd2FybiguLi5hcmdzKSB7XG4gICAgdGhpcy5fbG9nLndhcm4oLi4uYXJncyk7XG4gIH1cblxuICBlcnJvciguLi5hcmdzKSB7XG4gICAgdGhpcy5fbG9nLmVycm9yKC4uLmFyZ3MpO1xuICB9XG5cbiAgZmF0YWwoLi4uYXJncykge1xuICAgIHRoaXMuX2xvZy5mYXRhbCguLi5hcmdzKTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL3dvcmtlcnMvbWVkaWFzdGFydGVyLmpzXG5cbihmdW5jdGlvbigpIHtcbiAgLyogZ2xvYmFsIHN3Zm9iamVjdCAqL1xuXG4gIGZ1bmN0aW9uIE1lZGlhU3RhcnRlcihpZCkge1xuXG4gICAgdmFyIGZsYXNodmFycyA9IHt9O1xuICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICBtZW51OiAnZmFsc2UnLFxuICAgICAgd21vZGU6ICdkaXJlY3QnLFxuICAgICAgYWxsb3dGdWxsU2NyZWVuOiAnZmFsc2UnXG4gICAgfTtcbiAgICB2YXIgYXR0cmlidXRlcyA9IHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIG5hbWU6IGlkXG4gICAgfTtcblxuICAgIHN3Zm9iamVjdC5lbWJlZFNXRihcbiAgICAgIHRoaXMuX2dldFF1ZXJ5UGFyYW1ldGVyKCd1cmwnKSxcbiAgICAgIGlkLFxuICAgICAgdGhpcy5fZ2V0UXVlcnlQYXJhbWV0ZXIoJ3dpZHRoJyksXG4gICAgICB0aGlzLl9nZXRRdWVyeVBhcmFtZXRlcignaGVpZ2h0JyksXG4gICAgICAnMTYuMC4wJyxcbiAgICAgICdleHByZXNzSW5zdGFsbC5zd2YnLFxuICAgICAgZmxhc2h2YXJzLFxuICAgICAgcGFyYW1zLFxuICAgICAgYXR0cmlidXRlcyxcbiAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBpZiAocmVzLnN1Y2Nlc3MgIT09IHRydWUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKHJlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgTWVkaWFTdGFydGVyLnByb3RvdHlwZS5fZ2V0UXVlcnlQYXJhbWV0ZXIgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvW1xcW10vLCBcIlxcXFxbXCIpLnJlcGxhY2UoL1tcXF1dLywgXCJcXFxcXVwiKTtcbiAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKFwiW1xcXFwjJl1cIiArIG5hbWUgKyBcIj0oW14mI10qKVwiKSxcbiAgICByZXN1bHRzID0gcmVnZXguZXhlYyhsb2NhdGlvbi5oYXNoKTtcbiAgICByZXR1cm4gcmVzdWx0cyA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRzWzFdLnJlcGxhY2UoL1xcKy9nLCBcIiBcIikpO1xuICB9O1xuXG4gIHdpbmRvdy5hcHAuTWVkaWFTdGFydGVyID0gTWVkaWFTdGFydGVyO1xufSkoKTtcblxuLy9zcmMvanMvYXBwcy5qc1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy9cbi8vICBBcHBsaWNhdGlvbkJvb3RzdHJhcGVyXG4vL1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxud2luZG93LmFwcC5BcHBsaWNhdGlvbkJvb3RzdHJhcGVyID0gY2xhc3MgQXBwbGljYXRpb25Cb290c3RyYXBlciB7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5ob3N0cyA9IHtcbiAgICAgIGFwaTogeyAnaG9zdCc6ICdhcGkyLm1hbmFnZXNuYXAuY29tJywgJ3NlY3VyZSc6IHRydWUgfSxcbiAgICAgIGNvbnRlbnQ6IHsgJ2hvc3QnOiAnY29udGVudC5tYW5hZ2VzbmFwLmNvbScsICdzZWN1cmUnOiBmYWxzZSB9LFxuICAgICAgbWVkaWE6IHsgJ2hvc3QnOiAnY29udGVudC5tYW5hZ2VzbmFwLmNvbScsICdzZWN1cmUnOiBmYWxzZSB9LFxuICAgICAgc3RhdGljOiB7ICdwYXRoJzogJy8nIH0sXG4gICAgICBzb2NrZXQ6IHsgJ2hvc3QnOiAnd2ViLWRldi5tYW5hZ2VzbmFwLmNvbScsICdzZWN1cmUnOiB0cnVlLCAncG9ydCc6ODA4MCwgJ3BhdGgnOiAnL3NvY2tldC8nIH1cbiAgICB9O1xuXG4gICAgdGhpcy5lbnZpcm9ubWVudCA9IHtcbiAgICAgIGRlYnVnOiBmYWxzZSxcbiAgICAgIG1haW5fYXBwbGljYXRpb246IHsgJ2NsaWVudF9pZCc6ICdkNjc2MTBiMWM5MTA0NGQ4YWJkNTVjYmRhNmM2MTlmMCcsICdjYWxsYmFja191cmwnOiAnaHR0cDovL2FwaTIubWFuYWdlc25hcC5jb20vY2FsbGJhY2svYXBpJywgJ3Njb3BlJzogJycgfSxcbiAgICAgIGN1c3RvbWVyX2FwcGxpY2F0aW9uOiB7ICdjbGllbnRfaWQnOiAnOTEzODFhODZiM2I0NDRmZDg3NmRmODBiMjJkN2ZhNmUnIH0sXG4gICAgICBmYWNlYm9va19hcHBsaWNhdGlvbjogeyAnY2xpZW50X2lkJzogJzM0OTcyOTUxODU0NTMxMycsICdyZWRpcmVjdF91cmwnOiAnaHR0cHM6Ly93ZWIubWFuYWdlc25hcC5jb20vY2FsbGJhY2svZmFjZWJvb2snIH0sXG4gICAgICBnb29nbGVwbHVzX2FwcGxpY2F0aW9uOiB7ICdjbGllbnRfaWQnOiAnNjc4OTk4MjUwOTQxLTFkbWVicDRrc25pOXRzanRoNDV0c2h0OGw3Y2wxbXJuLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tJywgJ3JlZGlyZWN0X3VybCc6ICdodHRwczovL3dlYi5tYW5hZ2VzbmFwLmNvbS9jYWxsYmFjay9nb29nbGVwbHVzJyB9LFxuICAgICAgdHdpdHRlcl9hcHBsaWNhdGlvbjogeyAnY29uc3VtZXJfa2V5JzogJ3lROFhKMTVQbWFQT2k0TDVESlBpa0dDSTAnLCAncmVkaXJlY3RfdXJsJzogJ2h0dHBzOi8vd2ViLm1hbmFnZXNuYXAuY29tL2NhbGxiYWNrL3R3aXR0ZXInIH1cbiAgICB9O1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBQdWJsaWMgbWV0aG9kc1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgY29uZmlndXJlKCkge1xuICAgIEZhc3RDbGljay5hdHRhY2goZG9jdW1lbnQuYm9keSk7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHZhciBzdG9yZSA9IG5ldyBhcHAuQ29yZG92YUxvY2FsU3RvcmFnZVN0b3JlKCdzbmFwX2xvY2F0aW9uJyk7XG5cbiAgICAgIHN0b3JlLnJlYWQoKS50aGVuKGNvbmZpZyA9PiB7XG4gICAgICAgIHNlbGYubG9jYXRpb24gPSBjb25maWcgfHwgbnVsbDtcblxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnU05BUC5jb25maWdzJywgW10pXG4gICAgICAgICAgLmNvbnN0YW50KCdTTkFQTG9jYXRpb24nLCBzZWxmLmxvY2F0aW9uKVxuICAgICAgICAgIC5jb25zdGFudCgnU05BUEVudmlyb25tZW50Jywgc2VsZi5lbnZpcm9ubWVudClcbiAgICAgICAgICAuY29uc3RhbnQoJ1NOQVBIb3N0cycsIHNlbGYuaG9zdHMpO1xuXG4gICAgICAgIGlmIChzZWxmLmhvc3RzLnN0YXRpYy5ob3N0KSB7XG4gICAgICAgICAgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxXaGl0ZWxpc3QoWyAnc2VsZicsIG5ldyBSZWdFeHAoJy4qJyArIHNlbGYuaG9zdHMuc3RhdGljLmhvc3QgKyAnLionKSBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBydW4oKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQuJyk7XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIEhlbHBlciBtZXRob2RzXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBfZ2V0UGFydGlhbFVybChuYW1lKSB7XG4gICAgaWYgKCF0aGlzLmhvc3RzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgaG9zdHMgY29uZmlndXJhdGlvbi4nKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMubG9jYXRpb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBsb2NhdGlvbiBjb25maWd1cmF0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBwYXRoID0gdGhpcy5ob3N0cy5zdGF0aWMuaG9zdCA/XG4gICAgICBgLy8ke3RoaXMuaG9zdHMuc3RhdGljLmhvc3R9JHt0aGlzLmhvc3RzLnN0YXRpYy5wYXRofWAgOlxuICAgICAgYCR7dGhpcy5ob3N0cy5zdGF0aWMucGF0aH1gO1xuXG4gICAgcmV0dXJuIGAke3BhdGh9YXNzZXRzLyR7dGhpcy5sb2NhdGlvbi50aGVtZS5sYXlvdXR9L3BhcnRpYWxzLyR7bmFtZX0uaHRtbGA7XG4gIH1cbn07XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vL1xuLy8gIFNuYXBBcHBsaWNhdGlvbkJvb3RzdHJhcGVyXG4vL1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxud2luZG93LmFwcC5TbmFwQXBwbGljYXRpb25Cb290c3RyYXBlciA9IGNsYXNzIFNuYXBBcHBsaWNhdGlvbkJvb3RzdHJhcGVyIGV4dGVuZHMgYXBwLkFwcGxpY2F0aW9uQm9vdHN0cmFwZXIge1xuICBjb25maWd1cmUoKSB7XG4gICAgcmV0dXJuIHN1cGVyLmNvbmZpZ3VyZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgYW5ndWxhci5tb2R1bGUoJ1NOQVBBcHBsaWNhdGlvbicsIFtcbiAgICAgICAgJ25nUm91dGUnLFxuICAgICAgICAnbmdBbmltYXRlJyxcbiAgICAgICAgJ25nVG91Y2gnLFxuICAgICAgICAnbmdTYW5pdGl6ZScsXG4gICAgICAgICdTTkFQLmNvbmZpZ3MnLFxuICAgICAgICAnU05BUC5jb250cm9sbGVycycsXG4gICAgICAgICdTTkFQLmRpcmVjdGl2ZXMnLFxuICAgICAgICAnU05BUC5maWx0ZXJzJyxcbiAgICAgICAgJ1NOQVAuc2VydmljZXMnXG4gICAgICBdKS5cbiAgICAgIGNvbmZpZyhcbiAgICAgICAgWyckbG9jYXRpb25Qcm92aWRlcicsICckcm91dGVQcm92aWRlcicsICckc2NlRGVsZWdhdGVQcm92aWRlcicsXG4gICAgICAgICgkbG9jYXRpb25Qcm92aWRlciwgJHJvdXRlUHJvdmlkZXIsICRzY2VEZWxlZ2F0ZVByb3ZpZGVyKSA9PiB7XG5cbiAgICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKGZhbHNlKTtcblxuICAgICAgICAkcm91dGVQcm92aWRlci53aGVuKCcvJywgeyB0ZW1wbGF0ZTogJyAnLCBjb250cm9sbGVyOiAnSG9tZUJhc2VDdHJsJyB9KTtcbiAgICAgICAgJHJvdXRlUHJvdmlkZXIud2hlbignL21lbnUvOnRva2VuJywgeyB0ZW1wbGF0ZTogJyAnLCBjb250cm9sbGVyOiAnTWVudUJhc2VDdHJsJyB9KTtcbiAgICAgICAgJHJvdXRlUHJvdmlkZXIud2hlbignL2NhdGVnb3J5Lzp0b2tlbicsIHsgdGVtcGxhdGU6ICcgJywgY29udHJvbGxlcjogJ0NhdGVnb3J5QmFzZUN0cmwnIH0pO1xuICAgICAgICAkcm91dGVQcm92aWRlci53aGVuKCcvaXRlbS86dG9rZW4nLCB7IHRlbXBsYXRlOiAnICcsIGNvbnRyb2xsZXI6ICdJdGVtQmFzZUN0cmwnIH0pO1xuICAgICAgICAkcm91dGVQcm92aWRlci53aGVuKCcvdXJsLzp1cmwnLCB7IHRlbXBsYXRlOiAnICcsIGNvbnRyb2xsZXI6ICdVcmxDdHJsJyB9KTtcbiAgICAgICAgJHJvdXRlUHJvdmlkZXIud2hlbignL2NoZWNrb3V0JywgeyB0ZW1wbGF0ZVVybDogdGhpcy5fZ2V0UGFydGlhbFVybCgnY2hlY2tvdXQnKSwgY29udHJvbGxlcjogJ0NoZWNrb3V0Q3RybCcgfSk7XG4gICAgICAgICRyb3V0ZVByb3ZpZGVyLndoZW4oJy9zaWduaW4nLCB7IHRlbXBsYXRlVXJsOiB0aGlzLl9nZXRQYXJ0aWFsVXJsKCdzaWduaW4nKSwgY29udHJvbGxlcjogJ1NpZ25JbkN0cmwnIH0pO1xuICAgICAgICAkcm91dGVQcm92aWRlci53aGVuKCcvYWNjb3VudCcsIHsgdGVtcGxhdGVVcmw6IHRoaXMuX2dldFBhcnRpYWxVcmwoJ2FjY291bnQnKSwgY29udHJvbGxlcjogJ0FjY291bnRDdHJsJyB9KTtcbiAgICAgICAgJHJvdXRlUHJvdmlkZXIud2hlbignL2NoYXQnLCB7IHRlbXBsYXRlVXJsOiB0aGlzLl9nZXRQYXJ0aWFsVXJsKCdjaGF0JyksIGNvbnRyb2xsZXI6ICdDaGF0Q3RybCcgfSk7XG4gICAgICAgICRyb3V0ZVByb3ZpZGVyLndoZW4oJy9jaGF0bWFwJywgeyB0ZW1wbGF0ZVVybDogdGhpcy5fZ2V0UGFydGlhbFVybCgnY2hhdG1hcCcpLCBjb250cm9sbGVyOiAnQ2hhdE1hcEN0cmwnIH0pO1xuICAgICAgICAkcm91dGVQcm92aWRlci53aGVuKCcvc3VydmV5JywgeyB0ZW1wbGF0ZVVybDogdGhpcy5fZ2V0UGFydGlhbFVybCgnc3VydmV5JyksIGNvbnRyb2xsZXI6ICdTdXJ2ZXlDdHJsJyB9KTtcbiAgICAgICAgJHJvdXRlUHJvdmlkZXIub3RoZXJ3aXNlKHsgcmVkaXJlY3RUbzogJy8nIH0pO1xuICAgICAgfV0pO1xuICAgIH0pO1xuICB9XG5cbiAgcnVuKCkge1xuICAgIGFuZ3VsYXIuYm9vdHN0cmFwKGRvY3VtZW50LCBbJ1NOQVBBcHBsaWNhdGlvbiddKTtcbiAgfVxufTtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vXG4vLyAgU3RhcnR1cEFwcGxpY2F0aW9uQm9vdHN0cmFwZXJcbi8vXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG53aW5kb3cuYXBwLlN0YXJ0dXBBcHBsaWNhdGlvbkJvb3RzdHJhcGVyID0gY2xhc3MgU3RhcnR1cEFwcGxpY2F0aW9uQm9vdHN0cmFwZXIgZXh0ZW5kcyBhcHAuQXBwbGljYXRpb25Cb290c3RyYXBlciB7XG4gIGNvbmZpZ3VyZSgpIHtcbiAgICByZXR1cm4gc3VwZXIuY29uZmlndXJlKCkudGhlbigoKSA9PiB7XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnU05BUFN0YXJ0dXAnLCBbXG4gICAgICAgICduZ1JvdXRlJyxcbiAgICAgICAgJ1NOQVAuY29uZmlncycsXG4gICAgICAgICdTTkFQLmNvbnRyb2xsZXJzJyxcbiAgICAgICAgJ1NOQVAuZGlyZWN0aXZlcycsXG4gICAgICAgICdTTkFQLmZpbHRlcnMnLFxuICAgICAgICAnU05BUC5zZXJ2aWNlcydcbiAgICAgIF0pLlxuICAgICAgY29uZmlnKCgpID0+IHt9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJ1bigpIHtcbiAgICBhbmd1bGFyLmJvb3RzdHJhcChkb2N1bWVudCwgWydTTkFQU3RhcnR1cCddKTtcbiAgfVxufTtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vXG4vLyAgUmVzZXRBcHBsaWNhdGlvbkJvb3RzdHJhcGVyXG4vL1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxud2luZG93LmFwcC5SZXNldEFwcGxpY2F0aW9uQm9vdHN0cmFwZXIgPSBjbGFzcyBSZXNldEFwcGxpY2F0aW9uQm9vdHN0cmFwZXIgZXh0ZW5kcyBhcHAuQXBwbGljYXRpb25Cb290c3RyYXBlciB7XG4gIGNvbmZpZ3VyZSgpIHtcbiAgICByZXR1cm4gc3VwZXIuY29uZmlndXJlKCkudGhlbigoKSA9PiB7XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnU05BUFJlc2V0JywgW1xuICAgICAgICAnbmdSb3V0ZScsXG4gICAgICAgICdTTkFQLmNvbmZpZ3MnLFxuICAgICAgICAnU05BUC5jb250cm9sbGVycycsXG4gICAgICAgICdTTkFQLmRpcmVjdGl2ZXMnLFxuICAgICAgICAnU05BUC5maWx0ZXJzJyxcbiAgICAgICAgJ1NOQVAuc2VydmljZXMnXG4gICAgICBdKS5cbiAgICAgIGNvbmZpZygoKSA9PiB7fSk7XG4gICAgfSk7XG4gIH1cblxuICBydW4oKSB7XG4gICAgYW5ndWxhci5ib290c3RyYXAoZG9jdW1lbnQsIFsnU05BUFJlc2V0J10pO1xuICB9XG59O1xuXG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vL1xuLy8gIFNuYXBBdXhpbGlhcmVzQXBwbGljYXRpb25Cb290c3RyYXBlclxuLy9cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbndpbmRvdy5hcHAuU25hcEF1eGlsaWFyZXNBcHBsaWNhdGlvbkJvb3RzdHJhcGVyID0gY2xhc3MgU25hcEF1eGlsaWFyZXNBcHBsaWNhdGlvbkJvb3RzdHJhcGVyIGV4dGVuZHMgYXBwLkFwcGxpY2F0aW9uQm9vdHN0cmFwZXIge1xuICBjb25maWd1cmUoKSB7XG4gICAgcmV0dXJuIHN1cGVyLmNvbmZpZ3VyZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgYW5ndWxhci5tb2R1bGUoJ1NOQVBBdXhpbGlhcmVzJywgW1xuICAgICAgICAnbmdSb3V0ZScsXG4gICAgICAgICduZ0FuaW1hdGUnLFxuICAgICAgICAnbmdUb3VjaCcsXG4gICAgICAgICduZ1Nhbml0aXplJyxcbiAgICAgICAgJ1NOQVAuY29uZmlncycsXG4gICAgICAgICdTTkFQLmNvbnRyb2xsZXJzJyxcbiAgICAgICAgJ1NOQVAuZGlyZWN0aXZlcycsXG4gICAgICAgICdTTkFQLmZpbHRlcnMnLFxuICAgICAgICAnU05BUC5zZXJ2aWNlcydcbiAgICAgIF0pLlxuICAgICAgY29uZmlnKFxuICAgICAgICBbJyRsb2NhdGlvblByb3ZpZGVyJywgJyRyb3V0ZVByb3ZpZGVyJyxcbiAgICAgICAgKCRsb2NhdGlvblByb3ZpZGVyLCAkcm91dGVQcm92aWRlcikgPT4ge1xuXG4gICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZShmYWxzZSk7XG5cbiAgICAgICAgJHJvdXRlUHJvdmlkZXIud2hlbignLycsIHsgdGVtcGxhdGVVcmw6IHRoaXMuX2dldFBhcnRpYWxVcmwoJ2NoYXRyb29tJyksIGNvbnRyb2xsZXI6ICdDaGF0Um9vbUN0cmwnIH0pO1xuICAgICAgICAkcm91dGVQcm92aWRlci5vdGhlcndpc2UoeyByZWRpcmVjdFRvOiAnLycgfSk7XG4gICAgICB9XSk7XG4gICAgfSk7XG4gIH1cblxuICBydW4oKSB7XG4gICAgYW5ndWxhci5ib290c3RyYXAoZG9jdW1lbnQsIFsnU05BUEF1eGlsaWFyZXMnXSk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL19iYXNlLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJywgWydhbmd1bGFyLWJhY29uJ10pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9hY2NvdW50LmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdBY2NvdW50Q3RybCcsIFsnJHNjb3BlJywgJ0N1c3RvbWVyTWFuYWdlcicsICdEaWFsb2dNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgZnVuY3Rpb24oJHNjb3BlLCBDdXN0b21lck1hbmFnZXIsIERpYWxvZ01hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyKSB7XG5cbiAgaWYgKCFDdXN0b21lck1hbmFnZXIubW9kZWwuaXNFbmFibGVkIHx8ICFDdXN0b21lck1hbmFnZXIubW9kZWwuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdob21lJyB9O1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBDb25zdGFudHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHJvcGVydGllc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgUHJvZmlsZVxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLnByb2ZpbGUgPSBDdXN0b21lck1hbmFnZXIubW9kZWwucHJvZmlsZTtcbiAgJHNjb3BlLmNhbkNoYW5nZVBhc3N3b3JkID0gQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmhhc0NyZWRlbnRpYWxzO1xuICB2YXIgcHJvZmlsZSA9ICRzY29wZS4kd2F0Y2hBc1Byb3BlcnR5KCdwcm9maWxlJyk7XG5cbiAgQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLnByb2ZpbGVDaGFuZ2VkLmFkZChmdW5jdGlvbih2YWx1ZSkge1xuICAgICRzY29wZS5wcm9maWxlID0gdmFsdWU7XG4gICAgJHNjb3BlLmNhbkNoYW5nZVBhc3N3b3JkID0gQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmhhc0NyZWRlbnRpYWxzO1xuICAgICRzY29wZS5jYW5DaGFuZ2VFbWFpbCA9IEN1c3RvbWVyTWFuYWdlci5tb2RlbC5oYXNDcmVkZW50aWFscztcbiAgfSk7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBTcGxhc2ggc2NyZWVuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUuZWRpdFByb2ZpbGUgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUucHJvZmlsZWVkaXQgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLnByb2ZpbGUpO1xuICAgICRzY29wZS5zaG93UHJvZmlsZUVkaXQgPSB0cnVlO1xuICB9O1xuXG4gICRzY29wZS5lZGl0UGFzc3dvcmQgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUucGFzc3dvcmRlZGl0ID0ge1xuICAgICAgb2xkX3Bhc3N3b3JkOiAnJyxcbiAgICAgIG5ld19wYXNzd29yZDogJydcbiAgICB9O1xuICAgICRzY29wZS5zaG93UHJvZmlsZUVkaXQgPSBmYWxzZTtcbiAgICAkc2NvcGUuc2hvd1Bhc3N3b3JkRWRpdCA9IHRydWU7XG4gIH07XG5cbiAgJHNjb3BlLmVkaXRQYXltZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnNob3dQYXltZW50RWRpdCA9IHRydWU7XG4gIH07XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBQcm9maWxlIGVkaXQgc2NyZWVuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUucHJvZmlsZUVkaXRTdWJtaXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgQ3VzdG9tZXJNYW5hZ2VyLnVwZGF0ZVByb2ZpbGUoJHNjb3BlLnByb2ZpbGVlZGl0KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICRzY29wZS5zaG93UHJvZmlsZUVkaXQgPSBmYWxzZTtcbiAgICB9LCBmdW5jdGlvbihlKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLnByb2ZpbGVFZGl0Q2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnNob3dQcm9maWxlRWRpdCA9IGZhbHNlO1xuICB9O1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgUGFzc3dvcmQgZWRpdCBzY3JlZW5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5wYXNzd29yZEVkaXRTdWJtaXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgQ3VzdG9tZXJNYW5hZ2VyLmNoYW5nZVBhc3N3b3JkKCRzY29wZS5wYXNzd29yZGVkaXQpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgJHNjb3BlLnNob3dQYXNzd29yZEVkaXQgPSBmYWxzZTtcbiAgICB9LCBmdW5jdGlvbihlKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLnBhc3N3b3JkRWRpdENhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5zaG93UGFzc3dvcmRFZGl0ID0gZmFsc2U7XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2JhY2tncm91bmQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0JhY2tncm91bmRDdHJsJywgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnU2hlbGxNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwgU2hlbGxNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlcikge1xuXG4gIGZ1bmN0aW9uIHNob3dJbWFnZXModmFsdWVzKSB7XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuaW1hZ2VzID0gdmFsdWVzLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzcmM6IFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybChpdGVtLm1lZGlhLCAxOTIwLCAxMDgwLCAnanBnJyksXG4gICAgICAgICAgdHlwZTogU2hlbGxNYW5hZ2VyLmdldE1lZGlhVHlwZShpdGVtLm1lZGlhKVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgYmFja2dyb3VuZHMgPSBTaGVsbE1hbmFnZXIubW9kZWwuYmFja2dyb3VuZHMsXG4gICAgICBwYWdlQmFja2dyb3VuZHMgPSBudWxsO1xuXG4gIHNob3dJbWFnZXMoYmFja2dyb3VuZHMpO1xuICBTaGVsbE1hbmFnZXIubW9kZWwuYmFja2dyb3VuZHNDaGFuZ2VkLmFkZCh2YWx1ZSA9PiB7XG4gICAgYmFja2dyb3VuZHMgPSB2YWx1ZTtcbiAgICBzaG93SW1hZ2VzKGJhY2tncm91bmRzKTtcbiAgfSk7XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2VkLmFkZChmdW5jdGlvbihsb2NhdGlvbikge1xuICAgIHZhciBuZXdQYWdlQmFja2dyb3VuZHMgPSBTaGVsbE1hbmFnZXIuZ2V0UGFnZUJhY2tncm91bmRzKGxvY2F0aW9uKTtcblxuICAgIGlmIChuZXdQYWdlQmFja2dyb3VuZHMubGVuZ3RoID4gMCkge1xuICAgICAgcGFnZUJhY2tncm91bmRzID0gbmV3UGFnZUJhY2tncm91bmRzO1xuICAgICAgc2hvd0ltYWdlcyhwYWdlQmFja2dyb3VuZHMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwYWdlQmFja2dyb3VuZHMpIHtcbiAgICAgIHN3aXRjaCAobG9jYXRpb24udHlwZSkge1xuICAgICAgICBjYXNlICdtZW51JzpcbiAgICAgICAgY2FzZSAnY2F0ZWdvcnknOlxuICAgICAgICBjYXNlICdpdGVtJzpcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgcGFnZUJhY2tncm91bmRzID0gbnVsbDtcbiAgICBzaG93SW1hZ2VzKGJhY2tncm91bmRzKTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NhcnQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NhcnRDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnJHNjZScsICdDdXN0b21lck1hbmFnZXInLCAnU2hlbGxNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ09yZGVyTWFuYWdlcicsICdEaWFsb2dNYW5hZ2VyJywgJ0NhcnRNb2RlbCcsICdMb2NhdGlvbk1vZGVsJywgJ0NoYXRNYW5hZ2VyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsICRzY2UsIEN1c3RvbWVyTWFuYWdlciwgU2hlbGxNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgT3JkZXJNYW5hZ2VyLCBEaWFsb2dNYW5hZ2VyLCBDYXJ0TW9kZWwsIExvY2F0aW9uTW9kZWwsIENoYXRNYW5hZ2VyKSA9PiB7XG5cbiAgJHNjb3BlLmdldE1lZGlhVXJsID0gKG1lZGlhLCB3aWR0aCwgaGVpZ2h0LCBleHRlbnNpb24pID0+IFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKTtcbiAgJHNjb3BlLmZvcm1hdFByaWNlID0gdmFsdWUgPT4gU2hlbGxNYW5hZ2VyLmZvcm1hdFByaWNlKHZhbHVlKTtcbiAgJHNjb3BlLm9wdGlvbnMgPSB7fTtcblxuICAkc2NvcGUuc3RhdGUgPSBDYXJ0TW9kZWwuY2FydFN0YXRlO1xuICBDYXJ0TW9kZWwuY2FydFN0YXRlQ2hhbmdlZC5hZGQoc3RhdGUgPT4gJHRpbWVvdXQoKCkgPT4gJHNjb3BlLnN0YXRlID0gc3RhdGUpKTtcblxuICAkc2NvcGUuY3VycmVudE9yZGVyID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2FydDtcbiAgT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2FydENoYW5nZWQuYWRkKHZhbHVlID0+ICRzY29wZS5jdXJyZW50T3JkZXIgPSB2YWx1ZSk7XG5cbiAgJHNjb3BlLnRvdGFsT3JkZXIgPSBPcmRlck1hbmFnZXIubW9kZWwub3JkZXJDaGVjaztcbiAgT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2hlY2tDaGFuZ2VkLmFkZCh2YWx1ZSA9PiAkc2NvcGUudG90YWxPcmRlciA9IHZhbHVlKTtcblxuICAkc2NvcGUuZ2lmdFNlYXQgPSBMb2NhdGlvbk1vZGVsLmdldFNlYXQoQ2hhdE1hbmFnZXIubW9kZWwuZ2lmdFNlYXQpO1xuICBDaGF0TWFuYWdlci5tb2RlbC5naWZ0U2VhdENoYW5nZWQuYWRkKHRva2VuID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuZ2lmdFNlYXQgPSBMb2NhdGlvbk1vZGVsLmdldFNlYXQodG9rZW4pKTtcbiAgfSk7XG5cbiAgJHNjb3BlLnJlcXVlc3RBc3Npc3RhbmNlQXZhaWxhYmxlID0gdHJ1ZTtcbiAgJHNjb3BlLnJlcXVlc3RDbG9zZW91dEF2YWlsYWJsZSA9IHRydWU7XG4gICRzY29wZS5jaGVja291dEVuYWJsZWQgPSBDdXN0b21lck1hbmFnZXIubW9kZWwuaXNFbmFibGVkO1xuICAkc2NvcGUudG9Hb09yZGVyID0gZmFsc2U7XG4gICRzY29wZS52aXNpYmxlID0gQ2FydE1vZGVsLmlzQ2FydE9wZW47XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2luZy5hZGQobG9jYXRpb24gPT4ge1xuICAgIGlmIChsb2NhdGlvbi50eXBlICE9PSAnY2F0ZWdvcnknKSB7XG4gICAgICBDYXJ0TW9kZWwuaXNDYXJ0T3BlbiA9IGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgQ2FydE1vZGVsLmlzQ2FydE9wZW5DaGFuZ2VkLmFkZCh2YWx1ZSA9PiB7XG4gICAgJHNjb3BlLnNob3dDYXJ0KCk7XG4gICAgJHNjb3BlLnZpc2libGUgPSB2YWx1ZTtcbiAgfSk7XG5cbiAgJHNjb3BlLnNlYXRfbmFtZSA9IExvY2F0aW9uTW9kZWwuc2VhdCA/XG4gICAgTG9jYXRpb25Nb2RlbC5zZWF0Lm5hbWUgOlxuICAgICdUYWJsZSc7XG5cbiAgTG9jYXRpb25Nb2RlbC5zZWF0Q2hhbmdlZC5hZGQoc2VhdCA9PiAkc2NvcGUuc2VhdF9uYW1lID0gc2VhdCA/IHNlYXQubmFtZSA6ICdUYWJsZScpO1xuXG4gIHZhciByZWZyZXNoQXNzaXN0YW5jZVJlcXVlc3QgPSAoKSA9PiB7XG4gICAgJHNjb3BlLnJlcXVlc3RBc3Npc3RhbmNlQXZhaWxhYmxlID0gT3JkZXJNYW5hZ2VyLm1vZGVsLmFzc2lzdGFuY2VSZXF1ZXN0ID09IG51bGw7XG4gIH07XG4gIHZhciByZWZyZXNoQ2xvc2VvdXRSZXF1ZXN0ID0gKCkgPT4ge1xuICAgICRzY29wZS5yZXF1ZXN0Q2xvc2VvdXRBdmFpbGFibGUgPSBPcmRlck1hbmFnZXIubW9kZWwuY2xvc2VvdXRSZXF1ZXN0ID09IG51bGw7XG4gIH07XG5cbiAgT3JkZXJNYW5hZ2VyLm1vZGVsLmFzc2lzdGFuY2VSZXF1ZXN0Q2hhbmdlZC5hZGQocmVmcmVzaEFzc2lzdGFuY2VSZXF1ZXN0KTtcbiAgT3JkZXJNYW5hZ2VyLm1vZGVsLmNsb3Nlb3V0UmVxdWVzdENoYW5nZWQuYWRkKHJlZnJlc2hDbG9zZW91dFJlcXVlc3QpO1xuICByZWZyZXNoQXNzaXN0YW5jZVJlcXVlc3QoKTtcbiAgcmVmcmVzaENsb3Nlb3V0UmVxdWVzdCgpO1xuXG4gICRzY29wZS5jYWxjdWxhdGVEZXNjcmlwdGlvbiA9IGVudHJ5ID0+IHtcbiAgICB2YXIgcmVzdWx0ID0gZW50cnkubmFtZSB8fCBlbnRyeS5pdGVtLnRpdGxlO1xuXG4gICAgcmVzdWx0ICs9IGVudHJ5Lm1vZGlmaWVycy5yZWR1Y2UoKG91dHB1dCwgY2F0ZWdvcnkpID0+IHtcbiAgICAgIHJldHVybiBvdXRwdXQgKyBjYXRlZ29yeS5tb2RpZmllcnMucmVkdWNlKChvdXRwdXQsIG1vZGlmaWVyKSA9PiB7XG4gICAgICAgIHJldHVybiBvdXRwdXQgKyAobW9kaWZpZXIuaXNTZWxlY3RlZCA/XG4gICAgICAgICAgJzxici8+LSAnICsgbW9kaWZpZXIuZGF0YS50aXRsZSA6XG4gICAgICAgICAgJycpO1xuICAgICAgfSwgJycpO1xuICAgIH0sICcnKTtcblxuICAgIHJldHVybiAkc2NlLnRydXN0QXNIdG1sKHJlc3VsdCk7XG4gIH07XG5cbiAgJHNjb3BlLmNhbGN1bGF0ZVByaWNlID0gZW50cnkgPT4gT3JkZXJNYW5hZ2VyLmNhbGN1bGF0ZVByaWNlKGVudHJ5KTtcbiAgJHNjb3BlLmNhbGN1bGF0ZVRvdGFsUHJpY2UgPSBlbnRyaWVzID0+IE9yZGVyTWFuYWdlci5jYWxjdWxhdGVUb3RhbFByaWNlKGVudHJpZXMpO1xuXG4gICRzY29wZS5lZGl0SXRlbSA9IGVudHJ5ID0+IENhcnRNb2RlbC5vcGVuRWRpdG9yKGVudHJ5LCBmYWxzZSk7XG4gICRzY29wZS5yZW1vdmVGcm9tQ2FydCA9IGVudHJ5ID0+ICRzY29wZS5jdXJyZW50T3JkZXIgPSBPcmRlck1hbmFnZXIucmVtb3ZlRnJvbUNhcnQoZW50cnkpO1xuICAkc2NvcGUucmVvcmRlckl0ZW0gPSBlbnRyeSA9PiAkc2NvcGUuY3VycmVudE9yZGVyID0gT3JkZXJNYW5hZ2VyLmFkZFRvQ2FydChlbnRyeS5jbG9uZSgpKTtcblxuICAkc2NvcGUuc3VibWl0Q2FydCA9ICgpID0+IHtcbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgdmFyIG9wdGlvbnMgPSAkc2NvcGUub3B0aW9ucy50b19nb19vcmRlciA/IDIgOiAwO1xuXG4gICAgT3JkZXJNYW5hZ2VyLnN1Ym1pdENhcnQob3B0aW9ucykudGhlbihmdW5jdGlvbigpIHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG5cbiAgICAgICRzY29wZS4kYXBwbHkoKCkgPT4ge1xuICAgICAgICAkc2NvcGUuY3VycmVudE9yZGVyID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2FydDtcbiAgICAgICAgJHNjb3BlLnRvdGFsT3JkZXIgPSBPcmRlck1hbmFnZXIubW9kZWwub3JkZXJDaGVjaztcbiAgICAgICAgJHNjb3BlLnRvR29PcmRlciA9IGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9PUkRFUl9TRU5UKTtcbiAgICB9LCAoKSA9PiB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLmNsZWFyQ2FydCA9ICgpID0+IHtcbiAgICAkc2NvcGUudG9Hb09yZGVyID0gZmFsc2U7XG4gICAgJHNjb3BlLmN1cnJlbnRPcmRlciA9IE9yZGVyTWFuYWdlci5jbGVhckNhcnQoKTtcbiAgfTtcblxuICAkc2NvcGUuY2xvc2VDYXJ0ID0gKCkgPT4ge1xuICAgIENhcnRNb2RlbC5pc0NhcnRPcGVuID0gZmFsc2U7XG4gICAgJHNjb3BlLnNob3dDYXJ0KCk7XG4gIH07XG5cbiAgJHNjb3BlLnNob3dIaXN0b3J5ID0gKCkgPT4gQ2FydE1vZGVsLmNhcnRTdGF0ZSA9IENhcnRNb2RlbC5TVEFURV9ISVNUT1JZO1xuICAkc2NvcGUuc2hvd0NhcnQgPSAoKSA9PiBDYXJ0TW9kZWwuY2FydFN0YXRlID0gQ2FydE1vZGVsLlNUQVRFX0NBUlQ7XG5cbiAgJHNjb3BlLnBheUNoZWNrID0gKCkgPT4gTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdjaGVja291dCcgfTtcblxuICAkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2UgPSAoKSA9PiB7XG4gICAgaWYgKCEkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2VBdmFpbGFibGUpe1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIERpYWxvZ01hbmFnZXIuY29uZmlybShBTEVSVF9UQUJMRV9BU1NJU1RBTkNFKS50aGVuKCgpID0+IHtcbiAgICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICAgIE9yZGVyTWFuYWdlci5yZXF1ZXN0QXNzaXN0YW5jZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfQVNTSVNUQU5DRV9TRU5UKTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUucmVxdWVzdENsb3Nlb3V0ID0gKCkgPT4ge1xuICAgIGlmICghJHNjb3BlLnJlcXVlc3RDbG9zZW91dEF2YWlsYWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICBPcmRlck1hbmFnZXIucmVxdWVzdENsb3Nlb3V0KCkudGhlbigoKSA9PiB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX0NMT1NFT1VUX1NFTlQpO1xuICAgIH0sICgpID0+IHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICB9KTtcbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY2F0ZWdvcnkuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NhdGVnb3J5QmFzZUN0cmwnLCBbJyRzY29wZScsICckdGltZW91dCcsICdEYXRhTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsIGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQsIERhdGFNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlcikge1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2F0ZWdvcnlDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnRGF0YU1hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnU05BUEVudmlyb25tZW50JywgJ1NoZWxsTWFuYWdlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBEYXRhTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIFNOQVBFbnZpcm9ubWVudCwgU2hlbGxNYW5hZ2VyKSA9PiB7XG5cbiAgdmFyIENhdGVnb3J5TGlzdCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHRpbGVDbGFzc05hbWUgPSBTaGVsbE1hbmFnZXIudGlsZVN0eWxlO1xuICAgICAgdmFyIHJvd3MgPSB0aGlzLnByb3BzLnRpbGVzLm1hcChmdW5jdGlvbih0aWxlLCBpKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgUmVhY3QuRE9NLnRkKHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogdGlsZUNsYXNzTmFtZSxcbiAgICAgICAgICAgIGtleTogaVxuICAgICAgICAgIH0sIFJlYWN0LkRPTS5hKHtcbiAgICAgICAgICAgIG9uQ2xpY2s6IGUgPT4ge1xuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0gdGlsZS5kZXN0aW5hdGlvbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoJyArIFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybCh0aWxlLmltYWdlLCAzNzAsIDM3MCkgKyAnKSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4obnVsbCwgdGlsZS50aXRsZSlcbiAgICAgICAgICApKVxuICAgICAgICApO1xuICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGkpIHtcbiAgICAgICAgcmVzdWx0W2kgJSAyXS5wdXNoKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sIFtbXSwgW11dKVxuICAgICAgLm1hcChmdW5jdGlvbihyb3csIGkpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LkRPTS50cih7IGtleTogaSB9LCByb3cpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBSZWFjdC5ET00udGFibGUoeyBjbGFzc05hbWU6ICd0aWxlLXRhYmxlJyB9LCByb3dzKTtcbiAgICB9XG4gIH0pO1xuXG4gIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uQ2hhbmdpbmcuYWRkKGZ1bmN0aW9uKGxvY2F0aW9uKSB7XG4gICAgRGF0YU1hbmFnZXIuY2F0ZWdvcnkgPSBsb2NhdGlvbi50eXBlID09PSAnY2F0ZWdvcnknID8gbG9jYXRpb24udG9rZW4gOiB1bmRlZmluZWQ7XG4gICAgJHNjb3BlLnZpc2libGUgPSBCb29sZWFuKERhdGFNYW5hZ2VyLmNhdGVnb3J5KTtcbiAgICAkdGltZW91dChmdW5jdGlvbigpIHsgJHNjb3BlLiRhcHBseSgpOyB9KTtcbiAgfSk7XG5cbiAgRGF0YU1hbmFnZXIuY2F0ZWdvcnlDaGFuZ2VkLmFkZChmdW5jdGlvbihkYXRhKSB7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRpbGVzLFxuICAgICAgICBjYXRlZ29yaWVzID0gZGF0YS5jYXRlZ29yaWVzIHx8IFtdO1xuICAgIHRpbGVzID0gZGF0YS5pdGVtcyB8fCBbXTtcbiAgICB0aWxlcyA9IGNhdGVnb3JpZXMuY29uY2F0KHRpbGVzKTtcblxuICAgIGlmIChTTkFQRW52aXJvbm1lbnQucGxhdGZvcm0gIT09ICdkZXNrdG9wJykge1xuICAgICAgdGlsZXMgPSB0aWxlcy5maWx0ZXIodGlsZSA9PiB0aWxlLnR5cGUgIT09IDMpO1xuICAgIH1cblxuICAgIHRpbGVzLmZvckVhY2godGlsZSA9PiB7XG4gICAgICB0aWxlLnVybCA9ICcjJyArIE5hdmlnYXRpb25NYW5hZ2VyLmdldFBhdGgodGlsZS5kZXN0aW5hdGlvbik7XG4gICAgfSk7XG5cbiAgICBSZWFjdC5yZW5kZXIoXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENhdGVnb3J5TGlzdCwgeyB0aWxlczogdGlsZXMgfSksXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudC1jYXRlZ29yeScpXG4gICAgKTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NoYXQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NoYXRDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnQ3VzdG9tZXJNYW5hZ2VyJywgJ0NoYXRNYW5hZ2VyJywgJ0RpYWxvZ01hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnTG9jYXRpb25Nb2RlbCcsICdTaGVsbE1hbmFnZXInLCAnU05BUExvY2F0aW9uJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIEN1c3RvbWVyTWFuYWdlciwgQ2hhdE1hbmFnZXIsIERpYWxvZ01hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyLCBMb2NhdGlvbk1vZGVsLCBTaGVsbE1hbmFnZXIsIFNOQVBMb2NhdGlvbikgPT4ge1xuXG4gIGlmICghU05BUExvY2F0aW9uLmNoYXQpIHtcbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2hvbWUnIH07XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgJHNjb3BlLmxvY2F0aW9uTmFtZSA9IFNOQVBMb2NhdGlvbi5sb2NhdGlvbl9uYW1lO1xuXG4gICRzY29wZS5nZXRQYXJ0aWFsVXJsID0gbmFtZSA9PiBTaGVsbE1hbmFnZXIuZ2V0UGFydGlhbFVybChuYW1lKTtcblxuICAkc2NvcGUuY2hhdEVuYWJsZWQgPSBDaGF0TWFuYWdlci5tb2RlbC5pc0VuYWJsZWQ7XG4gIENoYXRNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZENoYW5nZWQuYWRkKHZhbHVlID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuY2hhdEVuYWJsZWQgPSB2YWx1ZSk7XG4gIH0pO1xuXG4gICRzY29wZS5hY3RpdmVEZXZpY2VzID0gQ2hhdE1hbmFnZXIubW9kZWwuYWN0aXZlRGV2aWNlcztcbiAgQ2hhdE1hbmFnZXIubW9kZWwuYWN0aXZlRGV2aWNlc0NoYW5nZWQuYWRkKHZhbHVlID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuYWN0aXZlRGV2aWNlcyA9IHZhbHVlKTtcbiAgfSk7XG5cbiAgJHNjb3BlLmdpZnRTZWF0ID0gTG9jYXRpb25Nb2RlbC5nZXRTZWF0KENoYXRNYW5hZ2VyLm1vZGVsLmdpZnRTZWF0KTtcbiAgQ2hhdE1hbmFnZXIubW9kZWwuZ2lmdFNlYXRDaGFuZ2VkLmFkZCh0b2tlbiA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmdpZnRTZWF0ID0gTG9jYXRpb25Nb2RlbC5nZXRTZWF0KHRva2VuKSk7XG4gIH0pO1xuXG4gICRzY29wZS5naWZ0RGV2aWNlID0gQ2hhdE1hbmFnZXIubW9kZWwuZ2lmdERldmljZTtcbiAgQ2hhdE1hbmFnZXIubW9kZWwuZ2lmdERldmljZUNoYW5nZWQuYWRkKHZhbHVlID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuZ2lmdERldmljZSA9IHZhbHVlKTtcbiAgfSk7XG5cbiAgJHNjb3BlLnRvZ2dsZUNoYXQgPSAoKSA9PiB7XG4gICAgQ2hhdE1hbmFnZXIubW9kZWwuaXNFbmFibGVkID0gIUNoYXRNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZDtcbiAgfTtcblxuICAkc2NvcGUub3Blbk1hcCA9ICgpID0+IHtcbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2NoYXRtYXAnIH07XG4gIH07XG5cbiAgJHNjb3BlLmdldERldmljZU5hbWUgPSBkZXZpY2VfdG9rZW4gPT4gQ2hhdE1hbmFnZXIuZ2V0RGV2aWNlTmFtZShkZXZpY2VfdG9rZW4pO1xuXG4gICRzY29wZS5nZXRTZWF0TnVtYmVyID0gZGV2aWNlX3Rva2VuID0+IHtcbiAgICB2YXIgZGV2aWNlID0gTG9jYXRpb25Nb2RlbC5nZXREZXZpY2UoZGV2aWNlX3Rva2VuKTtcblxuICAgIGZvciAodmFyIHAgaW4gTG9jYXRpb25Nb2RlbC5zZWF0cykge1xuICAgICAgaWYgKExvY2F0aW9uTW9kZWwuc2VhdHNbcF0udG9rZW4gPT09IGRldmljZS5zZWF0KSB7XG4gICAgICAgIGxldCBtYXRjaCA9IExvY2F0aW9uTW9kZWwuc2VhdHNbcF0ubmFtZS5tYXRjaCgvXFxkKy8pO1xuICAgICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFswXSB8fCAnJyA6ICcnO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfTtcblxuICAkc2NvcGUuY2xvc2VDaGF0ID0gZGV2aWNlX3Rva2VuID0+IHtcbiAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd291bGQgbGlrZSB0byBjbG9zZSB0aGUgY2hhdCB3aXRoICcgKyAkc2NvcGUuZ2V0RGV2aWNlTmFtZShkZXZpY2VfdG9rZW4pICsgJz8nKVxuICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgQ2hhdE1hbmFnZXIuZGVjbGluZURldmljZShkZXZpY2VfdG9rZW4pO1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5nZXRVbnJlYWRDb3VudCA9IGRldmljZV90b2tlbiA9PiBDaGF0TWFuYWdlci5nZXRVbnJlYWRDb3VudChkZXZpY2VfdG9rZW4pO1xuXG4gICRzY29wZS5zZW5kR2lmdCA9IGRldmljZV90b2tlbiA9PiB7XG4gICAgdmFyIGRldmljZSA9IExvY2F0aW9uTW9kZWwuZ2V0RGV2aWNlKGRldmljZV90b2tlbiksXG4gICAgICAgIHNlYXQgPSBMb2NhdGlvbk1vZGVsLmdldFNlYXQoZGV2aWNlLnNlYXQpO1xuXG4gICAgaWYgKCFzZWF0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgRGlhbG9nTWFuYWdlci5jb25maXJtKGBBcmUgeW91IHN1cmUgdGhhdCB5b3Ugd2FudCB0byBzZW5kIGEgZ2lmdCB0byAke3NlYXQubmFtZX0/YCkudGhlbigoKSA9PiB7XG4gICAgICBDaGF0TWFuYWdlci5zdGFydEdpZnQoZGV2aWNlX3Rva2VuKTtcbiAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnaG9tZScgfTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUuY2FuY2VsR2lmdCA9ICgpID0+IENoYXRNYW5hZ2VyLmVuZEdpZnQoKTtcblxuICBDaGF0TWFuYWdlci5pc1ByZXNlbnQgPSB0cnVlO1xuXG4gIHZhciB3YXRjaExvY2F0aW9uID0gdHJ1ZTtcblxuICAkc2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdGFydCcsICgpID0+IHtcbiAgICBpZiAod2F0Y2hMb2NhdGlvbikge1xuICAgICAgQ2hhdE1hbmFnZXIubW9kZWwuaXNQcmVzZW50ID0gZmFsc2U7XG4gICAgICB3YXRjaExvY2F0aW9uID0gZmFsc2U7XG4gICAgfVxuICB9KTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY2hhdGJveC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2hhdEJveEN0cmwnLCBbJyRzY29wZScsICckdGltZW91dCcsICckYXR0cnMnLCAnQ2hhdE1hbmFnZXInLCAnTG9jYXRpb25Nb2RlbCcsIGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQsICRhdHRycywgQ2hhdE1hbmFnZXIsIExvY2F0aW9uTW9kZWwpIHtcbiAgdmFyIHRvX2RldmljZSA9ICRzY29wZS5kZXZpY2UsXG4gICAgICB0eXBlID0gdG9fZGV2aWNlID9cbiAgICAgICAgQ2hhdE1hbmFnZXIuTUVTU0FHRV9UWVBFUy5ERVZJQ0UgOlxuICAgICAgICBDaGF0TWFuYWdlci5NRVNTQUdFX1RZUEVTLkxPQ0FUSU9OO1xuXG4gIHZhciBkZXZpY2UgPSB0b19kZXZpY2UgPyBMb2NhdGlvbk1vZGVsLmdldERldmljZSh0b19kZXZpY2UpIDogbnVsbDtcblxuICAkc2NvcGUucmVhZG9ubHkgPSBCb29sZWFuKCRhdHRycy5yZWFkb25seSk7XG4gICRzY29wZS5jaGF0ID0ge307XG4gICRzY29wZS5tZXNzYWdlcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIHNob3dNZXNzYWdlcygpIHtcbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAkc2NvcGUubWVzc2FnZXMgPSBDaGF0TWFuYWdlci5tb2RlbC5oaXN0b3J5LmZpbHRlcihtZXNzYWdlID0+IHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2UudHlwZSA9PT0gdHlwZSAmJiAoXG4gICAgICAgICAgbWVzc2FnZS5kZXZpY2UgPT09IHRvX2RldmljZSB8fFxuICAgICAgICAgIG1lc3NhZ2UudG9fZGV2aWNlID09PSB0b19kZXZpY2VcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgJHNjb3BlLmNoYXRFbmFibGVkID0gQ2hhdE1hbmFnZXIubW9kZWwuaXNFbmFibGVkO1xuICBDaGF0TWFuYWdlci5tb2RlbC5pc0VuYWJsZWRDaGFuZ2VkLmFkZCh2YWx1ZSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmNoYXRFbmFibGVkID0gdmFsdWUpO1xuICB9KTtcblxuICAkc2NvcGUuaXNDb25uZWN0ZWQgPSBDaGF0TWFuYWdlci5tb2RlbC5pc0Nvbm5lY3RlZDtcbiAgQ2hhdE1hbmFnZXIubW9kZWwuaXNDb25uZWN0ZWRDaGFuZ2VkLmFkZCh2YWx1ZSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmlzQ29ubmVjdGVkID0gdmFsdWUpO1xuICB9KTtcblxuICAkc2NvcGUuc2VuZE1lc3NhZ2UgPSAoKSA9PiB7XG4gICAgaWYgKCEkc2NvcGUuaXNDb25uZWN0ZWQgfHwgISRzY29wZS5jaGF0Lm1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbWVzc2FnZSA9IHtcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICB0b19kZXZpY2U6IHRvX2RldmljZSxcbiAgICAgIHRleHQ6ICRzY29wZS5jaGF0Lm1lc3NhZ2VcbiAgICB9O1xuXG4gICAgQ2hhdE1hbmFnZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSk7XG5cbiAgICAkc2NvcGUuY2hhdC5tZXNzYWdlID0gJyc7XG4gIH07XG5cbiAgJHNjb3BlLmdldEZyb21OYW1lID0gbWVzc2FnZSA9PiBDaGF0TWFuYWdlci5nZXRNZXNzYWdlTmFtZShtZXNzYWdlKTtcblxuICAkc2NvcGUuZ2V0U3RhdHVzVGV4dCA9IG1lc3NhZ2UgPT4ge1xuICAgIGlmIChtZXNzYWdlLnRvX2RldmljZSA9PT0gdG9fZGV2aWNlKSB7XG4gICAgICBzd2l0Y2gobWVzc2FnZS5zdGF0dXMpIHtcbiAgICAgICAgY2FzZSBDaGF0TWFuYWdlci5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfUkVRVUVTVDpcbiAgICAgICAgICByZXR1cm4gJ1lvdSBoYXZlIHJlcXVlc3RlZCB0byBjaGF0IHdpdGggJyArIENoYXRNYW5hZ2VyLmdldERldmljZU5hbWUobWVzc2FnZS50b19kZXZpY2UpO1xuICAgICAgICBjYXNlIENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuQ0hBVF9SRVFVRVNUX0FDQ0VQVEVEOlxuICAgICAgICAgIHJldHVybiAnQWNjZXB0ZWQgY2hhdCByZXF1ZXN0JztcbiAgICAgICAgY2FzZSBDaGF0TWFuYWdlci5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfUkVRVUVTVF9ERUNMSU5FRDpcbiAgICAgICAgICByZXR1cm4gJ0RlY2xpbmVkIGNoYXQgcmVxdWVzdCc7XG4gICAgICAgIGNhc2UgQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX0NMT1NFRDpcbiAgICAgICAgICByZXR1cm4gJ0Nsb3NlZCB0aGUgY2hhdCc7XG4gICAgICAgIGNhc2UgQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5HSUZUX1JFUVVFU1Q6XG4gICAgICAgICAgcmV0dXJuICdHaWZ0IHJlcXVlc3Qgc2VudCc7XG4gICAgICAgIGNhc2UgQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5HSUZUX1JFUVVFU1RfQUNDRVBURUQ6XG4gICAgICAgICAgcmV0dXJuICdBY2NlcHRlZCBhIGdpZnQnO1xuICAgICAgICBjYXNlIENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuR0lGVF9SRVFVRVNUX0RFQ0xJTkVEOlxuICAgICAgICAgIHJldHVybiAnRGVjbGluZWQgYSBnaWZ0JztcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAobWVzc2FnZS5kZXZpY2UgPT09IHRvX2RldmljZSkge1xuICAgICAgc3dpdGNoKG1lc3NhZ2Uuc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX1JFUVVFU1Q6XG4gICAgICAgICAgcmV0dXJuICRzY29wZS5nZXRGcm9tTmFtZShtZXNzYWdlKSArICcgd291bGQgbGlrZSB0byBjaGF0IHdpdGggeW91JztcbiAgICAgICAgY2FzZSBDaGF0TWFuYWdlci5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfUkVRVUVTVF9BQ0NFUFRFRDpcbiAgICAgICAgICByZXR1cm4gJ0FjY2VwdGVkIGNoYXQgcmVxdWVzdCc7XG4gICAgICAgIGNhc2UgQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX1JFUVVFU1RfREVDTElORUQ6XG4gICAgICAgICAgcmV0dXJuICdEZWNsaW5lZCBjaGF0IHJlcXVlc3QnO1xuICAgICAgICBjYXNlIENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuQ0hBVF9DTE9TRUQ6XG4gICAgICAgICAgcmV0dXJuICdDbG9zZWQgdGhlIGNoYXQnO1xuICAgICAgICBjYXNlIENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuR0lGVF9SRVFVRVNUOlxuICAgICAgICAgIHJldHVybiAnV291bGQgbGlrZSB0byBzZW5kIHlvdSBhIGdpZnQnO1xuICAgICAgICBjYXNlIENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuR0lGVF9SRVFVRVNUX0FDQ0VQVEVEOlxuICAgICAgICAgIHJldHVybiAnQWNjZXB0ZWQgYSBnaWZ0JztcbiAgICAgICAgY2FzZSBDaGF0TWFuYWdlci5NRVNTQUdFX1NUQVRVU0VTLkdJRlRfUkVRVUVTVF9ERUNMSU5FRDpcbiAgICAgICAgICByZXR1cm4gJ0RlY2xpbmVkIGEgZ2lmdCc7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5pc1VucmVhZCA9IG1lc3NhZ2UgPT4ge1xuICAgIGlmIChtZXNzYWdlLnRvX2RldmljZSA9PT0gdG9fZGV2aWNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIENoYXRNYW5hZ2VyLmNoZWNrSWZVbnJlYWQodG9fZGV2aWNlLCBtZXNzYWdlKTtcbiAgfTtcblxuICAkc2NvcGUubWFya0FzUmVhZCA9ICgpID0+IHtcbiAgICBpZiAoIXRvX2RldmljZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIENoYXRNYW5hZ2VyLm1hcmtBc1JlYWQodG9fZGV2aWNlKTtcbiAgfTtcblxuICAkc2NvcGUub25LZXlkb3duID0ga2V5Y29kZSA9PiB7XG4gICAgaWYgKGtleWNvZGUgPT09IDEzKSB7XG4gICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLnNlbmRNZXNzYWdlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgTG9jYXRpb25Nb2RlbC5kZXZpY2VzQ2hhbmdlZC5hZGQoc2hvd01lc3NhZ2VzKTtcbiAgTG9jYXRpb25Nb2RlbC5zZWF0c0NoYW5nZWQuYWRkKHNob3dNZXNzYWdlcyk7XG4gIENoYXRNYW5hZ2VyLm1vZGVsLmhpc3RvcnlDaGFuZ2VkLmFkZChzaG93TWVzc2FnZXMpO1xuICBzaG93TWVzc2FnZXMoKTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY2hhdG1hcC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2hhdE1hcEN0cmwnLFxuWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnQ2hhdE1hbmFnZXInLCAnU2hlbGxNYW5hZ2VyJywgJ0RpYWxvZ01hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnTG9jYXRpb25Nb2RlbCcsXG4oJHNjb3BlLCAkdGltZW91dCwgQ2hhdE1hbmFnZXIsIFNoZWxsTWFuYWdlciwgRGlhbG9nTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIExvY2F0aW9uTW9kZWwpID0+IHtcblxuICAkc2NvcGUuc2VhdHMgPSBbXTtcblxuICAkc2NvcGUubWFwSW1hZ2UgPSBTaGVsbE1hbmFnZXIubW9kZWwuZWxlbWVudHMubG9jYXRpb25fbWFwO1xuICBTaGVsbE1hbmFnZXIubW9kZWwuZWxlbWVudHNDaGFuZ2VkLmFkZCgoKSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLm1hcEltYWdlID0gU2hlbGxNYW5hZ2VyLm1vZGVsLmVsZW1lbnRzLmxvY2F0aW9uX21hcCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGJ1aWxkTWFwKCkge1xuICAgIGlmICghTG9jYXRpb25Nb2RlbC5zZWF0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuc2VhdHMgPSBMb2NhdGlvbk1vZGVsLnNlYXRzXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oc2VhdCkgeyByZXR1cm4gc2VhdC50b2tlbiAhPT0gTG9jYXRpb25Nb2RlbC5zZWF0LnRva2VuOyB9KVxuICAgICAgICAubWFwKGZ1bmN0aW9uKHNlYXQpIHtcbiAgICAgICAgICB2YXIgZGV2aWNlcyA9IExvY2F0aW9uTW9kZWwuZGV2aWNlc1xuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihkZXZpY2UpIHsgcmV0dXJuIGRldmljZS5zZWF0ID09PSBzZWF0LnRva2VuOyB9KVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbihkZXZpY2UpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogZGV2aWNlLnRva2VuLFxuICAgICAgICAgICAgICAgIHNlYXQ6IGRldmljZS5zZWF0LFxuICAgICAgICAgICAgICAgIGlzX2F2YWlsYWJsZTogZGV2aWNlLmlzX2F2YWlsYWJsZSxcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogZGV2aWNlLnVzZXJuYW1lXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b2tlbjogc2VhdC50b2tlbixcbiAgICAgICAgICAgIG5hbWU6IHNlYXQubmFtZSxcbiAgICAgICAgICAgIGRldmljZXM6IGRldmljZXMsXG4gICAgICAgICAgICBtYXBfcG9zaXRpb25feDogc2VhdC5tYXBfcG9zaXRpb25feCxcbiAgICAgICAgICAgIG1hcF9wb3NpdGlvbl95OiBzZWF0Lm1hcF9wb3NpdGlvbl95LFxuICAgICAgICAgICAgaXNfYXZhaWxhYmxlOiBkZXZpY2VzXG4gICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oZGV2aWNlKSB7IHJldHVybiBkZXZpY2UuaXNfYXZhaWxhYmxlOyB9KVxuICAgICAgICAgICAgICAubGVuZ3RoID4gMFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgTG9jYXRpb25Nb2RlbC5kZXZpY2VzQ2hhbmdlZC5hZGQoYnVpbGRNYXApO1xuICBMb2NhdGlvbk1vZGVsLnNlYXRzQ2hhbmdlZC5hZGQoYnVpbGRNYXApO1xuICBMb2NhdGlvbk1vZGVsLnNlYXRDaGFuZ2VkLmFkZChidWlsZE1hcCk7XG4gIGJ1aWxkTWFwKCk7XG5cbiAgJHNjb3BlLmNob29zZVNlYXQgPSBmdW5jdGlvbihzZWF0KSB7XG4gICAgdmFyIGRldmljZSA9IHNlYXQuZGV2aWNlc1swXTtcblxuICAgIGlmICghc2VhdC5pc19hdmFpbGFibGUgfHwgIWRldmljZSkge1xuICAgICAgdmFyIGRldmljZU5hbWUgPSBkZXZpY2UgJiYgZGV2aWNlLnVzZXJuYW1lID8gZGV2aWNlLnVzZXJuYW1lIDogc2VhdC5uYW1lO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChkZXZpY2VOYW1lICsgJyBpcyB1bmF2YWlsYWJsZSBmb3IgY2hhdCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIENoYXRNYW5hZ2VyLmFwcHJvdmVEZXZpY2UoZGV2aWNlLnRva2VuKTtcbiAgICAkc2NvcGUuZXhpdE1hcCgpO1xuICB9O1xuXG4gICRzY29wZS5leGl0TWFwID0gZnVuY3Rpb24oKSB7XG4gICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdjaGF0JyB9O1xuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jaGF0cm9vbS5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2hhdFJvb21DdHJsJyxcblsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0NoYXRNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ1NoZWxsTWFuYWdlcicsICdTTkFQTG9jYXRpb24nLFxuKCRzY29wZSwgJHRpbWVvdXQsIENoYXRNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgU2hlbGxNYW5hZ2VyLCBTTkFQTG9jYXRpb24pID0+IHtcbiAgXG4gIGlmICghU05BUExvY2F0aW9uLmNoYXQpIHtcbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2hvbWUnIH07XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgJHNjb3BlLmxvY2F0aW9uTmFtZSA9IFNOQVBMb2NhdGlvbi5sb2NhdGlvbl9uYW1lO1xuXG4gICRzY29wZS5nZXRQYXJ0aWFsVXJsID0gbmFtZSA9PiBTaGVsbE1hbmFnZXIuZ2V0UGFydGlhbFVybChuYW1lKTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY2hlY2tvdXQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NoZWNrb3V0Q3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0N1c3RvbWVyTWFuYWdlcicsICdPcmRlck1hbmFnZXInLCAnRGlhbG9nTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdTZXNzaW9uTWFuYWdlcicsICdTaGVsbE1hbmFnZXInLCAnTG9jYXRpb25Nb2RlbCcsICdTdXJ2ZXlNYW5hZ2VyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIEN1c3RvbWVyTWFuYWdlciwgT3JkZXJNYW5hZ2VyLCBEaWFsb2dNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgU2Vzc2lvbk1hbmFnZXIsIFNoZWxsTWFuYWdlciwgTG9jYXRpb25Nb2RlbCwgU3VydmV5TWFuYWdlcikgPT4ge1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBDb25zdGFudHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIENoZWNrIHNwbGl0IHR5cGVcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5DSEVDS19TUExJVF9OT05FID0gMDtcbiAgJHNjb3BlLkNIRUNLX1NQTElUX0JZX0lURU1TID0gMTtcbiAgJHNjb3BlLkNIRUNLX1NQTElUX0VWRU5MWSA9IDI7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBQYXltZW50IG1ldGhvZFxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLlBBWU1FTlRfTUVUSE9EX0NBUkQgPSAxO1xuICAkc2NvcGUuUEFZTUVOVF9NRVRIT0RfQ0FTSCA9IDI7XG4gICRzY29wZS5QQVlNRU5UX01FVEhPRF9QQVlQQUwgPSAzO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgUmVjZWlwdCBtZXRob2RcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5SRUNFSVBUX01FVEhPRF9OT05FID0gMDtcbiAgJHNjb3BlLlJFQ0VJUFRfTUVUSE9EX0VNQUlMID0gMTtcbiAgJHNjb3BlLlJFQ0VJUFRfTUVUSE9EX1NNUyA9IDI7XG4gICRzY29wZS5SRUNFSVBUX01FVEhPRF9QUklOVCA9IDM7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBDaGVja291dCBzdGVwXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUuU1RFUF9DSEVDS19TUExJVCA9IDA7XG4gICRzY29wZS5TVEVQX1BBWU1FTlQgPSAxO1xuICAkc2NvcGUuU1RFUF9USVBQSU5HID0gMjtcbiAgJHNjb3BlLlNURVBfU0lHTkFUVVJFID0gMztcbiAgJHNjb3BlLlNURVBfUkVDRUlQVCA9IDQ7XG4gICRzY29wZS5TVEVQX0NPTVBMRVRFID0gNTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHJvcGVydGllc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5vcHRpb25zID0ge307XG4gICRzY29wZS5kYXRhID0gW3tcbiAgICBpdGVtczogT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2hlY2tcbiAgfV07XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBDaGVja1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy9DaGVja3MgZGF0YVxuICB2YXIgZGF0YSA9ICRzY29wZS4kd2F0Y2hBc1Byb3BlcnR5KCdkYXRhJyk7XG4gIGRhdGFcbiAgLmNoYW5nZXMoKVxuICAuc3Vic2NyaWJlKHZhbHVlID0+IHtcbiAgICBpZiAodmFsdWUudmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdmFsdWUudmFsdWUoKTtcbiAgICAgICRzY29wZS5vcHRpb25zLmNvdW50ID0gZGF0YS5sZW5ndGg7XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wdGlvbnMuaW5kZXggPSAwO1xuICB9KTtcblxuICAvL01heGltdW0gbnVtYmVyIG9mIGd1ZXN0c1xuICAkc2NvcGUub3B0aW9ucy5ndWVzdF9jb3VudF9tYXggPSA5Oy8qTWF0aC5tYXgoXG4gICAgU2Vzc2lvbk1hbmFnZXIuZ3Vlc3RDb3VudCxcbiAgICBPcmRlck1hbmFnZXIubW9kZWwub3JkZXJDaGVjay5yZWR1Y2UoKGksIGl0ZW0pID0+IGkgKyBpdGVtLnF1YW50aXR5LCAwKVxuICApOyovXG5cbiAgLy9OdW1iZXIgb2YgZ3Vlc3RzXG4gICRzY29wZS5vcHRpb25zLmd1ZXN0X2NvdW50ID0gU2Vzc2lvbk1hbmFnZXIuZ3Vlc3RDb3VudDtcblxuICAvL0NoZWNrIHNwbGl0IG1vZGVcbiAgJHNjb3BlLm9wdGlvbnMuY2hlY2tfc3BsaXQgPSAkc2NvcGUuQ0hFQ0tfU1BMSVRfTk9ORTtcblxuICAvL0NoZWNrIGluZGV4XG4gICRzY29wZS5vcHRpb25zLmluZGV4ID0gMDtcbiAgdmFyIGluZGV4ID0gJHNjb3BlLiR3YXRjaEFzUHJvcGVydHkoJ29wdGlvbnMuaW5kZXgnKTtcbiAgQmFjb24uY29tYmluZUFzQXJyYXkoaW5kZXgsIGRhdGEpXG4gIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICRzY29wZS5jdXJyZW50ID0gJHNjb3BlLmRhdGFbJHNjb3BlLm9wdGlvbnMuaW5kZXhdO1xuXG4gICAgaWYgKEN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0F1dGhlbnRpY2F0ZWQgJiYgIUN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0d1ZXN0KSB7XG4gICAgICAkc2NvcGUuY3VycmVudC5yZWNlaXB0X3Bob25lID0gJHNjb3BlLmN1cnJlbnQucmVjZWlwdF9waG9uZSB8fCBDdXN0b21lck1hbmFnZXIubW9kZWwucHJvZmlsZS5waG9uZTtcbiAgICAgICRzY29wZS5jdXJyZW50LnJlY2VpcHRfZW1haWwgPSBDdXN0b21lck1hbmFnZXIubW9kZWwuaGFzQ3JlZGVudGlhbHMgP1xuICAgICAgICBDdXN0b21lck1hbmFnZXIubW9kZWwucHJvZmlsZS5lbWFpbCA6XG4gICAgICAgICRzY29wZS5jdXJyZW50LnJlY2VpcHRfZW1haWw7XG4gICAgfVxuXG4gICAgaWYgKCRzY29wZS5jdXJyZW50Lml0ZW1zKSB7XG4gICAgICAkc2NvcGUuY3VycmVudC5zdWJ0b3RhbCA9IE9yZGVyTWFuYWdlci5jYWxjdWxhdGVUb3RhbFByaWNlKCRzY29wZS5jdXJyZW50Lml0ZW1zKTtcbiAgICAgICRzY29wZS5jdXJyZW50LnRheCA9IE9yZGVyTWFuYWdlci5jYWxjdWxhdGVUYXgoJHNjb3BlLmN1cnJlbnQuaXRlbXMpO1xuICAgIH1cblxuICAgIGlmICghJHNjb3BlLmN1cnJlbnQudGlwKSB7XG4gICAgICAkc2NvcGUuY3VycmVudC50aXAgPSAwO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBOYXZpZ2F0aW9uXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvL0N1cnJlbnQgc3RlcFxuICAkc2NvcGUub3B0aW9ucy5zdGVwID0gJHNjb3BlLm9wdGlvbnMuZ3Vlc3RfY291bnRfbWF4ID4gMSA/XG4gICAgJHNjb3BlLlNURVBfQ0hFQ0tfU1BMSVQgOlxuICAgICRzY29wZS5TVEVQX1RJUFBJTkc7XG4gIHZhciBzdGVwID0gJHNjb3BlLiR3YXRjaEFzUHJvcGVydHkoJ29wdGlvbnMuc3RlcCcpO1xuICBzdGVwXG4gICAgLnNraXBEdXBsaWNhdGVzKClcbiAgICAuc3Vic2NyaWJlKHZhbHVlID0+IHtcbiAgICAgIGlmICghdmFsdWUudmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RlcCA9IHZhbHVlLnZhbHVlKCk7XG5cbiAgICAgIGlmIChzdGVwID09PSAkc2NvcGUuU1RFUF9DT01QTEVURSkge1xuICAgICAgICBzdGFydE5leHRDaGVjaygpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgTWlzY1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy9TZWF0IG5hbWVcbiAgJHNjb3BlLm9wdGlvbnMuc2VhdCA9IExvY2F0aW9uTW9kZWwuc2VhdCA/IExvY2F0aW9uTW9kZWwuc2VhdC5uYW1lIDogJ1RhYmxlJztcbiAgTG9jYXRpb25Nb2RlbC5zZWF0Q2hhbmdlZC5hZGQoc2VhdCA9PiB7XG4gICAgJHNjb3BlLm9wdGlvbnMuc2VhdCA9IHNlYXQgPyBzZWF0Lm5hbWUgOiAnVGFibGUnO1xuICB9KTtcblxuICAkc2NvcGUuY3VzdG9tZXJOYW1lID0gQ3VzdG9tZXJNYW5hZ2VyLmN1c3RvbWVyTmFtZTtcbiAgQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLnByb2ZpbGVDaGFuZ2VkLmFkZCgoKSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmN1c3RvbWVyTmFtZSA9IEN1c3RvbWVyTWFuYWdlci5jdXN0b21lck5hbWUpO1xuICB9KTtcblxuICAkc2NvcGUuY3VycmVuY3kgPSBTaGVsbE1hbmFnZXIubW9kZWwuY3VycmVuY3k7XG4gIFNoZWxsTWFuYWdlci5tb2RlbC5jdXJyZW5jeUNoYW5nZWQuYWRkKGN1cnJlbmN5ID0+ICR0aW1lb3V0KCgpID0+ICRzY29wZS5jdXJyZW5jeSA9IGN1cnJlbmN5KSk7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFByaXZhdGUgbWV0aG9kc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vUHJvY2VlZCB3aXRoIHRoZSBuZXh0IGNoZWNrXG4gIGZ1bmN0aW9uIHN0YXJ0TmV4dENoZWNrKCkge1xuICAgIHZhciBjaGVjayA9ICRzY29wZS5jdXJyZW50O1xuXG4gICAgaWYgKCRzY29wZS5vcHRpb25zLmluZGV4ID09PSAkc2NvcGUub3B0aW9ucy5jb3VudCAtIDEpIHtcbiAgICAgIE9yZGVyTWFuYWdlci5jbGVhckNoZWNrKCk7XG4gICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHtcbiAgICAgICAgdHlwZTogU3VydmV5TWFuYWdlci5tb2RlbC5pc0VuYWJsZWQgPyAnc3VydmV5JyA6ICdob21lJ1xuICAgICAgfTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAkc2NvcGUub3B0aW9ucy5pbmRleCsrO1xuICAgICAgJHNjb3BlLm9wdGlvbnMuc3RlcCA9ICRzY29wZS5TVEVQX1RJUFBJTkc7XG4gICAgfSk7XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHVibGljIG1ldGhvZHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUuZ2V0UGFydGlhbFVybCA9IG5hbWUgPT4gU2hlbGxNYW5hZ2VyLmdldFBhcnRpYWxVcmwobmFtZSk7XG5cbiAgLy9DYWxjdWxhdGUgYSBjYXJ0IGl0ZW0gdGl0bGVcbiAgJHNjb3BlLmNhbGN1bGF0ZVRpdGxlID0gZW50cnkgPT4gZW50cnkubmFtZSB8fCBlbnRyeS5pdGVtLnRpdGxlO1xuXG4gIC8vQ2FsY3VsYXRlIGEgY2FydCBpdGVtIHByaWNlXG4gICRzY29wZS5jYWxjdWxhdGVQcmljZSA9IGVudHJ5ID0+IE9yZGVyTWFuYWdlci5jYWxjdWxhdGVQcmljZShlbnRyeSk7XG5cbiAgLy9DYWxjdWxhdGUgY2FydCBpdGVtcyBwcmljZVxuICAkc2NvcGUuY2FsY3VsYXRlVG90YWxQcmljZSA9IGVudHJpZXMgPT4gT3JkZXJNYW5hZ2VyLmNhbGN1bGF0ZVRvdGFsUHJpY2UoZW50cmllcyk7XG5cbiAgLy9PdXRwdXQgYSBmb3JtYXR0ZWQgcHJpY2Ugc3RyaW5nXG4gICRzY29wZS5mb3JtYXRQcmljZSA9IHZhbHVlID0+IFNoZWxsTWFuYWdlci5mb3JtYXRQcmljZSh2YWx1ZSB8fCAwKTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgU3RhcnR1cFxuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIGlmICghQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCkge1xuICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnc2lnbmluJyB9O1xuICAgIHJldHVybjtcbiAgfVxuXG4gICRzY29wZS5pbml0aWFsaXplZCA9IHRydWU7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NoZWNrb3V0cGF5bWVudC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2hlY2tvdXRQYXltZW50Q3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0N1c3RvbWVyTW9kZWwnLCAnQ2FyZFJlYWRlcicsICdEaWFsb2dNYW5hZ2VyJywgJ09yZGVyTWFuYWdlcicsICdMb2dnZXInLFxuICAoJHNjb3BlLCAkdGltZW91dCwgQ3VzdG9tZXJNb2RlbCwgQ2FyZFJlYWRlciwgRGlhbG9nTWFuYWdlciwgT3JkZXJNYW5hZ2VyLCBMb2dnZXIpID0+IHtcblxuICBDYXJkUmVhZGVyLm9uUmVjZWl2ZWQuYWRkKGRhdGEgPT4ge1xuICAgIExvZ2dlci5kZWJ1ZyhgQ2FyZCByZWFkZXIgcmVzdWx0OiAke0pTT04uc3RyaW5naWZ5KGRhdGEpfWApO1xuICAgIHZhciBjYXJkID0ge1xuICAgICAgbnVtYmVyOiBkYXRhLmNhcmRfbnVtYmVyLFxuICAgICAgbW9udGg6IGRhdGEuZXhwaXJhdGlvbl9tb250aCxcbiAgICAgIHllYXI6IGRhdGEuZXhwaXJhdGlvbl95ZWFyLFxuICAgICAgZGF0YTogZGF0YS5kYXRhXG4gICAgfTtcblxuICAgIENhcmRSZWFkZXIuc3RvcCgpO1xuICAgIGNhcmREYXRhUmVjZWl2ZWQoY2FyZCk7XG4gIH0pO1xuXG4gIENhcmRSZWFkZXIub25FcnJvci5hZGQoZSA9PiB7XG4gICAgTG9nZ2VyLmRlYnVnKGBDYXJkIHJlYWRlciBlcnJvcjogJHtKU09OLnN0cmluZ2lmeShlKX1gKTtcbiAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX0NBUkRSRUFERVJfRVJST1IpO1xuICB9KTtcblxuICAkc2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdGFydCcsICgpID0+IHtcbiAgICBDYXJkUmVhZGVyLnN0b3AoKTtcbiAgfSk7XG5cbiAgLy9HZW5lcmF0ZSBhIHBheW1lbnQgdG9rZW5cbiAgZnVuY3Rpb24gZ2VuZXJhdGVQYXltZW50VG9rZW4oKSB7XG4gICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcblxuICAgIE9yZGVyTWFuYWdlci5nZW5lcmF0ZVBheW1lbnRUb2tlbigpLnRoZW4oKCkgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICB9LCBlID0+IHtcbiAgICAgIExvZ2dlci5kZWJ1ZyhgUGF5bWVudCB0b2tlbiBnZW5lcmF0aW9uIGVycm9yOiAke0pTT04uc3RyaW5naWZ5KGUpfWApO1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgIH0pO1xuICB9XG5cbiAgLy9DYWxsZWQgd2hlbiBhIGNhcmQgZGF0YSBpcyByZWNlaXZlZFxuICBmdW5jdGlvbiBjYXJkRGF0YVJlY2VpdmVkKGNhcmQpIHtcbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICBPcmRlck1hbmFnZXIuY2xlYXJDaGVjaygkc2NvcGUuY3VycmVudC5pdGVtcyk7XG4gICAgICAkc2NvcGUuY3VycmVudC5jYXJkX2RhdGEgPSBjYXJkLmRhdGE7XG4gICAgICAkc2NvcGUub3B0aW9ucy5zdGVwID0gJHNjb3BlLlNURVBfU0lHTkFUVVJFO1xuICAgIH0pO1xuICB9XG5cbiAgLy9DaG9vc2UgdG8gcGF5IHdpdGggYSBjcmVkaXQgY2FyZFxuICAkc2NvcGUucGF5Q2FyZCA9ICgpID0+IHtcbiAgICAkc2NvcGUuY3VycmVudC5wYXltZW50X21ldGhvZCA9ICRzY29wZS5QQVlNRU5UX01FVEhPRF9DQVJEO1xuICAgIENhcmRSZWFkZXIuc3RhcnQoKTtcbiAgfTtcblxuICAkc2NvcGUucGF5Q2FyZENhbmNlbCA9ICgpID0+IHtcbiAgICAkc2NvcGUuY3VycmVudC5wYXltZW50X21ldGhvZCA9IHVuZGVmaW5lZDtcbiAgICBDYXJkUmVhZGVyLnN0b3AoKTtcbiAgfTtcblxuICAvL0Nob29zZSB0byBwYXkgd2l0aCBjYXNoXG4gICRzY29wZS5wYXlDYXNoID0gKCkgPT4ge1xuICAgICRzY29wZS5jdXJyZW50LnBheW1lbnRfbWV0aG9kID0gJHNjb3BlLlBBWU1FTlRfTUVUSE9EX0NBU0g7XG5cbiAgICBpZiAoT3JkZXJNYW5hZ2VyLm1vZGVsLmNsb3Nlb3V0UmVxdWVzdCAhPSBudWxsKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfQ0xPU0VPVVRfU0VOVCk7XG4gICAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAgICRzY29wZS5vcHRpb25zLnN0ZXAgPSAkc2NvcGUuU1RFUF9DT01QTEVURTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICBPcmRlck1hbmFnZXIucmVxdWVzdENsb3Nlb3V0KCkudGhlbigoKSA9PiB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX0NMT1NFT1VUX1NFTlQpO1xuICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAkc2NvcGUub3B0aW9ucy5zdGVwID0gJHNjb3BlLlNURVBfQ09NUExFVEU7XG4gICAgICB9KTtcbiAgICB9LCBlID0+IHtcbiAgICAgIExvZ2dlci5kZWJ1ZyhgUmVxdWVzdCBjbG9zZW91dCBlcnJvcjogJHtKU09OLnN0cmluZ2lmeShlKX1gKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICB9KTtcbiAgfTtcblxuICBnZW5lcmF0ZVBheW1lbnRUb2tlbigpO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jaGVja291dHJlY2VpcHQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NoZWNrb3V0UmVjZWlwdEN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdEaWFsb2dNYW5hZ2VyJywgJ09yZGVyTWFuYWdlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBEaWFsb2dNYW5hZ2VyLCBPcmRlck1hbmFnZXIpID0+IHtcblxuICAkc2NvcGUuZW1haWxFZGl0b3JPcGVuID0gZmFsc2U7XG5cbiAgLy9DaG9vc2UgdG8gaGF2ZSBubyByZWNlaXB0XG4gICRzY29wZS5yZWNlaXB0Tm9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5jdXJyZW50LnJlY2VpcHRfbWV0aG9kID0gJHNjb3BlLlJFQ0VJUFRfTUVUSE9EX05PTkU7XG4gICAgJHNjb3BlLm9wdGlvbnMuc3RlcCA9ICRzY29wZS5TVEVQX0NPTVBMRVRFO1xuICB9O1xuXG4gIC8vQ2hvb3NlIHRvIHJlY2VpdmUgYSByZWNlaXB0IGJ5IGUtbWFpbFxuICAkc2NvcGUucmVjZWlwdEVtYWlsID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkc2NvcGUuY3VycmVudC5yZWNlaXB0X2VtYWlsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgJHNjb3BlLmN1cnJlbnQucmVjZWlwdF9tZXRob2QgPSAkc2NvcGUuUkVDRUlQVF9NRVRIT0RfRU1BSUw7XG4gICAgcmVxdWVzdFJlY2VpcHQoKTtcbiAgfTtcblxuICAvL0Nob29zZSB0byByZWNlaXZlIGEgcmVjZWlwdCBieSBzbXNcbiAgJHNjb3BlLnJlY2VpcHRTbXMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5jdXJyZW50LnJlY2VpcHRfcGhvbmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAkc2NvcGUuY3VycmVudC5yZWNlaXB0X3Bob25lID0gJHNjb3BlLlJFQ0VJUFRfTUVUSE9EX1NNUztcbiAgICByZXF1ZXN0UmVjZWlwdCgpO1xuICB9O1xuXG4gIC8vQ2hvb3NlIHRvIHJlY2VpdmUgYSBwcmludGVkIHJlY2VpcHRcbiAgJHNjb3BlLnJlY2VpcHRQcmludCA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5jdXJyZW50LnJlY2VpcHRfbWV0aG9kID0gJHNjb3BlLlJFQ0VJUFRfTUVUSE9EX1BSSU5UO1xuICAgIHJlcXVlc3RSZWNlaXB0KCk7XG4gIH07XG5cbiAgLy9PcGVuIGFuIGUtbWFpbCBlZGl0b3JcbiAgJHNjb3BlLnJlY2VpcHRFZGl0RW1haWwgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUuZW1haWxFZGl0b3JPcGVuID0gdHJ1ZTtcbiAgfTtcblxuICBmdW5jdGlvbiByZXF1ZXN0UmVjZWlwdCgpIHtcbiAgICB2YXIgaXRlbSA9ICRzY29wZS5jdXJyZW50O1xuXG4gICAgdmFyIHJlcXVlc3QgPSB7XG4gICAgICBjaGVja291dF90b2tlbjogaXRlbS5jaGVja291dF90b2tlbixcbiAgICAgIHJlY2VpcHRfbWV0aG9kOiBpdGVtLnJlY2VpcHRfbWV0aG9kXG4gICAgfTtcblxuICAgIGlmIChpdGVtLnJlY2VpcHRfbWV0aG9kID09PSAkc2NvcGUuUkVDRUlQVF9NRVRIT0RfRU1BSUwpIHtcbiAgICAgIHJlcXVlc3QucmVjZWlwdF9lbWFpbCA9IGl0ZW0ucmVjZWlwdF9lbWFpbDtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXRlbS5yZWNlaXB0X21ldGhvZCA9PT0gJHNjb3BlLlJFQ0VJUFRfTUVUSE9EX1NNUykge1xuICAgICAgcmVxdWVzdC5yZWNlaXB0X3Bob25lID0gaXRlbS5yZWNlaXB0X3Bob25lO1xuICAgIH1cblxuICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICBPcmRlck1hbmFnZXIucmVxdWVzdFJlY2VpcHQocmVxdWVzdCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG5cbiAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgJHNjb3BlLm9wdGlvbnMuc3RlcCA9ICRzY29wZS5TVEVQX0NPTVBMRVRFO1xuICAgICAgICAkc2NvcGUuZW1haWxFZGl0b3JPcGVuID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9LCBmdW5jdGlvbihlKSB7XG4gICAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAgICRzY29wZS5lbWFpbEVkaXRvck9wZW4gPSBmYWxzZTtcbiAgICAgIH0pO1xuXG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgfSk7XG4gIH1cbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY2hlY2tvdXRzaWduYXR1cmUuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NoZWNrb3V0U2lnbmF0dXJlQ3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0RpYWxvZ01hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJywgJ0xvZ2dlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBEaWFsb2dNYW5hZ2VyLCBPcmRlck1hbmFnZXIsIExvZ2dlcikgPT4ge1xuXG4gIC8vQ2xlYXIgdGhlIGN1cnJlbnQgc2lnbmF0dXJlXG4gIHZhciByZXNldFNpZ25hdHVyZSA9ICgpID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAkc2NvcGUuY3VycmVudC5zaWduYXR1cmVfdG9rZW4gPSB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciBzaWduYXR1cmUgPSAkKCcjY2hlY2tvdXQtc2lnbmF0dXJlLWlucHV0Jyk7XG4gICAgICBzaWduYXR1cmUuZW1wdHkoKTtcbiAgICAgIHNpZ25hdHVyZS5qU2lnbmF0dXJlKCdpbml0Jywge1xuICAgICAgICAnY29sb3InIDogJyMwMDAnLFxuICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICcjZmZmJyxcbiAgICAgICAgJ2RlY29yLWNvbG9yJzogJyNmZmYnLFxuICAgICAgICAnd2lkdGgnOiAnMTAwJScsXG4gICAgICAgICdoZWlnaHQnOiAnMjAwcHgnXG4gICAgICB9KTtcbiAgICB9LCAzMDApO1xuICB9O1xuXG4gIC8vU3VibWl0IHRoZSBjdXJyZW50IHNpZ25hdHVyZSBpbnB1dFxuICAkc2NvcGUuc2lnbmF0dXJlU3VibWl0ID0gKCkgPT4ge1xuICAgIHZhciBzaWduYXR1cmUgPSAkKCcjY2hlY2tvdXQtc2lnbmF0dXJlLWlucHV0Jyk7XG5cbiAgICBpZiAoc2lnbmF0dXJlLmpTaWduYXR1cmUoJ2dldERhdGEnLCAnbmF0aXZlJykubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcbiAgICB2YXIgc2lnID0gc2lnbmF0dXJlLmpTaWduYXR1cmUoJ2dldERhdGEnLCAnaW1hZ2UnKTtcblxuICAgIE9yZGVyTWFuYWdlci51cGxvYWRTaWduYXR1cmUoc2lnWzFdKS50aGVuKHRva2VuID0+IHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG5cbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUuY3VycmVudC5zaWduYXR1cmVfdG9rZW4gPSB0b2tlbjtcbiAgICAgICAgY29tcGxldGVDaGVja291dCgpO1xuICAgICAgfSk7XG4gICAgfSwgZSA9PiB7XG4gICAgICBMb2dnZXIuZGVidWcoYFNpZ25hdHVyZSB1cGxvYWQgZXJyb3I6ICR7SlNPTi5zdHJpbmdpZnkoZSl9YCk7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgfSk7XG4gIH07XG5cbiAgLy9DYW5jZWwgdGhlIGN1cnJlbnQgc2lnbmF0dXJlIGlucHV0XG4gICRzY29wZS5zaWduYXR1cmVDYW5jZWwgPSAoKSA9PiB7XG4gICAgcmVzZXRTaWduYXR1cmUoKTtcbiAgfTtcblxuICAvL0NvbXBsZXRlIHRoZSBjaGVja291dFxuICBmdW5jdGlvbiBjb21wbGV0ZUNoZWNrb3V0KCkge1xuICAgIHZhciBpdGVtID0gJHNjb3BlLmN1cnJlbnQ7XG4gICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcblxuICAgIHZhciByZXF1ZXN0ID0ge1xuICAgICAgYW1vdW50X3N1YnRvdGFsOiBpdGVtLnN1YnRvdGFsLFxuICAgICAgYW1vdW50X3RheDogaXRlbS50YXgsXG4gICAgICBhbW91bnRfdGlwOiBpdGVtLnRpcCxcbiAgICAgIGNhcmRfZGF0YTogaXRlbS5jYXJkX2RhdGEsXG4gICAgICBzaWduYXR1cmVfdG9rZW46IGl0ZW0uc2lnbmF0dXJlX3Rva2VuLFxuICAgICAgb3JkZXJfdG9rZW5zOiBpdGVtLml0ZW1zICE9IG51bGwgP1xuICAgICAgICBpdGVtLml0ZW1zLnJlZHVjZShmdW5jdGlvbihyZXN1bHQsIGl0ZW0pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbS5xdWFudGl0eTsgaSsrKSB7XG4gICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0ucmVxdWVzdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfSwgW10pXG4gICAgICAgIDogbnVsbFxuICAgIH07XG5cbiAgICBPcmRlck1hbmFnZXIucGF5T3JkZXIocmVxdWVzdCkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9DTE9TRU9VVF9TRU5UKTtcblxuICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAkc2NvcGUuY3VycmVudC5jaGVja291dF90b2tlbiA9IHJlc3VsdC50b2tlbjtcbiAgICAgICAgJHNjb3BlLm9wdGlvbnMuc3RlcCA9ICRzY29wZS5TVEVQX1JFQ0VJUFQ7XG4gICAgICB9KTtcbiAgICB9LCBlID0+IHtcbiAgICAgIExvZ2dlci5kZWJ1ZyhgT3JkZXIgcGF5bWVudCBlcnJvcjogJHtKU09OLnN0cmluZ2lmeShlKX1gKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBzdGVwID0gJHNjb3BlLiR3YXRjaEFzUHJvcGVydHkoJ29wdGlvbnMuc3RlcCcpO1xuICBzdGVwXG4gIC5za2lwRHVwbGljYXRlcygpXG4gIC5zdWJzY3JpYmUodmFsdWUgPT4ge1xuICAgIGlmICghdmFsdWUudmFsdWUgfHwgdmFsdWUudmFsdWUoKSAhPT0gJHNjb3BlLlNURVBfU0lHTkFUVVJFKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVzZXRTaWduYXR1cmUoKTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NoZWNrb3V0c3BsaXQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NoZWNrb3V0U3BsaXRDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnT3JkZXJNYW5hZ2VyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIE9yZGVyTWFuYWdlcikgPT4ge1xuXG4gIC8vT3BlbiBndWVzdCBjb3VudCBlZGl0b3JcbiAgJHNjb3BlLmVkaXRHdWVzdENvdW50ID0gZnVuY3Rpb24odHlwZSkge1xuICAgICRzY29wZS5ndWVzdEVkaXRvclR5cGUgPSB0eXBlO1xuICB9O1xuXG4gIC8vQ2xvc2UgZ3Vlc3QgY291bnQgZWRpdG9yXG4gICRzY29wZS5jYW5jZWxFZGl0R3Vlc3RDb3VudCA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5ndWVzdEVkaXRvclR5cGUgPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgLy9TcGxpdCB0aGUgY3VycmVudCBvcmRlciBpbiB0aGUgc2VsZWN0ZWQgd2F5XG4gICRzY29wZS5zcGxpdENoZWNrID0gZnVuY3Rpb24odHlwZSkge1xuICAgIHZhciBpLCBkYXRhID0gW107XG5cbiAgICBpZiAodHlwZSA9PT0gJHNjb3BlLkNIRUNLX1NQTElUX05PTkUpIHtcbiAgICAgIGRhdGEucHVzaCh7XG4gICAgICAgIGl0ZW1zOiBPcmRlck1hbmFnZXIubW9kZWwub3JkZXJDaGVja1xuICAgICAgfSk7XG5cbiAgICAgICRzY29wZS5vcHRpb25zLnN0ZXAgPSAkc2NvcGUuU1RFUF9USVBQSU5HO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSAkc2NvcGUuQ0hFQ0tfU1BMSVRfRVZFTkxZKSB7XG4gICAgICB2YXIgY2hlY2sgPSBPcmRlck1hbmFnZXIubW9kZWwub3JkZXJDaGVjayxcbiAgICAgICAgICBzdWJ0b3RhbCA9IE9yZGVyTWFuYWdlci5jYWxjdWxhdGVUb3RhbFByaWNlKGNoZWNrKSxcbiAgICAgICAgICB0YXggPSBPcmRlck1hbmFnZXIuY2FsY3VsYXRlVGF4KGNoZWNrKTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8ICRzY29wZS5vcHRpb25zLmd1ZXN0X2NvdW50OyBpKyspIHtcbiAgICAgICAgZGF0YS5wdXNoKHtcbiAgICAgICAgICBzdWJ0b3RhbDogTWF0aC5yb3VuZCgoc3VidG90YWwgLyAkc2NvcGUub3B0aW9ucy5ndWVzdF9jb3VudCkgKiAxMDApIC8gMTAwLFxuICAgICAgICAgIHRheDogTWF0aC5yb3VuZCgodGF4IC8gJHNjb3BlLm9wdGlvbnMuZ3Vlc3RfY291bnQpICogMTAwKSAvIDEwMFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgJHNjb3BlLm9wdGlvbnMuc3RlcCA9ICRzY29wZS5TVEVQX1RJUFBJTkc7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICRzY29wZS5DSEVDS19TUExJVF9CWV9JVEVNUykge1xuICAgICAgZm9yIChpID0gMDsgaSA8ICRzY29wZS5vcHRpb25zLmd1ZXN0X2NvdW50OyBpKyspIHtcbiAgICAgICAgZGF0YS5wdXNoKHtcbiAgICAgICAgICBpdGVtczogW11cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgICRzY29wZS5zcGxpdF9pdGVtcyA9IE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNoZWNrLnNsaWNlKDApLm1hcChpdGVtID0+IGl0ZW0uY2xvbmUoKSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLiRwYXJlbnQuZGF0YSA9IGRhdGE7XG4gICAgJHNjb3BlLm9wdGlvbnMuY2hlY2tfc3BsaXQgPSB0eXBlO1xuICAgICRzY29wZS5ndWVzdEVkaXRvclR5cGUgPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgLy9Nb3ZlIGFuIGl0ZW0gdG8gdGhlIGN1cnJlbnQgY2hlY2tcbiAgJHNjb3BlLmFkZFRvQ2hlY2sgPSBmdW5jdGlvbihlbnRyeSkge1xuICAgICRzY29wZS5zcGxpdF9pdGVtcyA9ICRzY29wZS5zcGxpdF9pdGVtc1xuICAgIC5tYXAoaXRlbSA9PiB7XG4gICAgICBpZiAoaXRlbS5yZXF1ZXN0ICE9PSBlbnRyeS5yZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbS5xdWFudGl0eSA+IDEpIHtcbiAgICAgICAgaXRlbS5xdWFudGl0eS0tO1xuICAgICAgICByZXR1cm4gaXRlbS5jbG9uZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9KVxuICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtICE9IG51bGwpO1xuXG4gICAgdmFyIGV4aXN0cyA9IGZhbHNlO1xuXG4gICAgJHNjb3BlLmN1cnJlbnQuaXRlbXMgPSAkc2NvcGUuY3VycmVudC5pdGVtc1xuICAgIC5tYXAoaXRlbSA9PiB7XG4gICAgICBpZiAoaXRlbS5yZXF1ZXN0ID09PSBlbnRyeS5yZXF1ZXN0KSB7XG4gICAgICAgIGV4aXN0cyA9IHRydWU7XG4gICAgICAgIGl0ZW0ucXVhbnRpdHkrKztcbiAgICAgICAgcmV0dXJuIGl0ZW0uY2xvbmUoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfSk7XG5cbiAgICBpZiAoIWV4aXN0cykge1xuICAgICAgdmFyIGNsb25lID0gZW50cnkuY2xvbmUoKTtcbiAgICAgIGNsb25lLnF1YW50aXR5ID0gMTtcblxuICAgICAgJHNjb3BlLmN1cnJlbnQuaXRlbXMucHVzaChjbG9uZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vUmVtb3ZlIGFuIGl0ZW0gZnJvbSB0aGUgY3VycmVudCBjaGVja1xuICAkc2NvcGUucmVtb3ZlRnJvbUNoZWNrID0gZnVuY3Rpb24oZW50cnkpIHtcbiAgICAkc2NvcGUuY3VycmVudC5pdGVtcyA9ICRzY29wZS5jdXJyZW50Lml0ZW1zXG4gICAgLm1hcChpdGVtID0+IHtcbiAgICAgIGlmIChpdGVtLnJlcXVlc3QgIT09IGVudHJ5LnJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtLnF1YW50aXR5ID4gMSkge1xuICAgICAgICBpdGVtLnF1YW50aXR5LS07XG4gICAgICAgIHJldHVybiBpdGVtLmNsb25lKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pXG4gICAgLmZpbHRlcihpdGVtID0+IGl0ZW0gIT0gbnVsbCk7XG5cbiAgICB2YXIgZXhpc3RzID0gZmFsc2U7XG5cbiAgICAkc2NvcGUuc3BsaXRfaXRlbXMgPSAkc2NvcGUuc3BsaXRfaXRlbXNcbiAgICAubWFwKGl0ZW0gPT4ge1xuICAgICAgaWYgKGl0ZW0ucmVxdWVzdCA9PT0gZW50cnkucmVxdWVzdCkge1xuICAgICAgICBleGlzdHMgPSB0cnVlO1xuICAgICAgICBpdGVtLnF1YW50aXR5Kys7XG4gICAgICAgIHJldHVybiBpdGVtLmNsb25lKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpdGVtO1xuICAgIH0pO1xuXG4gICAgaWYgKCFleGlzdHMpIHtcbiAgICAgIHZhciBjbG9uZSA9IGVudHJ5LmNsb25lKCk7XG4gICAgICBjbG9uZS5xdWFudGl0eSA9IDE7XG5cbiAgICAgICRzY29wZS5zcGxpdF9pdGVtcy5wdXNoKGNsb25lKTtcbiAgICB9XG4gIH07XG5cbiAgLy9Nb3ZlIGFsbCBhdmFpbGFibGUgaXRlbXMgdG8gdGhlIGN1cnJlbnQgY2hlY2tcbiAgJHNjb3BlLmFkZEFsbFRvQ2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUuc3BsaXRfaXRlbXMuZm9yRWFjaCgkc2NvcGUuYWRkVG9DaGVjayk7XG5cbiAgICAkc2NvcGUuc3BsaXRfaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICRzY29wZS5jdXJyZW50Lml0ZW1zLmZvckVhY2gobmV3aXRlbSA9PiB7XG4gICAgICAgIGlmIChuZXdpdGVtLnJlcXVlc3QgPT09IGl0ZW0ucmVxdWVzdCkge1xuICAgICAgICAgIG5ld2l0ZW0ucXVhbnRpdHkgKz0gaXRlbS5xdWFudGl0eTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUuc3BsaXRfaXRlbXMgPSBbXTtcbiAgfTtcblxuICAvL1JlbW92ZSBhbGwgaXRlbXMgZnJvbSB0aGUgY3VycmVudCBjaGVja1xuICAkc2NvcGUucmVtb3ZlQWxsRnJvbUNoZWNrID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLmN1cnJlbnQuaXRlbXMuZm9yRWFjaCgkc2NvcGUucmVtb3ZlRnJvbUNoZWNrKTtcblxuICAgICRzY29wZS5jdXJyZW50Lml0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAkc2NvcGUuc3BsaXRfaXRlbXMuZm9yRWFjaChuZXdpdGVtID0+IHtcbiAgICAgICAgaWYgKG5ld2l0ZW0ucmVxdWVzdCA9PT0gaXRlbS5yZXF1ZXN0KSB7XG4gICAgICAgICAgbmV3aXRlbS5xdWFudGl0eSArPSBpdGVtLnF1YW50aXR5O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgICRzY29wZS5jdXJyZW50Lml0ZW1zID0gW107XG4gIH07XG5cbiAgLy9Qcm9jZWVkIHdpdGggdGhlIG5leHQgY2hlY2sgc3BsaXR0aW5nXG4gICRzY29wZS5zcGxpdE5leHRDaGVjayA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICgkc2NvcGUub3B0aW9ucy5pbmRleCA8ICRzY29wZS5vcHRpb25zLmNvdW50IC0gMSAmJiAkc2NvcGUuc3BsaXRfaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgJHNjb3BlLm9wdGlvbnMuaW5kZXgrKztcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoJHNjb3BlLnNwbGl0X2l0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICRzY29wZS5hZGRBbGxUb0NoZWNrKCk7XG4gICAgfVxuXG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgJHNjb3BlLiRwYXJlbnQuZGF0YSA9ICRzY29wZS4kcGFyZW50LmRhdGEuZmlsdGVyKGZ1bmN0aW9uKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBjaGVjay5pdGVtcy5sZW5ndGggPiAwO1xuICAgICAgfSk7XG5cbiAgICAgICRzY29wZS5vcHRpb25zLnN0ZXAgPSAkc2NvcGUuU1RFUF9USVBQSU5HO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBzdGVwID0gJHNjb3BlLiR3YXRjaEFzUHJvcGVydHkoJ29wdGlvbnMuc3RlcCcpO1xuICBzdGVwXG4gIC5za2lwRHVwbGljYXRlcygpXG4gIC5zdWJzY3JpYmUoZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoIXZhbHVlLnZhbHVlIHx8IHZhbHVlLnZhbHVlKCkgIT09ICRzY29wZS5TVEVQX0NIRUNLX1NQTElUKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgJHNjb3BlLm9wdGlvbnMuY2hlY2tfc3BsaXQgPSAkc2NvcGUuQ0hFQ0tfU1BMSVRfTk9ORTtcbiAgICB9KTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NoZWNrb3V0dGlwLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdDaGVja291dFRpcEN0cmwnLCBbJyRzY29wZScsICckdGltZW91dCcsICdPcmRlck1hbmFnZXInLCBmdW5jdGlvbigkc2NvcGUsICR0aW1lb3V0LCBPcmRlck1hbmFnZXIpIHtcblxuICAkc2NvcGUudGlwRWRpdG9yT3BlbiA9IGZhbHNlO1xuICAkc2NvcGUuZGF0YSA9IHtcbiAgICB0aXBBbW91bnQ6IDAuMFxuICB9O1xuXG4gIC8vQWRkIGEgdGlwXG4gICRzY29wZS5hZGRUaXAgPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBpZiAoYW1vdW50ID49IDApIHtcbiAgICAgICRzY29wZS5kYXRhLnRpcEFtb3VudCA9IGFtb3VudDtcbiAgICAgICRzY29wZS5jdXJyZW50LnRpcCA9IE1hdGgucm91bmQoKCRzY29wZS5jdXJyZW50LnN1YnRvdGFsICogYW1vdW50KSAqIDEwMCkgLyAxMDA7XG4gICAgfVxuICB9O1xuXG4gIC8vQXBwbHkgdGhlIHNlbGVjdGVkIHRpcCBhbW91bnQgYW5kIHByb2NlZWQgZnVydGhlclxuICAkc2NvcGUuYXBwbHlUaXAgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUub3B0aW9ucy5zdGVwID0gJHNjb3BlLlNURVBfUEFZTUVOVDtcbiAgICAkc2NvcGUudGlwRWRpdG9yT3BlbiA9IGZhbHNlO1xuICB9O1xuXG4gIC8vRWRpdCB0aXAgYW1vdW50XG4gICRzY29wZS5lZGl0VGlwID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnRpcEVkaXRvck9wZW4gPSB0cnVlO1xuICAgICRzY29wZS5hZGRUaXAoMC4yKTtcbiAgfTtcblxuICAvL0VkaXQgdGlwIGFtb3VudFxuICAkc2NvcGUuY2FuY2VsRWRpdFRpcCA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS50aXBFZGl0b3JPcGVuID0gZmFsc2U7XG4gICAgJHNjb3BlLmFkZFRpcCgwLjApO1xuICB9O1xuXG4gICRzY29wZS4kd2F0Y2hBc1Byb3BlcnR5KCdkYXRhLnRpcEFtb3VudCcpXG4gICAgLnNraXBEdXBsaWNhdGVzKClcbiAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlLnZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGFtb3VudCA9IHBhcnNlRmxvYXQodmFsdWUudmFsdWUoKSk7XG5cbiAgICAgIGlmIChhbW91bnQgPj0gMCkge1xuICAgICAgICAkc2NvcGUuYWRkVGlwKGFtb3VudCk7XG4gICAgICB9XG4gICAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NvbW1hbmRzL2Jvb3QuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmZhY3RvcnkoJ0NvbW1hbmRCb290JyxcbiAgWydBdXRoZW50aWNhdGlvbk1hbmFnZXInLCAnTG9jYXRpb25NYW5hZ2VyJyxcbiAgKEF1dGhlbnRpY2F0aW9uTWFuYWdlciwgTG9jYXRpb25NYW5hZ2VyKSA9PiB7XG5cbiAgZnVuY3Rpb24gbG9hZExvY2F0aW9uKCkge1xuICAgIHJldHVybiBMb2NhdGlvbk1hbmFnZXIubG9hZENvbmZpZygpXG4gICAgICAudGhlbigoKSA9PiBMb2NhdGlvbk1hbmFnZXIubG9hZFNlYXRzKCkpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBBdXRoZW50aWNhdGlvbk1hbmFnZXIudmFsaWRhdGUoKS50aGVuKGF1dGhvcml6ZWQgPT4ge1xuICAgICAgaWYgKGF1dGhvcml6ZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBBdXRoZW50aWNhdGlvbk1hbmFnZXIuYXV0aG9yaXplKCkudGhlbigoKSA9PiBsb2FkTG9jYXRpb24oKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsb2FkTG9jYXRpb24oKTtcbiAgICB9KTtcbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY29tbWFuZHMvY2xvc2V0YWJsZS5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uZmFjdG9yeSgnQ29tbWFuZENsb3NlVGFibGUnLCBbXG4gICdNYW5hZ2VtZW50U2VydmljZScsXG4gIChNYW5hZ2VtZW50U2VydmljZSkgPT4ge1xuXG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gTWFuYWdlbWVudFNlcnZpY2UubG9hZFJlc2V0KCk7XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NvbW1hbmRzL2N1c3RvbWVyZ3Vlc3Rsb2dpbi5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uZmFjdG9yeSgnQ29tbWFuZEN1c3RvbWVyR3Vlc3RMb2dpbicsXG4gIFsnQXV0aGVudGljYXRpb25NYW5hZ2VyJywgJ0N1c3RvbWVyTWFuYWdlcicsXG4gIChBdXRoZW50aWNhdGlvbk1hbmFnZXIsIEN1c3RvbWVyTWFuYWdlcikgPT4ge1xuXG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gQ3VzdG9tZXJNYW5hZ2VyLmd1ZXN0TG9naW4oKTtcbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY29tbWFuZHMvY3VzdG9tZXJsb2dpbi5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uZmFjdG9yeSgnQ29tbWFuZEN1c3RvbWVyTG9naW4nLFxuICBbJ0F1dGhlbnRpY2F0aW9uTWFuYWdlcicsICdDdXN0b21lck1hbmFnZXInLFxuICAoQXV0aGVudGljYXRpb25NYW5hZ2VyLCBDdXN0b21lck1hbmFnZXIpID0+IHtcblxuICByZXR1cm4gZnVuY3Rpb24oY3JlZGVudGlhbHMpIHtcbiAgICByZXR1cm4gQXV0aGVudGljYXRpb25NYW5hZ2VyLmN1c3RvbWVyTG9naW5SZWd1bGFyKGNyZWRlbnRpYWxzKS50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiBDdXN0b21lck1hbmFnZXIubG9naW4oY3JlZGVudGlhbHMpO1xuICAgIH0pO1xuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jb21tYW5kcy9jdXN0b21lcnNpZ251cC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uZmFjdG9yeSgnQ29tbWFuZEN1c3RvbWVyU2lnbnVwJyxcbiAgWydBdXRoZW50aWNhdGlvbk1hbmFnZXInLCAnQ3VzdG9tZXJNYW5hZ2VyJyxcbiAgKEF1dGhlbnRpY2F0aW9uTWFuYWdlciwgQ3VzdG9tZXJNYW5hZ2VyKSA9PiB7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKHJlZ2lzdHJhdGlvbikge1xuICAgIHJldHVybiBDdXN0b21lck1hbmFnZXIuc2lnblVwKHJlZ2lzdHJhdGlvbikudGhlbigoKSA9PiB7XG4gICAgICB2YXIgY3JlZGVudGlhbHMgPSB7XG4gICAgICAgIGxvZ2luOiByZWdpc3RyYXRpb24udXNlcm5hbWUsXG4gICAgICAgIHBhc3N3b3JkOiByZWdpc3RyYXRpb24ucGFzc3dvcmRcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBBdXRoZW50aWNhdGlvbk1hbmFnZXIuY3VzdG9tZXJMb2dpblJlZ3VsYXIoY3JlZGVudGlhbHMpLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXR1cm4gQ3VzdG9tZXJNYW5hZ2VyLmxvZ2luKGNyZWRlbnRpYWxzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jb21tYW5kcy9jdXN0b21lcnNvY2lhbGxvZ2luLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5mYWN0b3J5KCdDb21tYW5kQ3VzdG9tZXJTb2NpYWxMb2dpbicsXG4gIFsnQXV0aGVudGljYXRpb25NYW5hZ2VyJywgJ0N1c3RvbWVyTWFuYWdlcicsICdTb2NpYWxNYW5hZ2VyJyxcbiAgKEF1dGhlbnRpY2F0aW9uTWFuYWdlciwgQ3VzdG9tZXJNYW5hZ2VyLCBTb2NpYWxNYW5hZ2VyKSA9PiB7XG5cbiAgZnVuY3Rpb24gZG9Mb2dpbihhdXRoKSB7XG4gICAgcmV0dXJuIEF1dGhlbnRpY2F0aW9uTWFuYWdlci5jdXN0b21lckxvZ2luU29jaWFsKGF1dGgpLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIEN1c3RvbWVyTWFuYWdlci5sb2dpblNvY2lhbChhdXRoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZmFjZWJvb2s6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFNvY2lhbE1hbmFnZXIubG9naW5GYWNlYm9vaygpLnRoZW4oZG9Mb2dpbik7XG4gICAgfSxcbiAgICBnb29nbGVwbHVzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBTb2NpYWxNYW5hZ2VyLmxvZ2luR29vZ2xlUGx1cygpLnRoZW4oZG9Mb2dpbik7XG4gICAgfSxcbiAgICB0d2l0dGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBTb2NpYWxNYW5hZ2VyLmxvZ2luVHdpdHRlcigpLnRoZW4oZG9Mb2dpbik7XG4gICAgfVxuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jb21tYW5kcy9mbGlwc2NyZWVuLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5mYWN0b3J5KCdDb21tYW5kRmxpcFNjcmVlbicsIFsnTWFuYWdlbWVudFNlcnZpY2UnLCBmdW5jdGlvbihNYW5hZ2VtZW50U2VydmljZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgTWFuYWdlbWVudFNlcnZpY2Uucm90YXRlU2NyZWVuKCk7XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NvbW1hbmRzL3Jlc2V0LmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5mYWN0b3J5KCdDb21tYW5kUmVzZXQnLFxuICBbJ0FuYWx5dGljc01hbmFnZXInLCAnQ2hhdE1hbmFnZXInLCAnQ3VzdG9tZXJNYW5hZ2VyJywgJ09yZGVyTWFuYWdlcicsICdTZXNzaW9uTWFuYWdlcicsICdTdXJ2ZXlNYW5hZ2VyJywgJ01hbmFnZW1lbnRTZXJ2aWNlJywgJ0xvZ2dlcicsXG4gIChBbmFseXRpY3NNYW5hZ2VyLCBDaGF0TWFuYWdlciwgQ3VzdG9tZXJNYW5hZ2VyLCBPcmRlck1hbmFnZXIsIFNlc3Npb25NYW5hZ2VyLCBTdXJ2ZXlNYW5hZ2VyLCBNYW5hZ2VtZW50U2VydmljZSwgTG9nZ2VyKSA9PiB7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBRLmFsbChbXG4gICAgICAgIEFuYWx5dGljc01hbmFnZXIuaW5pdGlhbGl6ZSgpLFxuICAgICAgICBTZXNzaW9uTWFuYWdlci5pbml0aWFsaXplKClcbiAgICAgIF0pLnRoZW4oKCkgPT4ge1xuICAgICAgICBTZXNzaW9uTWFuYWdlci5lbmRTZXNzaW9uKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgUS5hbGxTZXR0bGVkKFtcbiAgICAgICAgICAgIEFuYWx5dGljc01hbmFnZXIuc3VibWl0KCksXG4gICAgICAgICAgICBPcmRlck1hbmFnZXIucmVzZXQoKSxcbiAgICAgICAgICAgIFN1cnZleU1hbmFnZXIucmVzZXQoKSxcbiAgICAgICAgICAgIEN1c3RvbWVyTWFuYWdlci5yZXNldCgpLFxuICAgICAgICAgICAgQ2hhdE1hbmFnZXIucmVzZXQoKVxuICAgICAgICAgIF0pLnNwcmVhZCgoKSA9PiB7XG4gICAgICAgICAgICBMb2dnZXIuZGVidWcoJ1Jlc2V0IGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuJyk7XG4gICAgICAgICAgfSwgZSA9PiB7XG4gICAgICAgICAgICBMb2dnZXIud2FybihgVW5hYmxlIHRvIHJlc2V0IHByb3Blcmx5OiAke2V9YCk7XG4gICAgICAgICAgfSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY29tbWFuZHMvc3RhcnR1cC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uZmFjdG9yeSgnQ29tbWFuZFN0YXJ0dXAnLFxuICBbJ0xvZ2dlcicsICdBbmFseXRpY3NNYW5hZ2VyJywgJ0FwcENhY2hlJywgJ0NoYXRNYW5hZ2VyJywgJ1NoZWxsTWFuYWdlcicsICdDdXN0b21lck1hbmFnZXInLCAnRGF0YU1hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnU2Vzc2lvbk1hbmFnZXInLCAnU3VydmV5TWFuYWdlcicsICdTTkFQTG9jYXRpb24nLFxuICAoTG9nZ2VyLCBBbmFseXRpY3NNYW5hZ2VyLCBBcHBDYWNoZSwgQ2hhdE1hbmFnZXIsIFNoZWxsTWFuYWdlciwgQ3VzdG9tZXJNYW5hZ2VyLCBEYXRhTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIFNlc3Npb25NYW5hZ2VyLCBTdXJ2ZXlNYW5hZ2VyLCBTTkFQTG9jYXRpb24pID0+IHtcblxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXN1bHQsIHJlamVjdCkgPT4ge1xuICAgICAgLypmdW5jdGlvbiBjYWNoZUNvbXBsZXRlKHVwZGF0ZWQpIHtcbiAgICAgICAgaWYgKHVwZGF0ZWQpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIERhdGFNYW5hZ2VyLmluaXRpYWxpemUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoQXBwQ2FjaGUuaXNVcGRhdGVkKSB7XG4gICAgICAgIGNhY2hlQ29tcGxldGUodHJ1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQoKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKEFwcENhY2hlLmlzQ29tcGxldGUpIHtcbiAgICAgICAgY2FjaGVDb21wbGV0ZShmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIEFwcENhY2hlLmNvbXBsZXRlLmFkZChjYWNoZUNvbXBsZXRlKTsqL1xuXG4gICAgICBRLmFsbFNldHRsZWQoW1xuICAgICAgICBBbmFseXRpY3NNYW5hZ2VyLmluaXRpYWxpemUoKSxcbiAgICAgICAgQ2hhdE1hbmFnZXIuaW5pdGlhbGl6ZSgpLFxuICAgICAgICBDdXN0b21lck1hbmFnZXIuaW5pdGlhbGl6ZSgpLFxuICAgICAgICBOYXZpZ2F0aW9uTWFuYWdlci5pbml0aWFsaXplKCksXG4gICAgICAgIFNoZWxsTWFuYWdlci5pbml0aWFsaXplKCksXG4gICAgICAgIFNlc3Npb25NYW5hZ2VyLmluaXRpYWxpemUoKSxcbiAgICAgICAgU3VydmV5TWFuYWdlci5pbml0aWFsaXplKClcbiAgICAgIF0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGlmIChDdXN0b21lck1hbmFnZXIubW9kZWwuaXNFbmFibGVkKSB7XG4gICAgICAgICAgaWYgKCFDdXN0b21lck1hbmFnZXIubW9kZWwuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICAgICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ3NpZ25pbicgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgQ3VzdG9tZXJNYW5hZ2VyLmd1ZXN0TG9naW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIERhdGFNYW5hZ2VyLmluaXRpYWxpemUoKTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NvbW1hbmRzL3N1Ym1pdG9yZGVyLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5mYWN0b3J5KCdDb21tYW5kU3VibWl0T3JkZXInLFxuICBbJ0RpYWxvZ01hbmFnZXInLCAnTG9jYXRpb25Nb2RlbCcsICdPcmRlck1hbmFnZXInLFxuICAoRGlhbG9nTWFuYWdlciwgTG9jYXRpb25Nb2RlbCwgT3JkZXJNYW5hZ2VyKSA9PiB7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoIUxvY2F0aW9uTW9kZWwuc2VhdCB8fCAhTG9jYXRpb25Nb2RlbC5zZWF0LnRva2VuKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX0VSUk9SX05PX1NFQVQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCAwO1xuXG4gICAgT3JkZXJNYW5hZ2VyLnN1Ym1pdENhcnQob3B0aW9ucykudGhlbigoKSA9PiB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX09SREVSX1NFTlQpO1xuICAgIH0sICgpID0+IHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICB9KTtcbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvZGlhbG9nLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdEaWFsb2dDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnQWN0aXZpdHlNb25pdG9yJywgJ0RpYWxvZ01hbmFnZXInLFxuICAoJHNjb3BlLCAkdGltZW91dCwgQWN0aXZpdHlNb25pdG9yLCBEaWFsb2dNYW5hZ2VyKSA9PiB7XG5cbiAgdmFyIGFsZXJ0U3RhY2sgPSBbXSxcbiAgICAgIGNvbmZpcm1TdGFjayA9IFtdO1xuICB2YXIgYWxlcnRJbmRleCA9IC0xLFxuICAgICAgY29uZmlybUluZGV4ID0gLTE7XG4gIHZhciBhbGVydFRpbWVyO1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZpc2liaWxpdHkoaXNCdXN5LCBzaG93QWxlcnQsIHNob3dDb25maXJtKSB7XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuaXNCdXN5ID0gaXNCdXN5ICE9PSB1bmRlZmluZWQgPyBpc0J1c3kgOiAkc2NvcGUuaXNCdXN5O1xuICAgICAgJHNjb3BlLnNob3dBbGVydCA9IHNob3dBbGVydCAhPT0gdW5kZWZpbmVkID8gc2hvd0FsZXJ0IDogJHNjb3BlLnNob3dBbGVydDtcbiAgICAgICRzY29wZS5zaG93Q29uZmlybSA9IHNob3dDb25maXJtICE9PSB1bmRlZmluZWQgPyBzaG93Q29uZmlybSA6ICRzY29wZS5zaG93Q29uZmlybTtcbiAgICAgICRzY29wZS52aXNpYmxlID0gJHNjb3BlLmlzQnVzeSB8fCAkc2NvcGUuc2hvd0FsZXJ0IHx8ICRzY29wZS5zaG93Q29uZmlybTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dOZXh0QWxlcnQoKSB7XG4gICAgaWYgKGFsZXJ0VGltZXIpIHtcbiAgICAgICR0aW1lb3V0LmNhbmNlbChhbGVydFRpbWVyKTtcbiAgICB9XG5cbiAgICB2YXIgYWxlcnQgPSBhbGVydFN0YWNrW2FsZXJ0SW5kZXhdO1xuXG4gICAgaWYgKGFsZXJ0ICYmIGFsZXJ0LnJlc29sdmUpIHtcbiAgICAgIGFsZXJ0LnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBhbGVydEluZGV4Kys7XG5cbiAgICBpZiAoYWxlcnRJbmRleCA9PT0gYWxlcnRTdGFjay5sZW5ndGgpIHtcbiAgICAgIHVwZGF0ZVZpc2liaWxpdHkodW5kZWZpbmVkLCBmYWxzZSk7XG4gICAgICBhbGVydFN0YWNrID0gW107XG4gICAgICBhbGVydEluZGV4ID0gLTE7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuYWxlcnRUaXRsZSA9IGFsZXJ0U3RhY2tbYWxlcnRJbmRleF0udGl0bGU7XG4gICAgICAkc2NvcGUuYWxlcnRUZXh0ID0gYWxlcnRTdGFja1thbGVydEluZGV4XS5tZXNzYWdlO1xuICAgICAgdXBkYXRlVmlzaWJpbGl0eSh1bmRlZmluZWQsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgYWxlcnRUaW1lciA9ICR0aW1lb3V0KHNob3dOZXh0QWxlcnQsIDEwMDAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dOZXh0Q29uZmlybSgpIHtcbiAgICBjb25maXJtSW5kZXgrKztcblxuICAgIGlmIChjb25maXJtSW5kZXggPT09IGNvbmZpcm1TdGFjay5sZW5ndGgpIHtcbiAgICAgIHVwZGF0ZVZpc2liaWxpdHkodW5kZWZpbmVkLCB1bmRlZmluZWQsIGZhbHNlKTtcbiAgICAgIGNvbmZpcm1TdGFjayA9IFtdO1xuICAgICAgY29uZmlybUluZGV4ID0gLTE7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuY29uZmlybVRleHQgPSBjb25maXJtU3RhY2tbY29uZmlybUluZGV4XS5tZXNzYWdlO1xuICAgICAgdXBkYXRlVmlzaWJpbGl0eSh1bmRlZmluZWQsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlKSB7XG4gICAgICAgICAgY2FzZSBBTEVSVF9HRU5FUklDX0VSUk9SOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiT29wcyEgTXkgYml0cyBhcmUgZmlkZGxlZC4gT3VyIHJlcXVlc3Qgc3lzdGVtIGhhcyBiZWVuIGRpc2Nvbm5lY3RlZC4gUGxlYXNlIG5vdGlmeSBhIHNlcnZlci5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1I6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJPb3BzISBNeSBiaXRzIGFyZSBmaWRkbGVkLiBPdXIgcmVxdWVzdCBzeXN0ZW0gaGFzIGJlZW4gZGlzY29ubmVjdGVkLiBQbGVhc2Ugbm90aWZ5IGEgc2VydmVyLlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9SRVFVRVNUX0FTU0lTVEFOQ0VfU0VOVDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkNhbGwgU2VydmVyIHJlcXVlc3Qgd2FzIHNlbnQgc3VjY2Vzc2Z1bGx5LlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9SRVFVRVNUX0FTU0lTVEFOQ0VfUkVDRUlWRUQ6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJZb3VyIHJlcXVlc3QgZm9yIHNlcnZlciBhc3Npc3RhbmNlIGhhcyBiZWVuIHNlZW4sIGFuZCBhY2NlcHRlZC5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfUkVRVUVTVF9DTE9TRU9VVF9TRU5UOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiUmVxdWVzdCBjaGVjayByZXF1ZXN0IHdhcyBzZW50IHN1Y2Nlc3NmdWxseS5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfUkVRVUVTVF9DTE9TRU9VVF9SRUNFSVZFRDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIllvdXIgY2hlY2sgcmVxdWVzdCBoYXMgYmVlbiBzZWVuLCBhbmQgYWNjZXB0ZWQuXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEFMRVJUX1JFUVVFU1RfT1JERVJfU0VOVDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIk9yZGVyIHNlbnQhIFlvdSB3aWxsIGJlIG5vdGlmaWVkIHdoZW4geW91ciB3YWl0ZXIgYWNjZXB0cyB0aGUgb3JkZXIuXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEFMRVJUX1JFUVVFU1RfT1JERVJfUkVDRUlWRUQ6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJZb3VyIG9yZGVyIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBhY2NlcHRlZC5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfU0lHTklOX1JFUVVJUkVEOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiWW91IG11c3QgYmUgbG9nZ2VkIGludG8gU05BUCB0byBhY2Nlc3MgdGhpcyBwYWdlLlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9UQUJMRV9BU1NJU1RBTkNFOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNhbGwgdGhlIHdhaXRlcj9cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfVEFCTEVfQ0xPU0VPVVQ6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVxdWVzdCB5b3VyIGNoZWNrP1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9UQUJMRV9SRVNFVDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZXNldD9cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfREVMRVRfQ0FSRDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgdGhpcyBwYXltZW50IG1ldGhvZD9cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfUEFTU1dPUkRfUkVTRVRfQ09NUExFVEU6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJBIGxpbmsgdG8gY2hhbmdlIHlvdXIgcGFzc3dvcmQgaGFzIGJlZW4gZW1haWxlZC5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfU09GVFdBUkVfT1VUREFURUQ6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJBIHNvZnR3YXJlIHVwZGF0ZSBpcyBhdmFpbGFibGUuIFBsZWFzZSByZXN0YXJ0IHRoZSBhcHBsaWNhdGlvbi5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfQ0FSRFJFQURFUl9FUlJPUjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIlVuYWJsZSB0byByZWFkIHRoZSBjYXJkIGRhdGEuIFBsZWFzZSB0cnkgYWdhaW4uXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEFMRVJUX0VSUk9SX05PX1NFQVQ6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJEZXZpY2UgaXMgbm90IGFzc2lnbmVkIHRvIGFueSB0YWJsZS5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfRVJST1JfU1RBUlRVUDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIlVuYWJsZSB0byBzdGFydCB0aGUgYXBwbGljYXRpb24uXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuXG4gICRzY29wZS52aXNpYmxlID0gZmFsc2U7XG4gICRzY29wZS5pc0J1c3kgPSBmYWxzZTtcbiAgJHNjb3BlLnNob3dBbGVydCA9IGZhbHNlO1xuICAkc2NvcGUuc2hvd0NvbmZpcm0gPSBmYWxzZTtcblxuICAkc2NvcGUuY2xvc2VBbGVydCA9ICgpID0+IHtcbiAgICBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgIHNob3dOZXh0QWxlcnQoKTtcbiAgfTtcblxuICAkc2NvcGUuY2xvc2VDb25maXJtID0gY29uZmlybWVkID0+IHtcbiAgICBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuXG4gICAgdmFyIGNvbmZpcm0gPSBjb25maXJtU3RhY2tbY29uZmlybUluZGV4XTtcblxuICAgIGlmIChjb25maXJtKSB7XG4gICAgICBpZiAoY29uZmlybWVkKSB7XG4gICAgICAgIGlmIChjb25maXJtLnJlc29sdmUpIHtcbiAgICAgICAgICBjb25maXJtLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChjb25maXJtLnJlamVjdCkge1xuICAgICAgICAgIGNvbmZpcm0ucmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBzaG93TmV4dENvbmZpcm0oKTtcbiAgfTtcblxuICBmdW5jdGlvbiBhbGVydFJlcXVlc3RlZChtZXNzYWdlLCB0aXRsZSwgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgbWVzc2FnZSA9IGdldE1lc3NhZ2UobWVzc2FnZSk7XG5cbiAgICBhbGVydFN0YWNrLnB1c2goeyB0aXRsZTogdGl0bGUsIG1lc3NhZ2U6IG1lc3NhZ2UsIHJlc29sdmU6IHJlc29sdmUsIHJlamVjdDogcmVqZWN0IH0pO1xuXG4gICAgaWYgKCEkc2NvcGUuc2hvd0FsZXJ0KSB7XG4gICAgICAkdGltZW91dChzaG93TmV4dEFsZXJ0KTtcbiAgICB9XG4gIH1cblxuICBEaWFsb2dNYW5hZ2VyLmFsZXJ0UmVxdWVzdGVkLmFkZChhbGVydFJlcXVlc3RlZCk7XG5cbiAgZnVuY3Rpb24gY29uZmlybVJlcXVlc3RlZChtZXNzYWdlLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICBtZXNzYWdlID0gZ2V0TWVzc2FnZShtZXNzYWdlKTtcblxuICAgIGNvbmZpcm1TdGFjay5wdXNoKHsgbWVzc2FnZTogbWVzc2FnZSwgcmVzb2x2ZTogcmVzb2x2ZSwgcmVqZWN0OiByZWplY3QgfSk7XG5cbiAgICBpZiAoISRzY29wZS5zaG93Q29uZmlybSkge1xuICAgICAgJHRpbWVvdXQoc2hvd05leHRDb25maXJtKTtcbiAgICB9XG4gIH1cblxuICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm1SZXF1ZXN0ZWQuYWRkKGNvbmZpcm1SZXF1ZXN0ZWQpO1xuXG4gIGZ1bmN0aW9uIGpvYlN0YXJ0ZWQoKSB7XG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XG4gICAgfVxuXG4gICAgdXBkYXRlVmlzaWJpbGl0eSh0cnVlKTtcbiAgfVxuXG4gIERpYWxvZ01hbmFnZXIuam9iU3RhcnRlZC5hZGQoam9iU3RhcnRlZCk7XG4gIERpYWxvZ01hbmFnZXIuam9iRW5kZWQuYWRkKGZ1bmN0aW9uKCkge1xuICAgIHVwZGF0ZVZpc2liaWxpdHkoZmFsc2UpO1xuICB9KTtcblxuICBpZiAoRGlhbG9nTWFuYWdlci5qb2JzID4gMCkge1xuICAgIGpvYlN0YXJ0ZWQoKTtcbiAgfVxufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9nYWxheGllcy9hZHZlcnRpc2VtZW50LmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdHYWxheGllc0FkdmVydGlzZW1lbnRDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnQWN0aXZpdHlNb25pdG9yJywgJ0FuYWx5dGljc01vZGVsJywgJ1NoZWxsTWFuYWdlcicsICdEYXRhTWFuYWdlcicsICdEYXRhTW9kZWwnLCAnRGlhbG9nTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdDb21tYW5kRmxpcFNjcmVlbicsICdTaGVsbE1hbmFnZXInLCAnV2ViQnJvd3NlcicsICdTTkFQRW52aXJvbm1lbnQnLFxuICAoJHNjb3BlLCAkdGltZW91dCwgQWN0aXZpdHlNb25pdG9yLCBBbmFseXRpY3NNb2RlbCwgaGVsbE1hbmFnZXIsIERhdGFNYW5hZ2VyLCBEYXRhTW9kZWwsIERpYWxvZ01hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyLCBDb21tYW5kRmxpcFNjcmVlbiwgU2hlbGxNYW5hZ2VyLCBXZWJCcm93c2VyLCBTTkFQRW52aXJvbm1lbnQpID0+IHtcblxuICAkc2NvcGUudmlzaWJsZSA9IGZhbHNlO1xuXG4gICRzY29wZS5hZHZlcnRpc2VtZW50Q2xpY2sgPSBpdGVtID0+IHtcbiAgICBpZiAoQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZCAmJiAhQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9TSUdOSU5fUkVRVUlSRUQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIEFuYWx5dGljc01vZGVsLmxvZ0FkdmVydGlzZW1lbnQoe1xuICAgICAgdG9rZW46IGl0ZW0udG9rZW4sXG4gICAgICB0eXBlOiAnY2xpY2snXG4gICAgfSk7XG5cbiAgICBpZiAoaXRlbS5ocmVmKSB7XG4gICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ3VybCcsIHVybDogaXRlbS5ocmVmLnVybCB9O1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuYWR2ZXJ0aXNlbWVudEltcHJlc3Npb24gPSBpdGVtID0+IHtcbiAgICBpZiAoQWN0aXZpdHlNb25pdG9yLmFjdGl2ZSAmJiAkc2NvcGUudmlzaWJsZSkge1xuICAgICAgQW5hbHl0aWNzTW9kZWwubG9nQWR2ZXJ0aXNlbWVudCh7XG4gICAgICAgIHRva2VuOiBpdGVtLnRva2VuLFxuICAgICAgICB0eXBlOiAnaW1wcmVzc2lvbidcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuYWR2ZXJ0aXNlbWVudHMgPSBbXTtcblxuICBEYXRhTW9kZWwuYWR2ZXJ0aXNlbWVudHMoKS50aGVuKGRhdGEgPT4ge1xuICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICRzY29wZS5hZHZlcnRpc2VtZW50cyA9IGRhdGEubWFpblxuICAgICAgICAubWFwKGFkID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3JjOiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwoYWQuc3JjLCA5NzAsIDkwKSxcbiAgICAgICAgICAgIGhyZWY6IGFkLmhyZWYsXG4gICAgICAgICAgICB0eXBlOiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFUeXBlKGFkLnNyYyksXG4gICAgICAgICAgICB0b2tlbjogYWQudG9rZW5cbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2luZy5hZGQobG9jYXRpb24gPT4ge1xuICAgICRzY29wZS52aXNpYmxlID0gbG9jYXRpb24udHlwZSA9PT0gJ2hvbWUnO1xuICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS4kYXBwbHkoKSk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9nYWxheGllcy9jYXJ0LmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbiAgLmNvbnRyb2xsZXIoJ0dhbGF4aWVzQ2FydEN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICckc2NlJywgJ0N1c3RvbWVyTWFuYWdlcicsICdTaGVsbE1hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJywgJ0RpYWxvZ01hbmFnZXInLCAnQ2FydE1vZGVsJywgJ0xvY2F0aW9uTW9kZWwnLCAnQ2hhdE1hbmFnZXInLFxuICAgICgkc2NvcGUsICR0aW1lb3V0LCAkc2NlLCBDdXN0b21lck1hbmFnZXIsIFNoZWxsTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIE9yZGVyTWFuYWdlciwgRGlhbG9nTWFuYWdlciwgQ2FydE1vZGVsLCBMb2NhdGlvbk1vZGVsLCBDaGF0TWFuYWdlcikgPT4ge1xuXG4gICAgICAkc2NvcGUuU1RBVEVfQ0FSVCA9IENhcnRNb2RlbC5TVEFURV9DQVJUO1xuICAgICAgJHNjb3BlLlNUQVRFX0hJU1RPUlkgPSBDYXJ0TW9kZWwuU1RBVEVfSElTVE9SWTtcblxuICAgICAgJHNjb3BlLmdldE1lZGlhVXJsID0gKG1lZGlhLCB3aWR0aCwgaGVpZ2h0LCBleHRlbnNpb24pID0+IFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKTtcbiAgICAgICRzY29wZS5mb3JtYXRQcmljZSA9IHZhbHVlID0+IFNoZWxsTWFuYWdlci5mb3JtYXRQcmljZSh2YWx1ZSk7XG4gICAgICAkc2NvcGUub3B0aW9ucyA9IHt9O1xuXG4gICAgICAkc2NvcGUuY3VycmVuY3kgPSBTaGVsbE1hbmFnZXIubW9kZWwuY3VycmVuY3k7XG4gICAgICBTaGVsbE1hbmFnZXIubW9kZWwuY3VycmVuY3lDaGFuZ2VkLmFkZChjdXJyZW5jeSA9PiAkdGltZW91dCgoKSA9PiAkc2NvcGUuY3VycmVuY3kgPSBjdXJyZW5jeSkpO1xuXG4gICAgICAkc2NvcGUuc3RhdGUgPSBDYXJ0TW9kZWwuY2FydFN0YXRlO1xuICAgICAgQ2FydE1vZGVsLmNhcnRTdGF0ZUNoYW5nZWQuYWRkKHN0YXRlID0+ICR0aW1lb3V0KCgpID0+ICRzY29wZS5zdGF0ZSA9IHN0YXRlKSk7XG5cbiAgICAgICRzY29wZS5lZGl0YWJsZUl0ZW0gPSBDYXJ0TW9kZWwuZWRpdGFibGVJdGVtO1xuICAgICAgQ2FydE1vZGVsLmVkaXRhYmxlSXRlbUNoYW5nZWQuYWRkKGl0ZW0gPT4gJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmVkaXRhYmxlSXRlbSA9IGl0ZW0pKTtcblxuICAgICAgJHNjb3BlLmN1cnJlbnRPcmRlciA9IE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNhcnQ7XG4gICAgICBPcmRlck1hbmFnZXIubW9kZWwub3JkZXJDYXJ0Q2hhbmdlZC5hZGQodmFsdWUgPT4gJHNjb3BlLmN1cnJlbnRPcmRlciA9IHZhbHVlKTtcblxuICAgICAgJHNjb3BlLnRvdGFsT3JkZXIgPSBPcmRlck1hbmFnZXIubW9kZWwub3JkZXJDaGVjaztcbiAgICAgIE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNoZWNrQ2hhbmdlZC5hZGQodmFsdWUgPT4gJHNjb3BlLnRvdGFsT3JkZXIgPSB2YWx1ZSk7XG5cbiAgICAgICRzY29wZS5naWZ0U2VhdCA9IExvY2F0aW9uTW9kZWwuZ2V0U2VhdChDaGF0TWFuYWdlci5tb2RlbC5naWZ0U2VhdCk7XG4gICAgICBDaGF0TWFuYWdlci5tb2RlbC5naWZ0U2VhdENoYW5nZWQuYWRkKHRva2VuID0+IHtcbiAgICAgICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmdpZnRTZWF0ID0gTG9jYXRpb25Nb2RlbC5nZXRTZWF0KHRva2VuKSk7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLmN1c3RvbWVyTmFtZSA9IEN1c3RvbWVyTWFuYWdlci5jdXN0b21lck5hbWU7XG4gICAgICBDdXN0b21lck1hbmFnZXIubW9kZWwucHJvZmlsZUNoYW5nZWQuYWRkKCgpID0+IHtcbiAgICAgICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmN1c3RvbWVyTmFtZSA9IEN1c3RvbWVyTWFuYWdlci5jdXN0b21lck5hbWUpO1xuICAgICAgfSk7XG5cbiAgICAgICRzY29wZS5jaGVja291dEVuYWJsZWQgPSBDdXN0b21lck1hbmFnZXIubW9kZWwuaXNFbmFibGVkO1xuICAgICAgJHNjb3BlLnZpc2libGUgPSBDYXJ0TW9kZWwuaXNDYXJ0T3BlbjtcblxuICAgICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2luZy5hZGQobG9jYXRpb24gPT4ge1xuICAgICAgICBpZiAobG9jYXRpb24udHlwZSAhPT0gJ2NhdGVnb3J5Jykge1xuICAgICAgICAgIENhcnRNb2RlbC5pc0NhcnRPcGVuID0gZmFsc2U7XG4gICAgICAgICAgQ2FydE1vZGVsLmNsb3NlRWRpdG9yKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBDYXJ0TW9kZWwuaXNDYXJ0T3BlbkNoYW5nZWQuYWRkKHZhbHVlID0+IHtcbiAgICAgICAgJHNjb3BlLnNob3dDYXJ0KCk7XG4gICAgICAgICRzY29wZS52aXNpYmxlID0gdmFsdWU7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLnNlYXRfbmFtZSA9IExvY2F0aW9uTW9kZWwuc2VhdCA/XG4gICAgICAgIExvY2F0aW9uTW9kZWwuc2VhdC5uYW1lIDpcbiAgICAgICAgJ1RhYmxlJztcblxuICAgICAgTG9jYXRpb25Nb2RlbC5zZWF0Q2hhbmdlZC5hZGQoc2VhdCA9PiAkc2NvcGUuc2VhdF9uYW1lID0gc2VhdCA/IHNlYXQubmFtZSA6ICdUYWJsZScpO1xuXG4gICAgICB2YXIgcmVmcmVzaEFzc2lzdGFuY2VSZXF1ZXN0ID0gKCkgPT4ge1xuICAgICAgICAkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2VBdmFpbGFibGUgPSBPcmRlck1hbmFnZXIubW9kZWwuYXNzaXN0YW5jZVJlcXVlc3QgPT0gbnVsbDtcbiAgICAgIH07XG4gICAgICB2YXIgcmVmcmVzaENsb3Nlb3V0UmVxdWVzdCA9ICgpID0+IHtcbiAgICAgICAgJHNjb3BlLnJlcXVlc3RDbG9zZW91dEF2YWlsYWJsZSA9IE9yZGVyTWFuYWdlci5tb2RlbC5jbG9zZW91dFJlcXVlc3QgPT0gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIE9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdENoYW5nZWQuYWRkKHJlZnJlc2hBc3Npc3RhbmNlUmVxdWVzdCk7XG4gICAgICBPcmRlck1hbmFnZXIubW9kZWwuY2xvc2VvdXRSZXF1ZXN0Q2hhbmdlZC5hZGQocmVmcmVzaENsb3Nlb3V0UmVxdWVzdCk7XG5cbiAgICAgICRzY29wZS5yZXF1ZXN0QXNzaXN0YW5jZUF2YWlsYWJsZSA9IE9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdCA9PSBudWxsO1xuICAgICAgJHNjb3BlLnJlcXVlc3RDbG9zZW91dEF2YWlsYWJsZSA9IE9yZGVyTWFuYWdlci5tb2RlbC5jbG9zZW91dFJlcXVlc3QgPT0gbnVsbDtcblxuICAgICAgJHNjb3BlLmdldE1vZGlmaWVycyA9IGVudHJ5ID0+IHtcbiAgICAgICAgaWYgKCFlbnRyeS5tb2RpZmllcnMpIHtcbiAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZW50cnkubW9kaWZpZXJzLnJlZHVjZSgocmVzdWx0LCBjYXRlZ29yeSkgPT4ge1xuICAgICAgICAgIGxldCBtb2RpZmllcnMgPSBjYXRlZ29yeS5tb2RpZmllcnMuZmlsdGVyKG1vZGlmaWVyID0+IG1vZGlmaWVyLmlzU2VsZWN0ZWQpO1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQobW9kaWZpZXJzKTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LCBbXSk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuY2FsY3VsYXRlUHJpY2UgPSBlbnRyeSA9PiBPcmRlck1hbmFnZXIuY2FsY3VsYXRlUHJpY2UoZW50cnkpO1xuICAgICAgJHNjb3BlLmNhbGN1bGF0ZVRvdGFsUHJpY2UgPSBlbnRyaWVzID0+IE9yZGVyTWFuYWdlci5jYWxjdWxhdGVUb3RhbFByaWNlKGVudHJpZXMpO1xuXG4gICAgICAkc2NvcGUuZWRpdEl0ZW0gPSBlbnRyeSA9PiBDYXJ0TW9kZWwub3BlbkVkaXRvcihlbnRyeSwgZmFsc2UpO1xuXG4gICAgICAkc2NvcGUudXBkYXRlTW9kaWZpZXJzID0gKGNhdGVnb3J5LCBtb2RpZmllcikgPT4ge1xuICAgICAgICBpZiAoY2F0ZWdvcnkuZGF0YS5zZWxlY3Rpb24gPT09IDEpIHtcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goY2F0ZWdvcnkubW9kaWZpZXJzLCBtID0+IG0uaXNTZWxlY3RlZCA9IChtID09PSBtb2RpZmllcikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIG1vZGlmaWVyLmlzU2VsZWN0ZWQgPSAhbW9kaWZpZXIuaXNTZWxlY3RlZDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnJlbW92ZUZyb21DYXJ0ID0gZW50cnkgPT4gJHNjb3BlLmN1cnJlbnRPcmRlciA9IE9yZGVyTWFuYWdlci5yZW1vdmVGcm9tQ2FydChlbnRyeSk7XG4gICAgICAkc2NvcGUucmVvcmRlckl0ZW0gPSBlbnRyeSA9PiAkc2NvcGUuY3VycmVudE9yZGVyID0gT3JkZXJNYW5hZ2VyLmFkZFRvQ2FydChlbnRyeS5jbG9uZSgpKTtcblxuICAgICAgJHNjb3BlLnN1Ym1pdENhcnQgPSAoKSA9PiB7XG4gICAgICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSAkc2NvcGUub3B0aW9ucy50b0dvID8gMiA6IDA7XG5cbiAgICAgICAgT3JkZXJNYW5hZ2VyLnN1Ym1pdENhcnQob3B0aW9ucykudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuXG4gICAgICAgICAgJHNjb3BlLiRhcHBseSgoKSA9PiB7XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudE9yZGVyID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2FydDtcbiAgICAgICAgICAgICRzY29wZS50b3RhbE9yZGVyID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2hlY2s7XG4gICAgICAgICAgICAkc2NvcGUub3B0aW9ucy50b0dvID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfT1JERVJfU0VOVCk7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5jbGVhckNhcnQgPSAoKSA9PiB7XG4gICAgICAgICRzY29wZS5vcHRpb25zLnRvR28gPSBmYWxzZTtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRPcmRlciA9IE9yZGVyTWFuYWdlci5jbGVhckNhcnQoKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5jbG9zZUVkaXRvciA9ICgpID0+IHtcbiAgICAgICAgQ2FydE1vZGVsLmNsb3NlRWRpdG9yKCk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuY2xvc2VDYXJ0ID0gKCkgPT4ge1xuICAgICAgICBDYXJ0TW9kZWwuaXNDYXJ0T3BlbiA9IGZhbHNlO1xuICAgICAgICBDYXJ0TW9kZWwuc3RhdGUgPSBDYXJ0TW9kZWwuU1RBVEVfQ0FSVDtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5zaG93SGlzdG9yeSA9ICgpID0+IENhcnRNb2RlbC5zdGF0ZSA9IENhcnRNb2RlbC5TVEFURV9ISVNUT1JZO1xuICAgICAgJHNjb3BlLnNob3dDYXJ0ID0gKCkgPT4gQ2FydE1vZGVsLnN0YXRlID0gQ2FydE1vZGVsLlNUQVRFX0NBUlQ7XG5cbiAgICAgICRzY29wZS5wYXlDaGVjayA9ICgpID0+IE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnY2hlY2tvdXQnIH07XG5cbiAgICAgICRzY29wZS5yZXF1ZXN0QXNzaXN0YW5jZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKCEkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2VBdmFpbGFibGUpe1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIERpYWxvZ01hbmFnZXIuY29uZmlybShBTEVSVF9UQUJMRV9BU1NJU1RBTkNFKS50aGVuKCgpID0+IHtcbiAgICAgICAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgICAgICAgT3JkZXJNYW5hZ2VyLnJlcXVlc3RBc3Npc3RhbmNlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX0FTU0lTVEFOQ0VfU0VOVCk7XG4gICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5yZXF1ZXN0Q2xvc2VvdXQgPSAoKSA9PiB7XG4gICAgICAgIGlmICghJHNjb3BlLnJlcXVlc3RDbG9zZW91dEF2YWlsYWJsZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICAgICAgT3JkZXJNYW5hZ2VyLnJlcXVlc3RDbG9zZW91dCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX0NMT1NFT1VUX1NFTlQpO1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvZ2FsYXhpZXMvY2F0ZWdvcnkuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0dhbGF4aWVzQ2F0ZWdvcnlDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnRGF0YU1hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnU2hlbGxNYW5hZ2VyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIERhdGFNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgU2hlbGxNYW5hZ2VyKSA9PiB7XG5cbiAgJHNjb3BlLmdvQmFjayA9ICgpID0+IE5hdmlnYXRpb25NYW5hZ2VyLmdvQmFjaygpO1xuXG4gIHZhciBDYXRlZ29yeUxpc3QgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByb3dzID0gdGhpcy5wcm9wcy50aWxlcy5tYXAoKHRpbGUsIGkpID0+IHtcbiAgICAgICAgdmFyIGJhY2tncm91bmQgPSBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwodGlsZS5pbWFnZSwgNDcwLCA0MTApO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFJlYWN0LkRPTS50ZCh7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICd0aWxlIHRpbGUtcmVndWxhcicsXG4gICAgICAgICAgICBrZXk6IGlcbiAgICAgICAgICB9LCBSZWFjdC5ET00uYSh7XG4gICAgICAgICAgICBvbkNsaWNrOiBlID0+IHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHRpbGUuZGVzdGluYXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBiYWNrZ3JvdW5kID8gJ3VybChcIicgKyBiYWNrZ3JvdW5kICsgJ1wiKScgOiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKG51bGwsIHRpbGUudGl0bGUpXG4gICAgICAgICAgKSlcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAucmVkdWNlKChyZXN1bHQsIHZhbHVlLCBpKSA9PiB7XG4gICAgICAgIHJlc3VsdFtpICUgMl0ucHVzaCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LCBbW10sIFtdXSlcbiAgICAgIC5tYXAoKHJvdywgaSkgPT4gUmVhY3QuRE9NLnRyKHsga2V5OiBpIH0sIHJvdykpO1xuXG4gICAgICByZXR1cm4gUmVhY3QuRE9NLnRhYmxlKHtcbiAgICAgICAgY2xhc3NOYW1lOiAndGlsZS10YWJsZSdcbiAgICAgIH0sIHJvd3MpO1xuICAgIH1cbiAgfSk7XG5cbiAgRGF0YU1hbmFnZXIuY2F0ZWdvcnlDaGFuZ2VkLmFkZChjYXRlZ29yeSA9PiB7XG4gICAgaWYgKCFjYXRlZ29yeSkge1xuICAgICAgcmV0dXJuICR0aW1lb3V0KCgpID0+ICRzY29wZS5jYXRlZ29yeSA9IG51bGwpO1xuICAgIH1cblxuICAgIHZhciBpdGVtcyA9IGNhdGVnb3J5Lml0ZW1zIHx8IFtdLFxuICAgICAgICBjYXRlZ29yaWVzID0gY2F0ZWdvcnkuY2F0ZWdvcmllcyB8fCBbXTtcblxuICAgIHZhciB0aWxlcyA9IGNhdGVnb3JpZXMuY29uY2F0KGl0ZW1zKS5tYXAoaXRlbSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogaXRlbS50aXRsZSxcbiAgICAgICAgaW1hZ2U6IGl0ZW0uaW1hZ2UsXG4gICAgICAgIHVybDogJyMnICsgTmF2aWdhdGlvbk1hbmFnZXIuZ2V0UGF0aChpdGVtLmRlc3RpbmF0aW9uKSxcbiAgICAgICAgZGVzdGluYXRpb246IGl0ZW0uZGVzdGluYXRpb25cbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBSZWFjdC5yZW5kZXIoXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENhdGVnb3J5TGlzdCwgeyB0aWxlczogdGlsZXMgfSksXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS1jYXRlZ29yeS1jb250ZW50JylcbiAgICApO1xuXG4gICAgJHNjb3BlLmNhdGVnb3J5ID0gY2F0ZWdvcnk7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLiRhcHBseSgpKTtcbiAgfSk7XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2luZy5hZGQoZnVuY3Rpb24obG9jYXRpb24pIHtcbiAgICBpZiAobG9jYXRpb24udHlwZSA9PT0gJ2l0ZW0nKSB7XG4gICAgICAkc2NvcGUuc2hvd01vZGFsID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2hvd01vZGFsID0gZmFsc2U7XG5cbiAgICBEYXRhTWFuYWdlci5jYXRlZ29yeSA9IGxvY2F0aW9uLnR5cGUgPT09ICdjYXRlZ29yeScgPyBsb2NhdGlvbi50b2tlbiA6IHVuZGVmaW5lZDtcbiAgICAkc2NvcGUudmlzaWJsZSA9IEJvb2xlYW4oRGF0YU1hbmFnZXIuY2F0ZWdvcnkpO1xuICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS4kYXBwbHkoKSk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9nYWxheGllcy9ob21lLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdHYWxheGllc0hvbWVDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnRGF0YU1hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnU2hlbGxNYW5hZ2VyJywgJ1NOQVBMb2NhdGlvbicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBEYXRhTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIFNoZWxsTWFuYWdlciwgU05BUExvY2F0aW9uKSA9PiB7XG5cbiAgdmFyIEhvbWVNZW51ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgcm93cyA9IFtdLFxuICAgICAgICAgIGhvbWUgPSB0aGlzLnByb3BzLmhvbWU7XG5cbiAgICAgIGlmIChCb29sZWFuKGhvbWUuaW50cm8pKSB7XG4gICAgICAgIHJvd3MucHVzaChSZWFjdC5ET00udGQoe1xuICAgICAgICAgIGNsYXNzTmFtZTogJ3RpbGUgdGlsZS1pbmZvJyxcbiAgICAgICAgICBrZXk6ICdpbnRybydcbiAgICAgICAgfSwgUmVhY3QuRE9NLmRpdih7fSwgW1xuICAgICAgICAgICAgUmVhY3QuRE9NLmgxKHsga2V5OiAnaW50cm8tdGl0bGUnIH0sXG4gICAgICAgICAgICAgIGhvbWUuaW50cm8udGl0bGUgfHwgYFdlbGNvbWUgdG8gJHtTTkFQTG9jYXRpb24ubG9jYXRpb25fbmFtZX1gXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgUmVhY3QuRE9NLnAoeyBrZXk6ICdpbnRyby10ZXh0JyB9LFxuICAgICAgICAgICAgICBob21lLmludHJvLnRleHRcbiAgICAgICAgICAgIClcbiAgICAgICAgXSlcbiAgICAgICAgKSk7XG4gICAgICB9XG5cbiAgICAgIGxldCB0aWxlcyA9IHRoaXMucHJvcHMudGlsZXMubWFwKCh0aWxlLCBpKSA9PiB7XG4gICAgICAgIHZhciBiYWNrZ3JvdW5kID0gU2hlbGxNYW5hZ2VyLmdldE1lZGlhVXJsKHRpbGUuaW1hZ2UsIDQ3MCwgNDEwKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBSZWFjdC5ET00udGQoe1xuICAgICAgICAgICAgY2xhc3NOYW1lOiAndGlsZSB0aWxlLXJlZ3VsYXInLFxuICAgICAgICAgICAga2V5OiBpXG4gICAgICAgICAgfSwgUmVhY3QuRE9NLmEoe1xuICAgICAgICAgICAgb25DbGljazogZSA9PiB7XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB0aWxlLmRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYmFja2dyb3VuZCA/ICd1cmwoXCInICsgYmFja2dyb3VuZCArICdcIiknIDogbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgICBSZWFjdC5ET00uc3BhbihudWxsLCB0aWxlLnRpdGxlKVxuICAgICAgICAgICkpXG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgcm93cyA9IHJvd3MuY29uY2F0KHRpbGVzKVxuICAgICAgLnJlZHVjZSgocmVzdWx0LCB2YWx1ZSkgPT4ge1xuICAgICAgICByZXN1bHRbMF0ucHVzaCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LCBbW11dKVxuICAgICAgLm1hcCgocm93LCBpKSA9PiBSZWFjdC5ET00udHIoeyBrZXk6IGkgfSwgcm93KSk7XG5cbiAgICAgIHJldHVybiBSZWFjdC5ET00udGFibGUoe1xuICAgICAgICBjbGFzc05hbWU6ICd0aWxlLXRhYmxlJ1xuICAgICAgfSwgcm93cyk7XG4gICAgfVxuICB9KTtcblxuICBEYXRhTWFuYWdlci5ob21lQ2hhbmdlZC5hZGQoaG9tZSA9PiB7XG4gICAgaWYgKCFob21lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRpbGVzID0gaG9tZS5tZW51c1xuICAgIC5tYXAobWVudSA9PiB7XG4gICAgICBsZXQgZGVzdGluYXRpb24gPSB7XG4gICAgICAgIHR5cGU6ICdtZW51JyxcbiAgICAgICAgdG9rZW46IG1lbnUudG9rZW5cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiBtZW51LnRpdGxlLFxuICAgICAgICBpbWFnZTogbWVudS5pbWFnZSxcbiAgICAgICAgdXJsOiAnIycgKyBOYXZpZ2F0aW9uTWFuYWdlci5nZXRQYXRoKGRlc3RpbmF0aW9uKSxcbiAgICAgICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS1ob21lLW1lbnUnKTtcblxuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICBSZWFjdC5yZW5kZXIoXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSG9tZU1lbnUsIHsgdGlsZXM6IHRpbGVzLCBob21lOiBob21lIH0pLFxuICAgICAgICBlbGVtZW50XG4gICAgICApO1xuICAgIH1cbiAgfSk7XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2luZy5hZGQobG9jYXRpb24gPT4ge1xuICAgICRzY29wZS52aXNpYmxlID0gQm9vbGVhbihsb2NhdGlvbi50eXBlID09PSAnaG9tZScpO1xuICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgIERhdGFNYW5hZ2VyLmhvbWUgPSAkc2NvcGUudmlzaWJsZTtcbiAgICB9KTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2dhbGF4aWVzL2l0ZW0uanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0dhbGF4aWVzSXRlbUN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdEYXRhTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdPcmRlck1hbmFnZXInLCAnU2hlbGxNYW5hZ2VyJywgJ1dlYkJyb3dzZXInLCAnQ29tbWFuZFN1Ym1pdE9yZGVyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIERhdGFNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgT3JkZXJNYW5hZ2VyLCBTaGVsbE1hbmFnZXIsIFdlYkJyb3dzZXIsIENvbW1hbmRTdWJtaXRPcmRlcikgPT4ge1xuXG4gICRzY29wZS5nb0JhY2sgPSAoKSA9PiBOYXZpZ2F0aW9uTWFuYWdlci5nb0JhY2soKTtcblxuICBEYXRhTWFuYWdlci5pdGVtQ2hhbmdlZC5hZGQoaXRlbSA9PiB7XG4gICAgaWYgKCFpdGVtKSB7XG4gICAgICBXZWJCcm93c2VyLmNsb3NlKCk7XG5cbiAgICAgIHJldHVybiAkdGltZW91dCgoKSA9PiB7XG4gICAgICAgICRzY29wZS5lbnRyeSA9ICRzY29wZS5lbnRyaWVzID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLnR5cGUgPSAxO1xuICAgICAgICAkc2NvcGUuc3RlcCA9IDA7XG4gICAgICAgICRzY29wZS5lbnRyeUluZGV4ID0gMDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciB0eXBlID0gaXRlbS50eXBlO1xuXG4gICAgaWYgKHR5cGUgPT09IDIgJiYgaXRlbS53ZWJzaXRlKSB7XG4gICAgICBXZWJCcm93c2VyLm9wZW4oaXRlbS53ZWJzaXRlLnVybCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09IDMgJiYgaXRlbS5mbGFzaCkge1xuICAgICAgbGV0IGZsYXNoVXJsID0gU2hlbGxNYW5hZ2VyLmdldE1lZGlhVXJsKGl0ZW0uZmxhc2gubWVkaWEsIDAsIDAsICdzd2YnKSxcbiAgICAgICAgICB1cmwgPSAnL2ZsYXNoI3VybD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGZsYXNoVXJsKSArXG4gICAgICAgICAgICAgICAgJyZ3aWR0aD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW0uZmxhc2gud2lkdGgpICtcbiAgICAgICAgICAgICAgICAnJmhlaWdodD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGl0ZW0uZmxhc2guaGVpZ2h0KTtcblxuICAgICAgV2ViQnJvd3Nlci5vcGVuKFNoZWxsTWFuYWdlci5nZXRBcHBVcmwodXJsKSk7XG4gICAgfVxuXG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHR5cGUgPT09IDEpIHtcbiAgICAgICAgJHNjb3BlLmVudHJ5ID0gbmV3IGFwcC5DYXJ0SXRlbShpdGVtLCAxKTtcbiAgICAgIH1cblxuICAgICAgJHNjb3BlLnR5cGUgPSB0eXBlO1xuICAgICAgJHNjb3BlLnN0ZXAgPSAwO1xuICAgICAgJHNjb3BlLmVudHJ5SW5kZXggPSAwO1xuICAgIH0pO1xuICB9KTtcblxuICAkc2NvcGUuZ2V0TWVkaWFVcmwgPSAobWVkaWEsIHcsIGgsIGV4dGVuc2lvbikgPT4gU2hlbGxNYW5hZ2VyLmdldE1lZGlhVXJsKG1lZGlhLCB3LCBoLCBleHRlbnNpb24pO1xuICAkc2NvcGUuZm9ybWF0UHJpY2UgPSB2YWx1ZSA9PiB2YWx1ZSA/IFNoZWxsTWFuYWdlci5mb3JtYXRQcmljZSh2YWx1ZSkgOiAwO1xuXG4gICRzY29wZS5uZXh0U3RlcCA9ICgpID0+IHtcbiAgICBpZiAoJHNjb3BlLnN0ZXAgPT09IDApIHtcbiAgICAgIGlmICgkc2NvcGUuZW50cnkuaGFzTW9kaWZpZXJzKSB7XG4gICAgICAgICRzY29wZS5lbnRyaWVzID0gJHNjb3BlLmVudHJ5LmNsb25lTWFueSgpO1xuICAgICAgICAkc2NvcGUuY3VycmVudEVudHJ5ID0gJHNjb3BlLmVudHJpZXNbJHNjb3BlLmVudHJ5SW5kZXggPSAwXTtcbiAgICAgICAgJHNjb3BlLnN0ZXAgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIE9yZGVyTWFuYWdlci5hZGRUb0NhcnQoJHNjb3BlLmVudHJ5KTtcbiAgICAgICAgJHNjb3BlLnN0ZXAgPSAyO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgkc2NvcGUuc3RlcCA9PT0gMSkge1xuICAgICAgaWYgKCRzY29wZS5lbnRyeUluZGV4ID09PSAkc2NvcGUuZW50cmllcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICRzY29wZS5lbnRyaWVzLmZvckVhY2goZW50cnkgPT4gT3JkZXJNYW5hZ2VyLmFkZFRvQ2FydChlbnRyeSkpO1xuICAgICAgICAkc2NvcGUuc3RlcCA9IDI7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRFbnRyeSA9ICRzY29wZS5lbnRyaWVzWysrJHNjb3BlLmVudHJ5SW5kZXhdO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAkc2NvcGUucHJldmlvdXNTdGVwID0gKCkgPT4ge1xuICAgIGlmICgkc2NvcGUuc3RlcCA9PT0gMSAmJiAkc2NvcGUuZW50cnlJbmRleCA+IDApIHtcbiAgICAgICRzY29wZS5jdXJyZW50RW50cnkgPSAkc2NvcGUuZW50cmllc1stLSRzY29wZS5lbnRyeUluZGV4XTtcbiAgICB9XG4gICAgZWxzZSBpZiAoJHNjb3BlLnN0ZXAgPT09IDApIHtcbiAgICAgICRzY29wZS5nb0JhY2soKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAkc2NvcGUuc3RlcC0tO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUudXBkYXRlTW9kaWZpZXJzID0gKGNhdGVnb3J5LCBtb2RpZmllcikgPT4ge1xuICAgIGlmIChjYXRlZ29yeS5kYXRhLnNlbGVjdGlvbiA9PT0gMSkge1xuICAgICAgYW5ndWxhci5mb3JFYWNoKGNhdGVnb3J5Lm1vZGlmaWVycywgbSA9PiBtLmlzU2VsZWN0ZWQgPSAobSA9PT0gbW9kaWZpZXIpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBtb2RpZmllci5pc1NlbGVjdGVkID0gIW1vZGlmaWVyLmlzU2VsZWN0ZWQ7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5zdWJtaXRPcmRlciA9ICgpID0+IHtcbiAgICBDb21tYW5kU3VibWl0T3JkZXIoKTtcbiAgICAkc2NvcGUuZ29CYWNrKCk7XG4gIH07XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2luZy5hZGQobG9jYXRpb24gPT4ge1xuICAgIERhdGFNYW5hZ2VyLml0ZW0gPSBsb2NhdGlvbi50eXBlID09PSAnaXRlbScgPyBsb2NhdGlvbi50b2tlbiA6IHVuZGVmaW5lZDtcbiAgICAkc2NvcGUudmlzaWJsZSA9IEJvb2xlYW4oRGF0YU1hbmFnZXIuaXRlbSk7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLiRhcHBseSgpKTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2dhbGF4aWVzL2l0ZW1lZGl0LmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbiAgLmNvbnRyb2xsZXIoJ0dhbGF4aWVzSXRlbUVkaXRDdHJsJyxcbiAgWyckc2NvcGUnLCAnU2hlbGxNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ09yZGVyTWFuYWdlcicsICdDYXJ0TW9kZWwnLCAnQ29tbWFuZFN1Ym1pdE9yZGVyJyxcbiAgICAoJHNjb3BlLCBTaGVsbE1hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyLCBPcmRlck1hbmFnZXIsIENhcnRNb2RlbCwgQ29tbWFuZFN1Ym1pdE9yZGVyKSA9PiB7XG5cbiAgICAgICRzY29wZS5nZXRNZWRpYVVybCA9IChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKSA9PiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwobWVkaWEsIHdpZHRoLCBoZWlnaHQsIGV4dGVuc2lvbik7XG4gICAgICAkc2NvcGUuZm9ybWF0UHJpY2UgPSB2YWx1ZSA9PiBTaGVsbE1hbmFnZXIuZm9ybWF0UHJpY2UodmFsdWUpO1xuXG4gICAgICB2YXIgY3VycmVudEluZGV4ID0gLTE7XG5cbiAgICAgIHZhciByZWZyZXNoTmF2aWdhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJHNjb3BlLmVudHJ5ICYmICRzY29wZS5lbnRyeS5oYXNNb2RpZmllcnMpIHtcbiAgICAgICAgICAkc2NvcGUuaGFzTmV4dENhdGVnb3J5ID0gJHNjb3BlLmVudHJ5Lm1vZGlmaWVycy5sZW5ndGggPiAxICYmXG4gICAgICAgICAgICBjdXJyZW50SW5kZXggPCAkc2NvcGUuZW50cnkubW9kaWZpZXJzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgJHNjb3BlLmhhc1ByZXZpb3VzQ2F0ZWdvcnkgPSBjdXJyZW50SW5kZXggPiAwO1xuICAgICAgICAgICRzY29wZS5jYXRlZ29yeSA9ICRzY29wZS5lbnRyeS5tb2RpZmllcnNbY3VycmVudEluZGV4XTtcbiAgICAgICAgICAkc2NvcGUuY2FuRXhpdCA9IENhcnRNb2RlbC5lZGl0YWJsZUl0ZW1OZXc7XG4gICAgICAgICAgJHNjb3BlLmNhbkRvbmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbkNoYW5naW5nLmFkZChmdW5jdGlvbihsb2NhdGlvbikge1xuICAgICAgICBpZiAobG9jYXRpb24udHlwZSAhPT0gJ21lbnUnICYmIGxvY2F0aW9uLnR5cGUgIT09ICdjYXRlZ29yeScpIHtcbiAgICAgICAgICAkc2NvcGUuZXhpdCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgQ2FydE1vZGVsLmlzQ2FydE9wZW5DaGFuZ2VkLmFkZChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAkc2NvcGUuZXhpdCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdmFyIGluaXQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAkc2NvcGUuZW50cnkgPSB2YWx1ZTtcbiAgICAgICAgJHNjb3BlLnZpc2libGUgPSAkc2NvcGUuZW50cnkgIT0gbnVsbDtcblxuICAgICAgICBjdXJyZW50SW5kZXggPSAwO1xuXG4gICAgICAgIHJlZnJlc2hOYXZpZ2F0aW9uKCk7XG4gICAgICB9O1xuXG4gICAgICBpbml0KENhcnRNb2RlbC5lZGl0YWJsZUl0ZW0pO1xuXG4gICAgICBDYXJ0TW9kZWwuZWRpdGFibGVJdGVtQ2hhbmdlZC5hZGQoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaW5pdCh2YWx1ZSk7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLmdldE1vZGlmaWVyVGl0bGUgPSBmdW5jdGlvbihtb2RpZmllcikge1xuICAgICAgICByZXR1cm4gbW9kaWZpZXIuZGF0YS50aXRsZSArIChtb2RpZmllci5kYXRhLnByaWNlID4gMCA/XG4gICAgICAgICAgICAnICgrJyArIFNoZWxsTWFuYWdlci5mb3JtYXRQcmljZShtb2RpZmllci5kYXRhLnByaWNlKSArICcpJyA6XG4gICAgICAgICAgICAgICcnXG4gICAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5sZWZ0QnV0dG9uQ2xpY2sgPSBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgcmVzdWx0ID0gKGN1cnJlbnRJbmRleCA+IDApID8gKCRzY29wZS5wcmV2aW91c0NhdGVnb3J5KCkpIDogJHNjb3BlLmV4aXQoKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5sZWZ0QnV0dG9uVGV4dCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiAoY3VycmVudEluZGV4ID4gMCkgPyAnQmFjaycgOiAnRXhpdCc7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuc2hvd0xlZnRCdXR0b24gPSBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gKGN1cnJlbnRJbmRleCA+IDApO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnJpZ2h0QnV0dG9uQ2xpY2sgPSBmdW5jdGlvbigpe1xuICAgICAgICAvL01ha2Ugc3VyZSBQaWNrIDEgbW9kaWZpZXIgY2F0ZWdvcmllcyBoYXZlIG1ldCB0aGUgc2VsZWN0aW9uIGNvbmRpdGlvbi5cbiAgICAgICAgaWYoJHNjb3BlLmVudHJ5Lm1vZGlmaWVyc1tjdXJyZW50SW5kZXhdLmRhdGEuc2VsZWN0aW9uID09PSAxKSB7XG4gICAgICAgICAgdmFyIG51bVNlbGVjdGVkID0gMDtcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmVudHJ5Lm1vZGlmaWVyc1tjdXJyZW50SW5kZXhdLm1vZGlmaWVycywgZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgaWYgKG0uaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICBudW1TZWxlY3RlZCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYobnVtU2VsZWN0ZWQgIT09IDEpIHtcbiAgICAgICAgICAgIC8vVE9ETzogQWRkIG1vZGFsIHBvcHVwLiBNdXN0IG1ha2UgMSBzZWxlY3Rpb24hXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICgkc2NvcGUuaGFzTmV4dENhdGVnb3J5KSA/ICRzY29wZS5uZXh0Q2F0ZWdvcnkoKSA6ICRzY29wZS5kb25lKCk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUucmlnaHRCdXR0b25UZXh0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuICgkc2NvcGUuaGFzTmV4dENhdGVnb3J5KSA/ICdOZXh0JyA6ICdEb25lJztcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5zaG93UmlnaHRCdXR0b24gPSBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gKCRzY29wZS5oYXNOZXh0Q2F0ZWdvcnkpO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnByZXZpb3VzQ2F0ZWdvcnkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY3VycmVudEluZGV4LS07XG4gICAgICAgIHJlZnJlc2hOYXZpZ2F0aW9uKCk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUubmV4dENhdGVnb3J5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGN1cnJlbnRJbmRleCsrO1xuICAgICAgICByZWZyZXNoTmF2aWdhdGlvbigpO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnVwZGF0ZU1vZGlmaWVycyA9IGZ1bmN0aW9uKGNhdGVnb3J5LCBtb2RpZmllcikge1xuICAgICAgICBtb2RpZmllci5pc1NlbGVjdGVkID0gIW1vZGlmaWVyLmlzU2VsZWN0ZWQ7XG5cbiAgICAgICAgaWYgKG1vZGlmaWVyLmlzU2VsZWN0ZWQgJiYgY2F0ZWdvcnkuZGF0YS5zZWxlY3Rpb24gPT09IDEpIHtcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goY2F0ZWdvcnkubW9kaWZpZXJzLCBmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICBtLmlzU2VsZWN0ZWQgPSBtID09PSBtb2RpZmllcjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnN1Ym1pdENoYW5nZXMgPSBmdW5jdGlvbigpe1xuICAgICAgICBPcmRlck1hbmFnZXIucmVtb3ZlRnJvbUNhcnQoJHNjb3BlLmVudHJ5KTtcbiAgICAgICAgT3JkZXJNYW5hZ2VyLmFkZFRvQ2FydCgkc2NvcGUuZW50cnkpO1xuICAgICAgICAkc2NvcGUuZXhpdCgpO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLmRvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKENhcnRNb2RlbC5lZGl0YWJsZUl0ZW1OZXcpIHtcbiAgICAgICAgICBPcmRlck1hbmFnZXIuYWRkVG9DYXJ0KENhcnRNb2RlbC5lZGl0YWJsZUl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLmV4aXQoKTtcbiAgICAgICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSB0cnVlO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLmV4aXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgQ2FydE1vZGVsLmNsb3NlRWRpdG9yKCk7XG4gICAgICB9O1xuICAgIH1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvZ2FsYXhpZXMvbWVudS5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignR2FsYXhpZXNNZW51Q3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0RhdGFNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ1NoZWxsTWFuYWdlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBEYXRhTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIFNoZWxsTWFuYWdlcikgPT4ge1xuXG4gICRzY29wZS5nb0JhY2sgPSAoKSA9PiBOYXZpZ2F0aW9uTWFuYWdlci5nb0JhY2soKTtcblxuICB2YXIgTWVudUxpc3QgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByb3dzID0gdGhpcy5wcm9wcy50aWxlcy5tYXAoKHRpbGUsIGkpID0+IHtcbiAgICAgICAgdmFyIGJhY2tncm91bmQgPSBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwodGlsZS5pbWFnZSwgNDcwLCA0MTApO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFJlYWN0LkRPTS50ZCh7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICd0aWxlIHRpbGUtcmVndWxhcicsXG4gICAgICAgICAgICBrZXk6IGlcbiAgICAgICAgICB9LCBSZWFjdC5ET00uYSh7XG4gICAgICAgICAgICBvbkNsaWNrOiBlID0+IHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHRpbGUuZGVzdGluYXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBiYWNrZ3JvdW5kID8gJ3VybChcIicgKyBiYWNrZ3JvdW5kICsgJ1wiKScgOiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKG51bGwsIHRpbGUudGl0bGUpXG4gICAgICAgICAgKSlcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAucmVkdWNlKChyZXN1bHQsIHZhbHVlLCBpKSA9PiB7XG4gICAgICAgIHJlc3VsdFtpICUgMl0ucHVzaCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LCBbW10sIFtdXSlcbiAgICAgIC5tYXAoKHJvdywgaSkgPT4gUmVhY3QuRE9NLnRyKHsga2V5OiBpIH0sIHJvdykpO1xuXG4gICAgICByZXR1cm4gUmVhY3QuRE9NLnRhYmxlKHtcbiAgICAgICAgY2xhc3NOYW1lOiAndGlsZS10YWJsZSdcbiAgICAgIH0sIHJvd3MpO1xuICAgIH1cbiAgfSk7XG5cbiAgRGF0YU1hbmFnZXIubWVudUNoYW5nZWQuYWRkKG1lbnUgPT4ge1xuICAgIGlmICghbWVudSkge1xuICAgICAgcmV0dXJuICR0aW1lb3V0KCgpID0+ICRzY29wZS5tZW51ID0gbnVsbCk7XG4gICAgfVxuXG4gICAgdmFyIHRpbGVzID0gbWVudS5jYXRlZ29yaWVzXG4gICAgICAubWFwKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgbGV0IGRlc3RpbmF0aW9uID0ge1xuICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsXG4gICAgICAgICAgdG9rZW46IGNhdGVnb3J5LnRva2VuXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aXRsZTogY2F0ZWdvcnkudGl0bGUsXG4gICAgICAgICAgaW1hZ2U6IGNhdGVnb3J5LmltYWdlLFxuICAgICAgICAgIHVybDogJyMnICsgTmF2aWdhdGlvbk1hbmFnZXIuZ2V0UGF0aChkZXN0aW5hdGlvbiksXG4gICAgICAgICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgIFJlYWN0LnJlbmRlcihcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudUxpc3QsIHsgdGlsZXM6IHRpbGVzIH0pLFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2UtbWVudS1jb250ZW50JylcbiAgICApO1xuXG4gICAgJHNjb3BlLm1lbnUgPSBtZW51O1xuICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS4kYXBwbHkoKSk7XG4gIH0pO1xuXG4gIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uQ2hhbmdpbmcuYWRkKGxvY2F0aW9uID0+IHtcbiAgICBEYXRhTWFuYWdlci5tZW51ID0gbG9jYXRpb24udHlwZSA9PT0gJ21lbnUnID8gbG9jYXRpb24udG9rZW4gOiB1bmRlZmluZWQ7XG4gICAgJHNjb3BlLnZpc2libGUgPSBCb29sZWFuKERhdGFNYW5hZ2VyLm1lbnUpO1xuICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS4kYXBwbHkoKSk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9nYWxheGllcy9uYXZpZ2F0aW9uLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdHYWxheGllc05hdmlnYXRpb25DdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnQWN0aXZpdHlNb25pdG9yJywgJ0N1c3RvbWVyTWFuYWdlcicsICdBbmFseXRpY3NNb2RlbCcsICdDYXJ0TW9kZWwnLCAnU2hlbGxNYW5hZ2VyJywgJ0RhdGFNYW5hZ2VyJywgJ0RhdGFNb2RlbCcsICdEaWFsb2dNYW5hZ2VyJywgJ0xvY2F0aW9uTW9kZWwnLCAnTWFuYWdlbWVudFNlcnZpY2UnLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJywgJ0NvbW1hbmRDbG9zZVRhYmxlJywgJ0NvbW1hbmRTdWJtaXRPcmRlcicsICdDb21tYW5kRmxpcFNjcmVlbicsICdXZWJCcm93c2VyJywgJ1NOQVBFbnZpcm9ubWVudCcsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBBY3Rpdml0eU1vbml0b3IsIEN1c3RvbWVyTWFuYWdlciwgQW5hbHl0aWNzTW9kZWwsIENhcnRNb2RlbCwgU2hlbGxNYW5hZ2VyLCBEYXRhTWFuYWdlciwgRGF0YU1vZGVsLCBEaWFsb2dNYW5hZ2VyLCBMb2NhdGlvbk1vZGVsLCBNYW5hZ2VtZW50U2VydmljZSwgTmF2aWdhdGlvbk1hbmFnZXIsIE9yZGVyTWFuYWdlciwgQ29tbWFuZENsb3NlVGFibGUsIENvbW1hbmRTdWJtaXRPcmRlciwgQ29tbWFuZEZsaXBTY3JlZW4sIFdlYkJyb3dzZXIsIFNOQVBFbnZpcm9ubWVudCkgPT4ge1xuXG4gICRzY29wZS5tZW51cyA9IFtdO1xuXG4gIERhdGFNb2RlbC5ob21lKCkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBsb2NhdGlvbiA9IE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uLFxuICAgICAgICBsaW1pdCA9IFNOQVBFbnZpcm9ubWVudC5wbGF0Zm9ybSA9PT0gJ2Rlc2t0b3AnID8gNCA6IDM7XG5cbiAgICAkc2NvcGUubWVudXMgPSByZXNwb25zZS5tZW51c1xuICAgICAgLmZpbHRlcihtZW51ID0+IFNOQVBFbnZpcm9ubWVudC5wbGF0Zm9ybSA9PT0gJ2Rlc2t0b3AnIHx8IG1lbnUudHlwZSAhPT0gMylcbiAgICAgIC5maWx0ZXIoKG1lbnUsIGkpID0+IGkgPCBsaW1pdClcbiAgICAgIC5tYXAobWVudSA9PiB7XG4gICAgICAgIGxldCBkZXN0aW5hdGlvbiA9IHtcbiAgICAgICAgICB0eXBlOiAnbWVudScsXG4gICAgICAgICAgdG9rZW46IG1lbnUudG9rZW5cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0b2tlbjogbWVudS50b2tlbixcbiAgICAgICAgICB0aXRsZTogbWVudS50aXRsZSxcbiAgICAgICAgICB1cmw6ICcjJyArIE5hdmlnYXRpb25NYW5hZ2VyLmdldFBhdGgoZGVzdGluYXRpb24pLFxuICAgICAgICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcbiAgICAgICAgICBzZWxlY3RlZDogbG9jYXRpb24udHlwZSA9PT0gJ21lbnUnICYmIG1lbnUudG9rZW4gPT09IGxvY2F0aW9uLnRva2VuXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgfSk7XG5cbiAgJHNjb3BlLmFkdmVydGlzZW1lbnRDbGljayA9IGl0ZW0gPT4ge1xuICAgIGlmIChpdGVtLmhyZWYpIHtcbiAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAndXJsJywgdXJsOiBpdGVtLmhyZWYudXJsIH07XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5jdXJyZW50QWR2ZXJ0aXNlbWVudDtcblxuICAkc2NvcGUuYWR2ZXJ0aXNlbWVudEltcHJlc3Npb24gPSBpdGVtID0+IHtcbiAgICAkc2NvcGUuY3VycmVudEFkdmVydGlzZW1lbnQgPSBpdGVtO1xuXG4gICAgaWYgKEFjdGl2aXR5TW9uaXRvci5hY3RpdmUgJiYgJHNjb3BlLm1lbnVPcGVuKSB7XG4gICAgICBBbmFseXRpY3NNb2RlbC5sb2dBZHZlcnRpc2VtZW50KHtcbiAgICAgICAgdG9rZW46IGl0ZW0udG9rZW4sXG4gICAgICAgIHR5cGU6ICdpbXByZXNzaW9uJ1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5hZHZlcnRpc2VtZW50cyA9IFtdO1xuXG4gIERhdGFNb2RlbC5hZHZlcnRpc2VtZW50cygpLnRoZW4oZGF0YSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgJHNjb3BlLmFkdmVydGlzZW1lbnRzID0gZGF0YS5taXNjXG4gICAgICAgIC5tYXAoYWQgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzcmM6IFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybChhZC5zcmMsIDMwMCwgMjUwKSxcbiAgICAgICAgICAgIGhyZWY6IGFkLmhyZWYsXG4gICAgICAgICAgICB0eXBlOiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFUeXBlKGFkLnNyYyksXG4gICAgICAgICAgICB0b2tlbjogYWQudG9rZW5cbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgJHNjb3BlLm5hdmlnYXRlSG9tZSA9ICgpID0+IHtcbiAgICBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICRzY29wZS5zZXR0aW5nc09wZW4gPSBmYWxzZTtcbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2hvbWUnIH07XG4gIH07XG5cbiAgJHNjb3BlLm5hdmlnYXRlQmFjayA9ICgpID0+IHtcbiAgICBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICRzY29wZS5zZXR0aW5nc09wZW4gPSBmYWxzZTtcbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5nb0JhY2soKTtcbiAgfTtcblxuICAkc2NvcGUucm90YXRlU2NyZWVuID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgJHNjb3BlLnNldHRpbmdzT3BlbiA9IGZhbHNlO1xuICAgIENvbW1hbmRGbGlwU2NyZWVuKCk7XG4gIH07XG5cbiAgJHNjb3BlLm9wZW5DYXJ0ID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgJHNjb3BlLnNldHRpbmdzT3BlbiA9IGZhbHNlO1xuICAgIENhcnRNb2RlbC5pc0NhcnRPcGVuID0gIUNhcnRNb2RlbC5pc0NhcnRPcGVuO1xuICB9O1xuXG4gICRzY29wZS5zZWF0TmFtZSA9IExvY2F0aW9uTW9kZWwuc2VhdCA/IExvY2F0aW9uTW9kZWwuc2VhdC5uYW1lIDogJ1RhYmxlJztcbiAgTG9jYXRpb25Nb2RlbC5zZWF0Q2hhbmdlZC5hZGQodmFsdWUgPT4gJHRpbWVvdXQoKCkgPT4gJHNjb3BlLnNlYXROYW1lID0gdmFsdWUgPyB2YWx1ZS5uYW1lIDogJ1RhYmxlJykpO1xuXG4gICRzY29wZS5yZXNldFRhYmxlID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgJHNjb3BlLnNldHRpbmdzT3BlbiA9IGZhbHNlO1xuICAgIERpYWxvZ01hbmFnZXIuY29uZmlybShBTEVSVF9UQUJMRV9SRVNFVCkudGhlbigoKSA9PiB7XG4gICAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuICAgICAgQ29tbWFuZENsb3NlVGFibGUoKS50aGVuKCgpID0+IERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYikpO1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5tZW51T3BlbiA9IGZhbHNlO1xuXG4gICRzY29wZS50b2dnbGVNZW51ID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgJHNjb3BlLm1lbnVPcGVuID0gISRzY29wZS5tZW51T3BlbjtcblxuICAgIGlmICgkc2NvcGUuY3VycmVudEFkdmVydGlzZW1lbnQgJiYgJHNjb3BlLm1lbnVPcGVuKSB7XG4gICAgICBBbmFseXRpY3NNb2RlbC5sb2dBZHZlcnRpc2VtZW50KHtcbiAgICAgICAgdG9rZW46ICRzY29wZS5jdXJyZW50QWR2ZXJ0aXNlbWVudC50b2tlbixcbiAgICAgICAgdHlwZTogJ2ltcHJlc3Npb24nXG4gICAgICB9KTtcbiAgICAgICRzY29wZS5jdXJyZW50QWR2ZXJ0aXNlbWVudCA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5zZXR0aW5nc09wZW4gPSBmYWxzZTtcblxuICAkc2NvcGUudG9nZ2xlU2V0dGluZ3MgPSAoKSA9PiB7XG4gICAgQWN0aXZpdHlNb25pdG9yLmFjdGl2aXR5RGV0ZWN0ZWQoKTtcbiAgICAkc2NvcGUuc2V0dGluZ3NPcGVuID0gISRzY29wZS5zZXR0aW5nc09wZW47XG4gIH07XG5cbiAgJHNjb3BlLmVsZW1lbnRzID0gU2hlbGxNYW5hZ2VyLm1vZGVsLmVsZW1lbnRzO1xuICBTaGVsbE1hbmFnZXIubW9kZWwuZWxlbWVudHNDaGFuZ2VkLmFkZCh2YWx1ZSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmVsZW1lbnRzID0gdmFsdWUpO1xuICB9KTtcblxuICAkc2NvcGUuY2FydENvdW50ID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2FydC5sZW5ndGg7XG4gIE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNhcnRDaGFuZ2VkLmFkZChjYXJ0ID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuY2FydENvdW50ID0gY2FydC5sZW5ndGgpO1xuICB9KTtcblxuICAkc2NvcGUuY2hlY2tvdXRFbmFibGVkID0gQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZDtcblxuICAkc2NvcGUudG90YWxPcmRlciA9IE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNoZWNrO1xuICBPcmRlck1hbmFnZXIubW9kZWwub3JkZXJDaGVja0NoYW5nZWQuYWRkKHZhbHVlID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUudG90YWxPcmRlciA9IHZhbHVlKTtcbiAgfSk7XG5cbiAgJHNjb3BlLnJlcXVlc3RBc3Npc3RhbmNlID0gKCkgPT4ge1xuICAgIGlmICghJHNjb3BlLnJlcXVlc3RBc3Npc3RhbmNlQXZhaWxhYmxlKXtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICRzY29wZS5zZXR0aW5nc09wZW4gPSBmYWxzZTtcblxuICAgIERpYWxvZ01hbmFnZXIuY29uZmlybShBTEVSVF9UQUJMRV9BU1NJU1RBTkNFKS50aGVuKCgpID0+IHtcbiAgICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICAgIE9yZGVyTWFuYWdlci5yZXF1ZXN0QXNzaXN0YW5jZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfQVNTSVNUQU5DRV9TRU5UKTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgcmVmcmVzaEFzc2lzdGFuY2VSZXF1ZXN0ID0gKCkgPT4ge1xuICAgICRzY29wZS5yZXF1ZXN0QXNzaXN0YW5jZUF2YWlsYWJsZSA9ICFCb29sZWFuKE9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdCk7XG4gIH07XG4gIE9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdENoYW5nZWQuYWRkKHJlZnJlc2hBc3Npc3RhbmNlUmVxdWVzdCk7XG4gIHJlZnJlc2hBc3Npc3RhbmNlUmVxdWVzdCgpO1xuXG4gICRzY29wZS5zdWJtaXRPcmRlciA9ICgpID0+IHtcbiAgICBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICRzY29wZS5zZXR0aW5nc09wZW4gPSBmYWxzZTtcblxuICAgIENvbW1hbmRTdWJtaXRPcmRlcigpO1xuICB9O1xuXG4gICRzY29wZS52aWV3T3JkZXIgPSAoKSA9PiB7XG4gICAgQWN0aXZpdHlNb25pdG9yLmFjdGl2aXR5RGV0ZWN0ZWQoKTtcbiAgICAkc2NvcGUuc2V0dGluZ3NPcGVuID0gZmFsc2U7XG5cbiAgICBpZiAoQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZCAmJiAhQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9TSUdOSU5fUkVRVUlSRUQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIENhcnRNb2RlbC5jYXJ0U3RhdGUgPSBDYXJ0TW9kZWwuU1RBVEVfQ0FSVDtcbiAgICBDYXJ0TW9kZWwuaXNDYXJ0T3BlbiA9IHRydWU7XG4gIH07XG5cbiAgJHNjb3BlLnBheUJpbGwgPSAoKSA9PiB7XG4gICAgQWN0aXZpdHlNb25pdG9yLmFjdGl2aXR5RGV0ZWN0ZWQoKTtcbiAgICAkc2NvcGUuc2V0dGluZ3NPcGVuID0gZmFsc2U7XG5cbiAgICBpZiAoQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZCAmJiAhQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9TSUdOSU5fUkVRVUlSRUQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIENhcnRNb2RlbC5jYXJ0U3RhdGUgPSBDYXJ0TW9kZWwuU1RBVEVfSElTVE9SWTtcbiAgICBDYXJ0TW9kZWwuaXNDYXJ0T3BlbiA9IHRydWU7XG4gIH07XG5cbiAgJHNjb3BlLmN1c3RvbWVyTmFtZSA9IEN1c3RvbWVyTWFuYWdlci5jdXN0b21lck5hbWU7XG4gIEN1c3RvbWVyTWFuYWdlci5tb2RlbC5wcm9maWxlQ2hhbmdlZC5hZGQoKCkgPT4ge1xuICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS5jdXN0b21lck5hbWUgPSBDdXN0b21lck1hbmFnZXIuY3VzdG9tZXJOYW1lKTtcbiAgfSk7XG5cbiAgJHNjb3BlLnNldHRpbmdzID0ge1xuICAgIGRpc3BsYXlCcmlnaHRuZXNzOiAxMDAsXG4gICAgc291bmRWb2x1bWU6IDEwMFxuICB9O1xuXG4gIE1hbmFnZW1lbnRTZXJ2aWNlLmdldFNvdW5kVm9sdW1lKCkudGhlbihcbiAgICB2YWx1ZSA9PiAkdGltZW91dCgoKSA9PiB7XG4gICAgICAkc2NvcGUuc2V0dGluZ3Muc291bmRWb2x1bWUgPSB2YWx1ZTtcblxuICAgICAgJHNjb3BlLiR3YXRjaCgnc2V0dGluZ3Muc291bmRWb2x1bWUnLCAodmFsdWUsIG9sZCkgPT4ge1xuICAgICAgICBpZiAoIXZhbHVlIHx8IHZhbHVlID09PSBvbGQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YWx1ZSA9IHBhcnNlSW50KHZhbHVlKTtcblxuICAgICAgICBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICAgICBNYW5hZ2VtZW50U2VydmljZS5zZXRTb3VuZFZvbHVtZSh2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9KSxcbiAgICBlID0+IHsgfVxuICApO1xuXG4gIE1hbmFnZW1lbnRTZXJ2aWNlLmdldERpc3BsYXlCcmlnaHRuZXNzKCkudGhlbihcbiAgICB2YWx1ZSA9PiAkdGltZW91dCgoKSA9PiB7XG4gICAgICAkc2NvcGUuc2V0dGluZ3MuZGlzcGxheUJyaWdodG5lc3MgPSB2YWx1ZTtcblxuICAgICAgJHNjb3BlLiR3YXRjaCgnc2V0dGluZ3MuZGlzcGxheUJyaWdodG5lc3MnLCAodmFsdWUsIG9sZCkgPT4ge1xuICAgICAgICBpZiAoIXZhbHVlIHx8IHZhbHVlID09PSBvbGQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YWx1ZSA9IHBhcnNlSW50KHZhbHVlKTtcblxuICAgICAgICBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICAgICBNYW5hZ2VtZW50U2VydmljZS5zZXREaXNwbGF5QnJpZ2h0bmVzcyh2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9KSxcbiAgICBlID0+IHsgfVxuICApO1xuXG4gICRzY29wZS5uYXZpZ2F0ZSA9IGRlc3RpbmF0aW9uID0+IE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0gZGVzdGluYXRpb247XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2luZy5hZGQobG9jYXRpb24gPT4ge1xuICAgICRzY29wZS52aXNpYmxlID0gbG9jYXRpb24udHlwZSAhPT0gJ3NpZ25pbic7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLiRhcHBseSgpKTtcbiAgfSk7XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2VkLmFkZChsb2NhdGlvbiA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKGxvY2F0aW9uLnR5cGUgIT09ICdjYXRlZ29yeScgJiYgbG9jYXRpb24udHlwZSAhPT0gJ2l0ZW0nKSB7XG4gICAgICAgICRzY29wZS5tZW51cy5mb3JFYWNoKG1lbnUgPT4ge1xuICAgICAgICAgIG1lbnUuc2VsZWN0ZWQgPSAobG9jYXRpb24udHlwZSA9PT0gJ21lbnUnICYmIG1lbnUudG9rZW4gPT09IGxvY2F0aW9uLnRva2VuKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgICRzY29wZS5tZW51T3BlbiA9IGZhbHNlO1xuICAgICAgJHNjb3BlLnNldHRpbmdzT3BlbiA9IGZhbHNlO1xuICAgIH0pO1xuICB9KTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvaG9tZS5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignSG9tZUJhc2VDdHJsJywgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnRGF0YU1hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCBmdW5jdGlvbigkc2NvcGUsICR0aW1lb3V0LCBEYXRhTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIpIHtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0hvbWVDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnQ2hhdE1hbmFnZXInLCAnRGF0YU1vZGVsJywgJ1NoZWxsTWFuYWdlcicsICdDdXN0b21lck1hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJywgJ0RpYWxvZ01hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnTG9jYXRpb25Nb2RlbCcsICdTdXJ2ZXlNYW5hZ2VyJywgJ1NOQVBMb2NhdGlvbicsICdTTkFQRW52aXJvbm1lbnQnLCAnQ29tbWFuZENsb3NlVGFibGUnLFxuICAoJHNjb3BlLCAkdGltZW91dCwgQ2hhdE1hbmFnZXIsIERhdGFNb2RlbCwgU2hlbGxNYW5hZ2VyLCBDdXN0b21lck1hbmFnZXIsIE9yZGVyTWFuYWdlciwgRGlhbG9nTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIExvY2F0aW9uTW9kZWwsIFN1cnZleU1hbmFnZXIsIFNOQVBMb2NhdGlvbiwgU05BUEVudmlyb25tZW50LCBDb21tYW5kQ2xvc2VUYWJsZSkgPT4ge1xuXG4gIHZhciBIb21lTWVudSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFsgUmVhY3QuRE9NLnRkKHsga2V5OiAtMSB9KSBdO1xuXG4gICAgICB2YXIgcm93cyA9IHRoaXMucHJvcHMudGlsZXMubWFwKCh0aWxlLCBpKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgUmVhY3QuRE9NLnRkKHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2hvbWUtbWVudS1pdGVtJyxcbiAgICAgICAgICAgIGtleTogaVxuICAgICAgICAgIH0sIFJlYWN0LkRPTS5hKHtcbiAgICAgICAgICAgIG9uQ2xpY2s6IGUgPT4ge1xuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0gdGlsZS5kZXN0aW5hdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgICAgUmVhY3QuRE9NLmltZyh7XG4gICAgICAgICAgICAgIHNyYzogU2hlbGxNYW5hZ2VyLmdldE1lZGlhVXJsKHRpbGUuaW1hZ2UsIDE2MCwgMTYwKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApKVxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQocm93cyk7XG4gICAgICByZXN1bHQucHVzaChSZWFjdC5ET00udGQoeyBrZXk6IHJlc3VsdC5sZW5ndGggfSkpO1xuXG4gICAgICByZXR1cm4gUmVhY3QuRE9NLnRhYmxlKG51bGwsIHJlc3VsdCk7XG4gICAgfVxuICB9KTtcblxuICBEYXRhTW9kZWwuaG9tZSgpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGlsZXMgPSBbXTtcblxuICAgIHJlc3BvbnNlLm1lbnVzXG4gICAgLmZpbHRlcihtZW51ID0+IFNOQVBFbnZpcm9ubWVudC5wbGF0Zm9ybSA9PT0gJ2Rlc2t0b3AnIHx8IG1lbnUudHlwZSAhPT0gMylcbiAgICAucmVkdWNlKCh0aWxlcywgbWVudSkgPT4ge1xuICAgICAgaWYgKG1lbnUucHJvbW9zICYmIG1lbnUucHJvbW9zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbWVudS5wcm9tb3NcbiAgICAgICAgLmZpbHRlcihwcm9tbyA9PiBTTkFQRW52aXJvbm1lbnQucGxhdGZvcm0gPT09ICdkZXNrdG9wJyB8fCBwcm9tby50eXBlICE9PSAzKVxuICAgICAgICAuZm9yRWFjaChwcm9tbyA9PiB7XG4gICAgICAgICAgdGlsZXMucHVzaCh7XG4gICAgICAgICAgICB0aXRsZTogcHJvbW8udGl0bGUsXG4gICAgICAgICAgICBpbWFnZTogcHJvbW8uaW1hZ2UsXG4gICAgICAgICAgICB1cmw6ICcjJyArIE5hdmlnYXRpb25NYW5hZ2VyLmdldFBhdGgocHJvbW8uZGVzdGluYXRpb24pLFxuICAgICAgICAgICAgZGVzdGluYXRpb246IHByb21vLmRlc3RpbmF0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxldCBkZXN0aW5hdGlvbiA9IHtcbiAgICAgICAgICB0eXBlOiAnbWVudScsXG4gICAgICAgICAgdG9rZW46IG1lbnUudG9rZW5cbiAgICAgICAgfTtcblxuICAgICAgICB0aWxlcy5wdXNoKHtcbiAgICAgICAgICB0aXRsZTogbWVudS50aXRsZSxcbiAgICAgICAgICBpbWFnZTogbWVudS5pbWFnZSxcbiAgICAgICAgICB1cmw6ICcjJyArIE5hdmlnYXRpb25NYW5hZ2VyLmdldFBhdGgoZGVzdGluYXRpb24pLFxuICAgICAgICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRpbGVzO1xuICAgIH0sIHRpbGVzKTtcblxuICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgIFJlYWN0LnJlbmRlcihcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChIb21lTWVudSwgeyB0aWxlczogdGlsZXMgfSksXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdob21lLW1lbnUtbWFpbicpXG4gICAgICApO1xuICAgIH0sIDEwMDApO1xuICB9KTtcblxuICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbkNoYW5naW5nLmFkZChsb2NhdGlvbiA9PiB7XG4gICAgJHNjb3BlLnZpc2libGUgPSBsb2NhdGlvbi50eXBlID09PSAnaG9tZSc7XG4gICAgJHRpbWVvdXQoKCkgPT4geyAkc2NvcGUuJGFwcGx5KCk7IH0pO1xuICB9KTtcblxuICAkc2NvcGUucHJlbG9hZCA9IGRlc3RpbmF0aW9uID0+IHtcbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IGRlc3RpbmF0aW9uO1xuICB9O1xuXG4gICRzY29wZS5nZXRNZWRpYVVybCA9IChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKSA9PiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwobWVkaWEsIHdpZHRoLCBoZWlnaHQsIGV4dGVuc2lvbik7XG4gICRzY29wZS5wcmVkaWNhdGVFdmVuID0gU2hlbGxNYW5hZ2VyLnByZWRpY2F0ZUV2ZW47XG4gICRzY29wZS5wcmVkaWNhdGVPZGQgPSBTaGVsbE1hbmFnZXIucHJlZGljYXRlT2RkO1xuXG4gICRzY29wZS5zZWF0X25hbWUgPSBMb2NhdGlvbk1vZGVsLnNlYXQgPyBMb2NhdGlvbk1vZGVsLnNlYXQubmFtZSA6ICdUYWJsZSc7XG4gIExvY2F0aW9uTW9kZWwuc2VhdENoYW5nZWQuYWRkKHZhbHVlID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAkc2NvcGUuc2VhdF9uYW1lID0gdmFsdWUgPyB2YWx1ZS5uYW1lIDogJ1RhYmxlJztcbiAgICB9KTtcbiAgfSk7XG5cbiAgJHNjb3BlLmN1c3RvbWVyX25hbWUgPSBDdXN0b21lck1hbmFnZXIuY3VzdG9tZXJOYW1lO1xuICBDdXN0b21lck1hbmFnZXIubW9kZWwucHJvZmlsZUNoYW5nZWQuYWRkKCgpID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuY3VzdG9tZXJfbmFtZSA9IEN1c3RvbWVyTWFuYWdlci5jdXN0b21lck5hbWUpO1xuICB9KTtcblxuICAkc2NvcGUuZWxlbWVudHMgPSBTaGVsbE1hbmFnZXIubW9kZWwuZWxlbWVudHM7XG4gIFNoZWxsTWFuYWdlci5tb2RlbC5lbGVtZW50c0NoYW5nZWQuYWRkKHZhbHVlID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuZWxlbWVudHMgPSB2YWx1ZSk7XG4gIH0pO1xuXG4gIHZhciByZWZyZXNoQXNzaXN0YW5jZVJlcXVlc3QgPSAoKSA9PiB7XG4gICAgJHNjb3BlLnJlcXVlc3RBc3Npc3RhbmNlQXZhaWxhYmxlID0gIUJvb2xlYW4oT3JkZXJNYW5hZ2VyLm1vZGVsLmFzc2lzdGFuY2VSZXF1ZXN0KTtcbiAgfTtcbiAgdmFyIHJlZnJlc2hDbG9zZW91dFJlcXVlc3QgPSAoKSA9PiB7XG4gICAgJHNjb3BlLnJlcXVlc3RDbG9zZW91dEF2YWlsYWJsZSA9ICFCb29sZWFuKE9yZGVyTWFuYWdlci5tb2RlbC5jbG9zZW91dFJlcXVlc3QpO1xuICB9O1xuICB2YXIgcmVmcmVzaFN1cnZleSA9ICgpID0+IHtcbiAgICAkc2NvcGUuc3VydmV5QXZhaWxhYmxlID0gU3VydmV5TWFuYWdlci5tb2RlbC5pc0VuYWJsZWQgJiYgU3VydmV5TWFuYWdlci5tb2RlbC5mZWVkYmFja1N1cnZleSAmJiAhU3VydmV5TWFuYWdlci5tb2RlbC5mZWVkYmFja1N1cnZleUNvbXBsZXRlO1xuICB9O1xuICBPcmRlck1hbmFnZXIubW9kZWwuYXNzaXN0YW5jZVJlcXVlc3RDaGFuZ2VkLmFkZChyZWZyZXNoQXNzaXN0YW5jZVJlcXVlc3QpO1xuICBPcmRlck1hbmFnZXIubW9kZWwuY2xvc2VvdXRSZXF1ZXN0Q2hhbmdlZC5hZGQocmVmcmVzaENsb3Nlb3V0UmVxdWVzdCk7XG4gIFN1cnZleU1hbmFnZXIubW9kZWwuZmVlZGJhY2tTdXJ2ZXlDaGFuZ2VkLmFkZChyZWZyZXNoU3VydmV5KTtcbiAgU3VydmV5TWFuYWdlci5tb2RlbC5zdXJ2ZXlDb21wbGV0ZWQuYWRkKHJlZnJlc2hTdXJ2ZXkpO1xuICByZWZyZXNoQXNzaXN0YW5jZVJlcXVlc3QoKTtcbiAgcmVmcmVzaENsb3Nlb3V0UmVxdWVzdCgpO1xuICByZWZyZXNoU3VydmV5KCk7XG5cbiAgJHNjb3BlLmNoYXRBdmFpbGFibGUgPSBCb29sZWFuKFNOQVBMb2NhdGlvbi5jaGF0KTtcblxuICAkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2UgPSAoKSA9PiB7XG4gICAgaWYgKCEkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2VBdmFpbGFibGUpe1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIERpYWxvZ01hbmFnZXIuY29uZmlybShBTEVSVF9UQUJMRV9BU1NJU1RBTkNFKS50aGVuKCgpID0+IHtcbiAgICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICAgIE9yZGVyTWFuYWdlci5yZXF1ZXN0QXNzaXN0YW5jZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfQVNTSVNUQU5DRV9TRU5UKTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUucmVxdWVzdENsb3Nlb3V0ID0gKCkgPT4ge1xuICAgIGlmICghJHNjb3BlLnJlcXVlc3RDbG9zZW91dEF2YWlsYWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIERpYWxvZ01hbmFnZXIuY29uZmlybShBTEVSVF9UQUJMRV9DTE9TRU9VVCkudGhlbigoKSA9PiB7XG4gICAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgICBPcmRlck1hbmFnZXIucmVxdWVzdENsb3Nlb3V0KCkudGhlbigoKSA9PiB7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9DTE9TRU9VVF9TRU5UKTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUub3BlblN1cnZleSA9ICgpID0+IHtcbiAgICBpZiAoISRzY29wZS5zdXJ2ZXlBdmFpbGFibGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ3N1cnZleScgfTtcbiAgfTtcblxuICAkc2NvcGUuc2VhdENsaWNrZWQgPSAoKSA9PiB7XG4gICAgRGlhbG9nTWFuYWdlci5jb25maXJtKEFMRVJUX1RBQkxFX1JFU0VUKS50aGVuKCgpID0+IHtcbiAgICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG4gICAgICBDb21tYW5kQ2xvc2VUYWJsZSgpLnRoZW4oKCkgPT4gRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKSk7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLmN1c3RvbWVyQ2xpY2tlZCA9ICgpID0+IHtcbiAgICBpZiAoIUN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0VuYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCAmJiAhQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzR3Vlc3QpIHtcbiAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnYWNjb3VudCcgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1NJR05JTl9SRVFVSVJFRCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5vcGVuQ2hhdCA9ICgpID0+IHtcbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2NoYXQnIH07XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2l0ZW0uanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0l0ZW1CYXNlQ3RybCcsXG4gIFsnJHNjb3BlJywgKCRzY29wZSkgPT4ge1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignSXRlbUN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdBbmFseXRpY3NNb2RlbCcsICdDdXN0b21lck1vZGVsJywgJ0RhdGFNYW5hZ2VyJywgJ0RpYWxvZ01hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJywgJ0NhcnRNb2RlbCcsICdMb2NhdGlvbk1vZGVsJywgJ1NoZWxsTWFuYWdlcicsICdTTkFQRW52aXJvbm1lbnQnLCAnQ2hhdE1hbmFnZXInLFxuICAoJHNjb3BlLCAkdGltZW91dCwgQW5hbHl0aWNzTW9kZWwsIEN1c3RvbWVyTW9kZWwsIERhdGFNYW5hZ2VyLCBEaWFsb2dNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgT3JkZXJNYW5hZ2VyLCBDYXJ0TW9kZWwsIExvY2F0aW9uTW9kZWwsIFNoZWxsTWFuYWdlciwgU05BUEVudmlyb25tZW50LCBDaGF0TWFuYWdlcikgPT4ge1xuXG4gIHZhciBJdGVtSW1hZ2UgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBSZWFjdC5ET00uaW1nKHtcbiAgICAgICAgc3JjOiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwodGhpcy5wcm9wcy5tZWRpYSwgNjAwLCA2MDApXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uQ2hhbmdpbmcuYWRkKGxvY2F0aW9uID0+IHtcbiAgICBEYXRhTWFuYWdlci5pdGVtID0gbG9jYXRpb24udHlwZSA9PT0gJ2l0ZW0nID8gbG9jYXRpb24udG9rZW4gOiB1bmRlZmluZWQ7XG4gICAgJHNjb3BlLnZpc2libGUgPSBCb29sZWFuKERhdGFNYW5hZ2VyLml0ZW0pO1xuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkgeyAkc2NvcGUuJGFwcGx5KCk7IH0pO1xuICB9KTtcblxuICBEYXRhTWFuYWdlci5pdGVtQ2hhbmdlZC5hZGQocmVzcG9uc2UgPT4ge1xuICAgIGlmICghcmVzcG9uc2UgJiYgKCRzY29wZS53ZWJzaXRlVXJsIHx8ICRzY29wZS5mbGFzaFVybCkpIHtcbiAgICAgIFdlYkJyb3dzZXIuY2xvc2UoKTtcbiAgICB9XG5cbiAgICAkc2NvcGUud2Vic2l0ZVVybCA9IG51bGw7XG4gICAgJHNjb3BlLmZsYXNoVXJsID0gbnVsbDtcblxuICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgICRzY29wZS5lbnRyeSA9IG51bGw7XG5cbiAgICAgIGlmICgkc2NvcGUudHlwZSA9PT0gMSkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXRlbS1waG90bycpLmlubmVySFRNTCA9ICcnO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUudHlwZSA9IDE7XG4gICAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuJGFwcGx5KCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB0eXBlID0gcmVzcG9uc2UudHlwZTtcblxuICAgIGlmICh0eXBlID09PSAyICYmIHJlc3BvbnNlLndlYnNpdGUpIHtcbiAgICAgICRzY29wZS53ZWJzaXRlVXJsID0gcmVzcG9uc2Uud2Vic2l0ZS51cmw7XG4gICAgICBXZWJCcm93c2VyLm9wZW4oJHNjb3BlLndlYnNpdGVVcmwpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSAzICYmIHJlc3BvbnNlLmZsYXNoKSB7XG4gICAgICB2YXIgdXJsID0gJy9mbGFzaCN1cmw9JyArIGVuY29kZVVSSUNvbXBvbmVudChnZXRNZWRpYVVybChyZXNwb25zZS5mbGFzaC5tZWRpYSwgMCwgMCwgJ3N3ZicpKSArXG4gICAgICAgICcmd2lkdGg9JyArIGVuY29kZVVSSUNvbXBvbmVudChyZXNwb25zZS5mbGFzaC53aWR0aCkgK1xuICAgICAgICAnJmhlaWdodD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHJlc3BvbnNlLmZsYXNoLmhlaWdodCk7XG4gICAgICAkc2NvcGUuZmxhc2hVcmwgPSBTaGVsbE1hbmFnZXIuZ2V0QXBwVXJsKHVybCk7XG4gICAgICBXZWJCcm93c2VyLm9wZW4oJHNjb3BlLmZsYXNoVXJsKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gMSkge1xuICAgICAgJHNjb3BlLmVudHJ5ID0gbmV3IGFwcC5DYXJ0SXRlbShyZXNwb25zZSwgMSk7XG5cbiAgICAgIFJlYWN0LnJlbmRlcihcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChJdGVtSW1hZ2UsIHsgbWVkaWE6ICRzY29wZS5lbnRyeS5pdGVtLmltYWdlIH0pLFxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXRlbS1waG90bycpXG4gICAgICApO1xuICAgIH1cblxuICAgICRzY29wZS50eXBlID0gdHlwZTtcbiAgICAkdGltZW91dChmdW5jdGlvbigpIHsgJHNjb3BlLiRhcHBseSgpOyB9KTtcbiAgfSk7XG5cbiAgJHNjb3BlLmdldE1lZGlhVXJsID0gKG1lZGlhLCB3aWR0aCwgaGVpZ2h0LCBleHRlbnNpb24pID0+IFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKTtcbiAgJHNjb3BlLmZvcm1hdFByaWNlID0gdmFsdWUgPT4gdmFsdWUgPyBTaGVsbE1hbmFnZXIuZm9ybWF0UHJpY2UodmFsdWUpIDogMDtcblxuICAkc2NvcGUuYWRkVG9DYXJ0ID0gKCkgPT4ge1xuICAgIGlmIChDdXN0b21lck1vZGVsLmlzRW5hYmxlZCAmJiAhQ3VzdG9tZXJNb2RlbC5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfU0lHTklOX1JFUVVJUkVEKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZW50cnkgPSAkc2NvcGUuZW50cnk7XG5cbiAgICBpZiAoZW50cnkuaGFzTW9kaWZpZXJzKSB7XG4gICAgICBDYXJ0TW9kZWwub3BlbkVkaXRvcihlbnRyeSwgdHJ1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgT3JkZXJNYW5hZ2VyLmFkZFRvQ2FydChlbnRyeSk7XG4gICAgICBDYXJ0TW9kZWwuaXNDYXJ0T3BlbiA9IHRydWU7XG4gICAgfVxuXG4gICAgTmF2aWdhdGlvbk1hbmFnZXIuZ29CYWNrKCk7XG4gIH07XG5cbiAgJHNjb3BlLmNhbmNlbEdpZnQgPSAoKSA9PiBDaGF0TWFuYWdlci5jYW5jZWxHaWZ0KCk7XG5cbiAgJHNjb3BlLmdpZnRTZWF0ID0gTG9jYXRpb25Nb2RlbC5nZXRTZWF0KENoYXRNYW5hZ2VyLm1vZGVsLmdpZnRTZWF0KTtcbiAgQ2hhdE1hbmFnZXIubW9kZWwuZ2lmdFNlYXRDaGFuZ2VkLmFkZCh0b2tlbiA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmdpZnRTZWF0ID0gTG9jYXRpb25Nb2RlbC5nZXRTZWF0KHRva2VuKSk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9pdGVtZWRpdC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignSXRlbUVkaXRDdHJsJyxcbiAgWyckc2NvcGUnLCAnU2hlbGxNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ09yZGVyTWFuYWdlcicsICdDYXJ0TW9kZWwnLFxuICAoJHNjb3BlLCBTaGVsbE1hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyLCBPcmRlck1hbmFnZXIsIENhcnRNb2RlbCkgPT4ge1xuXG4gICRzY29wZS5nZXRNZWRpYVVybCA9IChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKSA9PiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwobWVkaWEsIHdpZHRoLCBoZWlnaHQsIGV4dGVuc2lvbik7XG4gICRzY29wZS5mb3JtYXRQcmljZSA9IHZhbHVlID0+IFNoZWxsTWFuYWdlci5mb3JtYXRQcmljZSh2YWx1ZSk7XG5cbiAgdmFyIGN1cnJlbnRJbmRleCA9IC0xO1xuXG4gIHZhciByZWZyZXNoTmF2aWdhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICgkc2NvcGUuZW50cnkgJiYgJHNjb3BlLmVudHJ5Lmhhc01vZGlmaWVycykge1xuICAgICAgJHNjb3BlLmhhc05leHRDYXRlZ29yeSA9ICRzY29wZS5lbnRyeS5tb2RpZmllcnMubGVuZ3RoID4gMSAmJlxuICAgICAgICBjdXJyZW50SW5kZXggPCAkc2NvcGUuZW50cnkubW9kaWZpZXJzLmxlbmd0aCAtIDE7XG4gICAgICAkc2NvcGUuaGFzUHJldmlvdXNDYXRlZ29yeSA9IGN1cnJlbnRJbmRleCA+IDA7XG4gICAgICAkc2NvcGUuY2F0ZWdvcnkgPSAkc2NvcGUuZW50cnkubW9kaWZpZXJzW2N1cnJlbnRJbmRleF07XG4gICAgICAkc2NvcGUuY2FuRXhpdCA9IENhcnRNb2RlbC5lZGl0YWJsZUl0ZW1OZXc7XG4gICAgICAkc2NvcGUuY2FuRG9uZSA9IHRydWU7XG4gICAgfVxuICB9O1xuXG4gIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uQ2hhbmdpbmcuYWRkKGZ1bmN0aW9uKGxvY2F0aW9uKSB7XG4gICAgaWYgKGxvY2F0aW9uLnR5cGUgIT09ICdtZW51JyAmJiBsb2NhdGlvbi50eXBlICE9PSAnY2F0ZWdvcnknKSB7XG4gICAgICAkc2NvcGUuZXhpdCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgQ2FydE1vZGVsLmlzQ2FydE9wZW5DaGFuZ2VkLmFkZChmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgJHNjb3BlLmV4aXQoKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBpbml0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAkc2NvcGUuZW50cnkgPSB2YWx1ZTtcbiAgICAkc2NvcGUudmlzaWJsZSA9ICRzY29wZS5lbnRyeSAhPSBudWxsO1xuXG4gICAgY3VycmVudEluZGV4ID0gMDtcblxuICAgIHJlZnJlc2hOYXZpZ2F0aW9uKCk7XG4gIH07XG5cbiAgaW5pdChDYXJ0TW9kZWwuZWRpdGFibGVJdGVtKTtcblxuICBDYXJ0TW9kZWwuZWRpdGFibGVJdGVtQ2hhbmdlZC5hZGQoZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpbml0KHZhbHVlKTtcbiAgfSk7XG5cbiAgJHNjb3BlLmdldE1vZGlmaWVyVGl0bGUgPSBmdW5jdGlvbihtb2RpZmllcikge1xuICAgIHJldHVybiBtb2RpZmllci5kYXRhLnRpdGxlICsgKG1vZGlmaWVyLmRhdGEucHJpY2UgPiAwID9cbiAgICAgICcgKCsnICsgU2hlbGxNYW5hZ2VyLmZvcm1hdFByaWNlKG1vZGlmaWVyLmRhdGEucHJpY2UpICsgJyknIDpcbiAgICAgICcnXG4gICAgKTtcbiAgfTtcblxuICAkc2NvcGUubGVmdEJ1dHRvbkNsaWNrID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgcmVzdWx0ID0gKGN1cnJlbnRJbmRleCA+IDApID8gKCRzY29wZS5wcmV2aW91c0NhdGVnb3J5KCkpIDogJHNjb3BlLmV4aXQoKTtcbiAgfTtcblxuICAkc2NvcGUubGVmdEJ1dHRvblRleHQgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiAoY3VycmVudEluZGV4ID4gMCkgPyAnQmFjaycgOiAnRXhpdCc7XG4gIH07XG5cbiAgJHNjb3BlLnJpZ2h0QnV0dG9uQ2xpY2sgPSBmdW5jdGlvbigpe1xuICAgIC8vTWFrZSBzdXJlIFBpY2sgMSBtb2RpZmllciBjYXRlZ29yaWVzIGhhdmUgbWV0IHRoZSBzZWxlY3Rpb24gY29uZGl0aW9uLlxuICAgIGlmKCRzY29wZS5lbnRyeS5tb2RpZmllcnNbY3VycmVudEluZGV4XS5kYXRhLnNlbGVjdGlvbiA9PT0gMSkge1xuICAgICAgdmFyIG51bVNlbGVjdGVkID0gMDtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuZW50cnkubW9kaWZpZXJzW2N1cnJlbnRJbmRleF0ubW9kaWZpZXJzLCBmdW5jdGlvbihtKSB7XG4gICAgICAgIGlmIChtLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICBudW1TZWxlY3RlZCsrO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYobnVtU2VsZWN0ZWQgIT09IDEpIHtcbiAgICAgICAgLy9UT0RPOiBBZGQgbW9kYWwgcG9wdXAuIE11c3QgbWFrZSAxIHNlbGVjdGlvbiFcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciByZXN1bHQgPSAoJHNjb3BlLmhhc05leHRDYXRlZ29yeSkgPyAkc2NvcGUubmV4dENhdGVnb3J5KCkgOiAkc2NvcGUuZG9uZSgpO1xuICB9O1xuXG4gICRzY29wZS5yaWdodEJ1dHRvblRleHQgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiAoJHNjb3BlLmhhc05leHRDYXRlZ29yeSkgPyAnTmV4dCcgOiAnRG9uZSc7XG4gIH07XG5cbiAgJHNjb3BlLnByZXZpb3VzQ2F0ZWdvcnkgPSBmdW5jdGlvbigpIHtcbiAgICBjdXJyZW50SW5kZXgtLTtcbiAgICByZWZyZXNoTmF2aWdhdGlvbigpO1xuICB9O1xuXG4gICRzY29wZS5uZXh0Q2F0ZWdvcnkgPSBmdW5jdGlvbigpIHtcbiAgICBjdXJyZW50SW5kZXgrKztcbiAgICByZWZyZXNoTmF2aWdhdGlvbigpO1xuICB9O1xuXG4gICRzY29wZS51cGRhdGVNb2RpZmllcnMgPSBmdW5jdGlvbihjYXRlZ29yeSwgbW9kaWZpZXIpIHtcbiAgICBtb2RpZmllci5pc1NlbGVjdGVkID0gIW1vZGlmaWVyLmlzU2VsZWN0ZWQ7XG5cbiAgICBpZiAobW9kaWZpZXIuaXNTZWxlY3RlZCAmJiBjYXRlZ29yeS5kYXRhLnNlbGVjdGlvbiA9PT0gMSkge1xuICAgICAgYW5ndWxhci5mb3JFYWNoKGNhdGVnb3J5Lm1vZGlmaWVycywgZnVuY3Rpb24obSkge1xuICAgICAgICBtLmlzU2VsZWN0ZWQgPSBtID09PSBtb2RpZmllcjtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuZG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChDYXJ0TW9kZWwuZWRpdGFibGVJdGVtTmV3KSB7XG4gICAgICBPcmRlck1hbmFnZXIuYWRkVG9DYXJ0KENhcnRNb2RlbC5lZGl0YWJsZUl0ZW0pO1xuICAgIH1cblxuICAgICRzY29wZS5leGl0KCk7XG4gICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSB0cnVlO1xuICB9O1xuXG4gICRzY29wZS5leGl0ID0gZnVuY3Rpb24oKSB7XG4gICAgQ2FydE1vZGVsLmNsb3NlRWRpdG9yKCk7XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL21haW5hdXguanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ01haW5BdXhDdHJsJywgWyckc2NvcGUnLCAnQ29tbWFuZFN0YXJ0dXAnLCBmdW5jdGlvbigkc2NvcGUsIENvbW1hbmRTdGFydHVwKSB7XG4gIENvbW1hbmRTdGFydHVwKCk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL21haW5zbmFwLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdNYWluU25hcEN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdBcHBDYWNoZScsICdDdXN0b21lck1hbmFnZXInLCAnQWN0aXZpdHlNb25pdG9yJywgJ0NoYXRNYW5hZ2VyJywgJ1NoZWxsTWFuYWdlcicsICdEYXRhTWFuYWdlcicsICdEaWFsb2dNYW5hZ2VyJywgJ09yZGVyTWFuYWdlcicsICdMb2NhdGlvbk1vZGVsJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ1NvZnR3YXJlTWFuYWdlcicsICdTTkFQTG9jYXRpb24nLCAnQ29tbWFuZFN0YXJ0dXAnLFxuICAoJHNjb3BlLCAkdGltZW91dCwgQXBwQ2FjaGUsIEN1c3RvbWVyTWFuYWdlciwgQWN0aXZpdHlNb25pdG9yLCBDaGF0TWFuYWdlciwgU2hlbGxNYW5hZ2VyLCBEYXRhTWFuYWdlciwgRGlhbG9nTWFuYWdlciwgT3JkZXJNYW5hZ2VyLCBMb2NhdGlvbk1vZGVsLCBOYXZpZ2F0aW9uTWFuYWdlciwgU29mdHdhcmVNYW5hZ2VyLCBTTkFQTG9jYXRpb24sIENvbW1hbmRTdGFydHVwKSA9PiB7XG5cbiAgQ29tbWFuZFN0YXJ0dXAoKTtcblxuICAkc2NvcGUudG91Y2ggPSAoKSA9PiBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuXG4gIE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlclJlcXVlc3RDaGFuZ2VkLmFkZChpdGVtID0+IHtcbiAgICBpZiAoIWl0ZW0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaXRlbS5wcm9taXNlLnRoZW4oKCkgPT4gRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX09SREVSX1JFQ0VJVkVEKSk7XG4gIH0pO1xuXG4gIE9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdENoYW5nZWQuYWRkKGl0ZW0gPT4ge1xuICAgIGlmICghaXRlbSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpdGVtLnByb21pc2UudGhlbigoKSA9PiBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfQVNTSVNUQU5DRV9SRUNFSVZFRCkpO1xuICB9KTtcblxuICBPcmRlck1hbmFnZXIubW9kZWwuY2xvc2VvdXRSZXF1ZXN0Q2hhbmdlZC5hZGQoaXRlbSA9PiB7XG4gICAgaWYgKCFpdGVtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGl0ZW0ucHJvbWlzZS50aGVuKCgpID0+IERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9DTE9TRU9VVF9SRUNFSVZFRCkpO1xuICB9KTtcblxuICBDaGF0TWFuYWdlci5tb2RlbC5jaGF0UmVxdWVzdFJlY2VpdmVkLmFkZCh0b2tlbiA9PiB7XG4gICAgRGlhbG9nTWFuYWdlci5jb25maXJtKENoYXRNYW5hZ2VyLmdldERldmljZU5hbWUodG9rZW4pICsgJyB3b3VsZCBsaWtlIHRvIGNoYXQgd2l0aCB5b3UuJykudGhlbigoKSA9PiB7XG4gICAgICBDaGF0TWFuYWdlci5hcHByb3ZlRGV2aWNlKHRva2VuKTtcbiAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnY2hhdCcgfTtcbiAgICB9LCAoKSA9PiBDaGF0TWFuYWdlci5kZWNsaW5lRGV2aWNlKHRva2VuKSk7XG4gIH0pO1xuXG4gIENoYXRNYW5hZ2VyLm1vZGVsLmdpZnRSZXF1ZXN0UmVjZWl2ZWQuYWRkKCh0b2tlbiwgZGVzY3JpcHRpb24pID0+IHtcbiAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oQ2hhdE1hbmFnZXIuZ2V0RGV2aWNlTmFtZSh0b2tlbikgKyAnIHdvdWxkIGxpa2UgdG8gZ2lmdCB5b3UgYSAnICsgZGVzY3JpcHRpb24pLnRoZW4oKCkgPT4ge1xuICAgICAgQ2hhdE1hbmFnZXIuYWNjZXB0R2lmdCh0b2tlbik7XG4gICAgfSwgKCkgPT4gQ2hhdE1hbmFnZXIuZGVjbGluZUdpZnQodG9rZW4pKTtcbiAgfSk7XG5cbiAgQ2hhdE1hbmFnZXIubW9kZWwubWVzc2FnZVJlY2VpdmVkLmFkZChtZXNzYWdlID0+IHtcbiAgICB2YXIgZGV2aWNlID0gTG9jYXRpb25Nb2RlbC5nZXREZXZpY2UobWVzc2FnZS5kZXZpY2UpO1xuXG4gICAgaWYgKCFkZXZpY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobWVzc2FnZS5zdGF0dXMgPT09IENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuQ0hBVF9SRVFVRVNUX0RFQ0xJTkVEKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KCdDaGF0IHdpdGggJyArIENoYXRNYW5hZ2VyLmdldERldmljZU5hbWUoZGV2aWNlLnRva2VuKSArICcgd2FzIGRlY2xpbmVkLiAnICtcbiAgICAgICdUbyBzdG9wIHJlY2lldmluZyBjaGF0IHJlcXVlc3RzLCBvcGVuIHRoZSBjaGF0IHNjcmVlbiBhbmQgdG91Y2ggdGhlIFwiQ2hhdCBvbi9vZmZcIiBidXR0b24uJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1lc3NhZ2Uuc3RhdHVzID09PSBDaGF0TWFuYWdlci5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfUkVRVUVTVF9BQ0NFUFRFRCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydCgnWW91ciBjaGF0IHJlcXVlc3QgdG8gJyArIENoYXRNYW5hZ2VyLmdldERldmljZU5hbWUoZGV2aWNlLnRva2VuKSArICcgd2FzIGFjY2VwdGVkLicpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtZXNzYWdlLnN0YXR1cyA9PT0gQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5HSUZUX1JFUVVFU1RfQUNDRVBURUQpIHtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQ2hhdE1hbmFnZXIuZ2V0RGV2aWNlTmFtZShkZXZpY2UudG9rZW4pICsgJyBoYXMgYWNjZXB0ZWQgeW91ciBnaWZ0LiBUaGUgaXRlbSB3aWxsIGJlIGFkZGVkIHRvIHlvdXIgY2hlY2suJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1lc3NhZ2Uuc3RhdHVzID09PSBDaGF0TWFuYWdlci5NRVNTQUdFX1NUQVRVU0VTLkdJRlRfUkVRVUVTVF9ERUNMSU5FRCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChDaGF0TWFuYWdlci5nZXREZXZpY2VOYW1lKGRldmljZS50b2tlbikgKyAnIGhhcyBkZWNsaW5lZCB5b3VyIGdpZnQuIFRoZSBpdGVtIHdpbGwgTk9UIGJlIGFkZGVkIHRvIHlvdXIgY2hlY2suJyk7XG4gICAgfVxuXG4gICAgaWYgKE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uLnR5cGUgPT09ICdjaGF0Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChtZXNzYWdlLnN0YXR1cyA9PT0gQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX0NMT1NFRCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5ub3RpZmljYXRpb24oQ2hhdE1hbmFnZXIuZ2V0RGV2aWNlTmFtZShkZXZpY2UudG9rZW4pICsgJyBoYXMgY2xvc2VkIHRoZSBjaGF0Jyk7XG4gICAgfVxuICAgIGVsc2UgaWYoIW1lc3NhZ2Uuc3RhdHVzICYmIG1lc3NhZ2UudG9fZGV2aWNlKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLm5vdGlmaWNhdGlvbignTmV3IG1lc3NhZ2UgZnJvbSAnICsgQ2hhdE1hbmFnZXIuZ2V0RGV2aWNlTmFtZShkZXZpY2UudG9rZW4pKTtcbiAgICB9XG4gIH0pO1xuXG4gIENoYXRNYW5hZ2VyLm1vZGVsLmdpZnRSZWFkeS5hZGQoKCkgPT4ge1xuICAgIENoYXRNYW5hZ2VyLnNlbmRHaWZ0KE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNhcnQpO1xuICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnY2hhdCcgfTtcbiAgfSk7XG5cbiAgQ2hhdE1hbmFnZXIubW9kZWwuZ2lmdEFjY2VwdGVkLmFkZChzdGF0dXMgPT4ge1xuICAgIGlmICghc3RhdHVzIHx8ICFDaGF0TWFuYWdlci5tb2RlbC5naWZ0RGV2aWNlKSB7XG4gICAgICBDaGF0TWFuYWdlci5tb2RlbC5naWZ0U2VhdCA9IG51bGw7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcblxuICAgICAgT3JkZXJNYW5hZ2VyLnN1Ym1pdENhcnQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdjaGF0JyB9O1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcblxuICAgICAgICBDaGF0TWFuYWdlci5lbmRHaWZ0KCk7XG4gICAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnY2hhdCcgfTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL21lbnUuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ01lbnVCYXNlQ3RybCcsIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0RhdGFNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgKCRzY29wZSwgJHRpbWVvdXQsIERhdGFNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlcikgPT4ge1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignTWVudUN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdEYXRhTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdTaGVsbE1hbmFnZXInLFxuICAoJHNjb3BlLCAkdGltZW91dCwgRGF0YU1hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyLCBTaGVsbE1hbmFnZXIpID0+IHtcblxuICB2YXIgTWVudUxpc3QgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB0aWxlQ2xhc3NOYW1lID0gU2hlbGxNYW5hZ2VyLnRpbGVTdHlsZTtcbiAgICAgIHZhciByb3dzID0gdGhpcy5wcm9wcy50aWxlcy5tYXAoZnVuY3Rpb24odGlsZSwgaSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFJlYWN0LkRPTS50ZCh7XG4gICAgICAgICAgICBjbGFzc05hbWU6IHRpbGVDbGFzc05hbWUsXG4gICAgICAgICAgICBrZXk6IGlcbiAgICAgICAgICB9LCBSZWFjdC5ET00uYSh7XG4gICAgICAgICAgICBvbkNsaWNrOiBlID0+IHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHRpbGUuZGVzdGluYXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiAndXJsKCcgKyBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwodGlsZS5pbWFnZSwgMzcwLCAzNzApICsgJyknXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKG51bGwsIHRpbGUudGl0bGUpXG4gICAgICAgICAgKSlcbiAgICAgICAgKTtcbiAgICAgIH0pLnJlZHVjZShmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBpKSB7XG4gICAgICAgIHJlc3VsdFtpICUgMl0ucHVzaCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LCBbW10sIFtdXSlcbiAgICAgIC5tYXAoZnVuY3Rpb24ocm93LCBpKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5ET00udHIoeyBrZXk6IGkgfSwgcm93KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gUmVhY3QuRE9NLnRhYmxlKHsgY2xhc3NOYW1lOiAndGlsZS10YWJsZScgfSwgcm93cyk7XG4gICAgfVxuICB9KTtcblxuICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbkNoYW5naW5nLmFkZChmdW5jdGlvbihsb2NhdGlvbikge1xuICAgIERhdGFNYW5hZ2VyLm1lbnUgPSBsb2NhdGlvbi50eXBlID09PSAnbWVudScgPyBsb2NhdGlvbi50b2tlbiA6IHVuZGVmaW5lZDtcbiAgICAkc2NvcGUudmlzaWJsZSA9IEJvb2xlYW4oRGF0YU1hbmFnZXIubWVudSk7XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7ICRzY29wZS4kYXBwbHkoKTsgfSk7XG4gIH0pO1xuXG4gIERhdGFNYW5hZ2VyLm1lbnVDaGFuZ2VkLmFkZChmdW5jdGlvbihtZW51KSB7XG4gICAgaWYgKCFtZW51KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbWVudS5jYXRlZ29yaWVzLmZvckVhY2godGlsZSA9PiB7XG4gICAgICB0aWxlLnVybCA9ICcjJyArIE5hdmlnYXRpb25NYW5hZ2VyLmdldFBhdGgodGlsZS5kZXN0aW5hdGlvbik7XG4gICAgfSk7XG5cbiAgICBSZWFjdC5yZW5kZXIoXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE1lbnVMaXN0LCB7IHRpbGVzOiBtZW51LmNhdGVnb3JpZXMgfSksXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudC1tZW51JylcbiAgICApO1xuICB9KTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvbW9kYWwuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ01vZGFsQ3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0RpYWxvZ01hbmFnZXInLFxuICAoJHNjb3BlLCAkdGltZW91dCwgRGlhbG9nTWFuYWdlcikgPT4ge1xuXG4gICAgRGlhbG9nTWFuYWdlci5tb2RhbFN0YXJ0ZWQuYWRkKCgpID0+ICR0aW1lb3V0KCgpID0+ICRzY29wZS52aXNpYmxlID0gdHJ1ZSkpO1xuICAgIERpYWxvZ01hbmFnZXIubW9kYWxFbmRlZC5hZGQoKCkgPT4gJHRpbWVvdXQoKCkgPT4gJHNjb3BlLnZpc2libGUgPSBmYWxzZSkpO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9uYXZpZ2F0aW9uLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdOYXZpZ2F0aW9uQ3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0FjdGl2aXR5TW9uaXRvcicsICdDdXN0b21lck1hbmFnZXInLCAnQW5hbHl0aWNzTW9kZWwnLCAnQ2FydE1vZGVsJywgJ1NoZWxsTWFuYWdlcicsICdEYXRhTWFuYWdlcicsICdEYXRhTW9kZWwnLCAnRGlhbG9nTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdPcmRlck1hbmFnZXInLCAnQ29tbWFuZENsb3NlVGFibGUnLCAnQ29tbWFuZEZsaXBTY3JlZW4nLCAnV2ViQnJvd3NlcicsICdTTkFQRW52aXJvbm1lbnQnLFxuICAoJHNjb3BlLCAkdGltZW91dCwgQWN0aXZpdHlNb25pdG9yLCBDdXN0b21lck1hbmFnZXIsIEFuYWx5dGljc01vZGVsLCBDYXJ0TW9kZWwsIFNoZWxsTWFuYWdlciwgRGF0YU1hbmFnZXIsIERhdGFNb2RlbCwgRGlhbG9nTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIE9yZGVyTWFuYWdlciwgQ29tbWFuZENsb3NlVGFibGUsIENvbW1hbmRGbGlwU2NyZWVuLCBXZWJCcm93c2VyLCBTTkFQRW52aXJvbm1lbnQpID0+IHtcblxuICAkc2NvcGUubWVudXMgPSBbXTtcblxuICBEYXRhTW9kZWwuaG9tZSgpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgbG9jYXRpb24gPSBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbixcbiAgICAgICAgbGltaXQgPSBTTkFQRW52aXJvbm1lbnQucGxhdGZvcm0gPT09ICdkZXNrdG9wJyA/IDQgOiAzO1xuXG4gICAgJHNjb3BlLm1lbnVzID0gcmVzcG9uc2UubWVudXNcbiAgICAgIC5maWx0ZXIobWVudSA9PiBTTkFQRW52aXJvbm1lbnQucGxhdGZvcm0gPT09ICdkZXNrdG9wJyB8fCBtZW51LnR5cGUgIT09IDMpXG4gICAgICAuZmlsdGVyKChtZW51LCBpKSA9PiBpIDwgbGltaXQpXG4gICAgICAubWFwKG1lbnUgPT4ge1xuICAgICAgICBsZXQgZGVzdGluYXRpb24gPSB7XG4gICAgICAgICAgdHlwZTogJ21lbnUnLFxuICAgICAgICAgIHRva2VuOiBtZW51LnRva2VuXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdG9rZW46IG1lbnUudG9rZW4sXG4gICAgICAgICAgdGl0bGU6IG1lbnUudGl0bGUsXG4gICAgICAgICAgdXJsOiAnIycgKyBOYXZpZ2F0aW9uTWFuYWdlci5nZXRQYXRoKGRlc3RpbmF0aW9uKSxcbiAgICAgICAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgICAgICAgc2VsZWN0ZWQ6IGxvY2F0aW9uLnR5cGUgPT09ICdtZW51JyAmJiBtZW51LnRva2VuID09PSBsb2NhdGlvbi50b2tlblxuICAgICAgICB9O1xuICAgICAgfSk7XG4gIH0pO1xuXG4gICRzY29wZS5uYXZpZ2F0ZUhvbWUgPSAoKSA9PiB7XG4gICAgQWN0aXZpdHlNb25pdG9yLmFjdGl2aXR5RGV0ZWN0ZWQoKTtcblxuICAgIGlmIChDdXN0b21lck1hbmFnZXIubW9kZWwuaXNFbmFibGVkICYmICFDdXN0b21lck1hbmFnZXIubW9kZWwuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oQUxFUlRfVEFCTEVfUkVTRVQpLnRoZW4oKCkgPT4ge1xuICAgICAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuICAgICAgICBDb21tYW5kQ2xvc2VUYWJsZSgpLnRoZW4oKCkgPT4gRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2hvbWUnIH07XG4gICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSBmYWxzZTtcbiAgfTtcblxuICAkc2NvcGUubmF2aWdhdGVCYWNrID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG5cbiAgICBpZiAoQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZCAmJiAhQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9TSUdOSU5fUkVRVUlSRUQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIE5hdmlnYXRpb25NYW5hZ2VyLmdvQmFjaygpO1xuXG4gICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSBmYWxzZTtcbiAgfTtcblxuICAkc2NvcGUucm90YXRlU2NyZWVuID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgQ29tbWFuZEZsaXBTY3JlZW4oKTtcbiAgfTtcblxuICAkc2NvcGUub3BlbkNhcnQgPSAoKSA9PiB7XG4gICAgQWN0aXZpdHlNb25pdG9yLmFjdGl2aXR5RGV0ZWN0ZWQoKTtcblxuICAgIGlmIChDdXN0b21lck1hbmFnZXIubW9kZWwuaXNFbmFibGVkICYmICFDdXN0b21lck1hbmFnZXIubW9kZWwuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1NJR05JTl9SRVFVSVJFRCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSAhQ2FydE1vZGVsLmlzQ2FydE9wZW47XG4gIH07XG5cbiAgJHNjb3BlLm9wZW5TZXR0aW5ncyA9ICgpID0+IHtcbiAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oQUxFUlRfVEFCTEVfUkVTRVQpLnRoZW4oKCkgPT4ge1xuICAgICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcbiAgICAgIENvbW1hbmRDbG9zZVRhYmxlKCkudGhlbigoKSA9PiBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpKTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUubWVudU9wZW4gPSBmYWxzZTtcblxuICAkc2NvcGUudG9nZ2xlTWVudSA9ICgpID0+IHtcbiAgICAkc2NvcGUubWVudU9wZW4gPSAhJHNjb3BlLm1lbnVPcGVuO1xuICB9O1xuXG4gICRzY29wZS5hZHZlcnRpc2VtZW50Q2xpY2sgPSBpdGVtID0+IHtcbiAgICBpZiAoQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZCAmJiAhQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9TSUdOSU5fUkVRVUlSRUQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIEFuYWx5dGljc01vZGVsLmxvZ0FkdmVydGlzZW1lbnQoe1xuICAgICAgdG9rZW46IGl0ZW0udG9rZW4sXG4gICAgICB0eXBlOiAnY2xpY2snXG4gICAgfSk7XG5cbiAgICBpZiAoaXRlbS5ocmVmKSB7XG4gICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ3VybCcsIHVybDogaXRlbS5ocmVmLnVybCB9O1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuYWR2ZXJ0aXNlbWVudEltcHJlc3Npb24gPSBpdGVtID0+IHtcbiAgICBpZiAoQWN0aXZpdHlNb25pdG9yLmFjdGl2ZSAmJiAhJHNjb3BlLndpZGUpIHtcbiAgICAgIEFuYWx5dGljc01vZGVsLmxvZ0FkdmVydGlzZW1lbnQoe1xuICAgICAgICB0b2tlbjogaXRlbS50b2tlbixcbiAgICAgICAgdHlwZTogJ2ltcHJlc3Npb24nXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmVsZW1lbnRzID0gU2hlbGxNYW5hZ2VyLm1vZGVsLmVsZW1lbnRzO1xuICBTaGVsbE1hbmFnZXIubW9kZWwuZWxlbWVudHNDaGFuZ2VkLmFkZCh2YWx1ZSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmVsZW1lbnRzID0gdmFsdWUpO1xuICB9KTtcblxuICAkc2NvcGUuYWR2ZXJ0aXNlbWVudHNBbGwgPSBbXTtcbiAgJHNjb3BlLmFkdmVydGlzZW1lbnRzVG9wID0gW107XG4gICRzY29wZS5hZHZlcnRpc2VtZW50c0JvdHRvbSA9IFtdO1xuICB2YXIgbWFwQWR2ZXJ0aXNlbWVudCA9IGFkID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgc3JjOiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwoYWQuc3JjLCA5NzAsIDkwKSxcbiAgICAgIGhyZWY6IGFkLmhyZWYsXG4gICAgICB0eXBlOiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFUeXBlKGFkLnNyYyksXG4gICAgICB0b2tlbjogYWQudG9rZW5cbiAgICB9O1xuICB9O1xuICBEYXRhTW9kZWwuYWR2ZXJ0aXNlbWVudHMoKS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAkc2NvcGUuYWR2ZXJ0aXNlbWVudHNUb3AgPSByZXNwb25zZS50b3AubWFwKG1hcEFkdmVydGlzZW1lbnQpO1xuICAgICAgJHNjb3BlLmFkdmVydGlzZW1lbnRzQm90dG9tID0gcmVzcG9uc2UuYm90dG9tLm1hcChtYXBBZHZlcnRpc2VtZW50KTtcbiAgICAgICRzY29wZS5hZHZlcnRpc2VtZW50c0FsbCA9ICRzY29wZS5hZHZlcnRpc2VtZW50c1RvcC5jb25jYXQoJHNjb3BlLmFkdmVydGlzZW1lbnRzQm90dG9tKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgJHNjb3BlLmNhcnRDb3VudCA9IE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNhcnQubGVuZ3RoO1xuICBPcmRlck1hbmFnZXIubW9kZWwub3JkZXJDYXJ0Q2hhbmdlZC5hZGQoY2FydCA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmNhcnRDb3VudCA9IGNhcnQubGVuZ3RoKTtcbiAgfSk7XG5cbiAgJHNjb3BlLnJlcXVlc3RBc3Npc3RhbmNlID0gKCkgPT4ge1xuICAgIGlmICghJHNjb3BlLnJlcXVlc3RBc3Npc3RhbmNlQXZhaWxhYmxlKXtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oQUxFUlRfVEFCTEVfQVNTSVNUQU5DRSkudGhlbigoKSA9PiB7XG4gICAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgICBPcmRlck1hbmFnZXIucmVxdWVzdEFzc2lzdGFuY2UoKS50aGVuKCgpID0+IHtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX0FTU0lTVEFOQ0VfU0VOVCk7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHJlZnJlc2hBc3Npc3RhbmNlUmVxdWVzdCA9ICgpID0+IHtcbiAgICAkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2VBdmFpbGFibGUgPSAhQm9vbGVhbihPcmRlck1hbmFnZXIubW9kZWwuYXNzaXN0YW5jZVJlcXVlc3QpO1xuICB9O1xuICBPcmRlck1hbmFnZXIubW9kZWwuYXNzaXN0YW5jZVJlcXVlc3RDaGFuZ2VkLmFkZChyZWZyZXNoQXNzaXN0YW5jZVJlcXVlc3QpO1xuICByZWZyZXNoQXNzaXN0YW5jZVJlcXVlc3QoKTtcblxuICAkc2NvcGUuY3VzdG9tZXJOYW1lID0gQ3VzdG9tZXJNYW5hZ2VyLmN1c3RvbWVyTmFtZTtcbiAgQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLnByb2ZpbGVDaGFuZ2VkLmFkZCgoKSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmN1c3RvbWVyTmFtZSA9IEN1c3RvbWVyTWFuYWdlci5jdXN0b21lck5hbWUpO1xuICB9KTtcblxuICAkc2NvcGUubmF2aWdhdGUgPSBkZXN0aW5hdGlvbiA9PiBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IGRlc3RpbmF0aW9uO1xuXG4gIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uQ2hhbmdlZC5hZGQobG9jYXRpb24gPT4ge1xuICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICRzY29wZS5tZW51cy5mb3JFYWNoKG1lbnUgPT4ge1xuICAgICAgICAvL21lbnUuc2VsZWN0ZWQgPSAobG9jYXRpb24udHlwZSA9PT0gJ21lbnUnICYmIG1lbnUudG9rZW4gPT09IGxvY2F0aW9uLnRva2VuKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvbm90aWZpY2F0aW9uLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdOb3RpZmljYXRpb25DdHJsJywgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnRGlhbG9nTWFuYWdlcicsIGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQsIERpYWxvZ01hbmFnZXIpIHtcbiAgdmFyIHRpbWVyO1xuXG4gICRzY29wZS5tZXNzYWdlcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZpc2liaWxpdHkoaXNWaXNpYmxlKSB7XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUudmlzaWJsZSA9IGlzVmlzaWJsZTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhpZGVOZXh0KCkge1xuICAgIHZhciBtZXNzYWdlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCAkc2NvcGUubWVzc2FnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG1lc3NhZ2VzLnB1c2goJHNjb3BlLm1lc3NhZ2VzW2ldKTtcbiAgICB9XG5cbiAgICAkc2NvcGUubWVzc2FnZXMgPSBtZXNzYWdlcztcblxuICAgIGlmICgkc2NvcGUubWVzc2FnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB1cGRhdGVWaXNpYmlsaXR5KGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aW1lciA9ICR0aW1lb3V0KGhpZGVOZXh0LCA0MDAwKTtcbiAgfVxuXG4gICRzY29wZS52aXNpYmxlID0gZmFsc2U7XG5cbiAgRGlhbG9nTWFuYWdlci5ub3RpZmljYXRpb25SZXF1ZXN0ZWQuYWRkKGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5tZXNzYWdlcy5wdXNoKHsgdGV4dDogbWVzc2FnZSB9KTtcbiAgICB9KTtcblxuICAgIHVwZGF0ZVZpc2liaWxpdHkodHJ1ZSk7XG5cbiAgICBpZiAodGltZXIpIHtcbiAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lcik7XG4gICAgfVxuXG4gICAgdGltZXIgPSAkdGltZW91dChoaWRlTmV4dCwgNDAwMCk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9yZXNldC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignUmVzZXRDdHJsJyxcbiAgWyckc2NvcGUnLCAnQ29tbWFuZFJlc2V0JywgJ0RpYWxvZ01hbmFnZXInLCAnTWFuYWdlbWVudFNlcnZpY2UnLFxuICAoJHNjb3BlLCBDb21tYW5kUmVzZXQsIERpYWxvZ01hbmFnZXIsIE1hbmFnZW1lbnRTZXJ2aWNlKSA9PiB7XG5cbiAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcblxuICBDb21tYW5kUmVzZXQoKS50aGVuKCgpID0+IHtcbiAgICBNYW5hZ2VtZW50U2VydmljZS5sb2FkU3RhcnR1cCgpO1xuICB9LCAoKSA9PiB7XG4gICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICBNYW5hZ2VtZW50U2VydmljZS5sb2FkU3RhcnR1cCgpO1xuICB9KTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvc2NyZWVuc2F2ZXIuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ1NjcmVlbnNhdmVyQ3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ1NoZWxsTWFuYWdlcicsICdBY3Rpdml0eU1vbml0b3InLCAnRGF0YU1vZGVsJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIFNoZWxsTWFuYWdlciwgQWN0aXZpdHlNb25pdG9yLCBEYXRhTW9kZWwpID0+IHtcbiAgICBcbiAgJHNjb3BlLnZpc2libGUgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBzaG93SW1hZ2VzKHZhbHVlcykge1xuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLmltYWdlcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3JjOiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwoaXRlbS5tZWRpYSwgMTkyMCwgMTA4MCwgJ2pwZycpLFxuICAgICAgICAgIHR5cGU6IFNoZWxsTWFuYWdlci5nZXRNZWRpYVR5cGUoaXRlbS5tZWRpYSlcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgc2hvd0ltYWdlcyhTaGVsbE1hbmFnZXIubW9kZWwuc2NyZWVuc2F2ZXJzKTtcbiAgU2hlbGxNYW5hZ2VyLm1vZGVsLnNjcmVlbnNhdmVyc0NoYW5nZWQuYWRkKHNob3dJbWFnZXMpO1xuXG4gIEFjdGl2aXR5TW9uaXRvci5hY3RpdmVDaGFuZ2VkLmFkZCh2YWx1ZSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgJHNjb3BlLnZpc2libGUgPSB2YWx1ZSA9PT0gZmFsc2UgJiYgKCRzY29wZS5pbWFnZXMgJiYgJHNjb3BlLmltYWdlcy5sZW5ndGggPiAwKTtcbiAgICB9KTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL3NpZ25pbi5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignU2lnbkluQ3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0NvbW1hbmRDdXN0b21lckxvZ2luJywgJ0NvbW1hbmRDdXN0b21lckd1ZXN0TG9naW4nLCAnQ29tbWFuZEN1c3RvbWVyU29jaWFsTG9naW4nLCAnQ29tbWFuZEN1c3RvbWVyU2lnbnVwJywgJ0N1c3RvbWVyTWFuYWdlcicsICdEaWFsb2dNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ1Nlc3Npb25NYW5hZ2VyJywgJ1NOQVBMb2NhdGlvbicsICdXZWJCcm93c2VyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIENvbW1hbmRDdXN0b21lckxvZ2luLCBDb21tYW5kQ3VzdG9tZXJHdWVzdExvZ2luLCBDb21tYW5kQ3VzdG9tZXJTb2NpYWxMb2dpbiwgQ29tbWFuZEN1c3RvbWVyU2lnbnVwLCBDdXN0b21lck1hbmFnZXIsIERpYWxvZ01hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyLCBTZXNzaW9uTWFuYWdlciwgU05BUExvY2F0aW9uLCBXZWJCcm93c2VyKSA9PiB7XG5cbiAgdmFyIFNURVBfU1BMQVNIID0gMSxcbiAgICAgIFNURVBfTE9HSU4gPSAyLFxuICAgICAgU1RFUF9SRUdJU1RSQVRJT04gPSAzLFxuICAgICAgU1RFUF9HVUVTVFMgPSA0LFxuICAgICAgU1RFUF9FVkVOVCA9IDUsXG4gICAgICBTVEVQX1JFU0VUID0gNjtcblxuICAkc2NvcGUuU1RFUF9TUExBU0ggPSBTVEVQX1NQTEFTSDtcbiAgJHNjb3BlLlNURVBfTE9HSU4gPSBTVEVQX0xPR0lOO1xuICAkc2NvcGUuU1RFUF9SRUdJU1RSQVRJT04gPSBTVEVQX1JFR0lTVFJBVElPTjtcbiAgJHNjb3BlLlNURVBfR1VFU1RTID0gU1RFUF9HVUVTVFM7XG4gICRzY29wZS5TVEVQX0VWRU5UID0gU1RFUF9FVkVOVDtcbiAgJHNjb3BlLlNURVBfUkVTRVQgPSBTVEVQX1JFU0VUO1xuXG4gICRzY29wZS5sb2NhdGlvbk5hbWUgPSBTTkFQTG9jYXRpb24ubG9jYXRpb25fbmFtZTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHVibGljIG1ldGhvZHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIExvZ2luXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUubG9naW4gPSAoKSA9PiB7XG4gICAgJHNjb3BlLmNyZWRlbnRpYWxzID0ge307XG4gICAgJHNjb3BlLnN0ZXAgPSBTVEVQX0xPR0lOO1xuICB9O1xuXG4gICRzY29wZS5ndWVzdExvZ2luID0gKCkgPT4ge1xuICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICBDb21tYW5kQ3VzdG9tZXJHdWVzdExvZ2luKCkudGhlbigoKSA9PiB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLnN0ZXAgPSBTVEVQX0dVRVNUUyk7XG4gICAgfSwgKCkgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5kb0xvZ2luID0gKGNyZWRlbnRpYWxzKSA9PiB7XG4gICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcblxuICAgICRzY29wZS5jcmVkZW50aWFscy51c2VybmFtZSA9ICRzY29wZS5jcmVkZW50aWFscy5lbWFpbDtcblxuICAgIENvbW1hbmRDdXN0b21lckxvZ2luKCRzY29wZS5jcmVkZW50aWFscykudGhlbigoKSA9PiB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLnN0ZXAgPSBTVEVQX0dVRVNUUyk7XG4gICAgfSwgKCkgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfR0VORVJJQ19FUlJPUik7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBTb2NpYWwgbG9naW5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5sb2dpbkZhY2Vib29rID0gKCkgPT4ge1xuICAgIHNvY2lhbEJ1c3koKTtcbiAgICBDb21tYW5kQ3VzdG9tZXJTb2NpYWxMb2dpbi5mYWNlYm9vaygpLnRoZW4oc29jaWFsTG9naW4sIHNvY2lhbEVycm9yKTtcbiAgfTtcblxuICAkc2NvcGUubG9naW5Ud2l0dGVyID0gKCkgPT4ge1xuICAgIHNvY2lhbEJ1c3koKTtcbiAgICBDb21tYW5kQ3VzdG9tZXJTb2NpYWxMb2dpbi50d2l0dGVyKCkudGhlbihzb2NpYWxMb2dpbiwgc29jaWFsRXJyb3IpO1xuICB9O1xuXG4gICRzY29wZS5sb2dpbkdvb2dsZSA9ICgpID0+IHtcbiAgICBzb2NpYWxCdXN5KCk7XG4gICAgQ29tbWFuZEN1c3RvbWVyU29jaWFsTG9naW4uZ29vZ2xlcGx1cygpLnRoZW4oc29jaWFsTG9naW4sIHNvY2lhbEVycm9yKTtcbiAgfTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIFJlZ2lzdHJhdGlvblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLnJlZ2lzdGVyID0gKCkgPT4ge1xuICAgICRzY29wZS5yZWdpc3RyYXRpb24gPSB7fTtcbiAgICAkc2NvcGUuc3RlcCA9IFNURVBfUkVHSVNUUkFUSU9OO1xuICB9O1xuXG4gICRzY29wZS5kb1JlZ2lzdHJhdGlvbiA9ICgpID0+IHtcbiAgICAkc2NvcGUucmVnaXN0cmF0aW9uLnVzZXJuYW1lID0gJHNjb3BlLnJlZ2lzdHJhdGlvbi5lbWFpbDtcblxuICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICBDb21tYW5kQ3VzdG9tZXJTaWdudXAoJHNjb3BlLnJlZ2lzdHJhdGlvbikudGhlbigoKSA9PiB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLnN0ZXAgPSBTVEVQX0dVRVNUUyk7XG4gICAgfSwgKCkgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgR3Vlc3QgY291bnRcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5zZXNzaW9uID0ge1xuICAgIGd1ZXN0Q291bnQ6IDEsXG4gICAgc3BlY2lhbDogZmFsc2VcbiAgfTtcblxuICAkc2NvcGUuc3VibWl0R3Vlc3RDb3VudCA9ICgpID0+IHtcbiAgICBpZiAoJHNjb3BlLnNlc3Npb24uZ3Vlc3RDb3VudCA+IDEpIHtcbiAgICAgIFNlc3Npb25NYW5hZ2VyLmd1ZXN0Q291bnQgPSAkc2NvcGUuc2Vzc2lvbi5ndWVzdENvdW50O1xuICAgICAgJHNjb3BlLnN0ZXAgPSBTVEVQX0VWRU5UO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGVuZFNpZ25JbigpO1xuICAgIH1cbiAgfTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIEV2ZW50XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUuc3VibWl0U3BlY2lhbEV2ZW50ID0gKHZhbHVlKSA9PiB7XG4gICAgJHNjb3BlLnNlc3Npb24uc3BlY2lhbCA9IFNlc3Npb25NYW5hZ2VyLnNwZWNpYWxFdmVudCA9IEJvb2xlYW4odmFsdWUpO1xuICAgIGVuZFNpZ25JbigpO1xuICB9O1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgUmVzZXQgcGFzc3dvcmRcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5yZXNldFBhc3N3b3JkID0gKCkgPT4ge1xuICAgICRzY29wZS5wYXNzd29yZHJlc2V0ID0ge307XG4gICAgJHNjb3BlLnN0ZXAgPSBTVEVQX1JFU0VUO1xuICB9O1xuXG4gICRzY29wZS5wYXNzd29yZFJlc2V0U3VibWl0ID0gKCkgPT4ge1xuICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICBDdXN0b21lck1hbmFnZXIucmVzZXRQYXNzd29yZCgkc2NvcGUucGFzc3dvcmRyZXNldCkudGhlbigoKSA9PiB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgJHNjb3BlLnBhc3N3b3JkUmVzZXQgPSBmYWxzZTtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUEFTU1dPUkRfUkVTRVRfQ09NUExFVEUpO1xuICAgIH0sICgpID0+IHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUucGFzc3dvcmRSZXNldENhbmNlbCA9ICgpID0+IHtcbiAgICAkc2NvcGUuc3RlcCA9IFNURVBfU1BMQVNIO1xuICB9O1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBQcml2YXRlIG1ldGhvZHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBmdW5jdGlvbiBzb2NpYWxMb2dpbigpIHtcbiAgICBzb2NpYWxCdXN5RW5kKCk7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLnN0ZXAgPSBTVEVQX0dVRVNUUyk7XG4gIH1cblxuICBmdW5jdGlvbiBzb2NpYWxFcnJvcigpIHtcbiAgICBzb2NpYWxCdXN5RW5kKCk7XG4gICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9HRU5FUklDX0VSUk9SKTtcbiAgfVxuXG4gIHZhciBzb2NpYWxKb2IsIHNvY2lhbFRpbWVyO1xuXG4gIGZ1bmN0aW9uIHNvY2lhbEJ1c3koKSB7XG4gICAgc29jaWFsQnVzeUVuZCgpO1xuXG4gICAgc29jaWFsSm9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuICAgIHNvY2lhbFRpbWVyID0gJHRpbWVvdXQoc29jaWFsQnVzeUVuZCwgMTIwICogMTAwMCk7XG4gIH1cblxuICBmdW5jdGlvbiBzb2NpYWxCdXN5RW5kKCkge1xuICAgIGlmIChzb2NpYWxKb2IpIHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKHNvY2lhbEpvYik7XG4gICAgICBzb2NpYWxKb2IgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChzb2NpYWxUaW1lcikge1xuICAgICAgJHRpbWVvdXQuY2FuY2VsKHNvY2lhbFRpbWVyKTtcbiAgICAgIHNvY2lhbFRpbWVyID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBlbmRTaWduSW4oKSB7XG4gICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdob21lJyB9O1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFN0YXRlXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLiR3YXRjaEFzUHJvcGVydHkoJ3N0ZXAnKVxuICAgIC5za2lwRHVwbGljYXRlcygpXG4gICAgLnN1YnNjcmliZSh2YWx1ZSA9PiB7XG4gICAgICBpZiAoIXZhbHVlLnZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0ZXAgPSB2YWx1ZS52YWx1ZSgpO1xuXG4gICAgICBpZiAoc3RlcCA9PT0gJHNjb3BlLlNURVBfR1VFU1RTKSB7XG4gICAgICAgICRzY29wZS5zdWJtaXRHdWVzdENvdW50KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFN0YXJ0dXBcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBpZiAoIUN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0VuYWJsZWQgfHwgQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCkge1xuICAgIHJldHVybiBlbmRTaWduSW4oKTtcbiAgfVxuXG4gICRzY29wZS5pbml0aWFsaXplZCA9IHRydWU7XG4gICRzY29wZS5zdGVwID0gU1RFUF9TUExBU0g7XG5cbiAgdmFyIG1vZGFsID0gRGlhbG9nTWFuYWdlci5zdGFydE1vZGFsKCk7XG5cbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCAoKSA9PiB7XG4gICAgV2ViQnJvd3Nlci5jbG9zZSgpO1xuICAgIERpYWxvZ01hbmFnZXIuZW5kTW9kYWwobW9kYWwpO1xuICB9KTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvc3RhcnR1cC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignU3RhcnR1cEN0cmwnLFxuICBbJyRzY29wZScsICdDb21tYW5kQm9vdCcsICdEaWFsb2dNYW5hZ2VyJywgJ01hbmFnZW1lbnRTZXJ2aWNlJyxcbiAgKCRzY29wZSwgQ29tbWFuZEJvb3QsIERpYWxvZ01hbmFnZXIsIE1hbmFnZW1lbnRTZXJ2aWNlKSA9PiB7XG5cbiAgZnVuY3Rpb24gd29ya2Zsb3coKSB7XG4gICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcblxuICAgIENvbW1hbmRCb290KCkudGhlbigoKSA9PiB7XG4gICAgICBNYW5hZ2VtZW50U2VydmljZS5sb2FkQXBwbGljYXRpb24oKTtcbiAgICB9LCBlID0+IHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX0VSUk9SX1NUQVJUVVApLnRoZW4oKCkgPT4gd29ya2Zsb3coKSk7XG4gICAgfSk7XG4gIH1cblxuICB3b3JrZmxvdygpO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9zdXJ2ZXkuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ1N1cnZleUN0cmwnLCBbJyRzY29wZScsICckdGltZW91dCcsICdBbmFseXRpY3NNb2RlbCcsICdDdXN0b21lck1hbmFnZXInLCAnQ3VzdG9tZXJNb2RlbCcsICdEaWFsb2dNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ09yZGVyTWFuYWdlcicsICdTdXJ2ZXlNYW5hZ2VyJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwgQW5hbHl0aWNzTW9kZWwsIEN1c3RvbWVyTWFuYWdlciwgQ3VzdG9tZXJNb2RlbCwgRGlhbG9nTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIE9yZGVyTWFuYWdlciwgU3VydmV5TWFuYWdlcikge1xuXG4gIGlmICghU3VydmV5TWFuYWdlci5tb2RlbC5pc0VuYWJsZWQgfHwgIVN1cnZleU1hbmFnZXIubW9kZWwuZmVlZGJhY2tTdXJ2ZXkgfHwgU3VydmV5TWFuYWdlci5tb2RlbC5mZWVkYmFja1N1cnZleUNvbXBsZXRlKSB7XG4gICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdob21lJyB9O1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBQcm9wZXJ0aWVzXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLmNvbW1lbnQgPSAnJztcbiAgJHNjb3BlLmVtYWlsID0gJyc7XG4gICRzY29wZS5oYWRfcHJvYmxlbXMgPSBmYWxzZTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIFBhZ2VzXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUucGFnZXMgPSBbXTtcbiAgdmFyIHBhZ2VzID0gJHNjb3BlLiR3YXRjaEFzUHJvcGVydHkoJ3BhZ2VzJyk7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBJbmRleFxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLnBhZ2VJbmRleCA9IC0xO1xuICB2YXIgcGFnZUluZGV4ID0gJHNjb3BlLiR3YXRjaEFzUHJvcGVydHkoJ3BhZ2VJbmRleCcpO1xuICBwYWdlSW5kZXguY2hhbmdlcygpXG4gICAgLnN1YnNjcmliZShmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5wYWdlID0gJHNjb3BlLnBhZ2VJbmRleCA+IC0xID8gJHNjb3BlLnBhZ2VzWyRzY29wZS5wYWdlSW5kZXhdIDogeyBxdWVzdGlvbnM6IFtdIH07XG5cbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUucGFnZS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICBpZiAoaXRlbS50eXBlICE9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJCgnI3JhdGUtJyArIGl0ZW0udG9rZW4pLnJhdGVpdCh7XG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBtYXg6IDUsXG4gICAgICAgICAgICBzdGVwOiAxLFxuICAgICAgICAgICAgcmVzZXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGJhY2tpbmdmbGQ6ICcjcmFuZ2UtJyArIGl0ZW0udG9rZW5cbiAgICAgICAgICB9KS5iaW5kKCdyYXRlZCcsIGZ1bmN0aW9uKGV2ZW50LCB2YWx1ZSkge1xuICAgICAgICAgICAgaXRlbS5mZWVkYmFjayA9IHZhbHVlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgQ291bnRcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5wYWdlQ291bnQgPSAwO1xuICBwYWdlcy5jaGFuZ2VzKClcbiAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLnBhZ2VDb3VudCA9ICRzY29wZS5wYWdlcy5sZW5ndGg7XG4gICAgfSk7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFByaXZhdGUgbWV0aG9kc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIHZhciBnZW5lcmF0ZVBhc3N3b3JkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlbmd0aCA9IDgsXG4gICAgICAgIGNoYXJzZXQgPSAnYWJjZGVmZ2hrbnBxcnN0dXZ3eHl6QUJDREVGR0hLTU5QUVJTVFVWV1hZWjIzNDU2Nzg5JyxcbiAgICAgICAgcmVzdWx0ID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDAsIG4gPSBjaGFyc2V0Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHQgKz0gY2hhcnNldC5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbikpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHZhciBzdWJtaXRGZWVkYmFjayA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5wYWdlcy5yZWR1Y2UoKGFuc3dlcnMsIHBhZ2UpID0+IHtcbiAgICAgIHJldHVybiBwYWdlLnJlZHVjZSgoYW5zd2VycywgcXVlc3Rpb24pID0+IHtcbiAgICAgICAgbGV0IHZhbHVlID0gcGFyc2VJbnQocXVlc3Rpb24uZmVlZGJhY2spO1xuXG4gICAgICAgIGlmICh2YWx1ZSA+IDApIHtcbiAgICAgICAgICBhbnN3ZXJzLnB1c2goe1xuICAgICAgICAgICAgc3VydmV5OiBTdXJ2ZXlNYW5hZ2VyLm1vZGVsLmZlZWRiYWNrU3VydmV5LnRva2VuLFxuICAgICAgICAgICAgcXVlc3Rpb246IHF1ZXN0aW9uLnRva2VuLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYW5zd2VycztcbiAgICAgIH0sIGFuc3dlcnMpO1xuICAgIH0sIFtdKVxuICAgIC5mb3JFYWNoKGFuc3dlciA9PiBBbmFseXRpY3NNb2RlbC5sb2dBbnN3ZXIoYW5zd2VyKSk7XG5cbiAgICBpZiAoJHNjb3BlLmNvbW1lbnQgJiYgJHNjb3BlLmNvbW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgQW5hbHl0aWNzTW9kZWwubG9nQ29tbWVudCh7XG4gICAgICAgIHR5cGU6ICdmZWVkYmFjaycsXG4gICAgICAgIHRleHQ6ICRzY29wZS5jb21tZW50XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBTdXJ2ZXlNYW5hZ2VyLm1vZGVsLmZlZWRiYWNrU3VydmV5Q29tcGxldGUgPSB0cnVlO1xuXG4gICAgaWYgKCRzY29wZS5oYWRfcHJvYmxlbXMgJiYgIU9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdCkge1xuICAgICAgT3JkZXJNYW5hZ2VyLnJlcXVlc3RBc3Npc3RhbmNlKCk7XG4gICAgfVxuXG4gICAgaWYgKEN1c3RvbWVyTW9kZWwuaXNHdWVzdCAmJiAkc2NvcGUuZW1haWwgJiYgJHNjb3BlLmVtYWlsLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG4gICAgICB2YXIgcGFzc3dvcmQgPSBnZW5lcmF0ZVBhc3N3b3JkKCk7XG5cbiAgICAgIEN1c3RvbWVyTWFuYWdlci5sb2dpbih7XG4gICAgICAgIGVtYWlsOiAkc2NvcGUuZW1haWwsXG4gICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgfSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgQ3VzdG9tZXJNYW5hZ2VyLmxvZ2luKHtcbiAgICAgICAgICBsb2dpbjogJHNjb3BlLmVtYWlsLFxuICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICAgICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdob21lJyB9O1xuICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnaG9tZScgfTtcbiAgICAgICAgfSk7XG4gICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdob21lJyB9O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdob21lJyB9O1xuICAgIH1cbiAgfTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHVibGljIG1ldGhvZHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUucHJldmlvdXNQYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCRzY29wZS5wYWdlSW5kZXggPiAwKSB7XG4gICAgICAkc2NvcGUucGFnZUluZGV4LS07XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5uZXh0UGFnZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICgkc2NvcGUucGFnZUluZGV4IDwgJHNjb3BlLnBhZ2VDb3VudCAtIDEpIHtcbiAgICAgICRzY29wZS5wYWdlSW5kZXgrKztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAkc2NvcGUubmV4dFN0ZXAoKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLm5leHRTdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKEN1c3RvbWVyTW9kZWwuaXNHdWVzdCAmJiAkc2NvcGUuc3RlcCA8IDMpIHtcbiAgICAgICRzY29wZS5zdGVwKys7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFDdXN0b21lck1vZGVsLmlzR3Vlc3QgJiYgJHNjb3BlLnN0ZXAgPCAyKSB7XG4gICAgICAkc2NvcGUuc3RlcCsrO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHN1Ym1pdEZlZWRiYWNrKCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5zdWJtaXRQcm9ibGVtID0gZnVuY3Rpb24oc3RhdHVzKSB7XG4gICAgJHNjb3BlLmhhZF9wcm9ibGVtcyA9IEJvb2xlYW4oc3RhdHVzKTtcbiAgICAkc2NvcGUubmV4dFN0ZXAoKTtcbiAgfTtcblxuICAkc2NvcGUuZXhpdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICgkc2NvcGUuc3RlcCA+IDApIHtcbiAgICAgIHN1Ym1pdEZlZWRiYWNrKCk7XG4gICAgfVxuXG4gICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdob21lJyB9O1xuICB9O1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBTdGFydHVwXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgKGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYWdlO1xuXG4gICAgJHNjb3BlLmhhc19lbWFpbCA9IEN1c3RvbWVyTW9kZWwuaGFzQ3JlZGVudGlhbHM7XG5cbiAgICBmdW5jdGlvbiBidWlsZFN1cnZleSgpIHtcbiAgICAgIFN1cnZleU1hbmFnZXIubW9kZWwuZmVlZGJhY2tTdXJ2ZXkucXVlc3Rpb25zLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpZiAoaXRlbS50eXBlICE9PSAxKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFwYWdlIHx8IHBhZ2UubGVuZ3RoID4gNCkge1xuICAgICAgICAgIHBhZ2UgPSBbXTtcbiAgICAgICAgICAkc2NvcGUucGFnZXMucHVzaChwYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0ZW0uZmVlZGJhY2sgPSAwO1xuICAgICAgICBwYWdlLnB1c2goaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoU3VydmV5TWFuYWdlci5tb2RlbC5pc0VuYWJsZWQgJiYgU3VydmV5TWFuYWdlci5tb2RlbC5mZWVkYmFja1N1cnZleSkge1xuICAgICAgYnVpbGRTdXJ2ZXkoKTtcbiAgICB9XG5cbiAgICBTdXJ2ZXlNYW5hZ2VyLm1vZGVsLmZlZWRiYWNrU3VydmV5Q2hhbmdlZC5hZGQoKCkgPT4gYnVpbGRTdXJ2ZXkoKSk7XG5cbiAgICAkc2NvcGUucGFnZUluZGV4ID0gMDtcbiAgICAkc2NvcGUuc3RlcCA9IDA7XG4gIH0pKCk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL3VybC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignVXJsQ3RybCcsXG4gIFsnJHNjb3BlJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ1dlYkJyb3dzZXInLFxuICAoJHNjb3BlLCBOYXZpZ2F0aW9uTWFuYWdlciwgV2ViQnJvd3NlcikgPT4ge1xuXG4gIFdlYkJyb3dzZXIub3BlbihOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbi51cmwpO1xuXG4gICRzY29wZS4kb24oJyRkZXN0cm95JywgKCkgPT4ge1xuICAgIFdlYkJyb3dzZXIuY2xvc2UoKTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL3dlYi5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignV2ViQ3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0FjdGl2aXR5TW9uaXRvcicsICdXZWJCcm93c2VyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIEFjdGl2aXR5TW9uaXRvciwgV2ViQnJvd3NlcikgPT4ge1xuXG4gIFdlYkJyb3dzZXIub25PcGVuLmFkZCgoKSA9PiB7XG4gICAgQWN0aXZpdHlNb25pdG9yLmVuYWJsZWQgPSBmYWxzZTtcbiAgfSk7XG5cbiAgV2ViQnJvd3Nlci5vbkNsb3NlLmFkZCgoKSA9PiB7XG4gICAgQWN0aXZpdHlNb25pdG9yLmVuYWJsZWQgPSB0cnVlO1xuICB9KTtcbn1dKTtcblxuLy9zcmMvanMvZGlyZWN0aXZlcy9fYmFzZS5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5kaXJlY3RpdmVzJywgWydhbmd1bGFyLWJhY29uJ10pO1xuXG4vL3NyYy9qcy9kaXJlY3RpdmVzL2dhbGxlcnkuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuZGlyZWN0aXZlcycpXG4uZGlyZWN0aXZlKCdnYWxsZXJ5JywgW1xuICAnQWN0aXZpdHlNb25pdG9yJywgJ1NoZWxsTWFuYWdlcicsICckdGltZW91dCcsXG4gIChBY3Rpdml0eU1vbml0b3IsIFNoZWxsTWFuYWdlciwgJHRpbWVvdXQpID0+IHtcblxuICB2YXIgc2xpZGVyLFxuICAgICAgc2V0dGluZ3MgPSB7XG4gICAgICAgIG1vZGU6ICdmYWRlJyxcbiAgICAgICAgd3JhcHBlckNsYXNzOiAncGhvdG8tZ2FsbGVyeSdcbiAgICAgIH07XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHJlcGxhY2U6IGZhbHNlLFxuICAgIHNjb3BlOiB7XG4gICAgICBpbWFnZXM6ICc9JyxcbiAgICAgIGltYWdld2lkdGggOiAnPT8nLFxuICAgICAgaW1hZ2VoZWlnaHQ6ICc9PydcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiBTaGVsbE1hbmFnZXIuZ2V0UGFydGlhbFVybCgnZ2FsbGVyeScpLFxuICAgIGxpbms6IChzY29wZSwgZWxlbSwgYXR0cnMpID0+IHtcbiAgICAgIGVsZW0ucmVhZHkoKCkgPT4ge1xuICAgICAgICBzbGlkZXIgPSAkKCcuYnhzbGlkZXInLCBlbGVtKS5ieFNsaWRlcihzZXR0aW5ncyk7XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCdpbWFnZXMnLCAoKSA9PiB7XG4gICAgICAgIHNjb3BlLm1lZGlhcyA9IChzY29wZS5pbWFnZXMgfHwgW10pLm1hcChpbWFnZSA9PiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwoaW1hZ2UsIGF0dHJzLmltYWdld2lkdGgsIGF0dHJzLmltYWdlaGVpZ2h0KSk7XG4gICAgICAgIHNldHRpbmdzLnBhZ2VyID0gc2NvcGUubWVkaWFzLmxlbmd0aCA+IDE7XG4gICAgICAgICR0aW1lb3V0KCgpID0+IHNsaWRlci5yZWxvYWRTbGlkZXIoc2V0dGluZ3MpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvZGlyZWN0aXZlcy9vbmlmcmFtZWxvYWQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuZGlyZWN0aXZlcycpXG4uZGlyZWN0aXZlKCdvbklmcmFtZUxvYWQnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHNjb3BlOiB7XG4gICAgICBjYWxsYmFjazogJyZvbklmcmFtZUxvYWQnXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIGVsZW1lbnQuYmluZCgnbG9hZCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiAoc2NvcGUuY2FsbGJhY2spID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgc2NvcGUuY2FsbGJhY2soeyBldmVudDogZSB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSk7XG5cbi8vc3JjL2pzL2RpcmVjdGl2ZXMvb25rZXlkb3duLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmRpcmVjdGl2ZXMnKVxuLmRpcmVjdGl2ZSgnb25LZXlkb3duJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMpIHtcbiAgICAgIHZhciBmdW5jdGlvblRvQ2FsbCA9IHNjb3BlLiRldmFsKGF0dHJzLm9uS2V5ZG93bik7XG4gICAgICBlbGVtLm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGZ1bmN0aW9uVG9DYWxsKGUud2hpY2gpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSk7XG5cbi8vc3JjL2pzL2RpcmVjdGl2ZXMvcXVhbnRpdHkuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuZGlyZWN0aXZlcycpXG4uZGlyZWN0aXZlKCdxdWFudGl0eScsXG4gIFsnJHRpbWVvdXQnLCAnU2hlbGxNYW5hZ2VyJyxcbiAgKCR0aW1lb3V0LCBTaGVsbE1hbmFnZXIpID0+IHtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZToge1xuICAgICAgcXVhbnRpdHk6ICc9JyxcbiAgICAgIG1pbjogJz0nLFxuICAgICAgbWF4OiAnPSdcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbSkge1xuICAgICAgc2NvcGUubWluID0gc2NvcGUubWluIHx8IDE7XG4gICAgICBzY29wZS5tYXggPSBzY29wZS5tYXggfHwgOTtcbiAgICAgIHNjb3BlLmRhdGEgPSB7XG4gICAgICAgIG1pbjogc2NvcGUubWluLFxuICAgICAgICBtYXg6IHNjb3BlLm1heCxcbiAgICAgICAgcXVhbnRpdHk6IHBhcnNlSW50KHNjb3BlLnF1YW50aXR5KVxuICAgICAgfTtcblxuICAgICAgc2NvcGUuZGVjcmVhc2UgPSAoKSA9PiB7XG4gICAgICAgIHNjb3BlLnF1YW50aXR5ID0gc2NvcGUuZGF0YS5xdWFudGl0eSA9IHNjb3BlLmRhdGEucXVhbnRpdHkgPiBzY29wZS5kYXRhLm1pbiA/XG4gICAgICAgICAgc2NvcGUuZGF0YS5xdWFudGl0eSAtIDEgOlxuICAgICAgICAgIHNjb3BlLmRhdGEubWluO1xuICAgICAgfTtcblxuICAgICAgc2NvcGUuaW5jcmVhc2UgPSAoKSA9PiB7XG4gICAgICAgIHNjb3BlLnF1YW50aXR5ID0gc2NvcGUuZGF0YS5xdWFudGl0eSA9IHNjb3BlLmRhdGEucXVhbnRpdHkgPCBzY29wZS5kYXRhLm1heCA/XG4gICAgICAgICAgc2NvcGUuZGF0YS5xdWFudGl0eSArIDEgOlxuICAgICAgICAgIHNjb3BlLmRhdGEubWF4O1xuICAgICAgfTtcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiBTaGVsbE1hbmFnZXIuZ2V0UGFydGlhbFVybCgnaW5wdXQtcXVhbnRpdHknKVxuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9kaXJlY3RpdmVzL3Njcm9sbGVyLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmRpcmVjdGl2ZXMnKVxuLmRpcmVjdGl2ZSgnc2Nyb2xsZXInLCBbJ0FjdGl2aXR5TW9uaXRvcicsICdTTkFQRW52aXJvbm1lbnQnLCBmdW5jdGlvbiAoQWN0aXZpdHlNb25pdG9yLCBTTkFQRW52aXJvbm1lbnQpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0MnLFxuICAgIHJlcGxhY2U6IGZhbHNlLFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbSkge1xuICAgICAgaWYgKFNOQVBFbnZpcm9ubWVudC5wbGF0Zm9ybSA9PT0gJ2Rlc2t0b3AnKSB7XG4gICAgICAgICQoZWxlbSkua2luZXRpYyh7XG4gICAgICAgICAgeTogZmFsc2UsIHN0b3BwZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2RpcmVjdGl2ZXMvc2Nyb2xsZ2x1ZS5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5kaXJlY3RpdmVzJylcbi5kaXJlY3RpdmUoJ3Njcm9sbGdsdWUnLCBbJyRwYXJzZScsIGZ1bmN0aW9uICgkcGFyc2UpIHtcbiAgZnVuY3Rpb24gdW5ib3VuZFN0YXRlKGluaXRWYWx1ZSl7XG4gICAgdmFyIGFjdGl2YXRlZCA9IGluaXRWYWx1ZTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0VmFsdWU6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiBhY3RpdmF0ZWQ7XG4gICAgICB9LFxuICAgICAgc2V0VmFsdWU6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgYWN0aXZhdGVkID0gdmFsdWU7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uZVdheUJpbmRpbmdTdGF0ZShnZXR0ZXIsIHNjb3BlKXtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0VmFsdWU6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiBnZXR0ZXIoc2NvcGUpO1xuICAgICAgfSxcbiAgICAgIHNldFZhbHVlOiBmdW5jdGlvbigpe31cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gdHdvV2F5QmluZGluZ1N0YXRlKGdldHRlciwgc2V0dGVyLCBzY29wZSl7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldFZhbHVlOiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gZ2V0dGVyKHNjb3BlKTtcbiAgICAgIH0sXG4gICAgICBzZXRWYWx1ZTogZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICBpZih2YWx1ZSAhPT0gZ2V0dGVyKHNjb3BlKSl7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIHZhbHVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVBY3RpdmF0aW9uU3RhdGUoYXR0ciwgc2NvcGUpe1xuICAgIGlmKGF0dHIgIT09IFwiXCIpe1xuICAgICAgdmFyIGdldHRlciA9ICRwYXJzZShhdHRyKTtcbiAgICAgIGlmKGdldHRlci5hc3NpZ24gIT09IHVuZGVmaW5lZCl7XG4gICAgICAgIHJldHVybiB0d29XYXlCaW5kaW5nU3RhdGUoZ2V0dGVyLCBnZXR0ZXIuYXNzaWduLCBzY29wZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gb25lV2F5QmluZGluZ1N0YXRlKGdldHRlciwgc2NvcGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5ib3VuZFN0YXRlKHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcHJpb3JpdHk6IDEsXG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgJGVsLCBhdHRycyl7XG4gICAgICB2YXIgZWwgPSAkZWxbMF0sXG4gICAgICBhY3RpdmF0aW9uU3RhdGUgPSBjcmVhdGVBY3RpdmF0aW9uU3RhdGUoYXR0cnMuc2Nyb2xsZ2x1ZSwgc2NvcGUpO1xuXG4gICAgICBmdW5jdGlvbiBzY3JvbGxUb0JvdHRvbSgpe1xuICAgICAgICBlbC5zY3JvbGxUb3AgPSBlbC5zY3JvbGxIZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uU2NvcGVDaGFuZ2VzKCl7XG4gICAgICAgIGlmKGFjdGl2YXRpb25TdGF0ZS5nZXRWYWx1ZSgpICYmICFzaG91bGRBY3RpdmF0ZUF1dG9TY3JvbGwoKSl7XG4gICAgICAgICAgc2Nyb2xsVG9Cb3R0b20oKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzaG91bGRBY3RpdmF0ZUF1dG9TY3JvbGwoKXtcbiAgICAgICAgcmV0dXJuIGVsLnNjcm9sbFRvcCArIGVsLmNsaWVudEhlaWdodCArIDEgPj0gZWwuc2Nyb2xsSGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvblNjcm9sbCgpe1xuICAgICAgICBhY3RpdmF0aW9uU3RhdGUuc2V0VmFsdWUoc2hvdWxkQWN0aXZhdGVBdXRvU2Nyb2xsKCkpO1xuICAgICAgfVxuXG4gICAgICBzY29wZS4kd2F0Y2gob25TY29wZUNoYW5nZXMpO1xuICAgICAgJGVsLmJpbmQoJ3Njcm9sbCcsIG9uU2Nyb2xsKTtcbiAgICB9XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2RpcmVjdGl2ZXMvc2xpZGVyLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmRpcmVjdGl2ZXMnKVxuLmRpcmVjdGl2ZSgnc2xpZGVyJyxcbiAgWyckdGltZW91dCcsICdTaGVsbE1hbmFnZXInLFxuICAoJHRpbWVvdXQsIFNoZWxsTWFuYWdlcikgPT4ge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQUUnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHtcbiAgICAgIHNvdXJjZTogJz0nLFxuICAgICAgc2xpZGVjbGljazogJz0nLFxuICAgICAgc2xpZGVzaG93OiAnPScsXG4gICAgICB0aW1lb3V0OiAnPSdcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbSkge1xuICAgICAgdmFyIHRpbWVvdXQgPSBzY29wZS50aW1lb3V0IHx8IDUwMDA7XG4gICAgICBzY29wZS5zb3VyY2UgPSBzY29wZS5zb3VyY2UgfHwgW107XG4gICAgICBzY29wZS5jdXJyZW50SW5kZXggPSAtMTtcblxuICAgICAgdmFyIGNoYW5nZUltYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChzY29wZS5zb3VyY2UubGVuZ3RoID09PSAwIHx8IHNjb3BlLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcblxuICAgICAgICBzY29wZS5zb3VyY2UuZm9yRWFjaChmdW5jdGlvbihlbnRyeSwgaSl7XG4gICAgICAgICAgZW50cnkudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgZW50cnkgPSBzY29wZS5zb3VyY2Vbc2NvcGUuY3VycmVudEluZGV4XTtcbiAgICAgICAgZW50cnkudmlzaWJsZSA9IHRydWU7XG5cbiAgICAgICAgaWYgKHNjb3BlLnNsaWRlc2hvdykge1xuICAgICAgICAgIHNjb3BlLnNsaWRlc2hvdyhlbnRyeSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgICAgIHZhciB2ID0gJCgndmlkZW8nLCBlbGVtKTtcbiAgICAgICAgICB2LmF0dHIoJ3NyYycsIGVudHJ5LnNyYyk7XG4gICAgICAgICAgdmFyIHZpZGVvID0gdi5nZXQoMCk7XG5cbiAgICAgICAgICBpZiAoIXZpZGVvKSB7XG4gICAgICAgICAgICB0aW1lciA9ICR0aW1lb3V0KHNsaWRlckZ1bmMsIDMwMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIG9uVmlkZW9FbmRlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBvblZpZGVvRW5kZWQsIGZhbHNlKTtcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkgeyBzY29wZS5uZXh0KCk7IH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgb25WaWRlb0Vycm9yID0gZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25WaWRlb0Vycm9yLCBmYWxzZSk7XG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHsgc2NvcGUubmV4dCgpOyB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBvblZpZGVvRW5kZWQsIGZhbHNlKTtcbiAgICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uVmlkZW9FcnJvciwgZmFsc2UpO1xuXG4gICAgICAgICAgdHJ5XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmlkZW8ubG9hZCgpO1xuICAgICAgICAgICAgdmlkZW8ucGxheSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXRjaChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gcGxheSB2aWRlbzogJyArIGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aW1lciA9ICR0aW1lb3V0KHNsaWRlckZ1bmMsIHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzY29wZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNjb3BlLmN1cnJlbnRJbmRleCA8IHNjb3BlLnNvdXJjZS5sZW5ndGgtMSA/XG4gICAgICAgICAgc2NvcGUuY3VycmVudEluZGV4KysgOlxuICAgICAgICAgIHNjb3BlLmN1cnJlbnRJbmRleCA9IDA7XG4gICAgICAgIGNoYW5nZUltYWdlKCk7XG4gICAgICB9O1xuXG4gICAgICBzY29wZS5wcmV2ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNjb3BlLmN1cnJlbnRJbmRleCA+IDAgP1xuICAgICAgICAgIHNjb3BlLmN1cnJlbnRJbmRleC0tIDpcbiAgICAgICAgICBzY29wZS5jdXJyZW50SW5kZXggPSBzY29wZS5zb3VyY2UubGVuZ3RoIC0gMTtcbiAgICAgICAgY2hhbmdlSW1hZ2UoKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciB0aW1lcjtcblxuICAgICAgdmFyIHNsaWRlckZ1bmMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHNjb3BlLnNvdXJjZS5sZW5ndGggPT09IDAgfHwgc2NvcGUuZGlzYWJsZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS5uZXh0KCk7XG4gICAgICB9O1xuXG4gICAgICBzY29wZS4kd2F0Y2goJ3NvdXJjZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHNjb3BlLmN1cnJlbnRJbmRleCA9IC0xO1xuICAgICAgICBzbGlkZXJGdW5jKCk7XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCdkaXNhYmxlZCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHNjb3BlLmN1cnJlbnRJbmRleCA9IC0xO1xuICAgICAgICBzbGlkZXJGdW5jKCk7XG4gICAgICB9KTtcblxuICAgICAgc2xpZGVyRnVuYygpO1xuXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lcik7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiBTaGVsbE1hbmFnZXIuZ2V0UGFydGlhbFVybCgnc2xpZGVyJylcbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvZGlyZWN0aXZlcy9zd2l0Y2guanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuZGlyZWN0aXZlcycpXG4uZGlyZWN0aXZlKCdzd2l0Y2gnLFxuICBbJyR0aW1lb3V0JywgJ1NoZWxsTWFuYWdlcicsXG4gICgkdGltZW91dCwgU2hlbGxNYW5hZ2VyKSA9PiB7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHtcbiAgICAgIGRpc2FibGVkOiAnPT8nLFxuICAgICAgc2VsZWN0ZWQ6ICc9PydcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbSkge1xuICAgICAgc2NvcGUuZGlzYWJsZWQgPSBCb29sZWFuKHNjb3BlLmRpc2FibGVkKTtcbiAgICAgIHNjb3BlLnNlbGVjdGVkID0gQm9vbGVhbihzY29wZS5zZWxlY3RlZCk7XG4gICAgICBzY29wZS5kYXRhID0ge1xuICAgICAgICBkaXNhYmxlZDogQm9vbGVhbihzY29wZS5kaXNhYmxlZCksXG4gICAgICAgIHNlbGVjdGVkOiBCb29sZWFuKHNjb3BlLnNlbGVjdGVkKSxcbiAgICAgICAgY2hhbmdlZDogZmFsc2VcbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLnRvZ2dsZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHNjb3BlLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuc2VsZWN0ZWQgPSBzY29wZS5kYXRhLnNlbGVjdGVkID0gIXNjb3BlLmRhdGEuc2VsZWN0ZWQ7XG4gICAgICAgIHNjb3BlLmRhdGEuY2hhbmdlZCA9IHRydWU7XG4gICAgICB9O1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6IFNoZWxsTWFuYWdlci5nZXRQYXJ0aWFsVXJsKCdpbnB1dC1zd2l0Y2gnKVxuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9maWx0ZXJzL19iYXNlLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmZpbHRlcnMnLCBbXSk7XG5cbi8vc3JjL2pzL2ZpbHRlcnMvcGFydGlhbC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5maWx0ZXJzJylcbi5maWx0ZXIoJ3BhcnRpYWwnLCBbJ1NoZWxsTWFuYWdlcicsIChTaGVsbE1hbmFnZXIpID0+IHtcbiAgcmV0dXJuIChuYW1lKSA9PiBTaGVsbE1hbmFnZXIuZ2V0UGFydGlhbFVybChuYW1lKTtcbn1dKTtcblxuLy9zcmMvanMvZmlsdGVycy90aHVtYm5haWwuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuZmlsdGVycycpXG4uZmlsdGVyKCd0aHVtYm5haWwnLCBbJ1NoZWxsTWFuYWdlcicsIFNoZWxsTWFuYWdlciA9PiB7XG4gIHJldHVybiAobWVkaWEsIHdpZHRoLCBoZWlnaHQsIGV4dGVuc2lvbikgPT4gU2hlbGxNYW5hZ2VyLmdldE1lZGlhVXJsKG1lZGlhLCB3aWR0aCwgaGVpZ2h0LCBleHRlbnNpb24pO1xufV0pO1xuXG4vL3NyYy9qcy9maWx0ZXJzL3RydXN0dXJsLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmZpbHRlcnMnKVxuLmZpbHRlcigndHJ1c3RVcmwnLCBbJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICByZXR1cm4gJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwodmFsKTtcbiAgICB9O1xufV0pO1xuXG4vL3NyYy9qcy9zZXJ2aWNlcy5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5zZXJ2aWNlcycsIFsnbmdSZXNvdXJjZScsICdTTkFQLmNvbmZpZ3MnXSlcblxuICAuZmFjdG9yeSgnTG9nZ2VyJywgWydTTkFQRW52aXJvbm1lbnQnLCAoU05BUEVudmlyb25tZW50KSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuTG9nZ2VyKFNOQVBFbnZpcm9ubWVudCk7XG4gIH1dKVxuICAuZmFjdG9yeSgnJGV4Y2VwdGlvbkhhbmRsZXInLCBbJ0xvZ2dlcicsIChMb2dnZXIpID0+IHtcbiAgICByZXR1cm4gKGV4Y2VwdGlvbiwgY2F1c2UpID0+IHtcbiAgICAgIExvZ2dlci5mYXRhbChleGNlcHRpb24uc3RhY2ssIGNhdXNlLCBleGNlcHRpb24pO1xuICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgIH07XG4gIH1dKVxuXG4gIC8vU2VydmljZXNcblxuICAuZmFjdG9yeSgnQ2FyZFJlYWRlcicsIFsnTWFuYWdlbWVudFNlcnZpY2UnLCAoTWFuYWdlbWVudFNlcnZpY2UpID0+IHtcbiAgICB3aW5kb3cuU25hcENhcmRSZWFkZXIgPSBuZXcgYXBwLkNhcmRSZWFkZXIoTWFuYWdlbWVudFNlcnZpY2UpO1xuICAgIHJldHVybiB3aW5kb3cuU25hcENhcmRSZWFkZXI7XG4gIH1dKVxuICAuZmFjdG9yeSgnRHRzQXBpJywgWydTTkFQSG9zdHMnLCAnU2Vzc2lvbk1vZGVsJywgKFNOQVBIb3N0cywgU2Vzc2lvbk1vZGVsKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuQmFja2VuZEFwaShTTkFQSG9zdHMsIFNlc3Npb25Nb2RlbCk7XG4gIH1dKVxuICAuZmFjdG9yeSgnTWFuYWdlbWVudFNlcnZpY2UnLCBbJ0xvZ2dlcicsIChMb2dnZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5Db3Jkb3ZhTWFuYWdlbWVudFNlcnZpY2UoTG9nZ2VyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdTb2NrZXRDbGllbnQnLCBbJ1Nlc3Npb25Nb2RlbCcsICdTTkFQSG9zdHMnLCAnTG9nZ2VyJywgKFNlc3Npb25Nb2RlbCwgU05BUEhvc3RzLCBMb2dnZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5Tb2NrZXRDbGllbnQoU2Vzc2lvbk1vZGVsLCBTTkFQSG9zdHMsIExvZ2dlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnVGVsZW1ldHJ5U2VydmljZScsIFsnJHJlc291cmNlJywgKCRyZXNvdXJjZSkgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLlRlbGVtZXRyeVNlcnZpY2UoJHJlc291cmNlKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdXZWJCcm93c2VyJywgWydBbmFseXRpY3NNb2RlbCcsICdNYW5hZ2VtZW50U2VydmljZScsICdTTkFQRW52aXJvbm1lbnQnLCAnU05BUEhvc3RzJywgKEFuYWx5dGljc01vZGVsLCBNYW5hZ2VtZW50U2VydmljZSwgU05BUEVudmlyb25tZW50LCBTTkFQSG9zdHMpID0+IHtcbiAgICB3aW5kb3cuU25hcFdlYkJyb3dzZXIgPSBuZXcgYXBwLldlYkJyb3dzZXIoQW5hbHl0aWNzTW9kZWwsIE1hbmFnZW1lbnRTZXJ2aWNlLCBTTkFQRW52aXJvbm1lbnQsIFNOQVBIb3N0cyk7XG4gICAgcmV0dXJuIHdpbmRvdy5TbmFwV2ViQnJvd3NlcjtcbiAgfV0pXG5cbiAgLy9Nb2RlbHNcblxuICAuZmFjdG9yeSgnQXBwQ2FjaGUnLCBbJ0xvZ2dlcicsIChMb2dnZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5BcHBDYWNoZShMb2dnZXIpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ0FuYWx5dGljc01vZGVsJywgWydTdG9yYWdlUHJvdmlkZXInLCAnSGVhdE1hcCcsICdMb2dnZXInLCAoU3RvcmFnZVByb3ZpZGVyLCBIZWF0TWFwLCBMb2dnZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5BbmFseXRpY3NNb2RlbChTdG9yYWdlUHJvdmlkZXIsIEhlYXRNYXAsIExvZ2dlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnQ2FydE1vZGVsJywgKCkgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkNhcnRNb2RlbCgpO1xuICB9KVxuICAuZmFjdG9yeSgnQ2hhdE1vZGVsJywgWydTTkFQTG9jYXRpb24nLCAnU05BUEVudmlyb25tZW50JywgJ1N0b3JhZ2VQcm92aWRlcicsIChTTkFQTG9jYXRpb24sIFNOQVBFbnZpcm9ubWVudCwgU3RvcmFnZVByb3ZpZGVyKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuQ2hhdE1vZGVsKFNOQVBMb2NhdGlvbiwgU05BUEVudmlyb25tZW50LCBTdG9yYWdlUHJvdmlkZXIpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ0N1c3RvbWVyTW9kZWwnLCBbJ1NOQVBMb2NhdGlvbicsICdTdG9yYWdlUHJvdmlkZXInLCAoU05BUExvY2F0aW9uLCBTdG9yYWdlUHJvdmlkZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5DdXN0b21lck1vZGVsKFNOQVBMb2NhdGlvbiwgU3RvcmFnZVByb3ZpZGVyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdEYXRhTW9kZWwnLCBbJ1NOQVBMb2NhdGlvbicsICdEdHNBcGknLCAnU3RvcmFnZVByb3ZpZGVyJywgKFNOQVBMb2NhdGlvbiwgRHRzQXBpLCBTdG9yYWdlUHJvdmlkZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5EYXRhTW9kZWwoU05BUExvY2F0aW9uLCBEdHNBcGksIFN0b3JhZ2VQcm92aWRlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnSGVhdE1hcCcsICgpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5IZWF0TWFwKGRvY3VtZW50LmJvZHkpO1xuICB9KVxuICAuZmFjdG9yeSgnTG9jYXRpb25Nb2RlbCcsIFsnRHRzQXBpJywgJ1NOQVBFbnZpcm9ubWVudCcsICdTTkFQTG9jYXRpb24nLCAnU3RvcmFnZVByb3ZpZGVyJywgKER0c0FwaSwgU05BUEVudmlyb25tZW50LCBTTkFQTG9jYXRpb24sIFN0b3JhZ2VQcm92aWRlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkxvY2F0aW9uTW9kZWwoRHRzQXBpLCBTTkFQRW52aXJvbm1lbnQsIFNOQVBMb2NhdGlvbiwgU3RvcmFnZVByb3ZpZGVyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdPcmRlck1vZGVsJywgWydTdG9yYWdlUHJvdmlkZXInLCAoU3RvcmFnZVByb3ZpZGVyKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuT3JkZXJNb2RlbChTdG9yYWdlUHJvdmlkZXIpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ1NoZWxsTW9kZWwnLCAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuU2hlbGxNb2RlbCgpO1xuICB9KVxuICAuZmFjdG9yeSgnU3VydmV5TW9kZWwnLCBbJ1NOQVBMb2NhdGlvbicsICdTdG9yYWdlUHJvdmlkZXInLCAoU05BUExvY2F0aW9uLCBTdG9yYWdlUHJvdmlkZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5TdXJ2ZXlNb2RlbChTTkFQTG9jYXRpb24sIFN0b3JhZ2VQcm92aWRlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnU2Vzc2lvbk1vZGVsJywgWydTdG9yYWdlUHJvdmlkZXInLCAoU3RvcmFnZVByb3ZpZGVyKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuU2Vzc2lvbk1vZGVsKFN0b3JhZ2VQcm92aWRlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnU3RvcmFnZVByb3ZpZGVyJywgWydMb2dnZXInLCAoTG9nZ2VyKSA9PiAge1xuICAgIHJldHVybiAoaWQpID0+IHtcbiAgICAgIHJldHVybiBuZXcgYXBwLkNvcmRvdmFMb2NhbFN0b3JhZ2VTdG9yZShpZCwgTG9nZ2VyKTtcbiAgICB9O1xuICB9XSlcblxuICAvL01hbmFnZXJzXG5cbiAgLmZhY3RvcnkoJ0FjdGl2aXR5TW9uaXRvcicsIFsnJHJvb3RTY29wZScsICckdGltZW91dCcsICdTTkFQRW52aXJvbm1lbnQnLCAoJHJvb3RTY29wZSwgJHRpbWVvdXQsIFNOQVBFbnZpcm9ubWVudCkgPT4ge1xuICAgIHZhciBtb25pdG9yID0gbmV3IGFwcC5BY3Rpdml0eU1vbml0b3IoJHJvb3RTY29wZSwgJHRpbWVvdXQpO1xuICAgIG1vbml0b3IudGltZW91dCA9IDMwMDAwO1xuXG4gICAgaWYgKFNOQVBFbnZpcm9ubWVudC5kZWJ1Zykge1xuICAgICAgbW9uaXRvci50aW1lb3V0ICo9IDkwMDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vbml0b3I7XG4gIH1dKVxuICAuZmFjdG9yeSgnQW5hbHl0aWNzTWFuYWdlcicsIFsnVGVsZW1ldHJ5U2VydmljZScsICdBbmFseXRpY3NNb2RlbCcsICdMb2dnZXInLCAoVGVsZW1ldHJ5U2VydmljZSwgQW5hbHl0aWNzTW9kZWwsIExvZ2dlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkFuYWx5dGljc01hbmFnZXIoVGVsZW1ldHJ5U2VydmljZSwgQW5hbHl0aWNzTW9kZWwsIExvZ2dlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnQXV0aGVudGljYXRpb25NYW5hZ2VyJywgWydEdHNBcGknLCAnU2Vzc2lvbk1vZGVsJywgJ1NOQVBFbnZpcm9ubWVudCcsICdXZWJCcm93c2VyJywgJ0xvZ2dlcicsIChEdHNBcGksIFNlc3Npb25Nb2RlbCwgU05BUEVudmlyb25tZW50LCBXZWJCcm93c2VyLCBMb2dnZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5BdXRoZW50aWNhdGlvbk1hbmFnZXIoRHRzQXBpLCBTZXNzaW9uTW9kZWwsIFNOQVBFbnZpcm9ubWVudCwgV2ViQnJvd3NlciwgTG9nZ2VyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdDdXN0b21lck1hbmFnZXInLCBbJ1NOQVBMb2NhdGlvbicsICdTTkFQRW52aXJvbm1lbnQnLCAnRHRzQXBpJywgJ0N1c3RvbWVyTW9kZWwnLCAnU2Vzc2lvbk1vZGVsJywgJ0xvZ2dlcicsIChTTkFQTG9jYXRpb24sIFNOQVBFbnZpcm9ubWVudCwgRHRzQXBpLCBDdXN0b21lck1vZGVsLCBTZXNzaW9uTW9kZWwsIExvZ2dlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkN1c3RvbWVyTWFuYWdlcihTTkFQTG9jYXRpb24sIFNOQVBFbnZpcm9ubWVudCwgRHRzQXBpLCBDdXN0b21lck1vZGVsLCBTZXNzaW9uTW9kZWwsIExvZ2dlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnQ2hhdE1hbmFnZXInLCBbJ0FuYWx5dGljc01vZGVsJywgJ0NoYXRNb2RlbCcsICdDdXN0b21lck1vZGVsJywgJ0xvY2F0aW9uTW9kZWwnLCAnU29ja2V0Q2xpZW50JywgJ0xvZ2dlcicsIChBbmFseXRpY3NNb2RlbCwgQ2hhdE1vZGVsLCBDdXN0b21lck1vZGVsLCBMb2NhdGlvbk1vZGVsLCBTb2NrZXRDbGllbnQsIExvZ2dlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkNoYXRNYW5hZ2VyKEFuYWx5dGljc01vZGVsLCBDaGF0TW9kZWwsIEN1c3RvbWVyTW9kZWwsIExvY2F0aW9uTW9kZWwsIFNvY2tldENsaWVudCwgTG9nZ2VyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdEYXRhTWFuYWdlcicsIFsnRGF0YU1vZGVsJywgJ0xvZ2dlcicsICdTTkFQRW52aXJvbm1lbnQnLCAoRGF0YU1vZGVsLCBMb2dnZXIsIFNOQVBFbnZpcm9ubWVudCkgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkRhdGFNYW5hZ2VyKERhdGFNb2RlbCwgTG9nZ2VyLCBTTkFQRW52aXJvbm1lbnQpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ0RpYWxvZ01hbmFnZXInLCBbJ0xvZ2dlcicsIChMb2dnZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5EaWFsb2dNYW5hZ2VyKExvZ2dlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnTG9jYXRpb25NYW5hZ2VyJywgWydEYXRhTW9kZWwnLCAnRHRzQXBpJywgJ0xvY2F0aW9uTW9kZWwnLCAnTG9nZ2VyJywgKERhdGFNb2RlbCwgRHRzQXBpLCBMb2NhdGlvbk1vZGVsLCBMb2dnZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5Mb2NhdGlvbk1hbmFnZXIoRGF0YU1vZGVsLCBEdHNBcGksIExvY2F0aW9uTW9kZWwsIExvZ2dlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnTmF2aWdhdGlvbk1hbmFnZXInLCBbJyRyb290U2NvcGUnLCAnJGxvY2F0aW9uJywgJyR3aW5kb3cnLCAnQW5hbHl0aWNzTW9kZWwnLCAnTG9nZ2VyJywgKCRyb290U2NvcGUsICRsb2NhdGlvbiwgJHdpbmRvdywgQW5hbHl0aWNzTW9kZWwsIExvZ2dlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLk5hdmlnYXRpb25NYW5hZ2VyKCRyb290U2NvcGUsICRsb2NhdGlvbiwgJHdpbmRvdywgQW5hbHl0aWNzTW9kZWwsIExvZ2dlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnT3JkZXJNYW5hZ2VyJywgWydDaGF0TW9kZWwnLCAnQ3VzdG9tZXJNb2RlbCcsICdEdHNBcGknLCAnT3JkZXJNb2RlbCcsICdMb2dnZXInLCAoQ2hhdE1vZGVsLCBDdXN0b21lck1vZGVsLCBEdHNBcGksIE9yZGVyTW9kZWwsIExvZ2dlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLk9yZGVyTWFuYWdlcihDaGF0TW9kZWwsIEN1c3RvbWVyTW9kZWwsIER0c0FwaSwgT3JkZXJNb2RlbCwgTG9nZ2VyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdTZXNzaW9uTWFuYWdlcicsIFsnU05BUEVudmlyb25tZW50JywgJ0FuYWx5dGljc01vZGVsJywgJ0N1c3RvbWVyTW9kZWwnLCAnTG9jYXRpb25Nb2RlbCcsICdPcmRlck1vZGVsJywgJ1N1cnZleU1vZGVsJywgJ1N0b3JhZ2VQcm92aWRlcicsICdMb2dnZXInLCAoU05BUEVudmlyb25tZW50LCBBbmFseXRpY3NNb2RlbCwgQ3VzdG9tZXJNb2RlbCwgTG9jYXRpb25Nb2RlbCwgT3JkZXJNb2RlbCwgU3VydmV5TW9kZWwsIFN0b3JhZ2VQcm92aWRlciwgTG9nZ2VyKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuU2Vzc2lvbk1hbmFnZXIoU05BUEVudmlyb25tZW50LCBBbmFseXRpY3NNb2RlbCwgQ3VzdG9tZXJNb2RlbCwgTG9jYXRpb25Nb2RlbCwgT3JkZXJNb2RlbCwgU3VydmV5TW9kZWwsIFN0b3JhZ2VQcm92aWRlciwgTG9nZ2VyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdTaGVsbE1hbmFnZXInLCBbJyRzY2UnLCAnRGF0YU1vZGVsJywgJ1NoZWxsTW9kZWwnLCAnU05BUExvY2F0aW9uJywgJ1NOQVBFbnZpcm9ubWVudCcsICdTTkFQSG9zdHMnLCAnTG9nZ2VyJywgKCRzY2UsIERhdGFNb2RlbCwgU2hlbGxNb2RlbCwgU05BUExvY2F0aW9uLCBTTkFQRW52aXJvbm1lbnQsIFNOQVBIb3N0cywgTG9nZ2VyKSA9PiB7XG4gICAgbGV0IG1hbmFnZXIgPSBuZXcgYXBwLlNoZWxsTWFuYWdlcigkc2NlLCBEYXRhTW9kZWwsIFNoZWxsTW9kZWwsIFNOQVBMb2NhdGlvbiwgU05BUEVudmlyb25tZW50LCBTTkFQSG9zdHMsIExvZ2dlcik7XG4gICAgRGF0YU1vZGVsLl9nZXRNZWRpYVVybCA9IChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKSA9PiBtYW5hZ2VyLmdldE1lZGlhVXJsKG1lZGlhLCB3aWR0aCwgaGVpZ2h0LCBleHRlbnNpb24pOyAvL1RvRG86IHJlZmFjdG9yXG4gICAgcmV0dXJuIG1hbmFnZXI7XG4gIH1dKVxuICAuZmFjdG9yeSgnU29jaWFsTWFuYWdlcicsIFsnU05BUEVudmlyb25tZW50JywgJ0R0c0FwaScsICdXZWJCcm93c2VyJywgJ0xvZ2dlcicsIChTTkFQRW52aXJvbm1lbnQsIER0c0FwaSwgV2ViQnJvd3NlciwgTG9nZ2VyKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuU29jaWFsTWFuYWdlcihTTkFQRW52aXJvbm1lbnQsIER0c0FwaSwgV2ViQnJvd3NlciwgTG9nZ2VyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdTb2Z0d2FyZU1hbmFnZXInLCBbJ1NOQVBFbnZpcm9ubWVudCcsIChTTkFQRW52aXJvbm1lbnQpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5Tb2Z0d2FyZU1hbmFnZXIoU05BUEVudmlyb25tZW50KTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdTdXJ2ZXlNYW5hZ2VyJywgWydEYXRhTW9kZWwnLCAnU3VydmV5TW9kZWwnLCAnTG9nZ2VyJywgKERhdGFNb2RlbCwgU3VydmV5TW9kZWwsIExvZ2dlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLlN1cnZleU1hbmFnZXIoRGF0YU1vZGVsLCBTdXJ2ZXlNb2RlbCwgTG9nZ2VyKTtcbiAgfV0pO1xuIl19
