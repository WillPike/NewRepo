//src/js/_base.js

'use strict';

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

window.app = {};

var ALERT_REQUEST_SUBMIT_ERROR = 1,
    ALERT_REQUEST_ASSISTANCE_SENT = 10,
    ALERT_REQUEST_ASSISTANCE_RECEIVED = 11,
    ALERT_REQUEST_CLOSEOUT_SENT = 20,
    ALERT_REQUEST_CLOSEOUT_RECEIVED = 21,
    ALERT_REQUEST_ORDER_SENT = 30,
    ALERT_REQUEST_ORDER_RECEIVED = 31,
    ALERT_SIGNIN_REQUIRED = 40,
    ALERT_TABLE_RESET = 50,
    ALERT_TABLE_ASSISTANCE = 51,
    ALERT_TABLE_CLOSEOUT = 52,
    ALERT_GENERIC_ERROR = 100,
    ALERT_DELET_CARD = 200,
    ALERT_PASSWORD_RESET_COMPLETE = 210,
    ALERT_SOFTWARE_OUTDATED = 220,
    ALERT_CARDREADER_ERROR = 310,
    ALERT_ERROR_NO_SEAT = 410,
    ALERT_ERROR_STARTUP = 510,
    ALERT_ERROR_CACHE_UPDATE = 520,
    ALERT_WARNING_CACHE_OBSOLETE = 521;

//src/js/shared/domain/analyticsdata.js

window.app.AnalyticsData = (function () {
  function AnalyticsData(name, storageProvider, defaultValue) {
    _classCallCheck(this, AnalyticsData);

    this._defaultValue = defaultValue || function () {
      return [];
    };
    this._name = name;
    this._data = this._defaultValue();
    this._store = storageProvider('snap_analytics_' + name);
  }

  _createClass(AnalyticsData, [{
    key: 'initialize',
    value: function initialize() {
      var self = this;
      return this._store.read().then(function (data) {
        return self._data = data || self._data;
      });
    }
  }, {
    key: 'push',
    value: function push(item) {
      this._data.push(item);
      this.store();
    }
  }, {
    key: 'reset',
    value: function reset() {
      this._data = this._defaultValue();
      return this.store();
    }
  }, {
    key: 'store',
    value: function store() {
      return this._store.write(this._data);
    }
  }, {
    key: 'name',
    get: function get() {
      return this._name;
    }
  }, {
    key: 'data',
    get: function get() {
      return this._data;
    },
    set: function set(value) {
      this._data = value;
      this.store();
    }
  }, {
    key: 'length',
    get: function get() {
      return this._data.length;
    }
  }, {
    key: 'last',
    get: function get() {
      return this._data[this.length - 1];
    }
  }]);

  return AnalyticsData;
})();

//src/js/shared/domain/cartitem.js

window.app.CartItem = (function () {
  function CartItem(item, quantity, name, modifiers, request) {
    _classCallCheck(this, CartItem);

    this.item = item;
    this.quantity = quantity;
    this.name = name;
    this.request = request;

    if (!this.hasModifiers) {
      this.modifiers = [];
    } else if (!modifiers) {
      this.modifiers = item.modifiers.map(function (category) {
        return new app.CartModifierCategory(category, category.items.map(function (modifier) {
          return new app.CartModifier(modifier);
        }));
      });
    } else {
      this.modifiers = modifiers;
    }
  }

  _createClass(CartItem, [{
    key: 'clone',
    value: function clone(count) {
      return new app.CartItem(this.item, this.quantity, this.name, this.modifiers.map(function (category) {
        return category.clone();
      }), this.request);
    }
  }, {
    key: 'cloneMany',
    value: function cloneMany(count) {
      count = count || this.quantity;
      var result = [];

      for (var i = 0; i < count; i++) {
        result.push(new app.CartItem(this.item, 1, this.name, this.modifiers.map(function (category) {
          return category.clone();
        }), this.request));
      }

      return result;
    }
  }, {
    key: 'restore',
    value: function restore(data) {
      return new app.CartItem(data.item, data.quantity, data.name, data.modifiers.map(app.CartModifierCategory.prototype.restore), data.request);
    }
  }, {
    key: 'hasModifiers',
    get: function get() {
      return this.item.modifiers !== null && this.item.modifiers.length > 0;
    }
  }, {
    key: 'selectedModifiers',
    get: function get() {
      return this.modifiers.reduce(function (previousCategory, category, i, array) {
        return array.concat(category.items.filter(function (modifier) {
          return modifier.isSelected;
        }));
      }, []);
    }
  }]);

  return CartItem;
})();

//src/js/shared/domain/cartmodifier.js

(function () {

  //------------------------------------------------------------------------
  //
  //  CartModifier
  //
  //------------------------------------------------------------------------

  var CartModifier = function CartModifier(data, isSelected) {
    this.data = data;
    this.isSelected = isSelected || false;
  };

  CartModifier.prototype.clone = function () {
    return new app.CartModifier(this.data, this.isSelected);
  };

  CartModifier.prototype.restore = function (data) {
    return new app.CartModifier(data.data, data.isSelected);
  };

  window.app.CartModifier = CartModifier;

  //------------------------------------------------------------------------
  //
  //  CartModifierCategory
  //
  //------------------------------------------------------------------------

  var CartModifierCategory = function CartModifierCategory(data, modifiers) {
    this.data = data;
    this.modifiers = modifiers;
  };

  CartModifierCategory.prototype.clone = function () {
    var modifiers = this.modifiers.map(function (modifier) {
      return modifier.clone();
    });
    return new app.CartModifierCategory(this.data, modifiers);
  };

  CartModifierCategory.prototype.restore = function (data) {
    return new app.CartModifierCategory(data.data, data.modifiers.map(CartModifier.prototype.restore));
  };

  window.app.CartModifierCategory = CartModifierCategory;
})();

//src/js/shared/domain/mediakind.js

window.app.MediaKind = {
  advertisementimage: 1,

  backgroundimage: 11,
  backgroundvideo: 12,

  elementimage: 21,

  menuimage: 31,

  menucategoryimage: 41,

  menuitemimage: 51,
  menuitemmedia: 55,
  menuitemphoto: 58,

  modifierimage: 61,

  promoimage: 82
};

//src/js/shared/domain/requestwatcher.js

window.app.RequestWatcher = (function () {
  function RequestWatcher(ticket, DtsApi) {
    _classCallCheck(this, RequestWatcher);

    this._token = ticket.token;
    this._remote = DtsApi;

    this.POLLING_INTERVAL = 5000;

    this.REQUEST_STATUS_PENDING = 1;
    this.REQUEST_STATUS_RECEIVED = 2;
    this.REQUEST_STATUS_ACCEPTED = 3;
    this.REQUEST_STATUS_EXPIRED = 255;

    var self = this;
    this._promise = new Promise(function (resolve, reject) {
      self._statusUpdateResolve = resolve;
      self._statusUpdateReject = reject;
    });

    this._ticket = { status: 0 };
    this._watchStatus();
  }

  _createClass(RequestWatcher, [{
    key: 'dispose',
    value: function dispose() {
      if (this._timeoutId) {
        window.clearTimeout(this._timeoutId);
      }

      if (this._ticket.status < this.REQUEST_STATUS_ACCEPTED) {
        this._statusUpdateReject();
      }
    }
  }, {
    key: '_watchStatus',
    value: function _watchStatus() {
      var self = this;

      if (self._timeoutId) {
        window.clearTimeout(self._timeoutId);
      }

      var onTimeout = function onTimeout() {
        self._remote.waiter.getStatus(self._token).then(function (response) {
          self._setTicket(response);
          self._watchStatus();
        }, function () {
          self._watchStatus();
        });
      };

      if (self._ticket.status === self.REQUEST_STATUS_ACCEPTED) {
        self._statusUpdateResolve();
      } else if (self._ticket.status !== self.REQUEST_STATUS_EXPIRED) {
        self._timeoutId = window.setTimeout(onTimeout, this.POLLING_INTERVAL);
      }
    }
  }, {
    key: '_setTicket',
    value: function _setTicket(value) {
      var self = this;

      if (self._ticket.status === value.status) {
        return;
      }

      self._ticket = value;
      self._watchStatus();
    }
  }, {
    key: 'token',
    get: function get() {
      return this._token;
    }
  }, {
    key: 'ticket',
    get: function get() {
      return this._ticket;
    }
  }, {
    key: 'promise',
    get: function get() {
      return this._promise;
    }
  }]);

  return RequestWatcher;
})();

//src/js/shared/domain/webbrowserreference.js

window.app.WebBrowserReference = (function () {
  function WebBrowserReference(type, initialUrl) {
    var _this = this;

    _classCallCheck(this, WebBrowserReference);

    this.type = type;
    this._initialUrl = this._url = initialUrl;

    this.onNavigated = new signals.Signal();
    this.onExit = new signals.Signal();

    this.onNavigated.add(function (url) {
      return _this._url = url;
    });
  }

  _createClass(WebBrowserReference, [{
    key: 'attach',
    value: function attach(reference) {
      if (this._disposed) {
        throw new Error('Web browser reference is already disposed.');
      }

      if (this._reference) {
        throw new Error('Web browser reference is already attached.');
      }

      this._reference = reference;
    }
  }, {
    key: 'navigate',
    value: function navigate(url) {
      if (this._disposed) {
        throw new Error('Web browser reference is already disposed.');
      }
    }
  }, {
    key: 'exit',
    value: function exit() {
      if (this._disposed) {
        throw new Error('Web browser reference is already disposed.');
      }

      this._disposed = true;

      this.onExit.dispatch();

      this.onNavigated.dispose();
      this.onExit.dispose();
    }
  }, {
    key: 'url',
    get: function get() {
      return this._url;
    }
  }]);

  return WebBrowserReference;
})();

window.app.IframeWebBrowserReference = (function (_app$WebBrowserReference) {
  _inherits(IframeWebBrowserReference, _app$WebBrowserReference);

  function IframeWebBrowserReference(initialUrl) {
    _classCallCheck(this, IframeWebBrowserReference);

    _get(Object.getPrototypeOf(IframeWebBrowserReference.prototype), 'constructor', this).call(this, 'iframe', initialUrl);
  }

  _createClass(IframeWebBrowserReference, [{
    key: 'attach',
    value: function attach(reference) {
      _get(Object.getPrototypeOf(IframeWebBrowserReference.prototype), 'attach', this).call(this, reference);

      var self = this;

      this._onLoad = function onLoad(e) {
        self.onNavigated.dispatch(reference.src);
      };

      this._checkUrl = function () {
        var url = self._reference.src;

        if (self.url !== url) {
          self.onNavigated.dispatch(url);
        }
      };

      this._reference.addEventListener('load', this._onLoad);
      this._interval = setInterval(this._checkUrl, 1000);

      this._reference.src = this._initialUrl;
    }
  }, {
    key: 'navigate',
    value: function navigate(url) {
      _get(Object.getPrototypeOf(IframeWebBrowserReference.prototype), 'navigate', this).call(this, url);
      this._reference.src = url;
    }
  }, {
    key: 'exit',
    value: function exit() {
      _get(Object.getPrototypeOf(IframeWebBrowserReference.prototype), 'exit', this).call(this);

      if (this._reference) {
        this._reference.removeEventListener('load', this._onLoad);
        clearInterval(this._interval);

        this._reference.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';
      }

      this._reference = null;
    }
  }]);

  return IframeWebBrowserReference;
})(app.WebBrowserReference);

window.app.WebViewBrowserReference = (function (_app$WebBrowserReference2) {
  _inherits(WebViewBrowserReference, _app$WebBrowserReference2);

  function WebViewBrowserReference(initialUrl) {
    _classCallCheck(this, WebViewBrowserReference);

    _get(Object.getPrototypeOf(WebViewBrowserReference.prototype), 'constructor', this).call(this, 'webview', initialUrl);
  }

  _createClass(WebViewBrowserReference, [{
    key: 'attach',
    value: function attach(reference) {
      _get(Object.getPrototypeOf(WebViewBrowserReference.prototype), 'attach', this).call(this, reference);

      var self = this;

      this._onLoad = function onLoad(e) {
        self.onNavigated.dispatch(self._reference.getUrl());
      };

      this._checkUrl = function () {
        var url = self._reference.getUrl();

        if (self.url !== url) {
          self.onNavigated.dispatch(url);
        }
      };

      this._reference.addEventListener('did-stop-loading', this._onLoad);
      this._interval = setInterval(this._checkUrl, 1000);

      this._reference.src = this._initialUrl;
    }
  }, {
    key: 'navigate',
    value: function navigate(url) {
      _get(Object.getPrototypeOf(WebViewBrowserReference.prototype), 'navigate', this).call(this, url);
      this._reference.src = url;
    }
  }, {
    key: 'exit',
    value: function exit() {
      _get(Object.getPrototypeOf(WebViewBrowserReference.prototype), 'exit', this).call(this);

      if (this._reference) {
        this._reference.removeEventListener('did-stop-loading', this._onLoad);
        clearInterval(this._interval);

        this._reference.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';
      }

      this._reference = null;
    }
  }]);

  return WebViewBrowserReference;
})(app.WebBrowserReference);

window.app.CordovaWebBrowserReference = (function (_app$WebBrowserReference3) {
  _inherits(CordovaWebBrowserReference, _app$WebBrowserReference3);

  function CordovaWebBrowserReference(initialUrl) {
    _classCallCheck(this, CordovaWebBrowserReference);

    _get(Object.getPrototypeOf(CordovaWebBrowserReference.prototype), 'constructor', this).call(this, 'external', initialUrl);
  }

  _createClass(CordovaWebBrowserReference, [{
    key: 'attach',
    value: function attach(reference) {
      _get(Object.getPrototypeOf(CordovaWebBrowserReference.prototype), 'attach', this).call(this, reference);

      var self = this;

      function onLoadStart(e) {
        self.onNavigated.dispatch(e.url);
      }

      function onExit() {
        self.exit();
      }

      this._onLoadStart = onLoadStart;
      this._onExit = onExit;

      this._reference.addEventListener('loadstart', this._onLoadStart);
      this._reference.addEventListener('exit', this._onExit);

      this.onNavigated.dispatch(this._initialUrl);
    }
  }, {
    key: 'navigate',
    value: function navigate(url) {
      _get(Object.getPrototypeOf(CordovaWebBrowserReference.prototype), 'navigate', this).call(this, url);
      this._reference.src = url;
    }
  }, {
    key: 'exit',
    value: function exit() {
      _get(Object.getPrototypeOf(CordovaWebBrowserReference.prototype), 'exit', this).call(this);

      if (this._reference) {
        this._reference.removeEventListener('loadstart', this._onLoadStart);
        this._reference.removeEventListener('exit', this._onExit);

        this._reference.close();
      }

      this._reference = null;
    }
  }]);

  return CordovaWebBrowserReference;
})(app.WebBrowserReference);

//src/js/shared/managers/abstractmanager.js

window.app.AbstractManager = (function () {
  function AbstractManager(Logger) {
    _classCallCheck(this, AbstractManager);

    this._Logger = Logger;
  }

  _createClass(AbstractManager, [{
    key: 'initialize',
    value: function initialize() {
      this._Logger.debug('Initializing ' + this.constructor.name + '...');

      return Promise.resolve();
    }
  }, {
    key: 'finalize',
    value: function finalize() {
      this._Logger.debug('Resetting ' + this.constructor.name + '...');

      return Promise.resolve();
    }
  }]);

  return AbstractManager;
})();

//src/js/shared/managers/activitymonitor.js

(function () {

  var ActivityMonitor = function ActivityMonitor($rootScope, $timeout) {
    this.$$rootScope = $rootScope;
    this.$$timeout = $timeout;
    this._timeout = 10000;

    this._activeChanged = new signals.Signal();
    this.enabled = true;

    var self = this;

    this.$$rootScope.$on('$locationChangeSuccess', function () {
      if (self.enabled) {
        self.activityDetected();
      }
    });

    this.activityDetected();
  };

  ActivityMonitor.prototype = {};

  Object.defineProperty(ActivityMonitor.prototype, 'timeout', {
    get: function get() {
      return this._timeout;
    },
    set: function set(value) {
      if (value > 0) {
        this._timeout = value;
        this.activityDetected();
      }
    }
  });

  Object.defineProperty(ActivityMonitor.prototype, 'enabled', {
    get: function get() {
      return this._enabled;
    },
    set: function set(value) {
      this._enabled = value;
    }
  });

  Object.defineProperty(ActivityMonitor.prototype, 'active', {
    get: function get() {
      return this._timer !== null;
    }
  });

  Object.defineProperty(ActivityMonitor.prototype, 'activeChanged', {
    get: function get() {
      return this._activeChanged;
    }
  });

  ActivityMonitor.prototype.activityDetected = function () {
    var changed;

    if (this._timer) {
      this.$$timeout.cancel(this._timer);
    } else if (this._timer === null) {
      changed = true;
    }

    var self = this;

    var onTimeout = function onTimeout() {
      self._timer = null;

      self.$$rootScope.$apply(function () {
        if (self.enabled) {
          self.activeChanged.dispatch(self.active);
        }
      });
    };

    this._timer = this.$$timeout(onTimeout, this._timeout);

    if (changed && this.enabled) {
      this.activeChanged.dispatch(this.active);
    }
  };

  window.app.ActivityMonitor = ActivityMonitor;
})();

//src/js/shared/managers/analyticsmanager.js

window.app.AnalyticsManager = (function (_app$AbstractManager) {
  _inherits(AnalyticsManager, _app$AbstractManager);

  function AnalyticsManager(TelemetryService, AnalyticsModel, Logger) {
    _classCallCheck(this, AnalyticsManager);

    _get(Object.getPrototypeOf(AnalyticsManager.prototype), 'constructor', this).call(this, Logger);
    this._TelemetryService = TelemetryService;
    this._AnalyticsModel = AnalyticsModel;
  }

  _createClass(AnalyticsManager, [{
    key: 'initialize',
    value: function initialize() {
      _get(Object.getPrototypeOf(AnalyticsManager.prototype), 'initialize', this).call(this);

      return this.model.initialize();
    }
  }, {
    key: 'finalize',
    value: function finalize() {
      var _this2 = this;

      _get(Object.getPrototypeOf(AnalyticsManager.prototype), 'finalize', this).call(this);

      this._Logger.debug('Submitting analytics data with ' + (this.model.sessions.length + ' seat sessions, ') + (this.model.answers.length + ' answers, ') + (this.model.chats.length + ' chats, ') + (this.model.comments.length + ' comments, ') + (this.model.clicks.length + ' clicks, ') + (this.model.pages.length + ' pages, ') + (this.model.advertisements.length + ' advertisements and ') + (this.model.urls.length + ' URLs.'));

      return new Promise(function (resolve, reject) {
        _this2._TelemetryService.submitTelemetry({
          sessions: _this2.model.sessions.data,
          advertisements: _this2.model.advertisements.data,
          answers: _this2.model.answers.data,
          chats: _this2.model.chats.data,
          comments: _this2.model.comments.data,
          clicks: _this2.model.clicks.data,
          pages: _this2.model.pages.data,
          urls: _this2.model.urls.data
        }).then(function () {
          _this2.model.reset();
          resolve();
        }, function (e) {
          _this2._Logger.warn('Unable to submit analytics data: ' + e.message);
          reject(e);
        });
      });
    }
  }, {
    key: 'model',
    get: function get() {
      return this._AnalyticsModel;
    }
  }]);

  return AnalyticsManager;
})(app.AbstractManager);

//src/js/shared/managers/authenticationmanager.js

window.app.AuthenticationManager = (function (_app$AbstractManager2) {
  _inherits(AuthenticationManager, _app$AbstractManager2);

  /* global moment */

  function AuthenticationManager(BackendApi, SessionModel, SNAPEnvironment, WebBrowser, Logger) {
    _classCallCheck(this, AuthenticationManager);

    _get(Object.getPrototypeOf(AuthenticationManager.prototype), 'constructor', this).call(this, Logger);

    this._BackendApi = BackendApi;
    this._SessionModel = SessionModel;
    this._SNAPEnvironment = SNAPEnvironment;
    this._WebBrowser = WebBrowser;
  }

  _createClass(AuthenticationManager, [{
    key: 'validate',
    value: function validate() {
      var _this3 = this;

      var model = this._SessionModel;

      this._Logger.debug('Validating access token...');

      return new Promise(function (resolve, reject) {
        model.initialize().then(function () {
          var token = model.apiToken;

          if (!token || !_this3._validateToken(token)) {
            _this3._Logger.debug('Authorization is not valid.');
            resolve(false);
          } else {
            _this3._Logger.debug('Validating authorization session...');

            _this3._BackendApi.oauth2.getSession().then(function (session) {
              session = URI('?' + session).query(true); //ToDo: remove this hack

              if (session && session.valid === 'true') {
                _this3._Logger.debug('Authorization is valid.', session);
                resolve(true);
              } else {
                _this3._Logger.debug('Authorization is not valid or expired.', session);
                resolve(false);
              }
            }, function (e) {
              _this3._Logger.debug('Unable to validate authorization.', e);
              resolve(null);
            });
          }
        }, function (e) {
          _this3._Logger.debug('Error validating authorization.', e);
          resolve(null);
        });
      });
    }
  }, {
    key: 'authorize',
    value: function authorize() {
      var _this4 = this;

      this._Logger.debug('Authorizing API access...');

      var self = this;
      return new Promise(function (resolve, reject) {
        _this4._SessionModel.clear().then(function () {
          var application = _this4._SNAPEnvironment.main_application,
              authUrl = _this4._BackendApi.oauth2.getTokenAuthorizeUrl(application.client_id, application.callback_url, application.scope);

          _this4._WebBrowser.open(authUrl).then(function (browser) {
            var complete = false;

            function handleCallback(url) {
              if (url.indexOf(application.callback_url) !== 0) {
                return;
              }

              complete = true;
              browser.exit();

              var callbackResponse = url.split('#')[1],
                  responseParameters = callbackResponse.split('&'),
                  parameterMap = [];

              for (var i = 0; i < responseParameters.length; i++) {
                parameterMap[responseParameters[i].split('=')[0]] = responseParameters[i].split('=')[1];
              }

              if (parameterMap.access_token !== undefined && parameterMap.access_token !== null) {
                var token = {
                  access_token: parameterMap.access_token,
                  expires_in: parameterMap.expires_in
                };

                self._Logger.debug('New access token issued.', token);

                self._SessionModel.apiToken = token;

                return resolve();
              }

              self._Logger.debug('Problem issuing new access token.', parameterMap);
              reject('Problem authenticating: ' + url);
            }

            browser.onNavigated.add(function (url) {
              return handleCallback(url);
            });

            browser.onExit.add(function () {
              if (complete) {
                return;
              }

              reject('Canceled');
            });
          }, reject);
        }, reject);
      });
    }
  }, {
    key: 'customerLoginRegular',
    value: function customerLoginRegular(credentials) {
      var _this5 = this;

      return new Promise(function (resolve, reject) {
        var application = _this5._SNAPEnvironment.customer_application;
        _this5._BackendApi.oauth2.getTokenWithCredentials(application.client_id, credentials.login, credentials.password).then(function (result) {
          if (!result) {
            return reject();
          }

          result = JSON.parse(result); //ToDo: fix

          if (result.error || !result.access_token) {
            return reject(result.error);
          }

          var session = {
            access_token: result.access_token
          };

          if (result.expires_in) {
            session.expires = moment().add(result.expires_in, 'seconds').unix();
          }

          _this5._SessionModel.customerToken = session;

          resolve();
        }, reject);
      });
    }
  }, {
    key: 'customerLoginSocial',
    value: function customerLoginSocial(token) {
      var _this6 = this;

      return new Promise(function (resolve, reject) {
        var session = {
          access_token: token.access_token
        };

        if (token.expires_in) {
          session.expires = moment().add(token.expires_in, 'seconds').unix();
        }

        _this6._SessionModel.customerToken = session;

        resolve();
      });
    }
  }, {
    key: '_validateToken',
    value: function _validateToken(token) {
      if (!token || !token.access_token) {
        return false;
      }

      if (token.expires) {
        var expires = moment.unix(token.expires);

        if (expires.isBefore(moment())) {
          return false;
        }
      }

      return true;
    }
  }]);

  return AuthenticationManager;
})(app.AbstractManager);

//src/js/shared/managers/chatmanager.js

window.app.ChatManager = (function (_app$AbstractManager3) {
  _inherits(ChatManager, _app$AbstractManager3);

  /* global moment, signals */

  function ChatManager(AnalyticsModel, ChatModel, CustomerModel, LocationModel, SocketClient, Logger) {
    _classCallCheck(this, ChatManager);

    _get(Object.getPrototypeOf(ChatManager.prototype), 'constructor', this).call(this, Logger);

    var self = this;

    this.MESSAGE_TYPES = {
      LOCATION: 'location',
      DEVICE: 'device'
    };
    this.MESSAGE_STATUSES = {
      CHAT_REQUEST: 'chat_request',
      CHAT_REQUEST_ACCEPTED: 'chat_request_accepted',
      CHAT_REQUEST_DECLINED: 'chat_request_declined',
      GIFT_REQUEST: 'gift_request',
      GIFT_REQUEST_ACCEPTED: 'gift_request_accepted',
      GIFT_REQUEST_DECLINED: 'gift_request_declined',
      CHAT_CLOSED: 'chat_closed'
    };
    this.OPERATIONS = {
      CHAT_MESSAGE: 'chat_message',
      STATUS_REQUEST: 'status_request',
      STATUS_UPDATE: 'status_update'
    };
    this.ROOMS = {
      LOCATION: 'location_',
      DEVICE: 'device_'
    };

    this._AnalyticsModel = AnalyticsModel;
    this._ChatModel = ChatModel;
    this._CustomerModel = CustomerModel;
    this._LocationModel = LocationModel;
    this._SocketClient = SocketClient;

    this._ChatModel.isEnabledChanged.add(function () {
      return self._sendStatusUpdate();
    });
    this._ChatModel.isPresentChanged.add(function () {
      return self._sendStatusUpdate();
    });
    this._CustomerModel.profileChanged.add(function () {
      return self._sendStatusUpdate();
    });
    this._LocationModel.seatChanged.add(function () {
      return self._sendStatusUpdate();
    });

    this._SocketClient.isConnectedChanged.add(function (isConnected) {
      self.model.isConnected = isConnected;
      self._sendStatusUpdate();
      self._sendStatusRequest();
    });

    this._SocketClient.subscribe(this.ROOMS.LOCATION + this._LocationModel.location.token, function (message) {
      switch (message.operation) {
        case self.OPERATIONS.CHAT_MESSAGE:
          self._onMessage(message);
          break;
        case self.OPERATIONS.STATUS_REQUEST:
          self._onStatusRequest(message);
          break;
        case self.OPERATIONS.STATUS_UPDATE:
          self._onStatusUpdate(message);
          break;
      }
    });

    this._SocketClient.subscribe(this.ROOMS.DEVICE + this._LocationModel.device, function (message) {
      switch (message.operation) {
        case self.OPERATIONS.CHAT_MESSAGE:
          self._onMessage(message);
          break;
        case self.OPERATIONS.STATUS_UPDATE:
          self._onStatusUpdate(message);
          break;
      }
    });
  }

  _createClass(ChatManager, [{
    key: 'finalize',
    value: function finalize() {
      _get(Object.getPrototypeOf(ChatManager.prototype), 'finalize', this).call(this);

      this.model.reset();

      return Promise.resolve();
    }
  }, {
    key: 'sendMessage',

    //-----------------------------------------------
    //    Messaging
    //-----------------------------------------------

    value: function sendMessage(message) {
      message.device = this._LocationModel.device;
      message.operation = this.OPERATIONS.CHAT_MESSAGE;
      message.type = message.to_device ? this.MESSAGE_TYPES.DEVICE : this.MESSAGE_TYPES.LOCATION;

      this._addMessageID(message);
      this.model.addHistory(message);

      var topic = this._getTopic(message);

      this._SocketClient.send(topic, message);
      this._AnalyticsModel.logChat(message);
    }
  }, {
    key: 'approveDevice',
    value: function approveDevice(token) {
      var device = this._LocationModel.getDevice(token);

      this.model.setLastRead(token, moment().unix());

      if (this.model.isPendingDevice(device)) {
        this.model.removePendingDevice(device);

        this.sendMessage({
          status: this.MESSAGE_STATUSES.CHAT_REQUEST_ACCEPTED,
          to_device: device.token
        });
      } else {
        this.sendMessage({
          status: this.MESSAGE_STATUSES.CHAT_REQUEST,
          to_device: device.token
        });
      }

      if (!this.model.isActiveDevice(device)) {
        this.model.addActiveDevice(device);
      }
    }
  }, {
    key: 'declineDevice',
    value: function declineDevice(token) {
      var device = this._LocationModel.getDevice(token);

      if (this.model.isActiveDevice(device)) {
        this.model.removeActiveDevice(device);

        this.sendMessage({
          status: this.MESSAGE_STATUSES.CHAT_CLOSED,
          to_device: device.token
        });
      } else {
        this.sendMessage({
          status: this.MESSAGE_STATUSES.CHAT_REQUEST_DECLINED,
          to_device: device.token
        });
      }
    }
  }, {
    key: 'getMessageName',
    value: function getMessageName(message) {
      if (this._LocationModel.device === message.device) {
        return 'Me';
      }

      return message.username || this.getDeviceName(message.device);
    }
  }, {
    key: 'getDeviceName',
    value: function getDeviceName(token) {
      var device = this._LocationModel.getDevice(token);

      if (device) {
        if (this._LocationModel.device === device.token) {
          return 'Me';
        }

        if (device.username) {
          return device.username;
        }

        for (var p in this._LocationModel.seats) {
          if (this._LocationModel.seats[p].token === device.seat) {
            return this._LocationModel.seats[p].name;
          }
        }
      }

      return 'Guest';
    }
  }, {
    key: 'checkIfUnread',

    //-----------------------------------------------
    //    Notifications
    //-----------------------------------------------

    value: function checkIfUnread(device_token, message) {
      var lastRead = this.model.getLastRead(device_token);

      if (!lastRead) {
        return false;
      }

      if (message) {
        return moment.unix(message.received).isAfter(moment.unix(lastRead));
      }

      return this.getUnreadCount(device_token) > 0;
    }
  }, {
    key: 'getUnreadCount',
    value: function getUnreadCount(device_token) {
      var lastRead = this.model.getLastRead(device_token);

      if (!lastRead) {
        return 0;
      }

      var self = this,
          fromDate = moment.unix(lastRead);

      return this.model.history.filter(function (message) {
        return message.type === self.MESSAGE_TYPES.DEVICE && message.device === device_token;
      }).filter(function (message) {
        return moment.unix(message.received).isAfter(fromDate);
      }).length;
    }
  }, {
    key: 'markAsRead',
    value: function markAsRead(device_token) {
      this.model.setLastRead(device_token, moment().unix());
    }
  }, {
    key: 'sendGift',

    //-----------------------------------------------
    //    Gifts
    //-----------------------------------------------

    value: function sendGift(items) {
      if (!this.model.giftDevice) {
        return;
      }

      this.sendMessage({
        status: this.MESSAGE_STATUSES.GIFT_REQUEST,
        to_device: this.model.giftDevice,
        text: items.reduce(function (result, item) {
          if (result !== '') {
            result += ', ';
          }
          result += item.item.title;
          return result;
        }, '')
      });
    }
  }, {
    key: 'acceptGift',
    value: function acceptGift(device) {
      this.sendMessage({
        status: this.MESSAGE_STATUSES.GIFT_REQUEST_ACCEPTED,
        to_device: device.token
      });
    }
  }, {
    key: 'declineGift',
    value: function declineGift(device) {
      this.sendMessage({
        status: this.MESSAGE_STATUSES.GIFT_REQUEST_DECLINED,
        to_device: device.token
      });
    }
  }, {
    key: 'startGift',
    value: function startGift(device_token) {
      var device = this._LocationModel.getDevice(device_token);

      this.model.giftDevice = device_token;
      this.model.giftSeat = device.seat;
    }
  }, {
    key: 'endGift',
    value: function endGift() {
      this.model.giftDevice = null;
      this.model.giftSeat = null;
    }
  }, {
    key: '_onMessage',

    //------------------------------------------------------------------------
    //
    //  Private methods
    //
    //------------------------------------------------------------------------

    value: function _onMessage(message) {
      if (!message.id) {
        return;
      }

      if (this.model.history.filter(function (msg) {
        return msg.id === message.id;
      }).length > 0) {
        return;
      }

      message.received = moment().unix();

      var device = this._LocationModel.getDevice(message.device),
          giftDevice = this.model.giftDevice,
          seat = this._LocationModel.seat.token;

      if (!device) {
        return;
      }

      if (message.status === this.MESSAGE_STATUSES.CHAT_REQUEST && !this.model.isPendingDevice(device) && !this.model.isActiveDevice(device)) {
        this.model.addPendingDevice(device);
        this.model.chatRequestReceived.dispatch(device.token);
      }

      if (message.status === this.MESSAGE_STATUSES.GIFT_REQUEST && this.model.isActiveDevice(device)) {
        this.model.giftRequestReceived.dispatch(device, message.text);
      }

      if (message.to_device) {
        if (message.status === this.MESSAGE_STATUSES.GIFT_REQUEST_ACCEPTED) {
          if (giftDevice && giftDevice === message.device) {
            this.model.giftAccepted.dispatch(true);
            this.model.giftDevice = null;
          }
        } else if (message.status === this.MESSAGE_STATUSES.GIFT_REQUEST_DECLINED) {
          if (giftDevice && giftDevice === message.device) {
            this.model.giftAccepted.dispatch(false);
            this.model.giftDevice = null;
          }
        } else if (message.status === this.MESSAGE_STATUSES.CHAT_REQUEST_DECLINED) {
          this.declineDevice(device);
        }
      }

      if (message.operation === this.OPERATIONS.CHAT_MESSAGE) {
        message.username = this.getDeviceName(device);
        this.model.addHistory(message);
      }

      this.model.messageReceived.dispatch(message);
    }
  }, {
    key: '_onStatusRequest',
    value: function _onStatusRequest(message) {
      if (message.device === this._LocationModel.device) {
        return;
      }

      this._sendStatusUpdate(message.device);
    }
  }, {
    key: '_onStatusUpdate',
    value: function _onStatusUpdate(message) {
      if (message.device === this._LocationModel.device) {
        return;
      }

      var device = this._LocationModel.getDevice(message.device);

      if (!device) {
        device = {
          token: message.device
        };

        this._LocationModel.addDevice(device);
      }

      if (!message.is_available && device.is_available) {
        var _history = {
          operation: this.OPERATIONS.CHAT_MESSAGE,
          type: this.MESSAGE_TYPES.DEVICE,
          device: device.token,
          status: this.MESSAGE_STATUSES.CHAT_CLOSED,
          to_device: this._LocationModel.device
        };
        this._addMessageID(_history);
        this.model.addHistory(_history);
      }

      device.is_available = Boolean(message.is_available);
      device.is_present = Boolean(message.is_present);
      device.seat = message.seat;
      device.username = message.username;

      this._LocationModel.devicesChanged.dispatch(this._LocationModel.devices);
    }
  }, {
    key: '_sendStatusRequest',
    value: function _sendStatusRequest() {
      if (!this.model.isConnected) {
        return;
      }

      var message = {
        operation: this.OPERATIONS.STATUS_REQUEST,
        device: this._LocationModel.device
      };

      this._SocketClient.send(this._getTopic(message), message);
    }
  }, {
    key: '_sendStatusUpdate',
    value: function _sendStatusUpdate(device) {
      if (!this.model.isConnected) {
        return;
      }

      var profile = this._CustomerModel.profile,
          username = undefined;

      if (profile && profile.first_name) {
        username = profile.first_name + ' ' + profile.last_name;
      }

      var message = {
        operation: this.OPERATIONS.STATUS_UPDATE,
        to_device: device,
        device: this._LocationModel.device,
        seat: this._LocationModel.seat.token,
        is_available: this.model.isEnabled,
        is_present: this.model.isPresent,
        username: username
      };

      this._SocketClient.send(this._getTopic(message), message);
    }
  }, {
    key: '_getTopic',
    value: function _getTopic(message) {
      return message.to_device ? this.ROOMS.DEVICE + message.to_device : this.ROOMS.LOCATION + this._LocationModel.location.token;
    }
  }, {
    key: '_addMessageID',
    value: function _addMessageID(message) {
      message.id = message.id || 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        var r = Math.random() * 16 | 0,
            v = c === 'x' ? r : r & 0x3 | 0x8;
        return v.toString(16);
      });
    }
  }, {
    key: 'model',
    get: function get() {
      return this._ChatModel;
    }
  }]);

  return ChatManager;
})(app.AbstractManager);

//src/js/shared/managers/customermanager.js

window.app.CustomerManager = (function (_app$AbstractManager4) {
  _inherits(CustomerManager, _app$AbstractManager4);

  function CustomerManager(DtsApi, CustomerModel, SessionModel, Logger, SNAPEnvironment) {
    _classCallCheck(this, CustomerManager);

    _get(Object.getPrototypeOf(CustomerManager.prototype), 'constructor', this).call(this, Logger);

    this._DtsApi = DtsApi;
    this._CustomerModel = CustomerModel;
    this._SessionModel = SessionModel;
    this._customerAppId = SNAPEnvironment.customer_application.client_id;
  }

  _createClass(CustomerManager, [{
    key: 'finalize',
    value: function finalize() {
      _get(Object.getPrototypeOf(CustomerManager.prototype), 'finalize', this).call(this);

      return this.logout();
    }
  }, {
    key: 'logout',
    value: function logout() {
      var _this7 = this;

      return new Promise(function (resolve) {
        _this7._SessionModel.customerToken = null;
        _this7._CustomerModel.profile = null;
        resolve();
      });
    }
  }, {
    key: 'guestLogin',
    value: function guestLogin() {
      var _this8 = this;

      return new Promise(function (resolve) {
        _this8._CustomerModel.profile = 'guest';
        resolve();
      });
    }
  }, {
    key: 'login',
    value: function login() {
      return this._loadProfile();
    }
  }, {
    key: 'loginSocial',
    value: function loginSocial() {
      return this._loadProfile();
    }
  }, {
    key: 'signUp',
    value: function signUp(registration) {
      var _this9 = this;

      return new Promise(function (resolve, reject) {
        registration.client_id = _this9._customerAppId;
        _this9._DtsApi.customer.signUp(registration).then(function () {
          _this9.login({
            login: registration.username,
            password: registration.password
          }).then(resolve, reject);
        }, reject);
      });
    }
  }, {
    key: 'updateProfile',
    value: function updateProfile(profile) {
      var _this10 = this;

      return new Promise(function (resolve, reject) {
        _this10._DtsApi.customer.updateProfile(profile).then(function () {
          _this10._CustomerModel.profile = profile;
          resolve();
        }, reject);
      });
    }
  }, {
    key: 'changePassword',
    value: function changePassword(request) {
      var _this11 = this;

      return new Promise(function (resolve, reject) {
        _this11._DtsApi.customer.changePassword(request).then(function () {
          _this11.login({
            login: _this11._CustomerModel.email,
            password: request.new_password
          }).then(resolve, reject);
        }, reject);
      });
    }
  }, {
    key: 'resetPassword',
    value: function resetPassword(request) {
      var _this12 = this;

      return new Promise(function (resolve, reject) {
        _this12._DtsApi.customer.resetPassword(request).then(function () {
          resolve();
        }, reject);
      });
    }
  }, {
    key: '_loadProfile',
    value: function _loadProfile() {
      var _this13 = this;

      return new Promise(function (resolve, reject) {
        _this13._DtsApi.customer.getProfile().then(function (profile) {
          _this13._CustomerModel.profile = profile;
          resolve();
        }, reject);
      });
    }
  }, {
    key: 'model',
    get: function get() {
      return this._CustomerModel;
    }
  }, {
    key: 'customerName',
    get: function get() {
      if (this.model.isEnabled && this.model.isAuthenticated && !this.model.isGuest) {
        var name = '';

        if (this.model.profile.first_name) {
          name += this.model.profile.first_name;
        }

        if (this.model.profile.last_name) {
          name += ' ' + this.model.profile.last_name;
        }

        return name;
      }

      return null;
    }
  }]);

  return CustomerManager;
})(app.AbstractManager);

//src/js/shared/managers/datamanager.js

window.app.DataManager = (function (_app$AbstractManager5) {
  _inherits(DataManager, _app$AbstractManager5);

  /* global signals */

  function DataManager(DataModel, Logger, SNAPEnvironment, SNAPLocation) {
    _classCallCheck(this, DataManager);

    _get(Object.getPrototypeOf(DataManager.prototype), 'constructor', this).call(this, Logger);

    this._DataModel = DataModel;
    this._SNAPEnvironment = SNAPEnvironment;
    this._SNAPLocation = SNAPLocation;

    this.homeChanged = new signals.Signal();
    this.menuChanged = new signals.Signal();
    this.categoryChanged = new signals.Signal();
    this.itemChanged = new signals.Signal();

    this._CACHEABLE_MEDIA_KINDS = [app.MediaKind.advertisementimage, app.MediaKind.backgroundimage, app.MediaKind.elementimage, app.MediaKind.menuimage, app.MediaKind.menucategoryimage, app.MediaKind.menuitemimage, app.MediaKind.menuitemphoto, app.MediaKind.modifierimage, app.MediaKind.promoimage];
  }

  _createClass(DataManager, [{
    key: 'initialize',
    value: function initialize() {
      var _this14 = this;

      _get(Object.getPrototypeOf(DataManager.prototype), 'initialize', this).call(this);

      return new Promise(function (resolve, reject) {
        _this14.model.digest().then(function (digest) {
          _this14._loadContent(digest, false).then(resolve, function (e) {
            _this14._Logger.warn('Error loading cached content: ' + e);
            reject(e);
          });
        }, function (e) {
          _this14._Logger.warn('Unable to load cached content digest. An update is required.');
          resolve('nodigest');
        });
      });
    }
  }, {
    key: 'fetchContent',
    value: function fetchContent() {
      var _this15 = this;

      this._Logger.debug('Loading application content...');

      return new Promise(function (resolve, reject) {
        _this15.model.digest(true).then(function (digest) {
          _this15._loadContent(digest, true).then(function () {
            return resolve();
          }, reject);
        }, reject);
      });
    }
  }, {
    key: 'fetchMedia',
    value: function fetchMedia() {
      var _this16 = this;

      this._Logger.debug('Loading media content...');

      var layout = this._SNAPLocation.theme.layout;

      return this.model.digest().then(function (digest) {
        _this16.model.advertisements().then(function (advertisements) {
          var ads = {
            main: advertisements.main.reduce(_this16._reduceAd, {}),
            misc: advertisements.misc.reduce(_this16._reduceAd, {})
          };

          var medias = (digest.media || []).filter(function (media) {
            return _this16._CACHEABLE_MEDIA_KINDS.indexOf(media.kind) !== -1;
          }).map(function (media) {
            var width, height;

            switch (media.kind) {
              case app.MediaKind.advertisementimage:
                if (ads.main[media.token]) {
                  width = 970;
                  height = 90;
                } else if (ads.misc[media.token]) {
                  width = 300;
                  height = 250;
                }
                break;
              case app.MediaKind.backgroundimage:
                width = 1920;
                height = 1080;
                break;
              case app.MediaKind.elementimage:
                if (layout === 'classic') {
                  width = 160;
                  height = 160;
                } else if (layout === 'galaxies') {
                  width = 100;
                  height = 100;
                }
                break;
              case app.MediaKind.menuimage:
                if (layout === 'classic') {
                  width = 160;
                  height = 160;
                } else if (layout === 'galaxies') {
                  width = 470;
                  height = 410;
                }
                break;
              case app.MediaKind.menucategoryimage:
              case app.MediaKind.menuitemimage:
                if (layout === 'classic') {
                  width = 370;
                  height = 370;
                } else if (layout === 'galaxies') {
                  width = 470;
                  height = 410;
                }
                break;
              case app.MediaKind.menuitemphoto:
                if (layout === 'classic') {
                  width = 600;
                  height = 600;
                } else if (layout === 'galaxies') {
                  width = 470;
                  height = 410;
                }
                break;
              case app.MediaKind.modifierimage:
                width = 100;
                height = 100;
                break;
              case app.MediaKind.promoimage:
                if (layout === 'classic') {
                  width = 160;
                  height = 160;
                }
                break;
            }

            media.width = width;
            media.height = height;

            return media;
          }).filter(function (media) {
            return media.width && media.height;
          });

          _this16._Logger.debug('Digest contains ' + medias.length + ' media files, preloading...');

          var tasks = medias.map(function (m) {
            return _this16.model.media(m, true);
          });
          return Promise.all(tasks);
        });
      });
    }
  }, {
    key: '_filterHome',
    value: function _filterHome(data) {
      var _this17 = this;

      data.menus = data.menus.filter(function (menu) {
        return _this17._SNAPEnvironment.platform === 'desktop' || menu.type !== 3;
      });

      return data;
    }
  }, {
    key: '_filterMenu',
    value: function _filterMenu(data) {
      return data;
    }
  }, {
    key: '_filterCategory',
    value: function _filterCategory(data) {
      var _this18 = this;

      data.items = data.items.filter(function (item) {
        return _this18._SNAPEnvironment.platform === 'desktop' || item.type !== 3;
      });

      return data;
    }
  }, {
    key: '_loadContent',
    value: function _loadContent(digest, fetch) {
      var _this19 = this;

      var menuSets = (digest.menu_sets || []).map(function (m) {
        return _this19.model.menu(m.token, fetch);
      });
      var menuCategories = (digest.menu_categories || []).map(function (c) {
        return _this19.model.category(c.token, fetch);
      });
      var menuItems = (digest.menu_items || []).map(function (i) {
        return _this19.model.item(i.token, fetch);
      });

      this._Logger.debug('Digest contains ' + menuSets.length + ' menus, ' + (menuCategories.length + ' categories and ') + (menuItems.length + ' items, ' + (fetch ? 'updating from server' : 'loading from cache') + '...'));

      var tasks = [this.model.home(fetch), this.model.advertisements(fetch), this.model.backgrounds(fetch), this.model.elements(fetch), this.model.surveys(fetch)].concat(menuSets).concat(menuCategories).concat(menuItems);

      return Promise.all(tasks);
    }
  }, {
    key: '_reduceAd',
    value: function _reduceAd(result, item) {
      result[item.src] = item;
      return result;
    }
  }, {
    key: 'model',
    get: function get() {
      return this._DataModel;
    }
  }, {
    key: 'home',
    get: function get() {
      return this._home;
    },
    set: function set(value) {
      var _this20 = this;

      if (this._home === value) {
        return;
      }

      if (value) {
        this._home = value;
        this.model.home().then(function (home) {
          if (_this20._home) {
            home = _this20._filterHome(home);
            _this20.homeChanged.dispatch(home);
          }
        });
      } else {
        this._home = undefined;
        this.homeChanged.dispatch(undefined);
      }
    }
  }, {
    key: 'menu',
    get: function get() {
      return this._menu;
    },
    set: function set(value) {
      var _this21 = this;

      if (this._menu === value) {
        return;
      }

      if (value) {
        this._menu = value;

        this.model.menu(value).then(function (menu) {
          if (_this21._menu) {
            menu = _this21._filterMenu(menu);
            _this21.menuChanged.dispatch(menu);
          }
        });
      } else {
        this._menu = undefined;
        this.menuChanged.dispatch(undefined);
      }
    }
  }, {
    key: 'category',
    get: function get() {
      return this._category;
    },
    set: function set(value) {
      var _this22 = this;

      if (this._category === value) {
        return;
      }

      if (value) {
        this._category = value;

        this.model.category(value).then(function (category) {
          if (_this22._category) {
            category = _this22._filterCategory(category);
            _this22.categoryChanged.dispatch(category);
          }
        });
      } else {
        this._category = undefined;
        this.categoryChanged.dispatch(undefined);
      }
    }
  }, {
    key: 'item',
    get: function get() {
      return this._item;
    },
    set: function set(value) {
      var _this23 = this;

      if (this._item === value) {
        return;
      }

      if (value) {
        this._item = value;

        this.model.item(value).then(function (item) {
          if (_this23._item) {
            _this23.itemChanged.dispatch(item);
          }
        });
      } else {
        this._item = undefined;
        this.itemChanged.dispatch(undefined);
      }
    }
  }]);

  return DataManager;
})(app.AbstractManager);

//src/js/shared/managers/dialogmanager.js

window.app.DialogManager = (function (_app$AbstractManager6) {
  _inherits(DialogManager, _app$AbstractManager6);

  function DialogManager(Logger) {
    _classCallCheck(this, DialogManager);

    _get(Object.getPrototypeOf(DialogManager.prototype), 'constructor', this).call(this, Logger);

    this.alertRequested = new signals.Signal();
    this.notificationRequested = new signals.Signal();
    this.confirmRequested = new signals.Signal();
    this.jobStarted = new signals.Signal();
    this.jobEnded = new signals.Signal();
    this._jobs = 0;
  }

  _createClass(DialogManager, [{
    key: 'alert',
    value: function alert(message, title) {
      var self = this;
      return new Promise(function (resolve, reject) {
        self.alertRequested.dispatch(message, title, resolve, reject);
      });
    }
  }, {
    key: 'notification',
    value: function notification(message) {
      this.notificationRequested.dispatch(message);
    }
  }, {
    key: 'confirm',
    value: function confirm(message) {
      var self = this;
      return new Promise(function (resolve, reject) {
        self.confirmRequested.dispatch(message, resolve, reject);
      });
    }
  }, {
    key: 'startJob',
    value: function startJob() {
      this._jobs++;

      if (this._jobs === 1) {
        this.jobStarted.dispatch();
      }

      return this._jobs;
    }
  }, {
    key: 'endJob',
    value: function endJob(id) {
      this._jobs--;

      if (this._jobs === 0) {
        this.jobEnded.dispatch();
      }
    }
  }, {
    key: 'jobs',
    get: function get() {
      return this._jobs;
    }
  }]);

  return DialogManager;
})(app.AbstractManager);

//src/js/shared/managers/locationmanager.js

window.app.LocationManager = (function (_app$AbstractManager7) {
  _inherits(LocationManager, _app$AbstractManager7);

  function LocationManager(DataModel, DtsApi, LocationModel, Logger) {
    _classCallCheck(this, LocationManager);

    _get(Object.getPrototypeOf(LocationManager.prototype), 'constructor', this).call(this, Logger);

    this._DataModel = DataModel;
    this._DtsApi = DtsApi;
    this._LocationModel = LocationModel;
  }

  _createClass(LocationManager, [{
    key: 'loadConfig',
    value: function loadConfig() {
      var self = this,
          model = self._LocationModel;

      return new Promise(function (resolve, reject) {
        function loadConfig() {
          self._Logger.debug('Loading location config...');

          model.fetch('location').then(function (location) {
            self._Logger.debug('New \'' + location.location_name + '\' location config loaded.');
            resolve(location);
          }, function (e) {
            if (!model.location) {
              return reject(e);
            }

            self._Logger.debug('Fallback to stored location \'' + model.location.location_name + '\'.');
            resolve(model.location);
          });
        }

        model.initialize().then(function () {
          self._Logger.debug('Loading device info...');

          model.fetch('device').then(function (device) {
            self._Logger.debug('New device loaded: token=' + device.token + ';location=' + device.location_token);
            loadConfig();
          }, function (e) {
            if (!model.device) {
              return reject(e);
            }

            self._Logger.debug('Fallback to stored device: token=' + model.device.token + ';location=' + model.device.location_token);
            loadConfig();
          });
        }, reject);
      });
    }
  }, {
    key: 'loadSeats',
    value: function loadSeats() {
      var self = this,
          model = self._LocationModel;

      return new Promise(function (resolve, reject) {
        function loadSeat() {
          self._Logger.debug('Loading current seat info...');

          model.fetch('seat').then(function (seat) {
            self._Logger.debug('New seat data loaded for #' + seat.token + '.');
            resolve(seat);
          }, function (e) {
            if (!model.seat) {
              return reject(e);
            }

            self._Logger.debug('Fallback to stored seat #' + model.seat.token + '.');
            resolve(model.seat);
          });
        }

        model.initialize().then(function () {
          self._Logger.debug('Loading location seats...');

          model.fetch('seats').then(function (seats) {
            self._Logger.debug('Location seats loaded (' + seats.length + ').');
            loadSeat();
          }, function (e) {
            if (!model.seats) {
              return reject(e);
            }

            self._Logger.debug('Fallback to stored seats (' + model.seats.length + ').');
            loadSeat();
          });
        }, reject);
      });
    }
  }, {
    key: 'model',
    get: function get() {
      return this._LocationModel;
    }
  }]);

  return LocationManager;
})(app.AbstractManager);

//src/js/shared/managers/navigationmanager.js

window.app.NavigationManager = (function (_app$AbstractManager8) {
  _inherits(NavigationManager, _app$AbstractManager8);

  /* global signals */

  function NavigationManager($rootScope, $location, $window, AnalyticsModel, Logger) {
    var _this24 = this;

    _classCallCheck(this, NavigationManager);

    _get(Object.getPrototypeOf(NavigationManager.prototype), 'constructor', this).call(this, Logger);

    this.$$location = $location;
    this.$$window = $window;
    this._AnalyticsModel = AnalyticsModel;

    this.locationChanging = new signals.Signal();
    this.locationChanged = new signals.Signal();

    $rootScope.$on('$locationChangeSuccess', function () {
      var path = _this24.$$location.path();

      if (path !== _this24._path) {
        _this24._path = path;
        _this24._location = _this24.getLocation(path);
        _this24.locationChanging.dispatch(_this24.location);
      }

      _this24.locationChanged.dispatch(_this24.location);
    });

    this.locationChanged.add(function (location) {
      return _this24._AnalyticsModel.logNavigation(location);
    });
  }

  _createClass(NavigationManager, [{
    key: 'getPath',
    value: function getPath(location) {
      if (!location) {
        return null;
      }

      if (location.token) {
        return '/' + location.type + '/' + location.token;
      } else if (location.url) {
        return '/' + location.type + '/' + encodeURIComponent(location.url);
      }

      if (location.type === 'home') {
        return '/';
      }

      return '/' + location.type;
    }
  }, {
    key: 'getLocation',
    value: function getLocation(path) {
      var match = /\/(\w+)?(\/(.+))?/.exec(path);

      if (match && match.length > 1) {
        var type = match[1];
        var param = match[3];

        if (param !== undefined) {
          switch (type) {
            case 'url':
              return { type: type, url: decodeURIComponent(param) };

            default:
              return { type: type, token: param };
          }
        }

        if (!type) {
          type = 'home';
        }

        return { type: type };
      }

      return {};
    }
  }, {
    key: 'goBack',
    value: function goBack() {
      if (this.location.type !== 'home' && this.location.type !== 'signin') {
        this.$$window.history.back();
      }
    }
  }, {
    key: 'getQueryParameter',
    value: function getQueryParameter(name) {
      var regex = new RegExp(name + '=([^&#]*)'),
          results = regex.exec(window.location.hash);
      return results === null ? undefined : decodeURIComponent(results[1].replace(/\+/g, ' '));
    }
  }, {
    key: 'path',
    get: function get() {
      return this._path;
    },
    set: function set(value) {
      var i = value.indexOf('#'),
          path = i !== -1 ? value.substring(i + 1) : value;

      this.location = this.getLocation(path);
    }
  }, {
    key: 'location',
    get: function get() {
      return this._location;
    },
    set: function set(value) {
      if (this._location === value) {
        return;
      } else if (this.location.type === value.type && this.location.token === value.token) {
        return;
      }

      this._location = value;
      this.locationChanging.dispatch(this.location);

      this._path = this.getPath(this.location);
      this.$$location.path(this._path);
    }
  }]);

  return NavigationManager;
})(app.AbstractManager);

//src/js/shared/managers/ordermanager.js

window.app.OrderManager = (function (_app$AbstractManager9) {
  _inherits(OrderManager, _app$AbstractManager9);

  function OrderManager(ChatModel, CustomerModel, DtsApi, OrderModel, Logger) {
    var _this25 = this;

    _classCallCheck(this, OrderManager);

    _get(Object.getPrototypeOf(OrderManager.prototype), 'constructor', this).call(this, Logger);

    this._DtsApi = DtsApi;
    this._ChatModel = ChatModel;
    this._CustomerModel = CustomerModel;
    this._OrderModel = OrderModel;

    this._ChatModel.giftSeatChanged.add(function (giftSeat) {
      if (_this25.model.orderCartStash.length === 0) {
        _this25.model.orderCartStash = _this25.model.orderCart;
        _this25.model.orderCart = [];
      }

      if (!giftSeat) {
        _this25.model.orderCart = _this25.model.orderCartStash;
      }
    });
  }

  _createClass(OrderManager, [{
    key: 'finalize',
    value: function finalize() {
      var _this26 = this;

      _get(Object.getPrototypeOf(OrderManager.prototype), 'finalize', this).call(this);

      return new Promise(function (resolve) {
        _this26.model.clearWatcher(_this26.model.REQUEST_KIND_ORDER);
        _this26.model.clearWatcher(_this26.model.REQUEST_KIND_ASSISTANCE);
        _this26.model.clearWatcher(_this26.model.REQUEST_KIND_CLOSEOUT);

        _this26.clearCart();
        _this26.clearCheck();
        _this26.model.orderTicket = {};

        resolve();
      });
    }
  }, {
    key: 'addToCart',

    //-----------------------------------------------
    //    Cart and checks
    //-----------------------------------------------

    value: function addToCart(item) {
      this.model.orderCart.push(item);
      this.model.orderCartChanged.dispatch(this.model.orderCart);

      if (this._ChatModel.giftSeat) {
        this._ChatModel.giftReady.dispatch();
      }

      return this.model.orderCart;
    }
  }, {
    key: 'removeFromCart',
    value: function removeFromCart(item) {
      this.model.orderCart = this.model.orderCart.filter(function (entry) {
        return entry !== item;
      });
      return this.model.orderCart;
    }
  }, {
    key: 'clearCart',
    value: function clearCart() {
      this.model.orderCart = [];
      this.model.orderCartStash = [];

      this._ChatModel.giftSeat = null;
    }
  }, {
    key: 'clearCheck',
    value: function clearCheck(items) {
      var result = [];

      if (items) {
        result = this.model.orderCheck;

        items.forEach(function (item) {
          for (var i = 0; i < result.length; i++) {
            if (result[i].request === item.request) {
              result[i].quantity -= item.quantity;
              break;
            }
          }
        });

        result = result.filter(function (item) {
          return item.quantity > 0;
        });
      }

      this.model.orderCheck = result;
    }
  }, {
    key: 'submitCart',
    value: function submitCart(options) {
      if (this.model.orderCart.length === 0) {
        return;
      }

      options = options || 0;

      if (this._ChatModel.giftSeat) {
        options |= 4;
      }

      var self = this;

      var request = {
        kind: this.model.REQUEST_KIND_ORDER,
        items: this.model.orderCart.map(function (entry) {
          return {
            token: entry.item.order.token,
            quantity: entry.quantity,
            modifiers: entry.modifiers.reduce(function (result, category) {
              return result.concat(category.modifiers.reduce(function (result, modifier) {
                if (modifier.isSelected) {
                  result.push(modifier.data.token);
                }
                return result;
              }, []));
            }, []),
            note: entry.name || ''
          };
        }),
        ticket_token: self.model.orderTicket.token,
        seat_token: self._ChatModel.giftSeat,
        options: options
      };

      return new Promise(function (resolve, reject) {
        self._DtsApi.waiter.placeOrder(request).then(function (response) {
          if (response.item_tokens) {
            for (var i = 0; i < response.item_tokens.length; i++) {
              self.model.orderCart[i].request = response.item_tokens[i];
            }
          }

          self.model.orderTicket = { token: response.ticket_token };

          self.model.orderCheck = self.model.orderCheck.concat(self.model.orderCart);
          self.clearCart();

          self._ChatModel.giftSeat = null;

          var watcher = self._createWatcher(self.model.REQUEST_KIND_ORDER, response);
          resolve(watcher);
        }, reject);
      });
    }
  }, {
    key: 'requestCloseout',
    value: function requestCloseout() {
      var self = this;
      var request = {
        kind: this.model.REQUEST_KIND_CLOSEOUT,
        ticket_token: this.model.orderTicket.token
      };

      return this._DtsApi.waiter.placeRequest(request).then(function (response) {
        self.model.orderTicket = { token: response.ticket_token };
        return self._createWatcher(self.model.REQUEST_KIND_CLOSEOUT, response);
      });
    }
  }, {
    key: 'requestAssistance',
    value: function requestAssistance() {
      var self = this;
      var request = {
        kind: this.model.REQUEST_KIND_ASSISTANCE,
        ticket_token: this.model.orderTicket.token
      };

      return this._DtsApi.waiter.placeRequest(request).then(function (response) {
        self._saveTicket(response);
        return self._createWatcher(self.model.REQUEST_KIND_ASSISTANCE, response);
      });
    }
  }, {
    key: 'copyItems',
    value: function copyItems(items) {
      return items.slice(0).map(function (item) {
        return item.clone();
      });
    }
  }, {
    key: 'calculatePrice',
    value: function calculatePrice(entry) {
      var modifiers = entry.modifiers.reduce(function (total, category) {
        return total + category.modifiers.reduce(function (total, modifier) {
          return total + (modifier.isSelected && modifier.data.price > 0 ? modifier.data.price : 0);
        }, 0);
      }, 0);

      return entry.quantity * (modifiers + entry.item.order.price);
    }
  }, {
    key: 'calculateTotalPrice',
    value: function calculateTotalPrice(entries) {
      return entries ? entries.reduce(function (total, entry) {
        return total + OrderManager.prototype.calculatePrice(entry);
      }, 0) : 0;
    }
  }, {
    key: 'calculateTax',
    value: function calculateTax(entries) {
      return this.calculateTotalPrice(entries) * this.model.tax;
    }
  }, {
    key: 'uploadSignature',
    value: function uploadSignature(data) {
      return this._DtsApi.upload.uploadTemp(data, 'image/png', 'signature.png').then(function (response) {
        return response.token;
      });
    }
  }, {
    key: 'generatePaymentToken',
    value: function generatePaymentToken() {
      var _this27 = this;

      return new Promise(function (resolve, reject) {
        if (_this27._CustomerModel.isAuthenticated && !_this27._CustomerModel.isGuest) {
          _this27._DtsApi.customer.initializePayment().then(function (response) {
            resolve(response.token);
          }, reject);
        } else {
          _this27._DtsApi.waiter.initializePayment().then(function (response) {
            resolve(response.token);
          }, reject);
        }
      });
    }
  }, {
    key: 'payOrder',
    value: function payOrder(request) {
      request.ticket_token = this.model.orderTicket.token;
      return this._DtsApi.waiter.submitCheckoutPayment(request);
    }
  }, {
    key: 'requestReceipt',
    value: function requestReceipt(request) {
      request.ticket_token = this.model.orderTicket.token;
      return this._DtsApi.waiter.requestReceipt(request);
    }
  }, {
    key: '_saveTicket',
    value: function _saveTicket(response) {
      this.model.orderTicket = {
        token: response.ticket_token
      };
    }
  }, {
    key: '_createWatcher',
    value: function _createWatcher(kind, ticket) {
      var watcher = new app.RequestWatcher(ticket, this._DtsApi);
      this.model.addWatcher(kind, watcher);

      return watcher;
    }
  }, {
    key: 'model',
    get: function get() {
      return this._OrderModel;
    }
  }]);

  return OrderManager;
})(app.AbstractManager);

//src/js/shared/managers/sessionmanager.js

window.app.SessionManager = (function (_app$AbstractManager10) {
  _inherits(SessionManager, _app$AbstractManager10);

  function SessionManager(SNAPEnvironment, AnalyticsModel, CustomerModel, LocationModel, OrderModel, SurveyModel, storageProvider, Logger) {
    var _this28 = this;

    _classCallCheck(this, SessionManager);

    _get(Object.getPrototypeOf(SessionManager.prototype), 'constructor', this).call(this, Logger);

    this.sessionStarted = new signals.Signal();
    this.sessionEnded = new signals.Signal();

    this._SNAPEnvironment = SNAPEnvironment;
    this._AnalyticsModel = AnalyticsModel;
    this._CustomerModel = CustomerModel;
    this._LocationModel = LocationModel;
    this._OrderModel = OrderModel;
    this._SurveyModel = SurveyModel;

    this._store = storageProvider('snap_seat_session');

    this._CustomerModel.profileChanged.add(function (customer) {
      if (!_this28._session || !customer) {
        return;
      }

      _this28._session.customer = customer.token;
      _this28._store.write(_this28._session);
    });

    this._LocationModel.seatChanged.add(function (seat) {
      if (!_this28._session || !seat) {
        return;
      }

      _this28._session.seat = seat.token;
      _this28._store.write(_this28._session);
    });

    this._OrderModel.orderTicketChanged.add(function (ticket) {
      if (!self._session || !ticket || !ticket.token) {
        return;
      }

      _this28._session.ticket = ticket.token;
      _this28._store.write(_this28._session);
    });
  }

  _createClass(SessionManager, [{
    key: 'initialize',
    value: function initialize() {
      var _this29 = this;

      _get(Object.getPrototypeOf(SessionManager.prototype), 'initialize', this).call(this);

      return new Promise(function (resolve, reject) {
        _this29._store.read().then(function (data) {
          _this29._session = data;

          if (!data) {
            _this29._startSession();
          }

          resolve();
        }, reject);
      });
    }
  }, {
    key: 'finalize',
    value: function finalize() {
      _get(Object.getPrototypeOf(SessionManager.prototype), 'finalize', this).call(this);

      return this._store.clear();
    }
  }, {
    key: 'endSession',
    value: function endSession() {
      var _this30 = this;

      return new Promise(function (resolve, reject) {
        _this30._store.read().then(function (s) {
          _this30._session = null;

          if (s) {
            _this30._Logger.debug('Seat session ' + s.id + ' ended.');

            s.ended = new Date();
            _this30._AnalyticsModel.logSession(s);
            _this30.sessionEnded.dispatch(s);
          }

          _this30._store.clear().then(resolve, reject);
        }, reject);
      });
    }
  }, {
    key: '_startSession',
    value: function _startSession() {
      var seat = this._LocationModel.seat;

      this._session = {
        id: this._generateID(),
        seat: seat ? seat.token : undefined,
        platform: this._SNAPEnvironment.platform,
        started: new Date()
      };

      this._Logger.debug('Seat session ' + this._session.id + ' started.');

      this._store.write(this._session);
      this.sessionStarted.dispatch(this._session);
    }
  }, {
    key: '_generateID',
    value: function _generateID() {
      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        var r = Math.random() * 16 | 0,
            v = c === 'x' ? r : r & 0x3 | 0x8;
        return v.toString(16);
      });
    }
  }, {
    key: 'session',
    get: function get() {
      return this._session;
    }
  }, {
    key: 'guestCount',
    get: function get() {
      return this._session.guest_count || 1;
    },
    set: function set(value) {
      if (this._session.guest_count === value) {
        return;
      }

      this._session.guest_count = value;
      this._store.write(this._session);
    }
  }, {
    key: 'specialEvent',
    get: function get() {
      return this._session.special_event;
    },
    set: function set(value) {
      if (this._session.special_event === value) {
        return;
      }

      this._session.special_event = value;
      this._store.write(this._session);
    }
  }]);

  return SessionManager;
})(app.AbstractManager);

//src/js/shared/managers/shellmanager.js

window.app.ShellManager = (function (_app$AbstractManager11) {
  _inherits(ShellManager, _app$AbstractManager11);

  function ShellManager(DataModel, LocationModel, ShellModel, SNAPLocation, Environment, Hosts, Logger) {
    var _this31 = this;

    _classCallCheck(this, ShellManager);

    _get(Object.getPrototypeOf(ShellManager.prototype), 'constructor', this).call(this, Logger);

    this._DataModel = DataModel;
    this._LocationModel = LocationModel;
    this._ShellModel = ShellModel;
    this._SNAPLocation = SNAPLocation;
    this._Environment = Environment;
    this._Hosts = Hosts;

    this.locale = this._LocationModel.location.locale;
    this._LocationModel.locationChanged.add(function (location) {
      _this31.locale = location.locale;
    });
  }

  _createClass(ShellManager, [{
    key: 'initialize',
    value: function initialize() {
      _get(Object.getPrototypeOf(ShellManager.prototype), 'initialize', this).call(this);

      var self = this;

      var taskBackgrounds = this._DataModel.backgrounds().then(function (response) {
        self._ShellModel.backgrounds = response.main.map(function (item) {
          return {
            media: item.src
          };
        });

        self._ShellModel.screensavers = response.screensaver.map(function (item) {
          return {
            media: item.src
          };
        });

        self._ShellModel.pageBackgrounds = response.pages.map(function (item) {
          return {
            media: item.background.src,
            destination: item.destination
          };
        });
      });

      var taskElements = this._DataModel.elements().then(function (response) {
        var layout = self._SNAPLocation.theme.layout;

        var elements = {};

        switch (layout) {
          case 'classic':
            elements = {
              'button_home': self.getAssetUrl('images/button-home.png'),
              'button_back': self.getAssetUrl('images/button-back.png'),
              'button_cart': self.getAssetUrl('images/button-cart.png'),
              'button_rotate': self.getAssetUrl('images/button-rotate.png'),
              'button_waiter': self.getAssetUrl('images/button-assistance.png'),
              'button_check': self.getAssetUrl('images/button-closeout.png'),
              'button_survey': self.getAssetUrl('images/button-survey.png'),
              'button_chat': self.getAssetUrl('images/button-chat.png')
            };
            break;
          case 'galaxies':
            elements = {
              'button_back': self.getAssetUrl('images/button-back.png'),
              'button_rotate': self.getAssetUrl('images/button-rotate.png'),
              'button_settings': self.getAssetUrl('images/button-settings.png'),
              'location_logo': self.getAssetUrl('images/button-logo.png')
            };
            break;
        }

        for (var i = 0; i < response.elements.length; i++) {
          var element = response.elements[i];
          elements[element.slot] = element.src;
        }

        self._ShellModel.elements = elements;
      });

      return Promise.all([taskBackgrounds, taskElements]);
    }
  }, {
    key: 'formatPrice',
    value: function formatPrice(price) {
      return this._ShellModel.priceFormat.replace(/{(\d+)}/g, function () {
        return price.toFixed(2);
      });
    }
  }, {
    key: 'getPageBackgrounds',
    value: function getPageBackgrounds(location) {
      return this._ShellModel.pageBackgrounds.filter(function (item) {
        return item.destination.type === location.type && (item.destination.token === location.token && location.token || item.destination.url === location.url && location.url);
      });
    }
  }, {
    key: 'getAssetUrl',
    value: function getAssetUrl(file) {
      var path = this._getPath(this._Hosts['static']);

      return path + 'assets/' + this._SNAPLocation.theme.layout + '/' + file;
    }
  }, {
    key: 'getPartialUrl',
    value: function getPartialUrl(name) {
      return this.getAssetUrl('partials/' + name + '.html');
    }
  }, {
    key: 'getMediaUrl',
    value: function getMediaUrl(media, width, height, extension) {
      if (!media) {
        return null;
      }

      var path = this._getPath(this._Hosts.media);

      if (typeof media === 'string' || media instanceof String) {
        if (media.indexOf('/') === -1 && media.indexOf('.') === -1) {
          extension = extension || 'jpg';
          return path + 'media/' + media + '_' + width + '_' + height + '.' + extension;
        }

        return media;
      }

      if (!media.token) {
        return media;
      }

      var type = this.getMediaType(media);
      var url = path + 'media/' + media.token;

      if (!type) {
        return null;
      } else if (type === 'video') {
        url += '.webm';
      } else if (type === 'flash') {
        url += '.swf';
      } else if (type === 'image') {
        if (width && height) {
          url += '_' + width + '_' + height;
        }

        if (extension) {
          url += '.' + extension;
        } else {
          if (!media || !media.mime_type) {
            return undefined;
          }
          switch (media.mime_type) {
            case 'image/png':
              url += '.png';
              break;
            default:
              url += '.jpg';
              break;
          }
        }
      }

      return url;
    }
  }, {
    key: 'getMediaType',
    value: function getMediaType(media) {
      if (!media || !media.mime_type) {
        return undefined;
      }

      if (media.mime_type.substring(0, 5) === 'image') {
        return 'image';
      } else if (media.mime_type.substring(0, 5) === 'video') {
        return 'video';
      } else if (media.mime_type === 'application/x-shockwave-flash') {
        return 'flash';
      }

      return undefined;
    }
  }, {
    key: '_getPath',
    value: function _getPath(res) {
      var path = '';

      if (res.protocol) {
        path += res.profocol + '://';
      } else if (res.secure) {
        path += 'https://';
      } else if (res.secure === false) {
        path += 'http://';
      }

      if (res.host) {
        if (!res.protocol && path === '') {
          path += '//';
        }
        path += res.host;
      }

      if (res.path) {
        path += res.path;
      }

      if (path.length > 0 && !path.endsWith('/')) {
        path += '/';
      }

      return path;
    }
  }, {
    key: 'locale',
    get: function get() {
      return this._locale;
    },
    set: function set(value) {
      if (this._locale === value) {
        return;
      }
      this._locale = value;

      var format = '{0}',
          currency = '';

      switch (this._locale) {
        case 'ro_MD':
          format = '{0} Lei';
          currency = '';
          break;
        case 'zh_MO':
          format = 'MOP$ {0}';
          currency = '';
          break;
        case 'en_US':
          format = '${0}';
          currency = 'USD';
          break;
      }

      this._ShellModel.priceFormat = format;
      this._ShellModel.currency = currency;
    }
  }, {
    key: 'model',
    get: function get() {
      return this._ShellModel;
    }
  }, {
    key: 'tileStyle',
    get: function get() {
      var style = 'tile';

      switch (this._SNAPLocation.theme.tiles_style) {
        case 'regular':
          style += ' tile-regular';
          break;
      }
      //style += ' tile-regular';
      return style;
    }
  }, {
    key: 'predicateEven',
    get: function get() {
      var index = 0;
      return function () {
        return index++ % 2 === 1;
      };
    }
  }, {
    key: 'predicateOdd',
    get: function get() {
      var index = 0;
      return function () {
        return index++ % 2 === 0;
      };
    }
  }]);

  return ShellManager;
})(app.AbstractManager);

//src/js/shared/managers/socialmanager.js

window.app.SocialManager = (function (_app$AbstractManager12) {
  _inherits(SocialManager, _app$AbstractManager12);

  /* global URI */

  function SocialManager(SNAPEnvironment, DtsApi, WebBrowser, Logger) {
    _classCallCheck(this, SocialManager);

    _get(Object.getPrototypeOf(SocialManager.prototype), 'constructor', this).call(this, Logger);

    this._SNAPEnvironment = SNAPEnvironment;
    this._DtsApi = DtsApi;
    this._WebBrowser = WebBrowser;
  }

  _createClass(SocialManager, [{
    key: 'initialize',
    value: function initialize() {
      _get(Object.getPrototypeOf(SocialManager.prototype), 'initialize', this).call(this);
    }
  }, {
    key: 'loginFacebook',
    value: function loginFacebook() {
      var _this32 = this;

      var loginUrl = URI('https://www.facebook.com/dialog/oauth').addSearch('client_id', this._SNAPEnvironment.facebook_application.client_id).addSearch('redirect_uri', this._SNAPEnvironment.facebook_application.redirect_url).addSearch('response_type', 'token').addSearch('scope', 'public_profile,email').toString();

      return new Promise(function (resolve, reject) {
        _this32._Logger.debug('Logging in with Facebook.');

        _this32._WebBrowser.open(loginUrl).then(function (web) {
          web.onNavigated.add(function (url) {
            if (url.indexOf(_this32._SNAPEnvironment.facebook_application.redirect_url) === 0) {
              var facebookAuth = URI('?' + URI(url).fragment()).search(true);

              if (facebookAuth.error || !facebookAuth.access_token) {
                _this32._Logger.debug('Facebook callback error: ' + facebookAuth.error);
                web.exit();
                return reject(facebookAuth.error);
              }

              _this32._Logger.debug('Facebook callback received.');

              _this32._DtsApi.customer.signUpFacebook({
                access_token: facebookAuth.access_token,
                client_id: _this32._SNAPEnvironment.customer_application.client_id
              }).then(function (ticket) {
                _this32._Logger.debug('Facebook signin complete.');

                var url = _this32._DtsApi.oauth2.getAuthConfirmUrl(ticket.ticket_id, {
                  client_id: _this32._SNAPEnvironment.customer_application.client_id,
                  redirect_uri: _this32._SNAPEnvironment.customer_application.callback_url,
                  response_type: 'token'
                });

                web.navigate(url);
              }, function (e) {
                _this32._Logger.debug('Error getting a Facebook login ticket.');
                web.exit();
                reject();
              });
            } else if (url.indexOf(_this32._SNAPEnvironment.customer_application.callback_url) === 0) {
              var customerAuth = URI('?' + URI(url).fragment()).search(true);

              if (customerAuth.error || !customerAuth.access_token) {
                _this32._Logger.debug('Facebook customer callback error: ' + customerAuth.error);
                return reject(customerAuth.error);
              }

              _this32._Logger.debug('Facebook customer login complete.');

              resolve(customerAuth);
              web.exit();
            }
          });

          web.onExit.add(function () {
            _this32._Logger.debug('Facebook login canceled.');
            reject();
          });
        }, reject);
      });
    }
  }, {
    key: 'loginGooglePlus',
    value: function loginGooglePlus() {
      var _this33 = this;

      return new Promise(function (resolve, reject) {
        var state = _this33._generateToken();
        var loginUrl = URI('https://accounts.google.com/o/oauth2/auth').addSearch('client_id', _this33._SNAPEnvironment.googleplus_application.client_id).addSearch('redirect_uri', _this33._SNAPEnvironment.googleplus_application.redirect_url).addSearch('response_type', 'code').addSearch('scope', 'https://www.googleapis.com/auth/plus.login email').addSearch('access_type', 'offline').addSearch('state', state).toString();

        _this33._Logger.debug('Logging in with Google+.');

        _this33._WebBrowser.open(loginUrl).then(function (web) {
          web.onNavigated.add(function (url) {
            if (url.indexOf(_this33._SNAPEnvironment.googleplus_application.redirect_url) === 0) {
              var googleplusAuth = URI(url).search(true);

              if (googleplusAuth.error || !googleplusAuth.code || googleplusAuth.state !== state) {
                _this33._Logger.debug('Google+ callback error: ' + googleplusAuth.error);
                web.exit();
                return reject(googleplusAuth.error);
              }

              _this33._Logger.debug('Google+ callback received.');

              _this33._DtsApi.customer.signUpGooglePlus({
                code: googleplusAuth.code,
                client_id: _this33._SNAPEnvironment.googleplus_application.client_id
              }).then(function (ticket) {
                _this33._Logger.debug('Google+ signin complete.');

                var url = _this33._DtsApi.oauth2.getAuthConfirmUrl(ticket.ticket_id, {
                  client_id: _this33._SNAPEnvironment.customer_application.client_id,
                  redirect_uri: _this33._SNAPEnvironment.customer_application.callback_url,
                  response_type: 'token'
                });

                web.navigate(url);
              }, function (e) {
                _this33._Logger.debug('Error getting a Google+ login ticket.');
                web.exit();
                reject();
              });
            } else if (url.indexOf(_this33._SNAPEnvironment.customer_application.callback_url) === 0) {
              var customerAuth = URI('?' + URI(url).fragment()).search(true);

              if (customerAuth.error || !customerAuth.access_token) {
                _this33._Logger.debug('Google+ customer callback error: ' + customerAuth.error);
                return reject(customerAuth.error);
              }

              _this33._Logger.debug('Google+ customer login complete.');

              resolve(customerAuth);
              web.exit();
            }
          });

          web.onExit.add(function () {
            _this33._Logger.debug('Google+ login canceled.');
            reject();
          });
        }, reject);
      });
    }
  }, {
    key: 'loginTwitter',
    value: function loginTwitter() {
      var _this34 = this;

      return new Promise(function (resolve, reject) {
        _this34._Logger.debug('Logging in with Twitter.');

        _this34._DtsApi.customer.signUpTwitterRequestToken({
          oauth_callback: _this34._SNAPEnvironment.twitter_application.redirect_url
        }).then(function (token) {
          var url = URI('https://api.twitter.com/oauth/authenticate').addSearch('oauth_token', token.oauth_token).addSearch('force_login', 'true').toString();

          _this34._Logger.debug('Twitter request token received.');

          var tokenSecret = token.oauth_token_secret;

          _this34._WebBrowser.open(url).then(function (web) {
            web.onNavigated.add(function (url) {
              if (url.indexOf(_this34._SNAPEnvironment.twitter_application.redirect_url) === 0) {
                var twitterAuth = URI(url).search(true);

                if (twitterAuth.error || !twitterAuth.oauth_verifier) {
                  _this34._Logger.debug('Twitter callback error: ' + twitterAuth.error);
                  web.exit();
                  return reject(twitterAuth.error);
                }

                _this34._Logger.debug('Twitter callback received.');

                _this34._DtsApi.customer.signUpTwitter({
                  client_id: _this34._SNAPEnvironment.customer_application.client_id,
                  request_token: twitterAuth.oauth_token,
                  request_token_secret: tokenSecret,
                  request_token_verifier: twitterAuth.oauth_verifier
                }).then(function (ticket) {
                  _this34._Logger.debug('Twitter signin complete.');

                  var url = _this34._DtsApi.oauth2.getAuthConfirmUrl(ticket.ticket_id, {
                    client_id: _this34._SNAPEnvironment.customer_application.client_id,
                    redirect_uri: _this34._SNAPEnvironment.customer_application.callback_url,
                    response_type: 'token'
                  });

                  web.navigate(url);
                }, reject);
              } else if (url.indexOf(_this34._SNAPEnvironment.customer_application.callback_url) === 0) {
                var customerAuth = URI('?' + URI(url).fragment()).search(true);

                if (customerAuth.error || !customerAuth.access_token) {
                  _this34._Logger.debug('Twitter customer callback error: ' + customerAuth.error);
                  web.exit();
                  return reject(customerAuth.error);
                }

                _this34._Logger.debug('Twitter customer login complete.');

                resolve(customerAuth);
                web.exit();
              }
            });

            web.onExit.add(function () {
              _this34._Logger.debug('Twitter login canceled.');
              reject();
            });
          }, reject);
        }, reject);
      });
    }
  }, {
    key: '_generateToken',

    //-----------------------------------------------
    //    Helpers
    //-----------------------------------------------

    value: function _generateToken() {
      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        var r = Math.random() * 16 | 0,
            v = c === 'x' ? r : r & 0x3 | 0x8;
        return v.toString(16);
      });
    }
  }]);

  return SocialManager;
})(app.AbstractManager);

//src/js/shared/managers/softwaremanager.js

(function () {

  //------------------------------------------------------------------------
  //
  //  SoftwareManager
  //
  //------------------------------------------------------------------------

  var SoftwareManager = function SoftwareManager(SNAPEnvironment) {
    this._SNAPEnvironment = SNAPEnvironment;
  };

  window.app.SoftwareManager = SoftwareManager;

  Object.defineProperty(SoftwareManager.prototype, 'currentVersion', {
    get: function get() {
      var pattern = /(SNAP)\/([0-9.]+)/,
          match = pattern.exec(navigator.userAgent);

      if (!match) {
        return '8.8.8.8';
      }

      return match[1];
    }
  });

  Object.defineProperty(SoftwareManager.prototype, 'requiredVersion', {
    get: function get() {
      return this._SNAPEnvironment.requirements[this._SNAPEnvironment.platform];
    }
  });

  Object.defineProperty(SoftwareManager.prototype, 'updateRequired', {
    get: function get() {
      return this._versionCompare(this.currentVersion, this.requiredVersion) === -1;
    }
  });

  SoftwareManager.prototype._versionCompare = function (v1, v2, options) {
    if (!v1 || !v2) {
      return 0;
    }

    var lexicographical = options && options.lexicographical,
        zeroExtend = options && options.zeroExtend,
        v1parts = v1.split('.'),
        v2parts = v2.split('.');

    function isValidPart(x) {
      return (lexicographical ? /^\d+[A-Za-z]*$/ : /^\d+$/).test(x);
    }

    if (!v1parts.every(isValidPart) || !v2parts.every(isValidPart)) {
      return NaN;
    }

    if (zeroExtend) {
      while (v1parts.length < v2parts.length) {
        v1parts.push('0');
      }
      while (v2parts.length < v1parts.length) {
        v2parts.push('0');
      }
    }

    if (!lexicographical) {
      v1parts = v1parts.map(Number);
      v2parts = v2parts.map(Number);
    }

    for (var i = 0; i < v1parts.length; ++i) {
      if (v2parts.length === i) {
        return 1;
      }

      if (v1parts[i] === v2parts[i]) {
        continue;
      } else if (v1parts[i] > v2parts[i]) {
        return 1;
      } else {
        return -1;
      }
    }

    if (v1parts.length !== v2parts.length) {
      return -1;
    }

    return 0;
  };
})();

//src/js/shared/managers/surveymanager.js

window.app.SurveyManager = (function (_app$AbstractManager13) {
  _inherits(SurveyManager, _app$AbstractManager13);

  function SurveyManager(DataModel, SurveyModel, Logger) {
    _classCallCheck(this, SurveyManager);

    _get(Object.getPrototypeOf(SurveyManager.prototype), 'constructor', this).call(this, Logger);

    this._DataModel = DataModel;
    this._SurveyModel = SurveyModel;
  }

  _createClass(SurveyManager, [{
    key: 'initialize',
    value: function initialize() {
      var _this35 = this;

      _get(Object.getPrototypeOf(SurveyManager.prototype), 'initialize', this).call(this);

      if (this.model.isEnabled) {
        this._DataModel.surveys().then(function (data) {
          _this35.model.feedbackSurvey = data.surveys[0];
        });
      }

      return Promise.resolve();
    }
  }, {
    key: 'finalize',
    value: function finalize() {
      var _this36 = this;

      _get(Object.getPrototypeOf(SurveyManager.prototype), 'finalize', this).call(this);

      return new Promise(function (resolve, reject) {
        if (_this36.model.isEnabled) {
          _this36.model.feedbackSurveyComplete = false;
        }

        resolve();
      });
    }
  }, {
    key: 'model',
    get: function get() {
      return this._SurveyModel;
    }
  }]);

  return SurveyManager;
})(app.AbstractManager);

//src/js/shared/model/abstractmodel.js

window.app.AbstractModel = (function () {
  /* global signals */

  function AbstractModel(storageProvider) {
    _classCallCheck(this, AbstractModel);

    this._storageProvider = storageProvider;
    this._properties = {};
  }

  _createClass(AbstractModel, [{
    key: '_defineProperty',
    value: function _defineProperty(name, storeName, defaultValue, providerFunction) {
      var self = this,
          property = this._properties[name] = { name: '_' + name };

      if (storeName) {
        property.store = this._storageProvider(storeName);
      }

      if (providerFunction) {
        property.provider = providerFunction;
      }

      this[name + 'Changed'] = property.signal = new signals.Signal();

      Object.defineProperty(this, name, {
        get: function get() {
          return self[property.name] || defaultValue;
        },
        set: function set(value) {
          if (value === self[property.name]) {
            return;
          }

          self[property.name] = value;

          if (property.store) {
            property.store.write(value).then(function () {
              property.signal.dispatch(value);
            });
          }
        }
      });
    }
  }, {
    key: '_initProperty',
    value: function _initProperty(name) {
      var self = this,
          property = this._properties[name];

      if (!property) {
        throw new Error('Property \'' + name + '\' not found.');
      }

      if (property.initialized) {
        throw new Error('Property \'' + name + '\' is already initialized.');
      }

      if (!property.store) {
        property.initialized = true;
        return Promise.resolve();
      }

      return property.store.read().then(function (value) {
        property.initialized = true;
        self[property.name] = value;
        property.signal.dispatch(value);
      });
    }
  }, {
    key: 'initialize',
    value: function initialize() {
      var _this37 = this;

      return Promise.all(Object.keys(this._properties).filter(function (key) {
        return !_this37._properties[key].initialized;
      }).map(function (key) {
        return _this37._initProperty(key);
      }));
    }
  }, {
    key: 'fetch',
    value: function fetch(propertyName) {
      var property = this._properties[propertyName];

      if (!property) {
        throw new Error('Property \'' + propertyName + '\' not found.');
      }

      if (!property.provider) {
        throw new Error('Property \'' + propertyName + '\' has no provider.');
      }

      var self = this;
      return property.provider().then(function (value) {
        self[propertyName] = value;
        return value;
      });
    }
  }, {
    key: 'fetchAll',
    value: function fetchAll() {
      var _this38 = this;

      return Promise.all(Object.keys(this._properties).filter(function (key) {
        return _this38._properties[key].provider;
      }).map(function (key) {
        return _this38.fetch(key);
      }));
    }
  }, {
    key: 'clear',
    value: function clear() {
      var _this39 = this;

      return Promise.all(Object.keys(this._properties).filter(function (key) {
        return _this39._properties[key].store;
      }).map(function (key) {
        return _this39._properties[key].store.clear();
      }));
    }
  }, {
    key: '_propertyChanged',
    value: function _propertyChanged(name) {
      var property = this._properties[name];

      property.signal.dispatch(this[property.name]);

      if (property.store) {
        property.store.write(this[property.name]);
      }
    }
  }]);

  return AbstractModel;
})();

//src/js/shared/model/analyticsmodel.js

window.app.AnalyticsModel = (function () {
  function AnalyticsModel(storageProvider, heatmap, Logger) {
    _classCallCheck(this, AnalyticsModel);

    var self = this;
    this._data = [new app.AnalyticsData('sessions', storageProvider), new app.AnalyticsData('advertisements', storageProvider), new app.AnalyticsData('answers', storageProvider), new app.AnalyticsData('chats', storageProvider), new app.AnalyticsData('comments', storageProvider), new app.AnalyticsData('clicks', storageProvider), new app.AnalyticsData('pages', storageProvider), new app.AnalyticsData('urls', storageProvider)].reduce(function (result, item) {
      result[item.name] = item;
      return result;
    }, {});

    heatmap.clicked.add(function (click) {
      self._logClick(click);
    });

    this._Logger = Logger;
  }

  _createClass(AnalyticsModel, [{
    key: 'initialize',
    value: function initialize() {
      return Q.allSettled(this._datas.map(function (d) {
        return d.initialize();
      }));
    }
  }, {
    key: 'logSession',
    value: function logSession(session) {
      this._data.sessions.push(session);
    }
  }, {
    key: 'logNavigation',
    value: function logNavigation(destination) {
      this._data.pages.push({
        time: new Date(),
        destination: destination
      });

      this._data.clicks.store();
    }
  }, {
    key: 'logAdvertisement',
    value: function logAdvertisement(advertisement) {
      this._data.advertisements.push({
        time: new Date(),
        advertisement: advertisement
      });
    }
  }, {
    key: 'logAnswer',
    value: function logAnswer(answer) {
      this._data.answers.push({
        time: new Date(),
        answer: answer
      });
    }
  }, {
    key: 'logChat',
    value: function logChat(chat) {
      this._data.chats.push({
        time: new Date(),
        chat: chat
      });
    }
  }, {
    key: 'logComment',
    value: function logComment(comment) {
      this._data.comments.push({
        time: new Date(),
        comment: comment
      });
    }
  }, {
    key: 'logUrl',
    value: function logUrl(url) {
      this._data.urls.push({
        time: new Date(),
        url: url
      });
    }
  }, {
    key: 'reset',
    value: function reset() {
      return Q.allSettled(this._datas.map(function (d) {
        return d.reset();
      }));
    }
  }, {
    key: '_logClick',
    value: function _logClick(click) {
      click.time = new Date();
      this._data.clicks.data.push(click);
    }
  }, {
    key: 'sessions',
    get: function get() {
      return this._data.sessions;
    }
  }, {
    key: 'pages',
    get: function get() {
      return this._data.pages;
    }
  }, {
    key: 'advertisements',
    get: function get() {
      return this._data.advertisements;
    }
  }, {
    key: 'answers',
    get: function get() {
      return this._data.answers;
    }
  }, {
    key: 'chats',
    get: function get() {
      return this._data.chats;
    }
  }, {
    key: 'comments',
    get: function get() {
      return this._data.comments;
    }
  }, {
    key: 'urls',
    get: function get() {
      return this._data.urls;
    }
  }, {
    key: 'clicks',
    get: function get() {
      this._data.clicks.store();

      return this._data.clicks;
    }
  }, {
    key: '_datas',
    get: function get() {
      var _this40 = this;

      return Object.keys(this._data).map(function (x) {
        return _this40._data[x];
      });
    }
  }]);

  return AnalyticsModel;
})();

//src/js/shared/model/cartmodel.js

window.app.CartModel = (function () {
  function CartModel() {
    _classCallCheck(this, CartModel);

    this.STATE_CART = 'cart';
    this.STATE_HISTORY = 'history';

    this._isCartOpen = false;
    this.isCartOpenChanged = new signals.Signal();
    this._cartState = this.STATE_CART;
    this.cartStateChanged = new signals.Signal();
    this._editableItem = null;
    this.editableItemChanged = new signals.Signal();
  }

  _createClass(CartModel, [{
    key: 'openEditor',
    value: function openEditor(item, isNew) {
      if (this._editableItem === item) {
        return;
      }
      this._editableItemNew = isNew || false;
      this._editableItem = item;
      this.editableItemChanged.dispatch(item);
    }
  }, {
    key: 'closeEditor',
    value: function closeEditor() {
      this._editableItemNew = false;
      this._editableItem = null;
      this.editableItemChanged.dispatch(null);
    }
  }, {
    key: 'isCartOpen',
    get: function get() {
      return this._isCartOpen;
    },
    set: function set(value) {
      if (this._isCartOpen === value) {
        return;
      }
      this._isCartOpen = value;
      this.isCartOpenChanged.dispatch(value);
    }
  }, {
    key: 'cartState',
    get: function get() {
      return this._cartState;
    },
    set: function set(value) {
      if (this._cartState === value) {
        return;
      }
      this._cartState = value;
      this.cartStateChanged.dispatch(value);
    }
  }, {
    key: 'editableItem',
    get: function get() {
      return this._editableItem;
    }
  }, {
    key: 'editableItemNew',
    get: function get() {
      return this._editableItemNew;
    }
  }]);

  return CartModel;
})();

//src/js/shared/model/chatmodel.js

window.app.ChatModel = (function () {
  /* global signals */

  function ChatModel(SNAPLocation, SNAPEnvironment, storageProvider) {
    _classCallCheck(this, ChatModel);

    var self = this;

    this._preferencesStore = storageProvider('snap_chat_preferences');
    this._historyStore = storageProvider('snap_chat_history');

    this.isConnectedChanged = new signals.Signal();
    this.isEnabledChanged = new signals.Signal();
    this.isPresentChanged = new signals.Signal();

    this.activeDevicesChanged = new signals.Signal();
    this.pendingDevicesChanged = new signals.Signal();
    this.chatRequestReceived = new signals.Signal();

    this.historyChanged = new signals.Signal();
    this.messageReceived = new signals.Signal();

    this.giftRequestReceived = new signals.Signal();
    this.giftAccepted = new signals.Signal();

    this._giftSeat = null;
    this.giftSeatChanged = new signals.Signal();

    this._giftDevice = null;
    this.giftDeviceChanged = new signals.Signal();

    this.giftReady = new signals.Signal();
    this.giftAccepted = new signals.Signal();

    this._isEnabled = SNAPLocation.chat;
    this._pendingDevices = [];
    this._activeDevices = [];
    this._lastReads = {};

    this._preferencesStore.read().then(function (prefs) {
      if (!prefs) {
        return;
      }

      self._isEnabled = Boolean(prefs.is_enabled);

      self._activeDevices = prefs.active_devices || [];
      self._pendingDevices = prefs.pending_devices || [];
      self._lastReads = prefs.last_reads || {};
    });

    this._historyStore.read().then(function (history) {
      self._history = history || [];
    });
  }

  _createClass(ChatModel, [{
    key: 'isActiveDevice',
    value: function isActiveDevice(device) {
      return this.activeDevices.indexOf(device.token || device) !== -1;
    }
  }, {
    key: 'isPendingDevice',
    value: function isPendingDevice(device) {
      return this.pendingDevices.indexOf(device.token || device) !== -1;
    }
  }, {
    key: 'addActiveDevice',
    value: function addActiveDevice(device) {
      this._activeDevices.push(device.token || device);
      this.activeDevices = this._activeDevices;
    }
  }, {
    key: 'addPendingDevice',
    value: function addPendingDevice(device) {
      this._pendingDevices.push(device.token || device);
      this.pendingDevices = this._pendingDevices;
    }
  }, {
    key: 'removeActiveDevice',
    value: function removeActiveDevice(device) {
      var index = this.activeDevices.indexOf(device.token || device);
      this._activeDevices.splice(index, 1);
      this.activeDevices = this._activeDevices;
    }
  }, {
    key: 'removePendingDevice',
    value: function removePendingDevice(device) {
      var index = this.pendingDevices.indexOf(device.token || device);
      this._pendingDevices.splice(index, 1);
      this.pendingDevices = this._pendingDevices;
    }
  }, {
    key: 'addHistory',
    value: function addHistory(message) {
      this._history.push(message);
      this.history = this._history;
    }
  }, {
    key: 'getLastRead',
    value: function getLastRead(device) {
      var token = device.token || device;
      return this._lastReads[token] || null;
    }
  }, {
    key: 'setLastRead',
    value: function setLastRead(device, value) {
      var token = device.token || device;
      this._lastReads[token] = value;
      this._updatePreferences();
    }
  }, {
    key: 'save',
    value: function save() {
      this._updateHistory();
      this._updatePreferences();
    }
  }, {
    key: 'reset',
    value: function reset() {
      this._isConnected = this._isEnabled = this._isPresent = false;
      this._history = [];
      this._activeDevices = [];
      this._pendingDevices = [];

      this._historyStore.clear();
      this._preferencesStore.clear();
    }
  }, {
    key: '_updateHistory',
    value: function _updateHistory() {
      this._historyStore.write(this.history);
    }
  }, {
    key: '_updatePreferences',
    value: function _updatePreferences() {
      this._preferencesStore.write({
        is_enabled: this.isEnabled,
        active_devices: this.activeDevices,
        pending_devices: this.pendingDevices,
        last_reads: this._lastReads
      });
    }
  }, {
    key: 'isConnected',
    get: function get() {
      return this._isConnected;
    },
    set: function set(value) {
      if (this._isConnected === value) {
        return;
      }

      this._isConnected = Boolean(value);
      this.isConnectedChanged.dispatch(this._isConnected);
    }
  }, {
    key: 'isEnabled',
    get: function get() {
      return this._isEnabled;
    },
    set: function set(value) {
      if (this._isEnabled === value) {
        return;
      }

      this._isEnabled = Boolean(value);
      this.isEnabledChanged.dispatch(this._isEnabled);

      this._updatePreferences();
    }
  }, {
    key: 'isPresent',
    get: function get() {
      return this._isPresent;
    },
    set: function set(value) {
      if (this._isPresent === value) {
        return;
      }

      this._isPresent = Boolean(value);
      this.isPresentChanged.dispatch(this._isPresent);
    }
  }, {
    key: 'giftDevice',
    get: function get() {
      return this._giftDevice;
    },
    set: function set(value) {
      if (this._giftDevice === value) {
        return;
      }

      this._giftDevice = value;
      this.giftDeviceChanged.dispatch(this._giftDevice);
    }
  }, {
    key: 'giftSeat',
    get: function get() {
      return this._giftSeat;
    },
    set: function set(value) {
      if (this._giftSeat === value) {
        return;
      }

      this._giftSeat = value;
      this.giftSeatChanged.dispatch(this._giftSeat);
    }
  }, {
    key: 'pendingDevices',
    get: function get() {
      return this._pendingDevices;
    },
    set: function set(value) {
      this._pendingDevices = value || [];
      this.pendingDevicesChanged.dispatch(this.pendingDevices);
    }
  }, {
    key: 'activeDevices',
    get: function get() {
      return this._activeDevices;
    },
    set: function set(value) {
      this._activeDevices = value || [];
      this.activeDevicesChanged.dispatch(this.activeDevices);
    }
  }, {
    key: 'history',
    get: function get() {
      return this._history;
    },
    set: function set(value) {
      this._history = value || [];

      this.historyChanged.dispatch(this._history);
      this._updateHistory();
    }
  }]);

  return ChatModel;
})();

//src/js/shared/model/customermodel.js

window.app.CustomerModel = (function () {
  /* global signals */

  function CustomerModel(Config, storageProvider) {
    _classCallCheck(this, CustomerModel);

    var self = this;

    this._accountStore = storageProvider('snap_customer');

    this._profile = null;

    this._isGuest = false;
    this._isEnabled = Boolean(Config.accounts);

    this.profileChanged = new signals.Signal();

    this._accountStore.read().then(function (account) {
      self._isGuest = account && account.is_guest;

      if (!account || account.is_guest) {
        self._profile = null;
      } else {
        self._profile = account.profile;
      }

      self.profileChanged.dispatch(self._profile);
    });
  }

  _createClass(CustomerModel, [{
    key: 'isEnabled',
    get: function get() {
      return Boolean(this._isEnabled);
    }
  }, {
    key: 'isAuthenticated',
    get: function get() {
      return this.isEnabled && (Boolean(this.profile) || this.isGuest);
    }
  }, {
    key: 'isGuest',
    get: function get() {
      return this.isEnabled && Boolean(this._isGuest);
    }
  }, {
    key: 'hasCredentials',
    get: function get() {
      return Boolean(this.isAuthenticated && !this.isGuest && this.profile.type === 1);
    }
  }, {
    key: 'profile',
    get: function get() {
      return this._profile;
    },
    set: function set(value) {
      var self = this;
      this._profile = value || null;
      this._isGuest = value === 'guest';

      if (!value) {
        this._accountStore.clear().then(function () {
          self._isGuest = false;
          self.profileChanged.dispatch(self._profile);
          self.session = null;
        });
      } else {
        this._accountStore.write({
          profile: this._profile,
          is_guest: this._isGuest
        }).then(function () {
          self.profileChanged.dispatch(self._profile);

          if (!value || self._isGuest) {
            self.session = null;
          }
        });
      }
    }
  }]);

  return CustomerModel;
})();

//src/js/shared/model/datamodel.js

window.app.DataModel = (function () {
  function DataModel(config, service, storageProvider) {
    _classCallCheck(this, DataModel);

    this._config = config;
    this._service = service;
    this._cache = {};
    this._storageProvider = storageProvider;
  }

  _createClass(DataModel, [{
    key: 'clear',
    value: function clear() {
      var _this41 = this;

      return new Promise(function (resolve) {
        _this41._cache = {};
        resolve();
      });
    }
  }, {
    key: 'digest',
    value: function digest(fetch) {
      return this._getSnapData('digest', 'getDigest', undefined, fetch);
    }
  }, {
    key: 'home',
    value: function home(fetch) {
      return this._getSnapData('home', 'getMenus', undefined, fetch);
    }
  }, {
    key: 'advertisements',
    value: function advertisements(fetch) {
      return this._getSnapData('advertisements', 'getAdvertisements', undefined, fetch);
    }
  }, {
    key: 'backgrounds',
    value: function backgrounds(fetch) {
      return this._getSnapData('backgrounds', 'getBackgrounds', undefined, fetch);
    }
  }, {
    key: 'elements',
    value: function elements(fetch) {
      return this._getSnapData('elements', 'getElements', undefined, fetch);
    }
  }, {
    key: 'menu',
    value: function menu(id, fetch) {
      return this._getSnapData('menu', 'getMenu', id, fetch);
    }
  }, {
    key: 'category',
    value: function category(id, fetch) {
      return this._getSnapData('category', 'getMenuCategory', id, fetch);
    }
  }, {
    key: 'item',
    value: function item(id, fetch) {
      return this._getSnapData('item', 'getMenuItem', id, fetch);
    }
  }, {
    key: 'surveys',
    value: function surveys(fetch) {
      return this._getSnapData('surveys', 'getSurveys', undefined, fetch);
    }
  }, {
    key: 'media',
    value: function media(_media) {
      var _this42 = this;

      var token = _media.token + '_' + _media.width + '_' + _media.height;
      return this._cached('media', token) || new Promise(function (resolve, reject) {
        if (navigator.onLine === false) {
          reject('Application is offline, unable to load media ' + token);
        }

        if (_media.width && _media.height) {
          var img = new Image();
          img.onload = function () {
            return resolve(img);
          };
          img.onerror = function (e) {
            return reject(e);
          };
          img.src = _this42._getMediaUrl(_media, _media.width, _media.height, _media.extension);

          _this42._store(img, 'media', token);

          if (img.complete) {
            resolve(img);
          }
        } else {
          reject('Missing image dimensions');
        }
      });
    }
  }, {
    key: '_getSnapData',
    value: function _getSnapData(name, method, id, fetch) {
      var _this43 = this;

      if (fetch) {
        return this._service.snap[method](this._config.location, id).then(function (data) {
          data = data || [];
          _this43._store(data, name, id);
          return data;
        });
      }

      var cached = this._cached(name, id);

      if (cached) {
        return Promise.resolve(cached);
      }

      var stored = this._stored(name, id);

      if (stored) {
        return Promise.resolve(stored);
      }

      return Promise.reject('Content is not available: /' + name + '/' + (id || ''));
    }
  }, {
    key: '_cached',
    value: function _cached(group, id) {
      if (id && this._cache[group] && this._cache[group][id]) {
        return Promise.resolve(this._cache[group][id]);
      } else if (!id && this._cache[group]) {
        return Promise.resolve(this._cache[group]);
      }

      return null;
    }
  }, {
    key: '_stored',
    value: function _stored(group, id) {
      var storage = this._getStorage(group, id);

      return storage.readSync();
    }
  }, {
    key: '_store',
    value: function _store(data, group, id) {
      if (id) {
        if (!this._cache[group]) {
          this._cache[group] = {};
        }

        this._cache[group][id] = data;
      } else {
        this._cache[group] = data;
      }

      if (group !== 'media') {
        var storage = this._getStorage(group, id);
        storage.write(data);
      }
    }
  }, {
    key: '_getStorage',
    value: function _getStorage(group, id) {
      if (id) {
        return this._storageProvider('snap_cache_' + group + '_' + id);
      }

      return this._storageProvider('snap_cache_' + group);
    }
  }, {
    key: '_getMediaUrl',
    value: function _getMediaUrl() {}
  }]);

  return DataModel;
})();

//src/js/shared/model/locationconfig.js

window.app.LocationConfig = (function () {
  function LocationConfig(data) {
    _classCallCheck(this, LocationConfig);

    if (data) {
      this.inject(data);
    }
  }

  _createClass(LocationConfig, [{
    key: 'inject',
    value: function inject(data) {
      var _this44 = this;

      Object.keys(data).map(function (k) {
        _this44[k] = data[k];
      });
    }
  }]);

  return LocationConfig;
})();

//src/js/shared/model/locationmodel.js

window.app.LocationModel = (function (_app$AbstractModel) {
  _inherits(LocationModel, _app$AbstractModel);

  function LocationModel(DtsApi, SNAPEnvironment, SNAPLocation, storageProvider) {
    _classCallCheck(this, LocationModel);

    _get(Object.getPrototypeOf(LocationModel.prototype), 'constructor', this).call(this, storageProvider);

    var self = this;

    this._defineProperty('device', 'snap_device', null, function () {
      return DtsApi.hardware.getCurrentDevice();
    });
    this._defineProperty('devices', undefined, []);
    this._defineProperty('seat', 'snap_seat', null, function () {
      return DtsApi.location.getCurrentSeat();
    });
    this._defineProperty('seats', 'snap_seats', [], function () {
      return DtsApi.location.getSeats();
    });
    this._defineProperty('location', 'snap_location', SNAPLocation, function () {
      if (!self.device) {
        return Promise.reject('Device data is missing.');
      }

      return DtsApi.snap.getConfig(self.device.location_token).then(function (config) {
        SNAPLocation.inject(config);
        return SNAPLocation;
      });
    });

    this.initialize();
  }

  _createClass(LocationModel, [{
    key: 'addDevice',
    value: function addDevice(device) {
      this.devices.push(device);
      this._propertyChanged('device');
    }
  }, {
    key: 'getSeat',
    value: function getSeat(token) {
      return this.seats.filter(function (seat) {
        return seat.token === token;
      })[0] || null;
    }
  }, {
    key: 'getDevice',
    value: function getDevice(device) {
      return this.devices.filter(function (d) {
        return (device.token || device) === d.token;
      })[0] || null;
    }
  }]);

  return LocationModel;
})(app.AbstractModel);

//src/js/shared/model/ordermodel.js

window.app.OrderModel = (function () {
  /* global signals */

  function OrderModel(storageProvider) {
    _classCallCheck(this, OrderModel);

    var self = this;

    this.REQUEST_KIND_ORDER = 1;
    this.REQUEST_KIND_ASSISTANCE = 2;
    this.REQUEST_KIND_CLOSEOUT = 3;

    this.priceFormat = '{0}';
    this.tax = 0;

    this._orderCart = [];
    this._orderCartStash = [];
    this._orderCheck = [];
    this._orderTicket = {};

    this._requestWatchers = {};

    //-----------------------------------------------
    //    Signals
    //-----------------------------------------------

    this.orderCartChanged = new signals.Signal();
    this.orderCartStashChanged = new signals.Signal();
    this.orderCheckChanged = new signals.Signal();
    this.orderTicketChanged = new signals.Signal();
    this.orderRequestChanged = new signals.Signal();
    this.assistanceRequestChanged = new signals.Signal();
    this.closeoutRequestChanged = new signals.Signal();

    //-----------------------------------------------
    //    Initialization
    //-----------------------------------------------

    function prepareCartData(items) {
      return items;
    }

    function restoreCartData(items) {
      return items.map ? items.map(app.CartItem.prototype.restore) : [];
    }

    this._orderCartStorage = storageProvider('snap_order_cart');
    this._orderCartStorage.read().then(function (value) {
      self.orderCart = restoreCartData(value || []);
      self.orderCartChanged.dispatch(self.orderCart);
      self.orderCartChanged.add(function (items) {
        self._orderCartStorage.write(prepareCartData(items));
      });
    });

    this._orderCartStashStorage = storageProvider('snap_order_cart_stash');
    this._orderCartStashStorage.read().then(function (value) {
      self.orderCartStash = restoreCartData(value || []);
      self.orderCartStashChanged.dispatch(self.orderCartStash);
      self.orderCartStashChanged.add(function (items) {
        self._orderCartStashStorage.write(prepareCartData(items));
      });
    });

    this._orderCheckStorage = storageProvider('snap_order_check');
    this._orderCheckStorage.read().then(function (value) {
      self.orderCheck = restoreCartData(value || []);
      self.orderCheckChanged.dispatch(self.orderCheck);
      self.orderCheckChanged.add(function (items) {
        self._orderCheckStorage.write(prepareCartData(items));
      });
    });

    this._orderTicketStorage = storageProvider('snap_order_ticket');
    this._orderTicketStorage.read().then(function (value) {
      self.orderTicket = value || {};
      self.orderTicketChanged.dispatch(self.orderTicket);
      self.orderTicketChanged.add(function (data) {
        self._orderTicketStorage.write(data);
      });
    });
  }

  _createClass(OrderModel, [{
    key: 'getWatcher',

    //------------------------------------------------------------------------
    //
    //  Public methods
    //
    //------------------------------------------------------------------------

    //-----------------------------------------------
    //    Request watchers
    //-----------------------------------------------

    value: function getWatcher(kind) {
      return this._requestWatchers[kind] || null;
    }
  }, {
    key: 'addWatcher',
    value: function addWatcher(kind, watcher) {
      this.clearWatcher(kind);

      var self = this;
      watcher.promise.then(function () {
        if (self.getWatcher(kind) !== watcher) {
          return;
        }
        self.clearWatcher(kind);
      });

      this._requestWatchers[kind] = watcher;
      this._notifyChange(kind);
    }
  }, {
    key: 'clearWatcher',
    value: function clearWatcher(kind) {
      var watcher = this.getWatcher(kind);

      if (watcher) {
        watcher.dispose();
      }

      delete this._requestWatchers[kind];
      this._notifyChange(kind);
    }
  }, {
    key: '_notifyChange',

    //------------------------------------------------------------------------
    //
    //  Private methods
    //
    //------------------------------------------------------------------------

    value: function _notifyChange(kind) {
      var signal;

      switch (kind) {
        case this.REQUEST_KIND_ORDER:
          signal = this.orderRequestChanged;
          break;
        case this.REQUEST_KIND_ASSISTANCE:
          signal = this.assistanceRequestChanged;
          break;
        case this.REQUEST_KIND_CLOSEOUT:
          signal = this.closeoutRequestChanged;
          break;
      }

      if (signal) {
        signal.dispatch(this.getWatcher(kind));
      }
    }
  }, {
    key: 'orderCart',

    //------------------------------------------------------------------------
    //
    //  Properties
    //
    //------------------------------------------------------------------------

    get: function get() {
      return this._orderCart;
    },
    set: function set(value) {
      this._orderCart = value || [];
      this.orderCartChanged.dispatch(this.orderCart);
    }
  }, {
    key: 'orderCartStash',
    get: function get() {
      return this._orderCartStash;
    },
    set: function set(value) {
      this._orderCartStash = value || [];
      this.orderCartStashChanged.dispatch(this.orderCartStash);
    }
  }, {
    key: 'orderCheck',
    get: function get() {
      return this._orderCheck;
    },
    set: function set(value) {
      this._orderCheck = value || [];
      this.orderCheckChanged.dispatch(this.orderCheck);
    }
  }, {
    key: 'orderTicket',
    get: function get() {
      return this._orderTicket;
    },
    set: function set(value) {
      this._orderTicket = value || {};
      this.orderTicketChanged.dispatch(this.orderTicket);
    }
  }, {
    key: 'orderRequest',
    get: function get() {
      return this.getWatcher(this.REQUEST_KIND_ORDER);
    }
  }, {
    key: 'assistanceRequest',
    get: function get() {
      return this.getWatcher(this.REQUEST_KIND_ASSISTANCE);
    }
  }, {
    key: 'closeoutRequest',
    get: function get() {
      return this.getWatcher(this.REQUEST_KIND_CLOSEOUT);
    }
  }]);

  return OrderModel;
})();

//src/js/shared/model/sessionmodel.js

window.app.SessionModel = (function (_app$AbstractModel2) {
  _inherits(SessionModel, _app$AbstractModel2);

  function SessionModel(storageProvider) {
    _classCallCheck(this, SessionModel);

    _get(Object.getPrototypeOf(SessionModel.prototype), 'constructor', this).call(this, storageProvider);

    this._defineProperty('apiToken', 'snap_accesstoken');
    this._defineProperty('customerToken', 'snap_customer_accesstoken');

    this.initialize();
  }

  return SessionModel;
})(app.AbstractModel);

//src/js/shared/model/shellmodel.js

window.app.ShellModel = (function () {
  /* global signals */

  function ShellModel() {
    _classCallCheck(this, ShellModel);

    this._backgrounds = [];
    this.backgroundsChanged = new signals.Signal();
    this._screensavers = [];
    this.screensaversChanged = new signals.Signal();
    this._pageBackgrounds = [];
    this.pageBackgroundsChanged = new signals.Signal();
    this._elements = [];
    this.elementsChanged = new signals.Signal();
    this._priceFormat = '{0}';
    this.priceFormatChanged = new signals.Signal();
    this._currency = '';
    this.currencyChanged = new signals.Signal();
  }

  _createClass(ShellModel, [{
    key: 'backgrounds',
    get: function get() {
      return this._backgrounds;
    },
    set: function set(value) {
      this._backgrounds = value;
      this.backgroundsChanged.dispatch(value);
    }
  }, {
    key: 'screensavers',
    get: function get() {
      return this._screensavers;
    },
    set: function set(value) {
      this._screensavers = value;
      this.screensaversChanged.dispatch(value);
    }
  }, {
    key: 'pageBackgrounds',
    get: function get() {
      return this._pageBackgrounds;
    },
    set: function set(value) {
      this._pageBackgrounds = value;
      this.pageBackgroundsChanged.dispatch(value);
    }
  }, {
    key: 'elements',
    get: function get() {
      return this._elements;
    },
    set: function set(value) {
      this._elements = value;
      this.elementsChanged.dispatch(value);
    }
  }, {
    key: 'priceFormat',
    get: function get() {
      return this._priceFormat;
    },
    set: function set(value) {
      this._priceFormat = value;
      this.priceFormatChanged.dispatch(value);
    }
  }, {
    key: 'currency',
    get: function get() {
      return this._currency;
    },
    set: function set(value) {
      this._currency = value;
      this.currencyChanged.dispatch(value);
    }
  }]);

  return ShellModel;
})();

//src/js/shared/model/surveymodel.js

window.app.SurveyModel = (function () {
  /* global signals */

  function SurveyModel(SNAPLocation, storageProvider) {
    _classCallCheck(this, SurveyModel);

    var self = this;

    this._isEnabled = Boolean(SNAPLocation.surveys);
    this._surveys = {};

    this._store = storageProvider('snap_survey');

    this._feedbackSurvey = null;
    this.feedbackSurveyChanged = new signals.Signal();

    this.surveyCompleted = new signals.Signal();

    this._store.read().then(function (value) {
      self._surveys = value || self._surveys;
    });
  }

  _createClass(SurveyModel, [{
    key: 'isEnabled',
    get: function get() {
      return Boolean(this._isEnabled);
    }
  }, {
    key: 'feedbackSurvey',
    get: function get() {
      return this._feedbackSurvey;
    },
    set: function set(value) {
      this._feedbackSurvey = value;
      this.feedbackSurveyChanged.dispatch(this._feedbackSurvey);
    }
  }, {
    key: 'feedbackSurveyComplete',
    get: function get() {
      return Boolean(this._surveys.feedback);
    },
    set: function set(value) {
      this._surveys.feedback = Boolean(value);
      this._store.write(this._surveys);

      this.surveyCompleted.dispatch(this.feedbackSurvey);
    }
  }]);

  return SurveyModel;
})();

//src/js/shared/persistence/store.cordova.js

window.app.CordovaLocalStorageStore = (function () {
  function CordovaLocalStorageStore(id, Logger) {
    _classCallCheck(this, CordovaLocalStorageStore);

    this._id = id;
    this._Logger = Logger;

    if (!localStorage) {
      throw Error('Cordova not found.');
    }
  }

  _createClass(CordovaLocalStorageStore, [{
    key: 'clear',
    value: function clear() {
      try {
        localStorage.removeItem(this._id);
        return Promise.resolve();
      } catch (e) {
        this._Logger.warn('Unable to clear store #' + this._id + ': ' + e.message);
        return Promise.reject(e);
      }
    }
  }, {
    key: 'read',
    value: function read() {
      try {
        var value = JSON.parse(localStorage.getItem(this._id));
        return Promise.resolve(value);
      } catch (e) {
        this._Logger.warn('Unable to read from store #' + this._id + ': ' + e.message);
        return Promise.reject(e);
      }
    }
  }, {
    key: 'readSync',
    value: function readSync() {
      try {
        var value = JSON.parse(localStorage.getItem(this._id));
        return value;
      } catch (e) {
        this._Logger.warn('Unable to read from store #' + this._id + ': ' + e.message);
        return undefined;
      }
    }
  }, {
    key: 'write',
    value: function write(value) {
      try {
        localStorage.setItem(this._id, JSON.stringify(value));
        return Promise.resolve();
      } catch (e) {
        this._Logger.warn('Unable to write to store #' + this._id + ': ' + e.message);
        return Promise.reject(e);
      }
    }
  }]);

  return CordovaLocalStorageStore;
})();

//src/js/shared/persistence/store.inmemory.js

window.app.InMemoryStore = (function () {
  function InMemoryStore() {
    _classCallCheck(this, InMemoryStore);

    this._storage = null;
  }

  _createClass(InMemoryStore, [{
    key: 'clear',
    value: function clear() {
      this._storage = undefined;
      return Promise.resolve();
    }
  }, {
    key: 'read',
    value: function read() {
      return Promise.resolve(this._storage);
    }
  }, {
    key: 'readSync',
    value: function readSync() {
      return this._storage;
    }
  }, {
    key: 'write',
    value: function write(value) {
      this._storage = value;
      return Promise.resolve();
    }
  }]);

  return InMemoryStore;
})();

//src/js/shared/persistence/store.localstorage.js

window.app.LocalStorageStore = (function () {
  function LocalStorageStore(id) {
    _classCallCheck(this, LocalStorageStore);

    this._id = id;

    if (!store) {
      throw Error('Store.js not found.');
    }
  }

  _createClass(LocalStorageStore, [{
    key: 'clear',
    value: function clear() {
      try {
        store.remove(this._id);
        return Promise.resolve();
      } catch (e) {
        return Promise.reject(e);
      }
    }
  }, {
    key: 'read',
    value: function read() {
      try {
        var value = store.get(this._id);
        return Promise.resolve(value);
      } catch (e) {
        return Promise.reject(e);
      }
    }
  }, {
    key: 'readSync',
    value: function readSync() {
      try {
        return store.get(this._id);
      } catch (e) {
        return undefined;
      }
    }
  }, {
    key: 'write',
    value: function write(value) {
      try {
        store.set(this._id, value);
        return Promise.resolve();
      } catch (e) {
        return Promise.reject(e);
      }
    }
  }]);

  return LocalStorageStore;
})();

//src/js/shared/service/backendapi.js

window.app.BackendApi = function BackendApi(Hosts, SessionModel) {
  _classCallCheck(this, BackendApi);

  this._SessionModel = SessionModel;

  var self = this;

  function businessTokenProvider() {
    if (!self._SessionModel.apiToken) {
      return Promise.reject();
    }

    return Promise.resolve(self._SessionModel.apiToken.access_token);
  }

  function customerTokenProvider() {
    if (!self._SessionModel.customerToken) {
      return Promise.reject();
    }

    return Promise.resolve(self._SessionModel.customerToken.access_token);
  }

  for (var key in DtsApiClient) {
    var config = {
      host: {
        domain: Hosts.api.host,
        secure: Hosts.api.secure === true
      }
    };

    var provider = businessTokenProvider;

    if (key === 'snap') {
      config.host.domain = Hosts.content.host;
    } else if (key === 'customer') {
      provider = customerTokenProvider;
    }

    this[key] = new DtsApiClient[key](config, provider);
  }
};

//src/js/shared/service/cardreader.cordova.js

window.app.CordovaCardReader = (function () {
  /* global signals */

  function CordovaCardReader() {
    _classCallCheck(this, CordovaCardReader);

    this.onReceived = new signals.Signal();
    this.onError = new signals.Signal();

    if (!window.IDTech) {
      throw new Error('Card reader is not available.');
    }
  }

  _createClass(CordovaCardReader, [{
    key: 'received',
    value: function received(card) {
      this.onReceived.dispatch(card);
    }
  }, {
    key: 'error',
    value: function error(e) {
      this.onError.dispatch(e);
    }
  }, {
    key: 'start',
    value: function start() {
      var _this45 = this;

      if (!this._active) {
        this._active = true;

        window.IDTech.startCardReader(function (data) {
          return _this45._onReceived(data);
        }, function (e) {
          return _this45._onError(e);
        });
      }
    }
  }, {
    key: 'stop',
    value: function stop() {
      if (this._active) {
        this._active = false;

        window.IDTech.stopCardReader(function () {}, function (e) {});
      }
    }
  }, {
    key: '_onReceived',
    value: function _onReceived(data) {
      if (!this._active) {
        return;
      }

      this.received({
        data: data
      });
    }
  }, {
    key: '_onError',
    value: function _onError(data) {
      if (!this._active) {
        return;
      }

      this.error({
        cause: parseInt(data) || 2
      });
    }
  }]);

  return CordovaCardReader;
})();

//src/js/shared/service/cardreader.generic.js

(function () {

  /* global signals */

  //------------------------------------------------------------------------
  //
  //  CardReader
  //
  //------------------------------------------------------------------------

  var CardReader = function CardReader(ManagementService) {
    this._ManagementService = ManagementService;
    this.onReceived = new signals.Signal();
    this.onError = new signals.Signal();
  };

  CardReader.prototype.received = function (card) {
    this.onReceived.dispatch(card);
  };

  CardReader.prototype.error = function (e) {
    this.onError.dispatch(e);
  };

  CardReader.prototype.start = function () {
    var _this46 = this;

    if (!this._active) {
      this._ManagementService.startCardReader().then(function (data) {
        _this46.received(data);
      }, function (e) {
        _this46.error(e);
      });
      this._active = true;
    }
  };

  CardReader.prototype.stop = function () {
    if (this._active) {
      this._ManagementService.stopCardReader();
      this._active = false;
    }
  };

  window.app.CardReader = CardReader;
})();

//src/js/shared/service/managementservice.cordova.js

window.app.CordovaManagementService = (function () {
  function CordovaManagementService() {
    _classCallCheck(this, CordovaManagementService);

    if (!window.cordova) {
      throw new Error('Cordova is not available.');
    }

    if (window.screen) {
      this._orientation = window.screen.orientation;
    }
  }

  _createClass(CordovaManagementService, [{
    key: 'loadReset',
    value: function loadReset() {
      return new Promise(function () {
        return window.open('reset.html', '_self');
      });
    }
  }, {
    key: 'loadStartup',
    value: function loadStartup() {
      return new Promise(function () {
        return window.open('startup.html', '_self');
      });
    }
  }, {
    key: 'loadApplication',
    value: function loadApplication(location) {
      return new Promise(function () {
        return window.open('snap_' + location.theme.layout + '.html', '_self');
      });
    }
  }, {
    key: 'rotateScreen',
    value: function rotateScreen() {
      if (!window.screen || !this._orientation) {
        return Promise.resolve();
      }

      var self = this;
      return new Promise(function (resolve) {
        var orientation;
        switch (self._orientation.type) {
          case 'landscape':
          case 'landscape-primary':
            orientation = 'landscape-secondary';
            break;
          case 'landscape-secondary':
            orientation = 'landscape-primary';
            break;
          default:
            orientation = 'landscape-primary';
            break;
        }

        window.screen.lockOrientation(orientation);
        resolve();
      });
    }
  }, {
    key: 'openBrowser',
    value: function openBrowser(url) {
      return new Promise(function (resolve) {
        var settings = {
          location: 'yes',
          clearcache: 'yes',
          clearsessioncache: 'yes',
          zoom: 'no',
          hardwareback: 'no'
        };

        var ref = new app.CordovaWebBrowserReference(url);
        ref.attach(window.open(url, '_blank', Object.keys(settings).map(function (x) {
          return x + '=' + settings[x];
        }).join(',')));

        resolve(ref);
      });
    }
  }, {
    key: 'closeBrowser',
    value: function closeBrowser(reference) {
      return new Promise(function (resolve) {
        reference.exit();
        resolve();
      });
    }
  }, {
    key: 'getSoundVolume',
    value: function getSoundVolume() {
      if (!window.volume) {
        return Promise.resolve(100);
      }

      return new Promise(function (resolve, reject) {
        window.volume.getVolume(resolve, reject);
      });
    }
  }, {
    key: 'setSoundVolume',
    value: function setSoundVolume(value) {
      if (!(value >= 0 && value <= 100)) {
        return Promise.reject('Invalid value: ' + value);
      }

      if (!window.volume) {
        return Promise.resolve();
      }

      return new Promise(function (resolve, reject) {
        window.volume.setVolume(value, resolve, reject);
      });
    }
  }, {
    key: 'getDisplayBrightness',
    value: function getDisplayBrightness() {
      if (!window.brightness) {
        return Promise.resolve(100);
      }

      return new Promise(function (resolve, reject) {
        window.brightness.getBrightness(function (value) {
          if (value < 0) {
            return resolve(50);
          }

          value = parseInt(value * 100);
          value = Math.min(100, value);
          value = Math.max(0, value);

          resolve(value);
        }, reject);
      });
    }
  }, {
    key: 'setDisplayBrightness',
    value: function setDisplayBrightness(value) {
      if (!(value >= 0 && value <= 100)) {
        return Promise.reject('Invalid value: ' + value);
      }

      if (!window.brightness) {
        return Promise.resolve();
      }

      return new Promise(function (resolve, reject) {
        window.brightness.setBrightness(value / 100, function () {
          return resolve();
        }, reject);
      });
    }
  }, {
    key: 'startCardReader',
    value: function startCardReader() {
      return new Promise(function (resolve, reject) {
        IDTech.startCardReader(resolve, reject);
      });
    }
  }, {
    key: 'stopCardReader',
    value: function stopCardReader() {
      return new Promise(function (resolve, reject) {
        IDTech.stopCardReader(resolve, reject);
      });
    }
  }]);

  return CordovaManagementService;
})();

//src/js/shared/service/managementservice.electron.js

window.app.ElectronManagementService = (function () {
  function ElectronManagementService() {
    _classCallCheck(this, ElectronManagementService);

    if (!require) {
      throw new Error('Node.js context not found.');
    }

    this._ipc = require('ipc');

    if (!this._ipc) {
      throw new Error('IPC module not found.');
    }
  }

  _createClass(ElectronManagementService, [{
    key: 'loadReset',
    value: function loadReset() {
      return new Promise(function () {
        return window.location.assign('reset.html');
      });
    }
  }, {
    key: 'loadStartup',
    value: function loadStartup() {
      return new Promise(function () {
        return window.location.assign('startup.html');
      });
    }
  }, {
    key: 'loadApplication',
    value: function loadApplication(location) {
      return new Promise(function () {
        return window.location.assign('snap_' + location.theme.layout + '.html');
      });
    }
  }, {
    key: 'openBrowser',
    value: function openBrowser(url) {
      return Promise.resolve(new app.WebViewBrowserReference(url));
    }
  }, {
    key: 'closeBrowser',
    value: function closeBrowser(reference) {
      return new Promise(function (resolve) {
        reference.exit();
        resolve();
      });
    }
  }, {
    key: 'rotateScreen',
    value: function rotateScreen() {
      return new Promise(function (resolve) {
        //this._ipc.send('rotate-screen');
        resolve();
      });
    }
  }, {
    key: 'getSoundVolume',
    value: function getSoundVolume() {
      return Promise.resolve(50);
      // return new Promise(resolve => {
      //   this._ipc.on('get-sound-volume-result', function(value) {
      //     resolve(parseFloat(value) * 100);
      //   });
      //   this._ipc.send('get-sound-volume');
      // });
    }
  }, {
    key: 'setSoundVolume',
    value: function setSoundVolume() {
      if (!(value >= 0 && value <= 100)) {
        return Promise.reject('Invalid value: ' + value);
      }

      return new Promise(function (resolve) {
        //this._ipc.send('set-sound-volume', value * 0.01);
        resolve();
      });
    }
  }, {
    key: 'getDisplayBrightness',
    value: function getDisplayBrightness() {
      return Promise.resolve(50);
      // return new Promise(resolve => {
      //   this._ipc.on('get-display-brightness-result', function(value) {
      //     resolve(parseFloat(value) * 100);
      //   });
      //   this._ipc.send('get-display-brightness');
      // });
    }
  }, {
    key: 'setDisplayBrightness',
    value: function setDisplayBrightness(value) {
      if (!(value >= 0 && value <= 100)) {
        return Promise.reject('Invalid value: ' + value);
      }

      return new Promise(function (resolve) {
        //this._ipc.send('set-display-brightness', value * 0.01);
        resolve();
      });
    }
  }, {
    key: 'startCardReader',
    value: function startCardReader() {
      return Promise.reject();
      // return new Promise((resolve, reject) => {
      //   this._ipc.on('card-reader-result', function(data) {
      //     resolve(data);
      //   });
      //   this._ipc.on('card-reader-error', function() {
      //     reject();
      //   });
      //   this._ipc.send('start-card-reader');
      // });
    }
  }, {
    key: 'stopCardReader',
    value: function stopCardReader() {
      return Promise.reject();
      // return new Promise(resolve => {
      //   this._ipc.send('stop-card-reader');
      //   resolve();
      // });
    }
  }]);

  return ElectronManagementService;
})();

//src/js/shared/service/managementservice.generic.js

window.app.GenericManagementService = (function () {
  function GenericManagementService() {
    _classCallCheck(this, GenericManagementService);
  }

  _createClass(GenericManagementService, [{
    key: 'loadReset',
    value: function loadReset() {
      return new Promise(function () {
        return window.location.assign('reset.html');
      });
    }
  }, {
    key: 'loadStartup',
    value: function loadStartup() {
      return new Promise(function () {
        return window.location.assign('startup.html');
      });
    }
  }, {
    key: 'loadApplication',
    value: function loadApplication(location) {
      return new Promise(function () {
        return window.location.assign('snap_' + location.theme.layout + '.html');
      });
    }
  }, {
    key: 'openBrowser',
    value: function openBrowser(url) {
      return Promise.resolve(new app.IframeWebBrowserReference(url));
    }
  }, {
    key: 'closeBrowser',
    value: function closeBrowser(reference) {
      return new Promise(function (resolve) {
        reference.exit();
        resolve();
      });
    }
  }, {
    key: 'rotateScreen',
    value: function rotateScreen() {
      return Promise.reject();
    }
  }, {
    key: 'getSoundVolume',
    value: function getSoundVolume() {
      return Promise.reject();
    }
  }, {
    key: 'setSoundVolume',
    value: function setSoundVolume() {
      return Promise.reject();
    }
  }, {
    key: 'getDisplayBrightness',
    value: function getDisplayBrightness() {
      return Promise.reject();
    }
  }, {
    key: 'setDisplayBrightness',
    value: function setDisplayBrightness() {
      return Promise.reject();
    }
  }, {
    key: 'startCardReader',
    value: function startCardReader() {
      return Promise.reject();
    }
  }, {
    key: 'stopCardReader',
    value: function stopCardReader() {
      return Promise.reject();
    }
  }]);

  return GenericManagementService;
})();

//src/js/shared/service/socketclient.js

window.app.SocketClient = (function () {
  function SocketClient(SessionModel, Hosts, Logger) {
    _classCallCheck(this, SocketClient);

    var self = this;

    this._SessionModel = SessionModel;
    this._Logger = Logger;

    this.isConnectedChanged = new signals.Signal();

    this._channels = {};
    this._isConnected = false;

    this._socket = socketCluster.connect({
      hostname: Hosts.socket.host,
      path: Hosts.socket.path,
      port: Hosts.socket.port,
      secure: Hosts.socket.secure
    });
    this._socket.on('connect', function (status) {
      self._Logger.debug('Socket connected.');
      self._authenticate();
    });
    this._socket.on('disconnect', function () {
      self._Logger.debug('Socket disconnected.');
      self._isConnected = false;
      self.isConnectedChanged.dispatch(self.isConnected);
    });
  }

  _createClass(SocketClient, [{
    key: 'subscribe',
    value: function subscribe(topic, handler) {
      this._getChannel(topic).watch(handler);
    }
  }, {
    key: 'send',
    value: function send(topic, data) {
      this._getChannel(topic).publish(data);
    }
  }, {
    key: '_getChannel',
    value: function _getChannel(topic) {
      return this._channels[topic] || (this._channels[topic] = this._socket.subscribe(topic));
    }
  }, {
    key: '_authenticate',
    value: function _authenticate() {
      var self = this;
      self._socket.emit('authenticate', {
        access_token: self._SessionModel.apiToken
      }, function (err) {
        if (err) {
          self._Logger.warn('Unable to authenticate socket: ' + err.message);
          return;
        }

        self._isConnected = true;
        self.isConnectedChanged.dispatch(self.isConnected);
      });
    }
  }, {
    key: 'isConnected',
    get: function get() {
      return this._isConnected;
    }
  }]);

  return SocketClient;
})();

//src/js/shared/service/telemetryservice.js

window.app.TelemetryService = (function () {
  function TelemetryService($resource) {
    _classCallCheck(this, TelemetryService);

    this._api = {
      'submitTelemetry': $resource('/snap/telemetry', {}, { query: { method: 'POST' } }),
      'submitLogs': $resource('/snap/logs', {}, { query: { method: 'POST' } })
    };
  }

  _createClass(TelemetryService, [{
    key: 'submitTelemetry',
    value: function submitTelemetry(data) {
      return this._api.submitTelemetry.query(data).$promise;
    }
  }, {
    key: 'submitLogs',
    value: function submitLogs(data) {
      return this._api.submitLogs.query(data).$promise;
    }
  }]);

  return TelemetryService;
})();

//src/js/shared/service/webbrowser.js

window.app.WebBrowser = (function () {
  /* global signals, URI */

  function WebBrowser(AnalyticsModel, ManagementService, SNAPEnvironment, SNAPHosts) {
    _classCallCheck(this, WebBrowser);

    this._AnalyticsModel = AnalyticsModel;
    this._ManagementService = ManagementService;
    this._SNAPEnvironment = SNAPEnvironment;

    this._localHosts = Object.keys(SNAPHosts).map(function (p) {
      return SNAPHosts[p].host;
    }).filter(function (h) {
      return Boolean(h);
    });
    this._localHosts.push('localhost');

    this.onOpened = new signals.Signal();
    this.onClosed = new signals.Signal();
    this.onNavigated = new signals.Signal();

    this._browser = null;
  }

  _createClass(WebBrowser, [{
    key: 'open',
    value: function open(url) {
      var _this47 = this;

      if (this._browser) {
        this._browser.navigate(url);
        return Promise.resolve(this._browser);
      }

      return new Promise(function (resolve, reject) {
        _this47._ManagementService.openBrowser(url).then(function (browser) {
          _this47._browser = browser;
          _this47.onOpened.dispatch(_this47._browser);

          _this47._browser.onNavigated.add(function (url) {
            _this47.onNavigated.dispatch(url);

            var host = URI(url).hostname();

            if (_this47._localHosts.indexOf(host) === -1) {
              _this47._AnalyticsModel.logUrl(url);
            }
          });

          _this47._browser.onExit.addOnce(function () {
            _this47.onClosed.dispatch();
            _this47._browser = null;
          });

          resolve(browser);
        }, reject);
      });
    }
  }, {
    key: 'close',
    value: function close() {
      var _this48 = this;

      if (!this._browser) {
        return Promise.resolve();
      }

      return this._ManagementService.closeBrowser(this._browser).then(function () {
        _this48._browser = null;
      });
    }
  }, {
    key: 'getFlashUrl',
    value: function getFlashUrl(url, width, height) {
      return 'flash.html#media=' + encodeURIComponent(url) + ('&width=' + encodeURIComponent(width)) + ('&height=' + encodeURIComponent(height));
    }
  }, {
    key: 'isPrivateUrl',
    value: function isPrivateUrl(url) {
      return !url.startsWith('http') || this._localHosts.indexOf(URI(url).hostname()) !== -1;
    }
  }]);

  return WebBrowser;
})();

//src/js/shared/workers/flashstarter.js

window.app.FlashStarter = (function () {
  /* global swfobject */

  function FlashStarter(Logger, SNAPHosts) {
    _classCallCheck(this, FlashStarter);

    this._Logger = Logger;
    this._SNAPHosts = SNAPHosts;
  }

  _createClass(FlashStarter, [{
    key: 'start',
    value: function start(containerId, url, width, height) {
      var flashvars = {},
          params = {
        menu: 'false',
        wmode: 'direct',
        allowFullScreen: 'false'
      },
          attributes = {
        id: containerId,
        name: containerId
      },
          self = this;

      swfobject.embedSWF(url, containerId, width, height, '16.0.0', 'expressInstall.swf', flashvars, params, attributes, function (res) {
        if (res.success !== true) {
          self._Logger.warn('Unable to start Flash in container #' + containerId + ': ' + url + ' ' + width + '/' + height);
        }
      });
    }
  }]);

  return FlashStarter;
})();

//src/js/shared/workers/heatmap.js

window.app.HeatMap = (function () {
  function HeatMap(element) {
    _classCallCheck(this, HeatMap);

    var self = this;

    this._listener = function (e) {
      self._onClick(e);
    };

    this._element = element;
    this._element.addEventListener('click', this._listener);

    this.clicked = new signals.Signal();
  }

  _createClass(HeatMap, [{
    key: 'dispose',
    value: function dispose() {
      this._element.removeEventListener('click', this._listener);
    }
  }, {
    key: '_onClick',
    value: function _onClick(e) {
      var data = {
        x: e.layerX / this._element.clientWidth,
        y: e.layerY / this._element.clientHeight
      };

      if (data.x < 0 || data.y < 0 || data.x > 1 || data.y > 1) {
        return;
      }

      this.clicked.dispatch(data);
    }
  }]);

  return HeatMap;
})();

//src/js/shared/workers/logger.composite.js

window.app.CompositeLogger = (function () {
  function CompositeLogger(loggers) {
    _classCallCheck(this, CompositeLogger);

    this.loggers = loggers;
  }

  _createClass(CompositeLogger, [{
    key: 'debug',
    value: function debug(message) {
      this.loggers.forEach(function (logger) {
        return logger.debug(message);
      });
    }
  }, {
    key: 'info',
    value: function info(message) {
      this.loggers.forEach(function (logger) {
        return logger.info(message);
      });
    }
  }, {
    key: 'warn',
    value: function warn(message) {
      this.loggers.forEach(function (logger) {
        return logger.warn(message);
      });
    }
  }, {
    key: 'error',
    value: function error(message) {
      this.loggers.forEach(function (logger) {
        return logger.error(message);
      });
    }
  }, {
    key: 'fatal',
    value: function fatal(message) {
      this.loggers.forEach(function (logger) {
        return logger.fatal(message);
      });
    }
  }]);

  return CompositeLogger;
})();

//src/js/shared/workers/logger.electron.js

window.app.ElectronLogger = (function () {
  function ElectronLogger() {
    _classCallCheck(this, ElectronLogger);

    if (!require) {
      throw new Error('Node.js context not found.');
    }

    this._ipc = require('ipc');

    if (!this._ipc) {
      throw new Error('IPC module not found.');
    }
  }

  _createClass(ElectronLogger, [{
    key: 'debug',
    value: function debug(message) {
      this._ipc.send('log', {
        level: 'debug',
        message: message
      });
    }
  }, {
    key: 'info',
    value: function info(message) {
      this._ipc.send('log', {
        level: 'info',
        message: message
      });
    }
  }, {
    key: 'warn',
    value: function warn(message) {
      this._ipc.send('log', {
        level: 'warn',
        message: message
      });
    }
  }, {
    key: 'error',
    value: function error(message) {
      this._ipc.send('log', {
        level: 'error',
        message: message
      });
    }
  }, {
    key: 'fatal',
    value: function fatal(message) {
      this._ipc.send('log', {
        level: 'fatal',
        message: message
      });
    }
  }]);

  return ElectronLogger;
})();

//src/js/shared/workers/logger.js

window.app.Logger = (function () {
  function Logger() {
    _classCallCheck(this, Logger);
  }

  _createClass(Logger, [{
    key: 'debug',
    value: function debug(message) {}
  }, {
    key: 'info',
    value: function info(message) {}
  }, {
    key: 'warn',
    value: function warn(message) {}
  }, {
    key: 'error',
    value: function error(message) {}
  }, {
    key: 'fatal',
    value: function fatal(message) {}
  }]);

  return Logger;
})();

//src/js/shared/workers/logger.log4js.js

window.app.Log4JsLogger = (function () {
  function Log4JsLogger() {
    _classCallCheck(this, Log4JsLogger);

    this._log = log4javascript.getLogger();

    // var ajaxAppender = new log4javascript.AjaxAppender('/snap/log');
    // ajaxAppender.setWaitForResponse(true);
    // ajaxAppender.setLayout(new log4javascript.JsonLayout());
    // ajaxAppender.setThreshold(log4javascript.Level.ERROR);
    //
    // this._log.addAppender(ajaxAppender);
    this._log.addAppender(new log4javascript.BrowserConsoleAppender());
  }

  _createClass(Log4JsLogger, [{
    key: 'debug',
    value: function debug(message) {
      this._log.debug(message);
    }
  }, {
    key: 'info',
    value: function info(message) {
      this._log.info(message);
    }
  }, {
    key: 'warn',
    value: function warn(message) {
      this._log.warn(message);
    }
  }, {
    key: 'error',
    value: function error(message) {
      this._log.error(message);
    }
  }, {
    key: 'fatal',
    value: function fatal(message) {
      this._log.fatal(message);
    }
  }]);

  return Log4JsLogger;
})();

//src/js/apps.js

//------------------------------------------------------------------------
//
//  ApplicationBootstraper
//
//------------------------------------------------------------------------

window.app.ApplicationBootstraper = (function () {
  function ApplicationBootstraper(name, options) {
    _classCallCheck(this, ApplicationBootstraper);

    this.name = name;
    this.options = options || {};

    this.hosts = {
      api: { 'host': 'api2.managesnap.com', 'secure': true },
      content: { 'host': 'content.managesnap.com', 'secure': false },
      media: { 'host': 'content.managesnap.com', 'secure': false },
      'static': { 'path': this.options.static_path || '/' },
      socket: { 'host': 'web-dev.managesnap.com', 'secure': true, 'port': 8080, 'path': '/socket/' },
      games: { 'host': 'static.managesnap.com' }
    };

    this.environment = {
      debug: this.options.debug || false,
      platform: this.options.platform || 'web',
      version: SNAP_VERSION || '0.0.0',
      main_application: { 'client_id': 'd67610b1c91044d8abd55cbda6c619f0', 'callback_url': 'https://api2.managesnap.com/callback/api', 'scope': '' },
      customer_application: { 'client_id': '91381a86b3b444fd876df80b22d7fa6e', 'callback_url': 'https://api2.managesnap.com/callback/customer', 'scope': '' },
      facebook_application: { 'client_id': '349729518545313', 'redirect_url': 'https://web.managesnap.com/callback/facebook' },
      googleplus_application: { 'client_id': '678998250941-1dmebp4ksni9tsjth45tsht8l7cl1mrn.apps.googleusercontent.com', 'redirect_url': 'https://web.managesnap.com/callback/googleplus' },
      twitter_application: { 'consumer_key': 'yQ8XJ15PmaPOi4L5DJPikGCI0', 'redirect_url': 'https://web.managesnap.com/callback/twitter' }
    };

    this.dependencies = ['ngRoute', 'ngAnimate', 'ngTouch', 'ngSanitize', 'SNAP.configs', 'SNAP.controllers', 'SNAP.directives', 'SNAP.filters', 'SNAP.services'];
  }

  _createClass(ApplicationBootstraper, [{
    key: 'configure',

    //-----------------------------------------------
    //    Public methods
    //-----------------------------------------------

    value: function configure() {
      var _this49 = this;

      FastClick.attach(document.body);

      return new Promise(function (resolve, reject) {
        if (_this49.options.access_token) {
          _this49._getStore('snap_accesstoken').write(_this49.options.access_token);
        }

        var store = _this49._getStore('snap_location');

        _this49._getStore('snap_location').read().then(function (config) {
          _this49.location = new window.app.LocationConfig(config);

          if (!_this49.location.location) {
            if (_this49.options.location) {
              _this49._getStore('snap_location').write(_this49.options.location);
              _this49.location = new window.app.LocationConfig(_this49.options.location);
            } else {
              console.error('No location info found.');
            }
          }

          angular.module('SNAP.configs', []).constant('SNAPLocation', _this49.location).constant('SNAPEnvironment', _this49.environment).constant('SNAPHosts', _this49.hosts);

          if (_this49.hosts['static'].host) {
            $sceDelegateProvider.resourceUrlWhitelist(['self', new RegExp('.*' + _this49.hosts['static'].host + '.*')]);
          }

          var app = angular.module(_this49.name, _this49.dependencies);

          resolve(app);
        }, reject);
      });
    }
  }, {
    key: 'run',
    value: function run() {
      angular.bootstrap(document, [this.name]);
    }
  }, {
    key: '_getPartialUrl',

    //-----------------------------------------------
    //    Helper methods
    //-----------------------------------------------

    value: function _getPartialUrl(name) {
      if (!this.hosts) {
        throw new Error('Missing hosts configuration.');
      }

      if (!this.location) {
        throw new Error('Missing location configuration.');
      }

      var path = this.hosts['static'].host ? '//' + this.hosts['static'].host + this.hosts['static'].path : '' + this.hosts['static'].path;

      return path + 'assets/' + this.location.theme.layout + '/partials/' + name + '.html';
    }
  }, {
    key: '_getStore',
    value: function _getStore(id) {
      switch (this.environment.platform) {
        case 'mobile':
          return new app.CordovaLocalStorageStore(id);
        default:
          return new app.LocalStorageStore(id);
      }
    }
  }]);

  return ApplicationBootstraper;
})();

//------------------------------------------------------------------------
//
//  SnapApplicationBootstraper
//
//------------------------------------------------------------------------

window.app.SnapApplicationBootstraper = (function (_app$ApplicationBootstraper) {
  _inherits(SnapApplicationBootstraper, _app$ApplicationBootstraper);

  function SnapApplicationBootstraper(options) {
    _classCallCheck(this, SnapApplicationBootstraper);

    _get(Object.getPrototypeOf(SnapApplicationBootstraper.prototype), 'constructor', this).call(this, 'SNAPApplication', options);
  }

  _createClass(SnapApplicationBootstraper, [{
    key: 'configure',
    value: function configure() {
      var _this50 = this;

      return _get(Object.getPrototypeOf(SnapApplicationBootstraper.prototype), 'configure', this).call(this).then(function (app) {
        return app.config(['$locationProvider', '$routeProvider', '$sceDelegateProvider', function ($locationProvider, $routeProvider, $sceDelegateProvider) {

          $locationProvider.html5Mode(false);

          $routeProvider.when('/', { template: ' ', controller: 'HomeBaseCtrl' });
          $routeProvider.when('/menu/:token', { template: ' ', controller: 'MenuBaseCtrl' });
          $routeProvider.when('/category/:token', { template: ' ', controller: 'CategoryBaseCtrl' });
          $routeProvider.when('/item/:token', { template: ' ', controller: 'ItemBaseCtrl' });
          $routeProvider.when('/checkout', { templateUrl: _this50._getPartialUrl('checkout'), controller: 'CheckoutCtrl' });
          $routeProvider.when('/signin', { templateUrl: _this50._getPartialUrl('signin'), controller: 'SignInCtrl' });
          $routeProvider.when('/account', { templateUrl: _this50._getPartialUrl('account'), controller: 'AccountCtrl' });
          $routeProvider.when('/chat', { templateUrl: _this50._getPartialUrl('chat'), controller: 'ChatCtrl' });
          $routeProvider.when('/chatmap', { templateUrl: _this50._getPartialUrl('chatmap'), controller: 'ChatMapCtrl' });
          $routeProvider.when('/survey', { templateUrl: _this50._getPartialUrl('survey'), controller: 'SurveyCtrl' });
          $routeProvider.otherwise({ redirectTo: '/' });
        }]);
      });
    }
  }]);

  return SnapApplicationBootstraper;
})(app.ApplicationBootstraper);

//------------------------------------------------------------------------
//
//  StartupApplicationBootstraper
//
//------------------------------------------------------------------------

window.app.StartupApplicationBootstraper = (function (_app$ApplicationBootstraper2) {
  _inherits(StartupApplicationBootstraper, _app$ApplicationBootstraper2);

  function StartupApplicationBootstraper(options) {
    _classCallCheck(this, StartupApplicationBootstraper);

    _get(Object.getPrototypeOf(StartupApplicationBootstraper.prototype), 'constructor', this).call(this, 'SNAPStartup', options);
  }

  return StartupApplicationBootstraper;
})(app.ApplicationBootstraper);

//------------------------------------------------------------------------
//
//  ResetApplicationBootstraper
//
//------------------------------------------------------------------------

window.app.ResetApplicationBootstraper = (function (_app$ApplicationBootstraper3) {
  _inherits(ResetApplicationBootstraper, _app$ApplicationBootstraper3);

  function ResetApplicationBootstraper(options) {
    _classCallCheck(this, ResetApplicationBootstraper);

    _get(Object.getPrototypeOf(ResetApplicationBootstraper.prototype), 'constructor', this).call(this, 'SNAPReset', options);
  }

  return ResetApplicationBootstraper;
})(app.ApplicationBootstraper);

//------------------------------------------------------------------------
//
//  FlashApplicationBootstraper
//
//------------------------------------------------------------------------

window.app.FlashApplicationBootstraper = (function (_app$ApplicationBootstraper4) {
  _inherits(FlashApplicationBootstraper, _app$ApplicationBootstraper4);

  function FlashApplicationBootstraper(options) {
    _classCallCheck(this, FlashApplicationBootstraper);

    _get(Object.getPrototypeOf(FlashApplicationBootstraper.prototype), 'constructor', this).call(this, 'SNAPFlash', options);
  }

  return FlashApplicationBootstraper;
})(app.ApplicationBootstraper);

//------------------------------------------------------------------------
//
//  SnapAuxiliaresApplicationBootstraper
//
//------------------------------------------------------------------------

window.app.SnapAuxiliaresApplicationBootstraper = (function (_app$ApplicationBootstraper5) {
  _inherits(SnapAuxiliaresApplicationBootstraper, _app$ApplicationBootstraper5);

  function SnapAuxiliaresApplicationBootstraper(options) {
    _classCallCheck(this, SnapAuxiliaresApplicationBootstraper);

    _get(Object.getPrototypeOf(SnapAuxiliaresApplicationBootstraper.prototype), 'constructor', this).call(this, 'SNAPAuxiliares', options);
  }

  _createClass(SnapAuxiliaresApplicationBootstraper, [{
    key: 'configure',
    value: function configure() {
      var _this51 = this;

      return _get(Object.getPrototypeOf(SnapAuxiliaresApplicationBootstraper.prototype), 'configure', this).call(this).then(function (app) {
        return app.config(['$locationProvider', '$routeProvider', function ($locationProvider, $routeProvider) {

          $locationProvider.html5Mode(false);

          $routeProvider.when('/', { templateUrl: _this51._getPartialUrl('chatroom'), controller: 'ChatRoomCtrl' });
          $routeProvider.otherwise({ redirectTo: '/' });
        }]);
      });
    }
  }]);

  return SnapAuxiliaresApplicationBootstraper;
})(app.ApplicationBootstraper);

//src/js/controllers/_base.js

angular.module('SNAP.controllers', ['angular-bacon']);

//src/js/controllers/account.js

angular.module('SNAP.controllers').controller('AccountCtrl', ['$scope', 'CustomerManager', 'DialogManager', 'NavigationManager', function ($scope, CustomerManager, DialogManager, NavigationManager) {

  if (!CustomerManager.model.isEnabled || !CustomerManager.model.isAuthenticated) {
    NavigationManager.location = { type: 'home' };
    return;
  }

  //------------------------------------------------------------------------
  //
  //  Constants
  //
  //------------------------------------------------------------------------

  //------------------------------------------------------------------------
  //
  //  Properties
  //
  //------------------------------------------------------------------------

  //-----------------------------------------------
  //    Profile
  //-----------------------------------------------

  $scope.profile = CustomerManager.model.profile;
  $scope.canChangePassword = CustomerManager.model.hasCredentials;
  var profile = $scope.$watchAsProperty('profile');

  CustomerManager.model.profileChanged.add(function (value) {
    $scope.profile = value;
    $scope.canChangePassword = CustomerManager.model.hasCredentials;
    $scope.canChangeEmail = CustomerManager.model.hasCredentials;
  });

  //-----------------------------------------------
  //    Splash screen
  //-----------------------------------------------

  $scope.editProfile = function () {
    $scope.profileedit = angular.copy($scope.profile);
    $scope.showProfileEdit = true;
  };

  $scope.editPassword = function () {
    $scope.passwordedit = {
      old_password: '',
      new_password: ''
    };
    $scope.showProfileEdit = false;
    $scope.showPasswordEdit = true;
  };

  $scope.editPayment = function () {
    $scope.showPaymentEdit = true;
  };

  //-----------------------------------------------
  //    Profile edit screen
  //-----------------------------------------------

  $scope.profileEditSubmit = function () {
    var job = DialogManager.startJob();

    CustomerManager.updateProfile($scope.profileedit).then(function () {
      DialogManager.endJob(job);
      $scope.showProfileEdit = false;
    }, function (e) {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  $scope.profileEditCancel = function () {
    $scope.showProfileEdit = false;
  };

  //-----------------------------------------------
  //    Password edit screen
  //-----------------------------------------------

  $scope.passwordEditSubmit = function () {
    var job = DialogManager.startJob();

    CustomerManager.changePassword($scope.passwordedit).then(function () {
      DialogManager.endJob(job);
      $scope.showPasswordEdit = false;
    }, function (e) {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  $scope.passwordEditCancel = function () {
    $scope.showPasswordEdit = false;
  };
}]);

//src/js/controllers/background.js

angular.module('SNAP.controllers').controller('BackgroundCtrl', ['$scope', '$timeout', 'ShellManager', 'NavigationManager', function ($scope, $timeout, ShellManager, NavigationManager) {

  function showImages(values) {
    $timeout(function () {
      $scope.images = values.map(function (item) {
        return {
          src: ShellManager.getMediaUrl(item.media, 1920, 1080, 'jpg'),
          type: ShellManager.getMediaType(item.media)
        };
      });
    });
  }

  var backgrounds = ShellManager.model.backgrounds,
      pageBackgrounds = null;

  showImages(backgrounds);
  ShellManager.model.backgroundsChanged.add(function (value) {
    backgrounds = value;
    showImages(backgrounds);
  });

  NavigationManager.locationChanged.add(function (location) {
    var newPageBackgrounds = ShellManager.getPageBackgrounds(location);

    if (newPageBackgrounds.length > 0) {
      pageBackgrounds = newPageBackgrounds;
      showImages(pageBackgrounds);
      return;
    }

    if (pageBackgrounds) {
      switch (location.type) {
        case 'menu':
        case 'category':
        case 'item':
          return;
      }
    }

    pageBackgrounds = null;
    showImages(backgrounds);
  });
}]);

//src/js/controllers/chat.js

angular.module('SNAP.controllers').controller('ChatCtrl', ['$scope', '$timeout', 'CustomerManager', 'ChatManager', 'DialogManager', 'NavigationManager', 'LocationModel', 'ShellManager', 'SNAPLocation', function ($scope, $timeout, CustomerManager, ChatManager, DialogManager, NavigationManager, LocationModel, ShellManager, SNAPLocation) {

  if (!SNAPLocation.chat) {
    NavigationManager.location = { type: 'home' };
    return;
  }

  $scope.locationName = SNAPLocation.location_name;

  $scope.getPartialUrl = function (name) {
    return ShellManager.getPartialUrl(name);
  };

  $scope.chatEnabled = ChatManager.model.isEnabled;
  ChatManager.model.isEnabledChanged.add(function (value) {
    $timeout(function () {
      return $scope.chatEnabled = value;
    });
  });

  $scope.activeDevices = ChatManager.model.activeDevices;
  ChatManager.model.activeDevicesChanged.add(function (value) {
    $timeout(function () {
      return $scope.activeDevices = value;
    });
  });

  $scope.giftSeat = LocationModel.getSeat(ChatManager.model.giftSeat);
  ChatManager.model.giftSeatChanged.add(function (token) {
    $timeout(function () {
      return $scope.giftSeat = LocationModel.getSeat(token);
    });
  });

  $scope.giftDevice = ChatManager.model.giftDevice;
  ChatManager.model.giftDeviceChanged.add(function (value) {
    $timeout(function () {
      return $scope.giftDevice = value;
    });
  });

  $scope.toggleChat = function () {
    ChatManager.model.isEnabled = !ChatManager.model.isEnabled;
  };

  $scope.openMap = function () {
    NavigationManager.location = { type: 'chatmap' };
  };

  $scope.getDeviceName = function (device_token) {
    return ChatManager.getDeviceName(device_token);
  };

  $scope.getSeatNumber = function (device_token) {
    var device = LocationModel.getDevice(device_token);

    for (var p in LocationModel.seats) {
      if (LocationModel.seats[p].token === device.seat) {
        var match = LocationModel.seats[p].name.match(/\d+/);
        return match ? match[0] || '' : '';
      }
    }

    return '';
  };

  $scope.closeChat = function (device_token) {
    DialogManager.confirm('Are you sure you would like to close the chat with ' + $scope.getDeviceName(device_token) + '?').then(function () {
      ChatManager.declineDevice(device_token);
    });
  };

  $scope.getUnreadCount = function (device_token) {
    return ChatManager.getUnreadCount(device_token);
  };

  $scope.sendGift = function (device_token) {
    var device = LocationModel.getDevice(device_token),
        seat = LocationModel.getSeat(device.seat);

    if (!seat) {
      return;
    }

    DialogManager.confirm('Are you sure that you want to send a gift to ' + seat.name + '?').then(function () {
      ChatManager.startGift(device_token);
      NavigationManager.location = { type: 'home' };
    });
  };

  $scope.cancelGift = function () {
    return ChatManager.endGift();
  };

  ChatManager.isPresent = true;

  var watchLocation = true;

  $scope.$on('$locationChangeStart', function () {
    if (watchLocation) {
      ChatManager.model.isPresent = false;
      watchLocation = false;
    }
  });
}]);

//src/js/controllers/chatbox.js

angular.module('SNAP.controllers').controller('ChatBoxCtrl', ['$scope', '$timeout', '$attrs', 'ChatManager', 'LocationModel', function ($scope, $timeout, $attrs, ChatManager, LocationModel) {
  var to_device = $scope.device,
      type = to_device ? ChatManager.MESSAGE_TYPES.DEVICE : ChatManager.MESSAGE_TYPES.LOCATION;

  var device = to_device ? LocationModel.getDevice(to_device) : null;

  $scope.readonly = Boolean($attrs.readonly);
  $scope.chat = {};
  $scope.messages = [];

  function showMessages() {
    $timeout(function () {
      $scope.messages = ChatManager.model.history.filter(function (message) {
        return message.type === type && (message.device === to_device || message.to_device === to_device);
      });
    });
  }

  $scope.chatEnabled = ChatManager.model.isEnabled;
  ChatManager.model.isEnabledChanged.add(function (value) {
    $timeout(function () {
      return $scope.chatEnabled = value;
    });
  });

  $scope.isConnected = ChatManager.model.isConnected;
  ChatManager.model.isConnectedChanged.add(function (value) {
    $timeout(function () {
      return $scope.isConnected = value;
    });
  });

  $scope.sendMessage = function () {
    if (!$scope.isConnected || !$scope.chat.message) {
      return;
    }

    var message = {
      type: type,
      to_device: to_device,
      text: $scope.chat.message
    };

    ChatManager.sendMessage(message);

    $scope.chat.message = '';
  };

  $scope.getFromName = function (message) {
    return ChatManager.getMessageName(message);
  };

  $scope.getStatusText = function (message) {
    if (message.to_device === to_device) {
      switch (message.status) {
        case ChatManager.MESSAGE_STATUSES.CHAT_REQUEST:
          return 'You have requested to chat with ' + ChatManager.getDeviceName(message.to_device);
        case ChatManager.MESSAGE_STATUSES.CHAT_REQUEST_ACCEPTED:
          return 'Accepted chat request';
        case ChatManager.MESSAGE_STATUSES.CHAT_REQUEST_DECLINED:
          return 'Declined chat request';
        case ChatManager.MESSAGE_STATUSES.CHAT_CLOSED:
          return 'Closed the chat';
        case ChatManager.MESSAGE_STATUSES.GIFT_REQUEST:
          return 'Gift request sent';
        case ChatManager.MESSAGE_STATUSES.GIFT_REQUEST_ACCEPTED:
          return 'Accepted a gift';
        case ChatManager.MESSAGE_STATUSES.GIFT_REQUEST_DECLINED:
          return 'Declined a gift';
      }
    } else if (message.device === to_device) {
      switch (message.status) {
        case ChatManager.MESSAGE_STATUSES.CHAT_REQUEST:
          return $scope.getFromName(message) + ' would like to chat with you';
        case ChatManager.MESSAGE_STATUSES.CHAT_REQUEST_ACCEPTED:
          return 'Accepted chat request';
        case ChatManager.MESSAGE_STATUSES.CHAT_REQUEST_DECLINED:
          return 'Declined chat request';
        case ChatManager.MESSAGE_STATUSES.CHAT_CLOSED:
          return 'Closed the chat';
        case ChatManager.MESSAGE_STATUSES.GIFT_REQUEST:
          return 'Would like to send you a gift';
        case ChatManager.MESSAGE_STATUSES.GIFT_REQUEST_ACCEPTED:
          return 'Accepted a gift';
        case ChatManager.MESSAGE_STATUSES.GIFT_REQUEST_DECLINED:
          return 'Declined a gift';
      }
    }
  };

  $scope.isUnread = function (message) {
    if (message.to_device === to_device) {
      return false;
    }

    return ChatManager.checkIfUnread(to_device, message);
  };

  $scope.markAsRead = function () {
    if (!to_device) {
      return;
    }

    ChatManager.markAsRead(to_device);
  };

  $scope.onKeydown = function (keycode) {
    if (keycode === 13) {
      $timeout(function () {
        $scope.sendMessage();
      });
    }
  };

  LocationModel.devicesChanged.add(showMessages);
  LocationModel.seatsChanged.add(showMessages);
  ChatManager.model.historyChanged.add(showMessages);
  showMessages();
}]);

//src/js/controllers/chatmap.js

angular.module('SNAP.controllers').controller('ChatMapCtrl', ['$scope', '$timeout', 'ChatManager', 'ShellManager', 'DialogManager', 'NavigationManager', 'LocationModel', function ($scope, $timeout, ChatManager, ShellManager, DialogManager, NavigationManager, LocationModel) {

  $scope.seats = [];

  $scope.mapImage = ShellManager.model.elements.location_map;
  ShellManager.model.elementsChanged.add(function () {
    $timeout(function () {
      return $scope.mapImage = ShellManager.model.elements.location_map;
    });
  });

  function buildMap() {
    if (!LocationModel.seat) {
      return;
    }

    $timeout(function () {
      $scope.seats = LocationModel.seats.filter(function (seat) {
        return seat.token !== LocationModel.seat.token;
      }).map(function (seat) {
        var devices = LocationModel.devices.filter(function (device) {
          return device.seat === seat.token;
        }).map(function (device) {
          return {
            token: device.token,
            seat: device.seat,
            is_available: device.is_available,
            username: device.username
          };
        });

        return {
          token: seat.token,
          name: seat.name,
          devices: devices,
          map_position_x: seat.map_position_x,
          map_position_y: seat.map_position_y,
          is_available: devices.filter(function (device) {
            return device.is_available;
          }).length > 0
        };
      });
    });
  }

  LocationModel.devicesChanged.add(buildMap);
  LocationModel.seatsChanged.add(buildMap);
  LocationModel.seatChanged.add(buildMap);
  buildMap();

  $scope.chooseSeat = function (seat) {
    var device = seat.devices[0];

    if (!seat.is_available || !device) {
      var deviceName = device && device.username ? device.username : seat.name;
      DialogManager.alert(deviceName + ' is unavailable for chat');
      return;
    }

    ChatManager.approveDevice(device.token);
    $scope.exitMap();
  };

  $scope.exitMap = function () {
    NavigationManager.location = { type: 'chat' };
  };
}]);

//src/js/controllers/chatroom.js

angular.module('SNAP.controllers').controller('ChatRoomCtrl', ['$scope', '$timeout', 'ChatManager', 'NavigationManager', 'ShellManager', 'SNAPLocation', function ($scope, $timeout, ChatManager, NavigationManager, ShellManager, SNAPLocation) {

  if (!SNAPLocation.chat) {
    NavigationManager.location = { type: 'home' };
    return;
  }

  $scope.locationName = SNAPLocation.location_name;

  $scope.getPartialUrl = function (name) {
    return ShellManager.getPartialUrl(name);
  };
}]);

//src/js/controllers/checkout.js

angular.module('SNAP.controllers').controller('CheckoutCtrl', ['$scope', '$timeout', 'CustomerManager', 'OrderManager', 'DialogManager', 'NavigationManager', 'SessionManager', 'ShellManager', 'LocationModel', 'SurveyManager', function ($scope, $timeout, CustomerManager, OrderManager, DialogManager, NavigationManager, SessionManager, ShellManager, LocationModel, SurveyManager) {

  //------------------------------------------------------------------------
  //
  //  Constants
  //
  //------------------------------------------------------------------------

  //-----------------------------------------------
  //    Check split type
  //-----------------------------------------------

  $scope.CHECK_SPLIT_NONE = 0;
  $scope.CHECK_SPLIT_BY_ITEMS = 1;
  $scope.CHECK_SPLIT_EVENLY = 2;

  //-----------------------------------------------
  //    Payment method
  //-----------------------------------------------

  $scope.PAYMENT_METHOD_CARD = 1;
  $scope.PAYMENT_METHOD_CASH = 2;
  $scope.PAYMENT_METHOD_PAYPAL = 3;

  //-----------------------------------------------
  //    Receipt method
  //-----------------------------------------------

  $scope.RECEIPT_METHOD_NONE = 0;
  $scope.RECEIPT_METHOD_EMAIL = 1;
  $scope.RECEIPT_METHOD_SMS = 2;
  $scope.RECEIPT_METHOD_PRINT = 3;

  //-----------------------------------------------
  //    Checkout step
  //-----------------------------------------------

  $scope.STEP_CHECK_SPLIT = 0;
  $scope.STEP_PAYMENT = 1;
  $scope.STEP_TIPPING = 2;
  $scope.STEP_SIGNATURE = 3;
  $scope.STEP_RECEIPT = 4;
  $scope.STEP_COMPLETE = 5;

  //------------------------------------------------------------------------
  //
  //  Properties
  //
  //------------------------------------------------------------------------

  $scope.options = {};
  $scope.data = [{
    items: OrderManager.model.orderCheck
  }];

  //-----------------------------------------------
  //    Check
  //-----------------------------------------------

  //Checks data
  var data = $scope.$watchAsProperty('data');
  data.changes().subscribe(function (value) {
    if (value.value) {
      var data = value.value();
      $scope.options.count = data.length;
    }

    $scope.options.index = 0;
  });

  //Minimum number of guests
  $scope.options.guest_count_min = 2;

  //Maximum number of guests
  $scope.options.guest_count_max = 9; /*Math.max(
                                      SessionManager.guestCount,
                                      OrderManager.model.orderCheck.reduce((i, item) => i + item.quantity, 0)
                                      );*/

  //Number of guests
  $scope.options.guest_count = SessionManager.guestCount;

  //Check split mode
  $scope.options.check_split = $scope.CHECK_SPLIT_NONE;

  //Check index
  $scope.options.index = 0;
  var index = $scope.$watchAsProperty('options.index');
  Bacon.combineAsArray(index, data).subscribe(function () {
    $scope.current = $scope.data[$scope.options.index];

    if (CustomerManager.model.isAuthenticated && !CustomerManager.model.isGuest) {
      $scope.current.receipt_phone = $scope.current.receipt_phone || CustomerManager.model.profile.phone;
      $scope.current.receipt_email = CustomerManager.model.hasCredentials ? CustomerManager.model.profile.email : $scope.current.receipt_email;
    }

    if ($scope.current.items) {
      $scope.current.subtotal = OrderManager.calculateTotalPrice($scope.current.items);
      $scope.current.tax = OrderManager.calculateTax($scope.current.items);
    }

    if (!$scope.current.tip) {
      $scope.current.tip = 0;
    }

    $scope.checkName = $scope.current.name && $scope.options.step !== $scope.STEP_CHECK_SPLIT ? $scope.current.name : CustomerManager.customerName + ' Bill';
  });

  //-----------------------------------------------
  //    Navigation
  //-----------------------------------------------

  //Current step
  $scope.options.step = $scope.options.guest_count_max > 1 ? $scope.STEP_CHECK_SPLIT : $scope.STEP_TIPPING;
  var step = $scope.$watchAsProperty('options.step');
  step.skipDuplicates().subscribe(function (value) {
    if (!value.value) {
      return;
    }

    var step = value.value();

    if (step === $scope.STEP_COMPLETE) {
      startNextCheck();
    }
  });

  //-----------------------------------------------
  //    Misc
  //-----------------------------------------------

  //Seat name
  $scope.options.seat = LocationModel.seat ? LocationModel.seat.name : 'Table';
  LocationModel.seatChanged.add(function (seat) {
    $scope.options.seat = seat ? seat.name : 'Table';
  });

  $scope.currency = ShellManager.model.currency;
  ShellManager.model.currencyChanged.add(function (currency) {
    return $timeout(function () {
      return $scope.currency = currency;
    });
  });

  $scope.checkName = null;

  //------------------------------------------------------------------------
  //
  //  Private methods
  //
  //------------------------------------------------------------------------

  //Proceed with the next check
  function startNextCheck() {
    var check = $scope.current;

    if ($scope.options.index === $scope.options.count - 1) {
      OrderManager.clearCheck();
      NavigationManager.location = {
        type: SurveyManager.model.isEnabled ? 'survey' : 'home'
      };
      return;
    }

    $timeout(function () {
      $scope.options.index++;
      $scope.options.step = $scope.STEP_TIPPING;
    });
  }

  //------------------------------------------------------------------------
  //
  //  Public methods
  //
  //------------------------------------------------------------------------

  $scope.getPartialUrl = function (name) {
    return ShellManager.getPartialUrl(name);
  };

  //Calculate a cart item title
  $scope.calculateTitle = function (entry) {
    return entry.name || entry.item.title;
  };

  //Calculate a cart item price
  $scope.calculatePrice = function (entry) {
    return OrderManager.calculatePrice(entry);
  };

  //Calculate cart items price
  $scope.calculateTotalPrice = function (entries) {
    return OrderManager.calculateTotalPrice(entries);
  };

  //Output a formatted price string
  $scope.formatPrice = function (value) {
    return ShellManager.formatPrice(value || 0);
  };

  //------------------------------------------------------------------------
  //
  //  Startup
  //
  //------------------------------------------------------------------------

  if (!CustomerManager.model.isAuthenticated) {
    NavigationManager.location = { type: 'signin' };
    return;
  }

  $scope.initialized = true;
}]);

//src/js/controllers/checkoutpayment.js

angular.module('SNAP.controllers').controller('CheckoutPaymentCtrl', ['$scope', '$timeout', 'CustomerModel', 'CardReader', 'DialogManager', 'OrderManager', 'Logger', 'SNAPEnvironment', 'SNAPLocation', function ($scope, $timeout, CustomerModel, CardReader, DialogManager, OrderManager, Logger, SNAPEnvironment, SNAPLocation) {

  CardReader.onReceived.add(function (data) {
    Logger.debug('Card reader result: ' + JSON.stringify(data));
    var card = {
      number: data.card_number,
      month: data.expiration_month,
      year: data.expiration_year,
      data: data.data
    };

    CardReader.stop();
    cardDataReceived(card);
  });

  CardReader.onError.add(function (e) {
    Logger.debug('Card reader error: ' + JSON.stringify(e));
    DialogManager.alert(ALERT_CARDREADER_ERROR).then(function () {
      $timeout(function () {
        return $scope.payCardCancel();
      });
    });
  });

  $scope.$on('$locationChangeStart', function () {
    CardReader.stop();
  });

  //Called when a card data is received
  function cardDataReceived(card) {
    $timeout(function () {
      if ($scope.current.items) {
        OrderManager.clearCheck($scope.current.items);
      }
      $scope.current.card_data = card.data;
      $scope.options.step = $scope.STEP_SIGNATURE;
    });
  }

  $scope.canPayCard = SNAPEnvironment.platform !== 'web' && SNAPLocation.payments;

  //Choose to pay with a credit card
  $scope.payCard = function () {
    $scope.current.payment_method = $scope.PAYMENT_METHOD_CARD;

    if (!$scope.current.payment_token) {
      generatePaymentToken();
    }

    CardReader.start();
  };

  $scope.payCardCancel = function () {
    $scope.current.payment_method = undefined;
    CardReader.stop();
  };

  //Choose to pay with cash
  $scope.payCash = function () {
    $scope.current.payment_method = $scope.PAYMENT_METHOD_CASH;

    if (OrderManager.model.closeoutRequest !== null) {
      DialogManager.alert(ALERT_REQUEST_CLOSEOUT_SENT);
      $timeout(function () {
        if ($scope.current.items) {
          OrderManager.clearCheck($scope.current.items);
        }
        $scope.options.step = $scope.STEP_COMPLETE;
      });
      return;
    }

    var job = DialogManager.startJob();

    OrderManager.requestCloseout().then(function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_CLOSEOUT_SENT);
      $timeout(function () {
        if ($scope.current.items) {
          OrderManager.clearCheck($scope.current.items);
        }
        $scope.options.step = $scope.STEP_COMPLETE;
      });
    }, function (e) {
      Logger.debug('Request closeout error: ' + JSON.stringify(e));
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  //Generate a payment token
  function generatePaymentToken() {
    var job = DialogManager.startJob();

    OrderManager.generatePaymentToken().then(function (token) {
      $scope.current.payment_token = token;
      DialogManager.endJob(job);
    }, function (e) {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  }
}]);

//src/js/controllers/checkoutreceipt.js

angular.module('SNAP.controllers').controller('CheckoutReceiptCtrl', ['$scope', '$timeout', 'DialogManager', 'OrderManager', function ($scope, $timeout, DialogManager, OrderManager) {

  $scope.emailEditorOpen = false;

  //Choose to have no receipt
  $scope.receiptNone = function () {
    $scope.current.receipt_method = $scope.RECEIPT_METHOD_NONE;
    $scope.options.step = $scope.STEP_COMPLETE;
  };

  //Choose to receive a receipt by e-mail
  $scope.receiptEmail = function () {
    if (!$scope.current.receipt_email) {
      return;
    }

    $scope.current.receipt_method = $scope.RECEIPT_METHOD_EMAIL;
    requestReceipt();
  };

  //Choose to receive a receipt by sms
  $scope.receiptSms = function () {
    if (!$scope.current.receipt_phone) {
      return;
    }

    $scope.current.receipt_phone = $scope.RECEIPT_METHOD_SMS;
    requestReceipt();
  };

  //Choose to receive a printed receipt
  $scope.receiptPrint = function () {
    $scope.current.receipt_method = $scope.RECEIPT_METHOD_PRINT;
    requestReceipt();
  };

  //Open an e-mail editor
  $scope.receiptEditEmail = function () {
    $scope.emailEditorOpen = true;
  };

  function requestReceipt() {
    var item = $scope.current;

    var request = {
      checkout_token: item.checkout_token,
      receipt_method: item.receipt_method
    };

    if (item.receipt_method === $scope.RECEIPT_METHOD_EMAIL) {
      request.receipt_email = item.receipt_email;
    } else if (item.receipt_method === $scope.RECEIPT_METHOD_SMS) {
      request.receipt_phone = item.receipt_phone;
    }

    var job = DialogManager.startJob();

    OrderManager.requestReceipt(request).then(function () {
      DialogManager.endJob(job);

      $timeout(function () {
        $scope.options.step = $scope.STEP_COMPLETE;
        $scope.emailEditorOpen = false;
      });
    }, function (e) {
      $timeout(function () {
        $scope.emailEditorOpen = false;
      });

      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  }
}]);

//src/js/controllers/checkoutsignature.js

angular.module('SNAP.controllers').controller('CheckoutSignatureCtrl', ['$scope', '$timeout', 'DialogManager', 'OrderManager', 'Logger', function ($scope, $timeout, DialogManager, OrderManager, Logger) {

  //Clear the current signature
  var resetSignature = function resetSignature() {
    $timeout(function () {
      $scope.current.signature_token = undefined;

      var signature = $('#checkout-signature-input');
      signature.empty();
      signature.jSignature('init', {
        'color': '#000',
        'background-color': '#fff',
        'decor-color': '#fff',
        'width': '100%',
        'height': '200px'
      });
    }, 300);
  };

  //Submit the current signature input
  $scope.signatureSubmit = function () {
    var signature = $('#checkout-signature-input');

    if (signature.jSignature('getData', 'native').length === 0) {
      return;
    }

    var job = DialogManager.startJob();
    var sig = signature.jSignature('getData', 'image');

    OrderManager.uploadSignature(sig[1]).then(function (token) {
      DialogManager.endJob(job);

      $timeout(function () {
        $scope.current.signature_token = token;
        completeCheckout();
      });
    }, function (e) {
      Logger.debug('Signature upload error: ' + JSON.stringify(e));
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  //Cancel the current signature input
  $scope.signatureCancel = function () {
    resetSignature();
  };

  //Complete the checkout
  function completeCheckout() {
    var item = $scope.current;
    var job = DialogManager.startJob();

    var request = {
      amount_subtotal: item.subtotal,
      amount_tax: item.tax,
      amount_tip: item.tip,
      card_data: item.card_data,
      signature_token: item.signature_token,
      payment_token: item.payment_token,
      order_tokens: item.items !== null ? item.items.reduce(function (result, item) {
        for (var i = 0; i < item.quantity; i++) {
          result.push(item.request);
        }

        return result;
      }, []) : null
    };

    OrderManager.payOrder(request).then(function (result) {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_CLOSEOUT_SENT);

      $timeout(function () {
        $scope.current.checkout_token = result.token;
        $scope.options.step = $scope.STEP_RECEIPT;
      });
    }, function (e) {
      Logger.debug('Order payment error: ' + JSON.stringify(e));
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  }

  var step = $scope.$watchAsProperty('options.step');
  step.skipDuplicates().subscribe(function (value) {
    if (!value.value || value.value() !== $scope.STEP_SIGNATURE) {
      return;
    }

    resetSignature();
  });
}]);

//src/js/controllers/checkouttip.js

angular.module('SNAP.controllers').controller('CheckoutTipCtrl', ['$scope', '$timeout', 'OrderManager', function ($scope, $timeout, OrderManager) {

  $scope.tipEditorOpen = false;
  $scope.data = {
    tipAmount: 0.0
  };

  //Add a tip
  $scope.addTip = function (amount) {
    if (amount >= 0) {
      $scope.data.tipAmount = amount;
      $scope.current.tip = Math.round($scope.current.subtotal * amount * 100) / 100;
    }
  };

  //Apply the selected tip amount and proceed further
  $scope.applyTip = function () {
    $scope.options.step = $scope.STEP_PAYMENT;
    $scope.tipEditorOpen = false;
  };

  //Edit tip amount
  $scope.editTip = function () {
    $scope.tipEditorOpen = true;
    $scope.addTip(0.2);
  };

  //Edit tip amount
  $scope.cancelEditTip = function () {
    $scope.tipEditorOpen = false;
    $scope.addTip(0.0);
  };

  $scope.$watchAsProperty('data.tipAmount').skipDuplicates().subscribe(function (value) {
    if (!value.value) {
      return;
    }

    var amount = parseFloat(value.value());

    if (amount >= 0) {
      $scope.addTip(amount);
    }
  });
}]);

//src/js/controllers/classic/cart.js

angular.module('SNAP.controllers').controller('CartCtrl', ['$scope', '$timeout', '$sce', 'CustomerManager', 'ShellManager', 'NavigationManager', 'OrderManager', 'DialogManager', 'CartModel', 'LocationModel', 'ChatManager', function ($scope, $timeout, $sce, CustomerManager, ShellManager, NavigationManager, OrderManager, DialogManager, CartModel, LocationModel, ChatManager) {

  $scope.getMediaUrl = function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
  $scope.formatPrice = function (value) {
    return ShellManager.formatPrice(value);
  };
  $scope.options = {};

  $scope.state = CartModel.cartState;
  CartModel.cartStateChanged.add(function (state) {
    return $timeout(function () {
      return $scope.state = state;
    });
  });

  $scope.currentOrder = OrderManager.model.orderCart;
  OrderManager.model.orderCartChanged.add(function (value) {
    return $scope.currentOrder = value;
  });

  $scope.totalOrder = OrderManager.model.orderCheck;
  OrderManager.model.orderCheckChanged.add(function (value) {
    return $scope.totalOrder = value;
  });

  $scope.giftSeat = LocationModel.getSeat(ChatManager.model.giftSeat);
  ChatManager.model.giftSeatChanged.add(function (token) {
    $timeout(function () {
      return $scope.giftSeat = LocationModel.getSeat(token);
    });
  });

  $scope.requestAssistanceAvailable = true;
  $scope.requestCloseoutAvailable = true;
  $scope.checkoutEnabled = CustomerManager.model.isEnabled;
  $scope.toGoOrder = false;
  $scope.visible = CartModel.isCartOpen;

  NavigationManager.locationChanging.add(function (location) {
    if (location.type !== 'category') {
      CartModel.isCartOpen = false;
    }
  });

  CartModel.isCartOpenChanged.add(function (value) {
    $scope.showCart();
    $scope.visible = value;
  });

  $scope.seat_name = LocationModel.seat ? LocationModel.seat.name : 'Table';

  LocationModel.seatChanged.add(function (seat) {
    return $scope.seat_name = seat ? seat.name : 'Table';
  });

  var refreshAssistanceRequest = function refreshAssistanceRequest() {
    $scope.requestAssistanceAvailable = OrderManager.model.assistanceRequest === null;
  };
  var refreshCloseoutRequest = function refreshCloseoutRequest() {
    $scope.requestCloseoutAvailable = OrderManager.model.closeoutRequest === null;
  };

  OrderManager.model.assistanceRequestChanged.add(refreshAssistanceRequest);
  OrderManager.model.closeoutRequestChanged.add(refreshCloseoutRequest);
  refreshAssistanceRequest();
  refreshCloseoutRequest();

  $scope.calculateDescription = function (entry) {
    var result = entry.name || entry.item.title;

    result += entry.modifiers.reduce(function (output, category) {
      return output + category.modifiers.reduce(function (output, modifier) {
        return output + (modifier.isSelected ? '<br/>- ' + modifier.data.title : '');
      }, '');
    }, '');

    return $sce.trustAsHtml(result);
  };

  $scope.calculatePrice = function (entry) {
    return OrderManager.calculatePrice(entry);
  };
  $scope.calculateTotalPrice = function (entries) {
    return OrderManager.calculateTotalPrice(entries);
  };

  $scope.editItem = function (entry) {
    return CartModel.openEditor(entry, false);
  };
  $scope.removeFromCart = function (entry) {
    return $scope.currentOrder = OrderManager.removeFromCart(entry);
  };
  $scope.reorderItem = function (entry) {
    return $scope.currentOrder = OrderManager.addToCart(entry.clone());
  };

  $scope.submitCart = function () {
    var job = DialogManager.startJob();

    var options = $scope.options.to_go_order ? 2 : 0;

    OrderManager.submitCart(options).then(function () {
      DialogManager.endJob(job);

      $scope.$apply(function () {
        $scope.currentOrder = OrderManager.model.orderCart;
        $scope.totalOrder = OrderManager.model.orderCheck;
        $scope.toGoOrder = false;
      });

      DialogManager.alert(ALERT_REQUEST_ORDER_SENT);
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  $scope.clearCart = function () {
    $scope.toGoOrder = false;
    $scope.currentOrder = OrderManager.clearCart();
  };

  $scope.closeCart = function () {
    CartModel.isCartOpen = false;
    $scope.showCart();
  };

  $scope.showHistory = function () {
    return CartModel.cartState = CartModel.STATE_HISTORY;
  };
  $scope.showCart = function () {
    return CartModel.cartState = CartModel.STATE_CART;
  };

  $scope.payCheck = function () {
    return NavigationManager.location = { type: 'checkout' };
  };

  $scope.requestAssistance = function () {
    if (!$scope.requestAssistanceAvailable) {
      return;
    }

    DialogManager.confirm(ALERT_TABLE_ASSISTANCE).then(function () {
      var job = DialogManager.startJob();

      OrderManager.requestAssistance().then(function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_ASSISTANCE_SENT);
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
      });
    });
  };

  $scope.requestCloseout = function () {
    if (!$scope.requestCloseoutAvailable) {
      return;
    }

    var job = DialogManager.startJob();

    OrderManager.requestCloseout().then(function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_CLOSEOUT_SENT);
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };
}]);

//src/js/controllers/classic/category.js

angular.module('SNAP.controllers').controller('CategoryBaseCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', function ($scope, $timeout, DataManager, NavigationManager) {}]);

angular.module('SNAP.controllers').controller('CategoryCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', 'SNAPEnvironment', 'ShellManager', function ($scope, $timeout, DataManager, NavigationManager, SNAPEnvironment, ShellManager) {

  var CategoryList = React.createClass({
    displayName: 'CategoryList',

    render: function render() {
      var tileClassName = ShellManager.tileStyle;
      var rows = this.props.tiles.map(function (tile, i) {
        return React.DOM.td({
          className: tileClassName,
          key: i
        }, React.DOM.a({
          onClick: function onClick(e) {
            e.preventDefault();
            NavigationManager.location = tile.destination;
          },
          style: {
            backgroundImage: 'url(' + ShellManager.getMediaUrl(tile.image, 370, 370) + ')'
          }
        }, React.DOM.span(null, tile.title)));
      }).reduce(function (result, value, i) {
        result[i % 2].push(value);
        return result;
      }, [[], []]).map(function (row, i) {
        return React.DOM.tr({ key: i }, row);
      });

      return React.DOM.table({ className: 'tile-table' }, rows);
    }
  });

  NavigationManager.locationChanging.add(function (location) {
    DataManager.category = location.type === 'category' ? location.token : undefined;
    $scope.visible = Boolean(DataManager.category);
    $timeout(function () {
      $scope.$apply();
    });
  });

  DataManager.categoryChanged.add(function (data) {
    if (!data) {
      return;
    }

    var tiles,
        categories = data.categories || [];
    tiles = data.items || [];
    tiles = categories.concat(tiles);

    if (SNAPEnvironment.platform !== 'desktop') {
      tiles = tiles.filter(function (tile) {
        return tile.type !== 3;
      });
    }

    tiles.forEach(function (tile) {
      tile.url = '#' + NavigationManager.getPath(tile.destination);
    });

    React.render(React.createElement(CategoryList, { tiles: tiles }), document.getElementById('content-category'));
  });
}]);

//src/js/controllers/classic/checkoutsplit.js

angular.module('SNAP.controllers').controller('CheckoutSplitCtrl', ['$scope', '$timeout', 'OrderManager', function ($scope, $timeout, OrderManager) {

  //Split the current order in the selected way
  $scope.splitCheck = function (type) {
    var i,
        data = [];

    if (type === $scope.CHECK_SPLIT_NONE) {
      data.push({
        items: OrderManager.model.orderCheck
      });

      $scope.options.guest_count = 1;
      $scope.options.step = $scope.STEP_TIPPING;
    } else if (type === $scope.CHECK_SPLIT_EVENLY) {
      var check = OrderManager.model.orderCheck,
          subtotal = OrderManager.calculateTotalPrice(check),
          tax = OrderManager.calculateTax(check);

      for (i = 0; i < $scope.options.guest_count; i++) {
        data.push({
          subtotal: Math.round(subtotal / $scope.options.guest_count * 100) / 100,
          tax: Math.round(tax / $scope.options.guest_count * 100) / 100
        });
      }

      $scope.options.step = $scope.STEP_TIPPING;
    } else if (type === $scope.CHECK_SPLIT_BY_ITEMS) {
      for (i = 0; i < $scope.options.guest_count; i++) {
        data.push({
          items: []
        });
      }

      $scope.split_items = OrderManager.copyItems(OrderManager.model.orderCheck);
    }

    $scope.$parent.data = data;
    $scope.options.check_split = type;
  };

  //Move an item to the current check
  $scope.addToCheck = function (entry) {
    $scope.split_items = $scope.split_items.map(function (item) {
      if (item.request !== entry.request) {
        return item;
      }

      if (item.quantity > 1) {
        item.quantity--;
        return item.clone();
      }

      return null;
    }).filter(function (item) {
      return item !== null;
    });

    var exists = false;

    $scope.current.items = $scope.current.items.map(function (item) {
      if (item.request === entry.request) {
        exists = true;
        item.quantity++;
        return item.clone();
      }

      return item;
    });

    if (!exists) {
      var clone = entry.clone();
      clone.quantity = 1;

      $scope.current.items.push(clone);
    }
  };

  //Remove an item from the current check
  $scope.removeFromCheck = function (entry) {
    $scope.current.items = $scope.current.items.map(function (item) {
      if (item.request !== entry.request) {
        return item;
      }

      if (item.quantity > 1) {
        item.quantity--;
        return item.clone();
      }

      return null;
    }).filter(function (item) {
      return item !== null;
    });

    var exists = false;

    $scope.split_items = $scope.split_items.map(function (item) {
      if (item.request === entry.request) {
        exists = true;
        item.quantity++;
        return item.clone();
      }

      return item;
    });

    if (!exists) {
      var clone = entry.clone();
      clone.quantity = 1;

      $scope.split_items.push(clone);
    }
  };

  //Move all available items to the current check
  $scope.addAllToCheck = function () {
    $scope.split_items.forEach($scope.addToCheck);

    $scope.split_items.forEach(function (item) {
      $scope.current.items.forEach(function (newitem) {
        if (newitem.request === item.request) {
          newitem.quantity += item.quantity;
        }
      });
    });

    $scope.split_items = [];
  };

  //Remove all items from the current check
  $scope.removeAllFromCheck = function () {
    $scope.current.items.forEach($scope.removeFromCheck);

    $scope.current.items.forEach(function (item) {
      $scope.split_items.forEach(function (newitem) {
        if (newitem.request === item.request) {
          newitem.quantity += item.quantity;
        }
      });
    });

    $scope.current.items = [];
  };

  //Proceed with the next check splitting
  $scope.splitNextCheck = function () {
    if ($scope.options.index < $scope.options.count - 1 && $scope.split_items.length > 0) {
      $scope.options.index++;
      return;
    }

    if ($scope.split_items.length > 0) {
      $scope.addAllToCheck();
    }

    $timeout(function () {
      $scope.$parent.data = $scope.$parent.data.filter(function (check) {
        return check.items.length > 0;
      });

      $scope.options.step = $scope.STEP_TIPPING;
    });
  };

  var step = $scope.$watchAsProperty('options.step');
  step.skipDuplicates().subscribe(function (value) {
    if (!value.value || value.value() !== $scope.STEP_CHECK_SPLIT) {
      return;
    }

    $timeout(function () {
      $scope.options.check_split = $scope.CHECK_SPLIT_NONE;
    });
  });
}]);

//src/js/controllers/classic/home.js

angular.module('SNAP.controllers').controller('HomeBaseCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', function ($scope, $timeout, DataManager, NavigationManager) {}]);

angular.module('SNAP.controllers').controller('HomeCtrl', ['$scope', '$timeout', 'ChatManager', 'DataModel', 'ShellManager', 'CustomerManager', 'OrderManager', 'DialogManager', 'NavigationManager', 'LocationModel', 'SurveyManager', 'SNAPLocation', 'SNAPEnvironment', 'CommandCloseTable', function ($scope, $timeout, ChatManager, DataModel, ShellManager, CustomerManager, OrderManager, DialogManager, NavigationManager, LocationModel, SurveyManager, SNAPLocation, SNAPEnvironment, CommandCloseTable) {

  var HomeMenu = React.createClass({
    displayName: 'HomeMenu',

    render: function render() {
      var result = [React.DOM.td({ key: -1 })];

      var rows = this.props.tiles.map(function (tile, i) {
        return React.DOM.td({
          className: 'home-menu-item',
          key: i
        }, React.DOM.a({
          onClick: function onClick(e) {
            e.preventDefault();
            NavigationManager.location = tile.destination;
          }
        }, React.DOM.img({
          src: ShellManager.getMediaUrl(tile.image, 160, 160)
        })));
      });

      result = result.concat(rows);
      result.push(React.DOM.td({ key: result.length }));

      return React.DOM.table(null, result);
    }
  });

  DataModel.home().then(function (response) {
    if (!response) {
      return;
    }

    var tiles = [];

    response.menus.filter(function (menu) {
      return SNAPEnvironment.platform === 'desktop' || menu.type !== 3;
    }).reduce(function (tiles, menu) {
      if (menu.promos && menu.promos.length > 0) {
        menu.promos.filter(function (promo) {
          return SNAPEnvironment.platform === 'desktop' || promo.type !== 3;
        }).forEach(function (promo) {
          tiles.push({
            title: promo.title,
            image: promo.image,
            url: '#' + NavigationManager.getPath(promo.destination),
            destination: promo.destination
          });
        });
      } else {
        var destination = {
          type: 'menu',
          token: menu.token
        };

        tiles.push({
          title: menu.title,
          image: menu.image,
          url: '#' + NavigationManager.getPath(destination),
          destination: destination
        });
      }

      return tiles;
    }, tiles);

    $timeout(function () {
      React.render(React.createElement(HomeMenu, { tiles: tiles }), document.getElementById('home-menu-main'));
    }, 1000);
  });

  NavigationManager.locationChanging.add(function (location) {
    $scope.visible = location.type === 'home';
    $timeout(function () {
      $scope.$apply();
    });
  });

  $scope.preload = function (destination) {
    NavigationManager.location = destination;
  };

  $scope.getMediaUrl = function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
  $scope.predicateEven = ShellManager.predicateEven;
  $scope.predicateOdd = ShellManager.predicateOdd;

  $scope.seat_name = LocationModel.seat ? LocationModel.seat.name : 'Table';
  LocationModel.seatChanged.add(function (value) {
    $timeout(function () {
      $scope.seat_name = value ? value.name : 'Table';
    });
  });

  $scope.customer_name = CustomerManager.customerName;
  CustomerManager.model.profileChanged.add(function () {
    $timeout(function () {
      return $scope.customer_name = CustomerManager.customerName;
    });
  });

  $scope.elements = ShellManager.model.elements;
  ShellManager.model.elementsChanged.add(function (value) {
    $timeout(function () {
      return $scope.elements = value;
    });
  });

  var refreshAssistanceRequest = function refreshAssistanceRequest() {
    $scope.requestAssistanceAvailable = !Boolean(OrderManager.model.assistanceRequest);
  };
  var refreshCloseoutRequest = function refreshCloseoutRequest() {
    $scope.requestCloseoutAvailable = !Boolean(OrderManager.model.closeoutRequest);
  };
  var refreshSurvey = function refreshSurvey() {
    $scope.surveyAvailable = SurveyManager.model.isEnabled && SurveyManager.model.feedbackSurvey && !SurveyManager.model.feedbackSurveyComplete;
  };
  OrderManager.model.assistanceRequestChanged.add(refreshAssistanceRequest);
  OrderManager.model.closeoutRequestChanged.add(refreshCloseoutRequest);
  SurveyManager.model.feedbackSurveyChanged.add(refreshSurvey);
  SurveyManager.model.surveyCompleted.add(refreshSurvey);
  refreshAssistanceRequest();
  refreshCloseoutRequest();
  refreshSurvey();

  $scope.chatAvailable = Boolean(SNAPLocation.chat);

  $scope.requestAssistance = function () {
    if (!$scope.requestAssistanceAvailable) {
      return;
    }

    DialogManager.confirm(ALERT_TABLE_ASSISTANCE).then(function () {
      var job = DialogManager.startJob();

      OrderManager.requestAssistance().then(function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_ASSISTANCE_SENT);
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
      });
    });
  };

  $scope.requestCloseout = function () {
    if (!$scope.requestCloseoutAvailable) {
      return;
    }

    DialogManager.confirm(ALERT_TABLE_CLOSEOUT).then(function () {
      var job = DialogManager.startJob();

      OrderManager.requestCloseout().then(function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_CLOSEOUT_SENT);
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
      });
    });
  };

  $scope.openSurvey = function () {
    if (!$scope.surveyAvailable) {
      return;
    }

    NavigationManager.location = { type: 'survey' };
  };

  $scope.seatClicked = function () {
    DialogManager.confirm(ALERT_TABLE_RESET).then(function () {
      var job = DialogManager.startJob();
      CommandCloseTable().then(function () {
        return DialogManager.endJob(job);
      });
    });
  };

  $scope.customerClicked = function () {
    if (!CustomerManager.model.isEnabled) {
      return;
    }

    if (CustomerManager.model.isAuthenticated && !CustomerManager.model.isGuest) {
      NavigationManager.location = { type: 'account' };
    } else {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
    }
  };

  $scope.openChat = function () {
    NavigationManager.location = { type: 'chat' };
  };
}]);

//src/js/controllers/classic/item.js

angular.module('SNAP.controllers').controller('ItemBaseCtrl', ['$scope', function ($scope) {}]);

angular.module('SNAP.controllers').controller('ItemCtrl', ['$scope', '$timeout', 'AnalyticsModel', 'CustomerModel', 'DataManager', 'DialogManager', 'NavigationManager', 'OrderManager', 'CartModel', 'LocationModel', 'ShellManager', 'SNAPEnvironment', 'ChatManager', 'WebBrowser', function ($scope, $timeout, AnalyticsModel, CustomerModel, DataManager, DialogManager, NavigationManager, OrderManager, CartModel, LocationModel, ShellManager, SNAPEnvironment, ChatManager, WebBrowser) {

  function onClose() {
    if (NavigationManager.location.type === 'item') {
      NavigationManager.goBack();
    }
  }

  var ItemImage = React.createClass({
    displayName: 'ItemImage',

    render: function render() {
      return React.DOM.img({
        src: ShellManager.getMediaUrl(this.props.media, 600, 600)
      });
    }
  });

  DataManager.itemChanged.add(function (item) {
    if (!item) {
      return $timeout(function () {
        var photo = document.getElementById('item-photo');

        if (photo) {
          photo.innerHTML = '';
        }

        $scope.entry = null;
        $scope.type = 1;
      });
    }

    var type = item.type;

    if (type === 2 && item.website) {
      WebBrowser.open(item.website.url).then(function (browser) {
        return browser.onExit.addOnce(onClose);
      });
    } else if (type === 3 && response.flash) {
      var url = WebBrowser.getFlashUrl(item.flash.media.token, item.flash.width, item.flash.height);

      WebBrowser.open(url).then(function (browser) {
        return browser.onExit.addOnce(onClose);
      });
    }

    $timeout(function () {
      if (type === 1) {
        $scope.entry = new app.CartItem(item, 1);

        React.render(React.createElement(ItemImage, { media: $scope.entry.item.image }), document.getElementById('item-photo'));
      }

      $scope.type = type;
    });
  });

  $scope.getMediaUrl = function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
  $scope.formatPrice = function (value) {
    return value ? ShellManager.formatPrice(value) : 0;
  };

  $scope.addToCart = function () {
    if (CustomerModel.isEnabled && !CustomerModel.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    var entry = $scope.entry;

    if (entry.hasModifiers) {
      CartModel.openEditor(entry, true);
    } else {
      OrderManager.addToCart(entry);
      CartModel.isCartOpen = true;
    }

    NavigationManager.goBack();
  };

  $scope.cancelGift = function () {
    return ChatManager.cancelGift();
  };

  $scope.giftSeat = LocationModel.getSeat(ChatManager.model.giftSeat);
  ChatManager.model.giftSeatChanged.add(function (token) {
    $timeout(function () {
      return $scope.giftSeat = LocationModel.getSeat(token);
    });
  });

  NavigationManager.locationChanging.add(function (location) {
    DataManager.item = location.type === 'item' ? location.token : undefined;
    $scope.visible = Boolean(DataManager.item);
    $timeout(function () {
      return $scope.$apply();
    });
  });
}]);

//src/js/controllers/classic/itemedit.js

angular.module('SNAP.controllers').controller('ItemEditCtrl', ['$scope', 'ShellManager', 'NavigationManager', 'OrderManager', 'CartModel', function ($scope, ShellManager, NavigationManager, OrderManager, CartModel) {

  $scope.getMediaUrl = function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
  $scope.formatPrice = function (value) {
    return ShellManager.formatPrice(value);
  };

  var currentIndex = -1;

  var refreshNavigation = function refreshNavigation() {
    if ($scope.entry && $scope.entry.hasModifiers) {
      $scope.hasNextCategory = $scope.entry.modifiers.length > 1 && currentIndex < $scope.entry.modifiers.length - 1;
      $scope.hasPreviousCategory = currentIndex > 0;
      $scope.category = $scope.entry.modifiers[currentIndex];
      $scope.canExit = CartModel.editableItemNew;
      $scope.canDone = true;
    }
  };

  NavigationManager.locationChanging.add(function (location) {
    if (location.type !== 'menu' && location.type !== 'category') {
      $scope.exit();
    }
  });

  CartModel.isCartOpenChanged.add(function (value) {
    if (value) {
      $scope.exit();
    }
  });

  var init = function init(value) {
    $scope.entry = value;
    $scope.visible = $scope.entry !== null;

    currentIndex = 0;

    refreshNavigation();
  };

  init(CartModel.editableItem);

  CartModel.editableItemChanged.add(function (value) {
    init(value);
  });

  $scope.getModifierTitle = function (modifier) {
    return modifier.data.title + (modifier.data.price > 0 ? ' (+' + ShellManager.formatPrice(modifier.data.price) + ')' : '');
  };

  $scope.leftButtonClick = function () {
    var result = currentIndex > 0 ? $scope.previousCategory() : $scope.exit();
  };

  $scope.leftButtonText = function () {
    return currentIndex > 0 ? 'Back' : 'Exit';
  };

  $scope.rightButtonClick = function () {
    //Make sure Pick 1 modifier categories have met the selection condition.
    if ($scope.entry.modifiers[currentIndex].data.selection === 1) {
      var numSelected = 0;
      angular.forEach($scope.entry.modifiers[currentIndex].modifiers, function (m) {
        if (m.isSelected) {
          numSelected++;
        }
      });

      if (numSelected !== 1) {
        //TODO: Add modal popup. Must make 1 selection!
        return;
      }
    }

    var result = $scope.hasNextCategory ? $scope.nextCategory() : $scope.done();
  };

  $scope.rightButtonText = function () {
    return $scope.hasNextCategory ? 'Next' : 'Done';
  };

  $scope.previousCategory = function () {
    currentIndex--;
    refreshNavigation();
  };

  $scope.nextCategory = function () {
    currentIndex++;
    refreshNavigation();
  };

  $scope.updateModifiers = function (category, modifier) {
    modifier.isSelected = !modifier.isSelected;

    if (modifier.isSelected && category.data.selection === 1) {
      angular.forEach(category.modifiers, function (m) {
        m.isSelected = m === modifier;
      });
    }
  };

  $scope.done = function () {
    if (CartModel.editableItemNew) {
      OrderManager.addToCart(CartModel.editableItem);
    }

    $scope.exit();
    CartModel.isCartOpen = true;
  };

  $scope.exit = function () {
    CartModel.closeEditor();
  };
}]);

//src/js/controllers/classic/menu.js

angular.module('SNAP.controllers').controller('MenuBaseCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', function ($scope, $timeout, DataManager, NavigationManager) {}]);

angular.module('SNAP.controllers').controller('MenuCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', 'ShellManager', function ($scope, $timeout, DataManager, NavigationManager, ShellManager) {

  var MenuList = React.createClass({
    displayName: 'MenuList',

    render: function render() {
      var tileClassName = ShellManager.tileStyle;
      var rows = this.props.tiles.map(function (tile, i) {
        return React.DOM.td({
          className: tileClassName,
          key: i
        }, React.DOM.a({
          onClick: function onClick(e) {
            e.preventDefault();
            NavigationManager.location = tile.destination;
          },
          style: {
            backgroundImage: 'url(' + ShellManager.getMediaUrl(tile.image, 370, 370) + ')'
          }
        }, React.DOM.span(null, tile.title)));
      }).reduce(function (result, value, i) {
        result[i % 2].push(value);
        return result;
      }, [[], []]).map(function (row, i) {
        return React.DOM.tr({ key: i }, row);
      });

      return React.DOM.table({ className: 'tile-table' }, rows);
    }
  });

  NavigationManager.locationChanging.add(function (location) {
    DataManager.menu = location.type === 'menu' ? location.token : undefined;
    $scope.visible = Boolean(DataManager.menu);
    $timeout(function () {
      $scope.$apply();
    });
  });

  DataManager.menuChanged.add(function (menu) {
    if (!menu) {
      return;
    }

    menu.categories.forEach(function (tile) {
      tile.url = '#' + NavigationManager.getPath(tile.destination);
    });

    React.render(React.createElement(MenuList, { tiles: menu.categories }), document.getElementById('content-menu'));
  });
}]);

//src/js/controllers/classic/navigation.js

angular.module('SNAP.controllers').controller('NavigationCtrl', ['$scope', '$timeout', 'ActivityMonitor', 'CustomerManager', 'AnalyticsModel', 'CartModel', 'ShellManager', 'DataManager', 'DataModel', 'DialogManager', 'NavigationManager', 'OrderManager', 'CommandCloseTable', 'CommandFlipScreen', 'WebBrowser', 'SNAPEnvironment', function ($scope, $timeout, ActivityMonitor, CustomerManager, AnalyticsModel, CartModel, ShellManager, DataManager, DataModel, DialogManager, NavigationManager, OrderManager, CommandCloseTable, CommandFlipScreen, WebBrowser, SNAPEnvironment) {

  $scope.menus = [];

  DataModel.home().then(function (response) {
    if (!response) {
      return;
    }

    var location = NavigationManager.location,
        limit = SNAPEnvironment.platform === 'desktop' ? 4 : 3;

    $scope.menus = response.menus.filter(function (menu) {
      return SNAPEnvironment.platform === 'desktop' || menu.type !== 3;
    }).filter(function (menu, i) {
      return i < limit;
    }).map(function (menu) {
      var destination = {
        type: 'menu',
        token: menu.token
      };
      return {
        token: menu.token,
        title: menu.title,
        url: '#' + NavigationManager.getPath(destination),
        destination: destination,
        selected: location.type === 'menu' && menu.token === location.token
      };
    });
  });

  $scope.navigateHome = function () {
    ActivityMonitor.activityDetected();

    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.confirm(ALERT_TABLE_RESET).then(function () {
        var job = DialogManager.startJob();
        CommandCloseTable().then(function () {
          return DialogManager.endJob(job);
        });
      });
      return;
    }

    NavigationManager.location = { type: 'home' };
    CartModel.isCartOpen = false;
  };

  $scope.navigateBack = function () {
    ActivityMonitor.activityDetected();

    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    NavigationManager.goBack();

    CartModel.isCartOpen = false;
  };

  $scope.rotateScreen = function () {
    ActivityMonitor.activityDetected();
    CommandFlipScreen();
  };

  $scope.openCart = function () {
    ActivityMonitor.activityDetected();

    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    CartModel.isCartOpen = !CartModel.isCartOpen;
  };

  $scope.openSettings = function () {
    DialogManager.confirm(ALERT_TABLE_RESET).then(function () {
      var job = DialogManager.startJob();
      CommandCloseTable().then(function () {
        return DialogManager.endJob(job);
      });
    });
  };

  $scope.menuOpen = false;

  $scope.toggleMenu = function () {
    $scope.menuOpen = !$scope.menuOpen;
  };

  $scope.advertisementClick = function (item) {
    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    AnalyticsModel.logAdvertisement({
      token: item.token,
      type: 'click'
    });

    if (item.href) {
      WebBrowser.open(item.href.url);
    }
  };

  $scope.advertisementImpression = function (item) {
    if (ActivityMonitor.active && !$scope.wide) {
      AnalyticsModel.logAdvertisement({
        token: item.token,
        type: 'impression'
      });
    }
  };

  $scope.elements = ShellManager.model.elements;
  ShellManager.model.elementsChanged.add(function (value) {
    $timeout(function () {
      return $scope.elements = value;
    });
  });

  $scope.advertisementsAll = [];
  $scope.advertisementsTop = [];
  $scope.advertisementsBottom = [];
  var mapAdvertisement = function mapAdvertisement(ad) {
    return {
      src: ShellManager.getMediaUrl(ad.src, 970, 90),
      href: ad.href,
      type: ShellManager.getMediaType(ad.src),
      token: ad.token
    };
  };
  DataModel.advertisements().then(function (response) {
    $timeout(function () {
      $scope.advertisementsTop = response.top.map(mapAdvertisement);
      $scope.advertisementsBottom = response.bottom.map(mapAdvertisement);
      $scope.advertisementsAll = $scope.advertisementsTop.concat($scope.advertisementsBottom);
    });
  });

  $scope.cartCount = OrderManager.model.orderCart.length;
  OrderManager.model.orderCartChanged.add(function (cart) {
    $timeout(function () {
      return $scope.cartCount = cart.length;
    });
  });

  $scope.requestAssistance = function () {
    if (!$scope.requestAssistanceAvailable) {
      return;
    }

    DialogManager.confirm(ALERT_TABLE_ASSISTANCE).then(function () {
      var job = DialogManager.startJob();

      OrderManager.requestAssistance().then(function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_ASSISTANCE_SENT);
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
      });
    });
  };

  var refreshAssistanceRequest = function refreshAssistanceRequest() {
    $scope.requestAssistanceAvailable = !Boolean(OrderManager.model.assistanceRequest);
  };
  OrderManager.model.assistanceRequestChanged.add(refreshAssistanceRequest);
  refreshAssistanceRequest();

  $scope.customerName = CustomerManager.customerName;
  CustomerManager.model.profileChanged.add(function () {
    $timeout(function () {
      return $scope.customerName = CustomerManager.customerName;
    });
  });

  $scope.navigate = function (destination) {
    return NavigationManager.location = destination;
  };

  NavigationManager.locationChanged.add(function (location) {
    $timeout(function () {
      $scope.menus.forEach(function (menu) {});
    });
  });
}]);

//src/js/controllers/commands/boot.js

angular.module('SNAP.controllers').factory('CommandBoot', ['AuthenticationManager', 'LocationManager', function (AuthenticationManager, LocationManager) {

  return function () {
    return new Promise(function (resolve, reject) {
      function loadLocation() {
        LocationManager.loadConfig().then(function () {
          LocationManager.loadSeats().then(function () {
            resolve();
          }, reject);
        }, reject);
      }

      AuthenticationManager.validate().then(function (authorized) {
        if (authorized === false) {
          AuthenticationManager.authorize().then(loadLocation, reject);
          return;
        }

        loadLocation();
      }, reject);
    });
  };
}]);

//src/js/controllers/commands/closetable.js

angular.module('SNAP.controllers').factory('CommandCloseTable', ['ManagementService', function (ManagementService) {

  return function () {
    return ManagementService.loadReset();
  };
}]);

//src/js/controllers/commands/customerguestlogin.js

angular.module('SNAP.controllers').factory('CommandCustomerGuestLogin', ['AuthenticationManager', 'CustomerManager', function (AuthenticationManager, CustomerManager) {

  return function () {
    return CustomerManager.guestLogin();
  };
}]);

//src/js/controllers/commands/customerlogin.js

angular.module('SNAP.controllers').factory('CommandCustomerLogin', ['AuthenticationManager', 'CustomerManager', function (AuthenticationManager, CustomerManager) {

  return function (credentials) {
    return AuthenticationManager.customerLoginRegular(credentials).then(function () {
      return CustomerManager.login(credentials);
    });
  };
}]);

//src/js/controllers/commands/customersignup.js

angular.module('SNAP.controllers').factory('CommandCustomerSignup', ['AuthenticationManager', 'CustomerManager', function (AuthenticationManager, CustomerManager) {

  return function (registration) {
    return CustomerManager.signUp(registration).then(function () {
      var credentials = {
        login: registration.username,
        password: registration.password
      };

      return AuthenticationManager.customerLoginRegular(credentials).then(function () {
        return CustomerManager.login(credentials);
      });
    });
  };
}]);

//src/js/controllers/commands/customersociallogin.js

angular.module('SNAP.controllers').factory('CommandCustomerSocialLogin', ['AuthenticationManager', 'CustomerManager', 'SocialManager', function (AuthenticationManager, CustomerManager, SocialManager) {

  function doLogin(auth) {
    return AuthenticationManager.customerLoginSocial(auth).then(function () {
      return CustomerManager.loginSocial(auth);
    });
  }

  return {
    facebook: function facebook() {
      return SocialManager.loginFacebook().then(doLogin);
    },
    googleplus: function googleplus() {
      return SocialManager.loginGooglePlus().then(doLogin);
    },
    twitter: function twitter() {
      return SocialManager.loginTwitter().then(doLogin);
    }
  };
}]);

//src/js/controllers/commands/flipscreen.js

angular.module('SNAP.controllers').factory('CommandFlipScreen', ['ManagementService', function (ManagementService) {
  return function () {
    ManagementService.rotateScreen();
  };
}]);

//src/js/controllers/commands/reset.js

angular.module('SNAP.controllers').factory('CommandReset', ['AnalyticsManager', 'ChatManager', 'CustomerManager', 'OrderManager', 'SessionManager', 'SurveyManager', 'Logger', function (AnalyticsManager, ChatManager, CustomerManager, OrderManager, SessionManager, SurveyManager, Logger) {

  return function () {
    return new Promise(function (resolve, reject) {
      function reset(e) {
        if (e) {
          Logger.warn('Unable to finalize AnalyticsManager: ' + e);
        }

        Q.allSettled([OrderManager.finalize(), SurveyManager.finalize(), CustomerManager.finalize(), ChatManager.finalize()]).spread(function () {
          Logger.debug('Reset completed successfully.');
        }, function (e) {
          Logger.warn('Unable to reset properly: ' + e);
        }).then(resolve, reject);
      }

      Q.all([AnalyticsManager.initialize(), SessionManager.initialize()]).then(function () {
        SessionManager.endSession().then(function () {
          AnalyticsManager.finalize().then(reset, reset);
        }, reject);
      }, reject);
    });
  };
}]);

//src/js/controllers/commands/startup.js

angular.module('SNAP.controllers').factory('CommandStartup', ['Logger', 'AnalyticsManager', 'ChatManager', 'ShellManager', 'CustomerManager', 'DataManager', 'NavigationManager', 'SessionManager', 'SocialManager', 'SurveyManager', 'SNAPLocation', function (Logger, AnalyticsManager, ChatManager, ShellManager, CustomerManager, DataManager, NavigationManager, SessionManager, SocialManager, SurveyManager, SNAPLocation) {

  return function () {
    return new Promise(function (resolve, reject) {
      Q.allSettled([AnalyticsManager.initialize(), ChatManager.initialize(), CustomerManager.initialize(), ChatManager.initialize(), DataManager.initialize(), ShellManager.initialize(), SessionManager.initialize(), SocialManager.initialize(), SurveyManager.initialize()]).then(function () {
        if (CustomerManager.model.isEnabled) {
          if (!CustomerManager.model.isAuthenticated) {
            NavigationManager.location = { type: 'signin' };
          }
        } else {
          CustomerManager.guestLogin();
        }

        DataManager.fetchMedia();

        resolve();
      }, reject);
    });
  };
}]);

//src/js/controllers/commands/submitorder.js

angular.module('SNAP.controllers').factory('CommandSubmitOrder', ['DialogManager', 'LocationModel', 'OrderManager', function (DialogManager, LocationModel, OrderManager) {

  return function (options) {
    if (!LocationModel.seat || !LocationModel.seat.token) {
      DialogManager.alert(ALERT_ERROR_NO_SEAT);
      return;
    }

    var job = DialogManager.startJob();

    options = options || 0;

    OrderManager.submitCart(options).then(function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_ORDER_SENT);
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };
}]);

//src/js/controllers/commands/updatecache.js

angular.module('SNAP.controllers').factory('CommandUpdateCache', ['DataManager', 'LocationManager', function (DataManager, LocationManager) {

  return function () {
    return new Promise(function (resolve, reject) {
      DataManager.fetchContent().then(resolve, function (e) {
        if (result === 'nodigest') {
          reject(e);
        } else {
          resolve('obsolete');
        }
      });
    });
  };
}]);

//src/js/controllers/dialog.js

angular.module('SNAP.controllers').controller('DialogCtrl', ['$scope', '$timeout', 'ActivityMonitor', 'DialogManager', function ($scope, $timeout, ActivityMonitor, DialogManager) {

  var alertStack = [],
      confirmStack = [];
  var alertIndex = -1,
      confirmIndex = -1;
  var alertTimer;

  function updateVisibility(isBusy, showAlert, showConfirm) {
    $timeout(function () {
      $scope.isBusy = isBusy !== undefined ? isBusy : $scope.isBusy;
      $scope.showAlert = showAlert !== undefined ? showAlert : $scope.showAlert;
      $scope.showConfirm = showConfirm !== undefined ? showConfirm : $scope.showConfirm;
      $scope.visible = $scope.isBusy || $scope.showAlert || $scope.showConfirm;
    });
  }

  function showNextAlert() {
    if (alertTimer) {
      $timeout.cancel(alertTimer);
    }

    var alert = alertStack[alertIndex];

    if (alert && alert.resolve) {
      alert.resolve();
    }

    alertIndex++;

    if (alertIndex === alertStack.length) {
      updateVisibility(undefined, false);
      alertStack = [];
      alertIndex = -1;
      return;
    }

    $timeout(function () {
      $scope.alertTitle = alertStack[alertIndex].title;
      $scope.alertText = alertStack[alertIndex].message;
      updateVisibility(undefined, true);
    });

    alertTimer = $timeout(showNextAlert, 10000);
  }

  function showNextConfirm() {
    confirmIndex++;

    if (confirmIndex === confirmStack.length) {
      updateVisibility(undefined, undefined, false);
      confirmStack = [];
      confirmIndex = -1;
      return;
    }

    $timeout(function () {
      $scope.confirmText = confirmStack[confirmIndex].message;
      updateVisibility(undefined, undefined, true);
    });
  }

  function getMessage(message) {
    if (typeof message !== 'string') {
      switch (message) {
        case ALERT_GENERIC_ERROR:
          message = 'Oops! My bits are fiddled. Our request system has been disconnected. Please notify a server.';
          break;
        case ALERT_REQUEST_SUBMIT_ERROR:
          message = 'Oops! My bits are fiddled. Our request system has been disconnected. Please notify a server.';
          break;
        case ALERT_REQUEST_ASSISTANCE_SENT:
          message = 'Call Server request was sent successfully.';
          break;
        case ALERT_REQUEST_ASSISTANCE_RECEIVED:
          message = 'Your request for server assistance has been seen, and accepted.';
          break;
        case ALERT_REQUEST_CLOSEOUT_SENT:
          message = 'Request check request was sent successfully.';
          break;
        case ALERT_REQUEST_CLOSEOUT_RECEIVED:
          message = 'Your check request has been seen, and accepted.';
          break;
        case ALERT_REQUEST_ORDER_SENT:
          message = 'Order sent! You will be notified when your waiter accepts the order.';
          break;
        case ALERT_REQUEST_ORDER_RECEIVED:
          message = 'Your order has been successfully accepted.';
          break;
        case ALERT_SIGNIN_REQUIRED:
          message = 'You must be logged into SNAP to access this page.';
          break;
        case ALERT_TABLE_ASSISTANCE:
          message = 'Are you sure you want to call the waiter?';
          break;
        case ALERT_TABLE_CLOSEOUT:
          message = 'Are you sure you want to request your check?';
          break;
        case ALERT_TABLE_RESET:
          message = 'Are you sure you want to reset?';
          break;
        case ALERT_DELET_CARD:
          message = 'Are you sure you want to remove this payment method?';
          break;
        case ALERT_PASSWORD_RESET_COMPLETE:
          message = 'A link to change your password has been emailed.';
          break;
        case ALERT_SOFTWARE_OUTDATED:
          message = 'A software update is available. Please restart the application.';
          break;
        case ALERT_CARDREADER_ERROR:
          message = 'Unable to read the card data. Please try again.';
          break;
        case ALERT_ERROR_NO_SEAT:
          message = 'Device is not assigned to any table.';
          break;
        case ALERT_ERROR_STARTUP:
          message = 'Unable to start the application.';
          break;
        case ALERT_ERROR_CACHE_UPDATE:
          message = 'Unable to load the application data.';
          break;
        case ALERT_WARNING_CACHE_OBSOLETE:
          message = 'Unable to update the application cache. Falling back to cached version.';
          break;
      }
    }

    return message;
  }

  $scope.visible = false;
  $scope.isBusy = false;
  $scope.showAlert = false;
  $scope.showConfirm = false;

  $scope.closeAlert = function () {
    ActivityMonitor.activityDetected();
    showNextAlert();
  };

  $scope.closeConfirm = function (confirmed) {
    ActivityMonitor.activityDetected();

    var confirm = confirmStack[confirmIndex];

    if (confirm) {
      if (confirmed) {
        if (confirm.resolve) {
          confirm.resolve();
        }
      } else {
        if (confirm.reject) {
          confirm.reject();
        }
      }
    }

    showNextConfirm();
  };

  function alertRequested(message, title, resolve, reject) {
    message = getMessage(message);

    alertStack.push({ title: title, message: message, resolve: resolve, reject: reject });

    if (!$scope.showAlert) {
      $timeout(showNextAlert);
    }
  }

  DialogManager.alertRequested.add(alertRequested);

  function confirmRequested(message, resolve, reject) {
    message = getMessage(message);

    confirmStack.push({ message: message, resolve: resolve, reject: reject });

    if (!$scope.showConfirm) {
      $timeout(showNextConfirm);
    }
  }

  DialogManager.confirmRequested.add(confirmRequested);

  function jobStarted() {
    if (document.activeElement && document.activeElement !== document.body) {
      document.activeElement.blur();
    }

    updateVisibility(true);
  }

  DialogManager.jobStarted.add(jobStarted);
  DialogManager.jobEnded.add(function () {
    updateVisibility(false);
  });

  if (DialogManager.jobs > 0) {
    jobStarted();
  }
}]);

//src/js/controllers/flash.js

angular.module('SNAP.controllers').controller('FlashCtrl', ['$timeout', 'FlashStarter', 'NavigationManager', 'ShellManager', function ($timeout, FlashStarter, NavigationManager, ShellManager) {

  $timeout(function () {
    var url = ShellManager.getMediaUrl({
      token: NavigationManager.getQueryParameter('media'),
      mime_type: 'application/x-shockwave-flash'
    });

    FlashStarter.start('media-container', url, NavigationManager.getQueryParameter('width'), NavigationManager.getQueryParameter('height'));
  }, 1000);
}]);

//src/js/controllers/galaxies/advertisement.js

angular.module('SNAP.controllers').controller('GalaxiesAdvertisementCtrl', ['$scope', '$timeout', 'ActivityMonitor', 'AnalyticsModel', 'ShellManager', 'DataManager', 'DataModel', 'DialogManager', 'NavigationManager', 'CommandFlipScreen', 'ShellManager', 'WebBrowser', 'SNAPEnvironment', function ($scope, $timeout, ActivityMonitor, AnalyticsModel, hellManager, DataManager, DataModel, DialogManager, NavigationManager, CommandFlipScreen, ShellManager, WebBrowser, SNAPEnvironment) {

  $scope.visible = false;

  $scope.advertisementClick = function (item) {
    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    AnalyticsModel.logAdvertisement({
      token: item.token,
      type: 'click'
    });

    if (item.href) {
      WebBrowser.open(item.href.url);
    }
  };

  $scope.advertisementImpression = function (item) {
    if (ActivityMonitor.active && $scope.visible) {
      AnalyticsModel.logAdvertisement({
        token: item.token,
        type: 'impression'
      });
    }
  };

  $scope.advertisements = [];

  DataModel.advertisements().then(function (data) {
    $timeout(function () {
      $scope.advertisements = data.main.map(function (ad) {
        return {
          src: ShellManager.getMediaUrl(ad.src, 970, 90),
          href: ad.href,
          type: ShellManager.getMediaType(ad.src),
          token: ad.token
        };
      });
    });
  });

  NavigationManager.locationChanging.add(function (location) {
    $scope.visible = location.type === 'home';
    $timeout(function () {
      return $scope.$apply();
    });
  });
}]);

//src/js/controllers/galaxies/cart.js

angular.module('SNAP.controllers').controller('GalaxiesCartCtrl', ['$scope', '$timeout', '$sce', 'CustomerManager', 'ShellManager', 'NavigationManager', 'OrderManager', 'DialogManager', 'CartModel', 'LocationModel', 'ChatManager', function ($scope, $timeout, $sce, CustomerManager, ShellManager, NavigationManager, OrderManager, DialogManager, CartModel, LocationModel, ChatManager) {

  $scope.STATE_CART = CartModel.STATE_CART;
  $scope.STATE_HISTORY = CartModel.STATE_HISTORY;

  $scope.getMediaUrl = function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
  $scope.formatPrice = function (value) {
    return ShellManager.formatPrice(value);
  };
  $scope.options = {};

  $scope.currency = ShellManager.model.currency;
  ShellManager.model.currencyChanged.add(function (currency) {
    return $timeout(function () {
      return $scope.currency = currency;
    });
  });

  $scope.state = CartModel.cartState;
  CartModel.cartStateChanged.add(function (state) {
    return $timeout(function () {
      return $scope.state = state;
    });
  });

  $scope.editableItem = CartModel.editableItem;
  CartModel.editableItemChanged.add(function (item) {
    return $timeout(function () {
      return $scope.editableItem = item;
    });
  });

  $scope.currentOrder = OrderManager.model.orderCart;
  OrderManager.model.orderCartChanged.add(function (value) {
    return $scope.currentOrder = value;
  });

  $scope.totalOrder = OrderManager.model.orderCheck;
  OrderManager.model.orderCheckChanged.add(function (value) {
    return $scope.totalOrder = value;
  });

  $scope.giftSeat = LocationModel.getSeat(ChatManager.model.giftSeat);
  ChatManager.model.giftSeatChanged.add(function (token) {
    $timeout(function () {
      return $scope.giftSeat = LocationModel.getSeat(token);
    });
  });

  $scope.customerName = CustomerManager.customerName;
  CustomerManager.model.profileChanged.add(function () {
    $timeout(function () {
      return $scope.customerName = CustomerManager.customerName;
    });
  });

  $scope.checkoutEnabled = CustomerManager.model.isEnabled;
  $scope.visible = CartModel.isCartOpen;

  NavigationManager.locationChanging.add(function (location) {
    if (location.type !== 'category') {
      CartModel.isCartOpen = false;
      CartModel.closeEditor();
    }
  });

  CartModel.isCartOpenChanged.add(function (value) {
    $scope.showCart();
    $scope.visible = value;
  });

  $scope.seat_name = LocationModel.seat ? LocationModel.seat.name : 'Table';

  LocationModel.seatChanged.add(function (seat) {
    return $scope.seat_name = seat ? seat.name : 'Table';
  });

  var refreshAssistanceRequest = function refreshAssistanceRequest() {
    $scope.requestAssistanceAvailable = OrderManager.model.assistanceRequest === null;
  };
  var refreshCloseoutRequest = function refreshCloseoutRequest() {
    $scope.requestCloseoutAvailable = OrderManager.model.closeoutRequest === null;
  };

  OrderManager.model.assistanceRequestChanged.add(refreshAssistanceRequest);
  OrderManager.model.closeoutRequestChanged.add(refreshCloseoutRequest);

  $scope.requestAssistanceAvailable = OrderManager.model.assistanceRequest === null;
  $scope.requestCloseoutAvailable = OrderManager.model.closeoutRequest === null;

  $scope.getModifiers = function (entry) {
    if (!entry.modifiers) {
      return [];
    }

    return entry.modifiers.reduce(function (result, category) {
      var modifiers = category.modifiers.filter(function (modifier) {
        return modifier.isSelected;
      });
      result = result.concat(modifiers);
      return result;
    }, []);
  };

  $scope.calculatePrice = function (entry) {
    return OrderManager.calculatePrice(entry);
  };
  $scope.calculateTotalPrice = function (entries) {
    return OrderManager.calculateTotalPrice(entries);
  };

  $scope.editItem = function (entry) {
    return CartModel.openEditor(entry, false);
  };

  $scope.updateModifiers = function (category, modifier) {
    if (category.data.selection === 1) {
      angular.forEach(category.modifiers, function (m) {
        return m.isSelected = m === modifier;
      });
    } else {
      modifier.isSelected = !modifier.isSelected;
    }
  };

  $scope.removeFromCart = function (entry) {
    return $scope.currentOrder = OrderManager.removeFromCart(entry);
  };
  $scope.reorderItem = function (entry) {
    return $scope.currentOrder = OrderManager.addToCart(entry.clone());
  };

  $scope.submitCart = function () {
    var job = DialogManager.startJob();

    var options = $scope.options.toGo ? 2 : 0;

    OrderManager.submitCart(options).then(function () {
      DialogManager.endJob(job);

      $scope.$apply(function () {
        $scope.currentOrder = OrderManager.model.orderCart;
        $scope.totalOrder = OrderManager.model.orderCheck;
        $scope.options.toGo = false;
      });

      DialogManager.alert(ALERT_REQUEST_ORDER_SENT);
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  $scope.clearCart = function () {
    $scope.options.toGo = false;
    $scope.currentOrder = OrderManager.clearCart();
  };

  $scope.closeEditor = function () {
    CartModel.closeEditor();
  };

  $scope.closeCart = function () {
    CartModel.isCartOpen = false;
    CartModel.state = CartModel.STATE_CART;
  };

  $scope.showHistory = function () {
    return CartModel.state = CartModel.STATE_HISTORY;
  };
  $scope.showCart = function () {
    return CartModel.state = CartModel.STATE_CART;
  };

  $scope.payCheck = function () {
    return NavigationManager.location = { type: 'checkout' };
  };

  $scope.requestAssistance = function () {
    if (!$scope.requestAssistanceAvailable) {
      return;
    }

    DialogManager.confirm(ALERT_TABLE_ASSISTANCE).then(function () {
      var job = DialogManager.startJob();

      OrderManager.requestAssistance().then(function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_ASSISTANCE_SENT);
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
      });
    });
  };

  $scope.requestCloseout = function () {
    if (!$scope.requestCloseoutAvailable) {
      return;
    }

    var job = DialogManager.startJob();

    OrderManager.requestCloseout().then(function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_CLOSEOUT_SENT);
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };
}]);

//src/js/controllers/galaxies/category.js

angular.module('SNAP.controllers').controller('GalaxiesCategoryCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', 'ShellManager', function ($scope, $timeout, DataManager, NavigationManager, ShellManager) {

  $scope.goBack = function () {
    return NavigationManager.goBack();
  };

  var CategoryList = React.createClass({
    displayName: 'CategoryList',

    render: function render() {
      var rows = this.props.tiles.map(function (tile, i) {
        var background = ShellManager.getMediaUrl(tile.image, 470, 410);
        return React.DOM.td({
          className: 'tile tile-regular',
          key: i
        }, React.DOM.a({
          onClick: function onClick(e) {
            e.preventDefault();
            NavigationManager.location = tile.destination;
          },
          style: {
            backgroundImage: background ? 'url("' + background + '")' : null
          }
        }, React.DOM.span(null, tile.title)));
      }).reduce(function (result, value, i) {
        result[i % 2].push(value);
        return result;
      }, [[], []]).map(function (row, i) {
        return React.DOM.tr({ key: i }, row);
      });

      return React.DOM.table({
        className: 'tile-table'
      }, rows);
    }
  });

  DataManager.categoryChanged.add(function (category) {
    if (!category) {
      return $timeout(function () {
        return $scope.category = null;
      });
    }

    var items = category && category.items ? category.items : [],
        categories = category && category.categories ? category.categories : [];

    var tiles = categories.concat(items).map(function (item) {
      return {
        title: item.title,
        image: item.image,
        url: '#' + NavigationManager.getPath(item.destination),
        destination: item.destination
      };
    });

    var element = document.getElementById('page-category-content');

    if (element) {
      React.render(React.createElement(CategoryList, { tiles: tiles }), element);
    }

    $scope.category = category;
    $timeout(function () {
      return $scope.$apply();
    });
  });

  NavigationManager.locationChanging.add(function (location) {
    if (location.type === 'item') {
      $scope.showModal = true;
      return;
    }

    $scope.showModal = false;

    DataManager.category = location.type === 'category' ? location.token : undefined;
    $scope.visible = Boolean(DataManager.category);
    $timeout(function () {
      var container = document.getElementById('page-category-content-container');
      if (container) {
        container.scrollLeft = 0;
      }

      $scope.$apply();
    });
  });
}]);

//src/js/controllers/galaxies/checkoutsplit.js

angular.module('SNAP.controllers').controller('GalaxiesCheckoutSplitCtrl', ['$scope', '$timeout', 'CustomerManager', 'OrderManager', function ($scope, $timeout, CustomerManager, OrderManager) {

  var originalData;

  //Open guest count editor
  $scope.editGuestCount = function (type) {
    if (type === $scope.CHECK_SPLIT_EVENLY || type === $scope.CHECK_SPLIT_BY_ITEMS) {
      originalData = $scope.$parent.data;
      $scope.options.guest_count = $scope.options.guest_count_min;
    }

    $scope.guestEditorType = type;
  };

  //Close guest count editor
  $scope.cancelEditGuestCount = function () {
    $scope.guestEditorType = undefined;
    originalData = undefined;
  };

  //Split the current order in the selected way
  $scope.splitCheck = function (type) {
    var i,
        data = [];

    if (type === $scope.CHECK_SPLIT_NONE) {
      data.push({
        items: OrderManager.model.orderCheck
      });

      $scope.options.guest_count = 1;
      $scope.doneSplitting();
    } else if (type === $scope.CHECK_SPLIT_EVENLY) {
      var check = OrderManager.model.orderCheck,
          subtotal = OrderManager.calculateTotalPrice(check),
          tax = OrderManager.calculateTax(check);

      for (i = 0; i < $scope.options.guest_count; i++) {
        data.push({
          name: 'Check 0' + (i + 1),
          subtotal: Math.round(subtotal / $scope.options.guest_count * 100) / 100,
          tax: Math.round(tax / $scope.options.guest_count * 100) / 100
        });
      }

      $scope.doneSplitting();
    } else if (type === $scope.CHECK_SPLIT_BY_ITEMS) {
      for (i = 0; i < $scope.options.guest_count; i++) {
        data.push({
          name: 'Check 0' + (i + 1),
          items: []
        });
      }

      $scope.split_items = OrderManager.copyItems(OrderManager.model.orderCheck).reduce(function (result, item) {
        while (item.quantity > 0) {
          var subitem = item.clone();
          subitem.quantity = 1;
          result.push(subitem);
          item.quantity--;
        }

        return result;
      }, []);

      $scope.split_items.forEach(function (item) {
        return item.check = data[0];
      });
      data[0].items = data[0].items.concat($scope.split_items);
    }

    $scope.$parent.data = data;
    $scope.options.check_split = type;
    $scope.guestEditorType = undefined;
  };

  $scope.getModifiers = function (entry) {
    if (!entry.modifiers) {
      return [];
    }

    return entry.modifiers.reduce(function (result, category) {
      var modifiers = category.modifiers.filter(function (modifier) {
        return modifier.isSelected;
      });
      result = result.concat(modifiers);
      return result;
    }, []);
  };

  $scope.calculateChecks = function () {
    $scope.$parent.data.forEach(function (check) {
      check.items = $scope.split_items.filter(function (item) {
        return item.check === check;
      });
    });
  };

  $scope.cancelSplitting = function () {
    $scope.guestEditorType = $scope.options.check_split = undefined;
    $scope.$parent.data = originalData;
    originalData = undefined;
  };

  $scope.doneSplitting = function () {
    $scope.$parent.data = $scope.$parent.data.filter(function (check) {
      return check.subtotal > 0 || check.items && check.items.length > 0;
    });
    $scope.options.step = $scope.STEP_TIPPING;
  };
}]);

//src/js/controllers/galaxies/home.js

angular.module('SNAP.controllers').controller('GalaxiesHomeCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', 'ShellManager', 'SNAPLocation', function ($scope, $timeout, DataManager, NavigationManager, ShellManager, SNAPLocation) {

  var HomeMenu = React.createClass({
    displayName: 'HomeMenu',

    render: function render() {
      var rows = [],
          home = this.props.home;

      if (Boolean(home.intro)) {
        rows.push(React.DOM.td({
          className: 'tile tile-info',
          key: 'intro'
        }, React.DOM.div({}, [React.DOM.h1({ key: 'intro-title' }, home.intro.title || 'Welcome to ' + SNAPLocation.location_name), React.DOM.p({ key: 'intro-text' }, home.intro.text)])));
      }

      var tiles = this.props.tiles.map(function (tile, i) {
        var background = ShellManager.getMediaUrl(tile.image, 470, 410);
        return React.DOM.td({
          className: 'tile tile-regular',
          key: i
        }, React.DOM.a({
          onClick: function onClick(e) {
            e.preventDefault();
            NavigationManager.location = tile.destination;
          },
          style: {
            backgroundImage: background ? 'url("' + background + '")' : null
          }
        }, React.DOM.span(null, tile.title)));
      });

      rows = rows.concat(tiles).reduce(function (result, value) {
        result[0].push(value);
        return result;
      }, [[]]).map(function (row, i) {
        return React.DOM.tr({ key: i }, row);
      });

      return React.DOM.table({
        className: 'tile-table'
      }, rows);
    }
  });

  DataManager.homeChanged.add(function (home) {
    if (!home) {
      return;
    }

    var tiles = home.menus.map(function (menu) {
      var destination = {
        type: 'menu',
        token: menu.token
      };

      return {
        title: menu.title,
        image: menu.image,
        url: '#' + NavigationManager.getPath(destination),
        destination: destination
      };
    });

    var element = document.getElementById('page-home-menu');

    if (element) {
      React.render(React.createElement(HomeMenu, { tiles: tiles, home: home }), element);
    }
  });

  NavigationManager.locationChanging.add(function (location) {
    $scope.visible = Boolean(location.type === 'home');
    $timeout(function () {
      var container = document.getElementById('page-home-menu-container');
      if (container) {
        container.scrollLeft = 0;
      }

      $scope.$apply();
      DataManager.home = $scope.visible;
    });
  });
}]);

//src/js/controllers/galaxies/item.js

angular.module('SNAP.controllers').controller('GalaxiesItemCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', 'OrderManager', 'ShellManager', 'WebBrowser', 'CommandSubmitOrder', function ($scope, $timeout, DataManager, NavigationManager, OrderManager, ShellManager, WebBrowser, CommandSubmitOrder) {

  $scope.goBack = function () {
    return NavigationManager.goBack();
  };

  function onClose() {
    if (NavigationManager.location.type === 'item') {
      $timeout(function () {
        return $scope.goBack();
      });
    }
  }

  var ItemDescription = React.createClass({
    displayName: 'ItemDescription',

    render: function render() {
      var entry = this.props.entry;
      return React.DOM.div({
        className: 'page-item-info'
      }, [React.DOM.h1({ key: 1 }, entry.item.title || '&nbsp;'), React.DOM.h2({ key: 2 }, $scope.formatPrice(entry.item.order.price) || '&nbsp;'), React.DOM.p({ key: 3 }, entry.item.description || '&nbsp;')]);
    }
  });

  DataManager.itemChanged.add(function (item) {
    if (!item) {
      $scope.visible = false;
      $timeout(function () {
        $scope.entry = $scope.entries = null;
        $scope.type = 1;
        $scope.step = 0;
        $scope.entryIndex = 0;
      });
      return;
    }

    var type = item.type;

    if (type === 2 && item.website) {
      WebBrowser.open(item.website.url).then(function (browser) {
        return browser.onExit.addOnce(onClose);
      });
    } else if (type === 3 && item.flash) {
      var url = WebBrowser.getFlashUrl(item.flash.media.token, item.flash.width, item.flash.height);

      WebBrowser.open(url).then(function (browser) {
        return browser.onExit.addOnce(onClose);
      });
    }

    var entry;
    var element = document.getElementById('page-item-info');

    if (type === 1) {
      entry = new app.CartItem(item, 1);

      if (element) {
        React.render(React.createElement(ItemDescription, { entry: entry }), element);
      }
    } else {
      if (element) {
        element.innerHTML = '';
      }
    }

    $scope.visible = type === 1;
    $scope.entry = entry;
    $scope.type = type;
    $scope.step = 0;
    $scope.entryIndex = 0;
  });

  $scope.getMediaUrl = function (media, w, h, extension) {
    return ShellManager.getMediaUrl(media, w, h, extension);
  };
  $scope.formatPrice = function (value) {
    return value ? ShellManager.formatPrice(value) : 0;
  };

  $scope.nextStep = function () {
    if ($scope.step === 0) {
      if ($scope.entry.hasModifiers) {
        $scope.entries = $scope.entry.cloneMany();
        $scope.currentEntry = $scope.entries[$scope.entryIndex = 0];
        $scope.step = 1;
      } else {
        OrderManager.addToCart($scope.entry);
        $scope.step = 2;
      }
    } else if ($scope.step === 1) {
      if ($scope.entryIndex === $scope.entries.length - 1) {
        $scope.entries.forEach(function (entry) {
          return OrderManager.addToCart(entry);
        });
        $scope.step = 2;
      } else {
        $scope.currentEntry = $scope.entries[++$scope.entryIndex];
      }
    }
  };

  $scope.previousStep = function () {
    if ($scope.step === 1 && $scope.entryIndex > 0) {
      $scope.currentEntry = $scope.entries[--$scope.entryIndex];
    } else if ($scope.step === 0) {
      $scope.goBack();
    } else {
      $scope.step--;
    }
  };

  $scope.updateModifiers = function (category, modifier) {
    if (category.data.selection === 1) {
      angular.forEach(category.modifiers, function (m) {
        return m.isSelected = m === modifier;
      });
    } else {
      modifier.isSelected = !modifier.isSelected;
    }
  };

  $scope.submitOrder = function () {
    CommandSubmitOrder();
    $scope.goBack();
  };

  NavigationManager.locationChanging.add(function (location) {
    DataManager.item = location.type === 'item' ? location.token : undefined;
    $timeout(function () {
      return $scope.$apply();
    });
  });
}]);

//src/js/controllers/galaxies/menu.js

angular.module('SNAP.controllers').controller('GalaxiesMenuCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', 'ShellManager', function ($scope, $timeout, DataManager, NavigationManager, ShellManager) {

  $scope.goBack = function () {
    return NavigationManager.goBack();
  };

  var MenuList = React.createClass({
    displayName: 'MenuList',

    render: function render() {
      var rows = this.props.tiles.map(function (tile, i) {
        var background = ShellManager.getMediaUrl(tile.image, 470, 410);
        return React.DOM.td({
          className: 'tile tile-regular',
          key: i
        }, React.DOM.a({
          onClick: function onClick(e) {
            e.preventDefault();
            NavigationManager.location = tile.destination;
          },
          style: {
            backgroundImage: background ? 'url("' + background + '")' : null
          }
        }, React.DOM.span(null, tile.title)));
      }).reduce(function (result, value, i) {
        result[i % 2].push(value);
        return result;
      }, [[], []]).map(function (row, i) {
        return React.DOM.tr({ key: i }, row);
      });

      return React.DOM.table({
        className: 'tile-table'
      }, rows);
    }
  });

  DataManager.menuChanged.add(function (menu) {
    if (!menu) {
      return $timeout(function () {
        return $scope.menu = null;
      });
    }

    var tiles = menu.categories.map(function (category) {
      var destination = {
        type: 'category',
        token: category.token
      };

      return {
        title: category.title,
        image: category.image,
        url: '#' + NavigationManager.getPath(destination),
        destination: destination
      };
    });

    var element = document.getElementById('page-menu-content');

    if (element) {
      React.render(React.createElement(MenuList, { tiles: tiles }), element);
    }

    $scope.menu = menu;
    $timeout(function () {
      return $scope.$apply();
    });
  });

  NavigationManager.locationChanging.add(function (location) {
    DataManager.menu = location.type === 'menu' ? location.token : undefined;
    $scope.visible = Boolean(DataManager.menu);
    $timeout(function () {
      var container = document.getElementById('page-menu-content-container');
      if (container) {
        container.scrollLeft = 0;
      }

      $scope.$apply();
    });
  });
}]);

//src/js/controllers/galaxies/navigation.js

angular.module('SNAP.controllers').controller('GalaxiesNavigationCtrl', ['$scope', '$timeout', 'ActivityMonitor', 'CustomerManager', 'AnalyticsModel', 'CartModel', 'ShellManager', 'DataManager', 'DataModel', 'DialogManager', 'LocationModel', 'ManagementService', 'NavigationManager', 'OrderManager', 'CommandCloseTable', 'CommandSubmitOrder', 'CommandFlipScreen', 'SNAPEnvironment', 'WebBrowser', function ($scope, $timeout, ActivityMonitor, CustomerManager, AnalyticsModel, CartModel, ShellManager, DataManager, DataModel, DialogManager, LocationModel, ManagementService, NavigationManager, OrderManager, CommandCloseTable, CommandSubmitOrder, CommandFlipScreen, SNAPEnvironment, WebBrowser) {

  $scope.menus = [];
  $scope.showVolume = $scope.showBrightness = SNAPEnvironment.platform !== 'web';
  $scope.showRotate = SNAPEnvironment.platform !== 'web';
  $scope.applicationVersion = SNAPEnvironment.version;

  DataModel.home().then(function (response) {
    if (!response) {
      return;
    }

    var location = NavigationManager.location,
        limit = SNAPEnvironment.platform === 'desktop' ? 4 : 3;

    $scope.menus = response.menus.filter(function (menu) {
      return SNAPEnvironment.platform === 'desktop' || menu.type !== 3;
    }).filter(function (menu, i) {
      return i < limit;
    }).map(function (menu) {
      var destination = {
        type: 'menu',
        token: menu.token
      };
      return {
        token: menu.token,
        title: menu.title,
        url: '#' + NavigationManager.getPath(destination),
        destination: destination,
        selected: location.type === 'menu' && menu.token === location.token
      };
    });
  });

  $scope.advertisementClick = function (item) {
    if (item.href) {
      WebBrowser.open(item.href.url);
    }
  };

  $scope.currentAdvertisement = null;

  $scope.advertisementImpression = function (item) {
    $scope.currentAdvertisement = item;

    if (ActivityMonitor.active && $scope.menuOpen) {
      AnalyticsModel.logAdvertisement({
        token: item.token,
        type: 'impression'
      });
    }
  };

  $scope.advertisements = [];

  DataModel.advertisements().then(function (data) {
    $timeout(function () {
      $scope.advertisements = data.misc.map(function (ad) {
        return {
          src: ShellManager.getMediaUrl(ad.src, 300, 250),
          href: ad.href,
          type: ShellManager.getMediaType(ad.src),
          token: ad.token
        };
      });
    });
  });

  $scope.navigateHome = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;
    NavigationManager.location = { type: 'home' };
  };

  $scope.navigateBack = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;
    NavigationManager.goBack();
  };

  $scope.rotateScreen = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;
    CommandFlipScreen();
  };

  $scope.openCart = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;
    CartModel.isCartOpen = !CartModel.isCartOpen;
  };

  $scope.seatName = LocationModel.seat ? LocationModel.seat.name : 'Table';
  LocationModel.seatChanged.add(function (value) {
    return $timeout(function () {
      return $scope.seatName = value ? value.name : 'Table';
    });
  });

  $scope.resetTable = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;
    DialogManager.confirm(ALERT_TABLE_RESET).then(function () {
      var job = DialogManager.startJob();
      CommandCloseTable().then(function () {
        return DialogManager.endJob(job);
      });
    });
  };

  $scope.menuOpen = false;

  $scope.toggleMenu = function () {
    ActivityMonitor.activityDetected();
    $scope.menuOpen = !$scope.menuOpen;

    if ($scope.currentAdvertisement && $scope.menuOpen) {
      AnalyticsModel.logAdvertisement({
        token: $scope.currentAdvertisement.token,
        type: 'impression'
      });
      $scope.currentAdvertisement = null;
    }
  };

  $scope.settingsOpen = false;

  $scope.toggleSettings = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = !$scope.settingsOpen;
  };

  $scope.elements = ShellManager.model.elements;
  ShellManager.model.elementsChanged.add(function (value) {
    $timeout(function () {
      return $scope.elements = value;
    });
  });

  $scope.cartCount = OrderManager.model.orderCart.length;
  OrderManager.model.orderCartChanged.add(function (cart) {
    $timeout(function () {
      return $scope.cartCount = cart.length;
    });
  });

  $scope.checkoutEnabled = CustomerManager.model.isEnabled;

  $scope.totalOrder = OrderManager.model.orderCheck;
  OrderManager.model.orderCheckChanged.add(function (value) {
    $timeout(function () {
      return $scope.totalOrder = value;
    });
  });

  $scope.requestAssistance = function () {
    if (!$scope.requestAssistanceAvailable) {
      return;
    }

    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;

    DialogManager.confirm(ALERT_TABLE_ASSISTANCE).then(function () {
      var job = DialogManager.startJob();

      OrderManager.requestAssistance().then(function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_ASSISTANCE_SENT);
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
      });
    });
  };

  var refreshAssistanceRequest = function refreshAssistanceRequest() {
    $scope.requestAssistanceAvailable = !Boolean(OrderManager.model.assistanceRequest);
  };
  OrderManager.model.assistanceRequestChanged.add(refreshAssistanceRequest);
  refreshAssistanceRequest();

  $scope.submitOrder = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;

    CommandSubmitOrder();
  };

  $scope.viewOrder = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;

    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    CartModel.cartState = CartModel.STATE_CART;
    CartModel.isCartOpen = true;
  };

  $scope.payBill = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;

    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    CartModel.cartState = CartModel.STATE_HISTORY;
    CartModel.isCartOpen = true;
  };

  $scope.customerName = CustomerManager.customerName || 'Guest';
  CustomerManager.model.profileChanged.add(function () {
    $timeout(function () {
      return $scope.customerName = CustomerManager.customerName || 'Guest';
    });
  });

  $scope.settings = {
    displayBrightness: 100,
    soundVolume: 100
  };

  if ($scope.showVolume) {
    ManagementService.getSoundVolume().then(function (value) {
      return $timeout(function () {
        $scope.settings.soundVolume = value;

        $scope.$watch('settings.soundVolume', function (value, old) {
          if (!value || value === old) {
            return;
          }

          value = parseInt(value);

          ActivityMonitor.activityDetected();
          ManagementService.setSoundVolume(value);
        });
      });
    }, function (e) {});
  }

  if ($scope.showBrightness) {
    ManagementService.getDisplayBrightness().then(function (value) {
      return $timeout(function () {
        $scope.settings.displayBrightness = value;

        $scope.$watch('settings.displayBrightness', function (value, old) {
          if (!value || value === old) {
            return;
          }

          value = parseInt(value);

          ActivityMonitor.activityDetected();
          ManagementService.setDisplayBrightness(value);
        });
      });
    }, function (e) {});
  }

  $scope.navigate = function (destination) {
    return NavigationManager.location = destination;
  };

  NavigationManager.locationChanging.add(function (location) {
    $scope.visible = location.type !== 'signin';
    $timeout(function () {
      return $scope.$apply();
    });
  });

  NavigationManager.locationChanged.add(function (location) {
    $timeout(function () {
      if (location.type !== 'category' && location.type !== 'item') {
        $scope.menus.forEach(function (menu) {
          menu.selected = location.type === 'menu' && menu.token === location.token;
        });
      }

      $scope.menuOpen = false;
      $scope.settingsOpen = false;
    });
  });
}]);

//src/js/controllers/mainaux.js

angular.module('SNAP.controllers').controller('MainAuxCtrl', ['$scope', 'CommandStartup', function ($scope, CommandStartup) {
  CommandStartup();
}]);

//src/js/controllers/mainsnap.js

angular.module('SNAP.controllers').controller('MainSnapCtrl', ['$scope', '$timeout', 'CustomerManager', 'ActivityMonitor', 'ChatManager', 'ShellManager', 'DataManager', 'DialogManager', 'OrderManager', 'LocationModel', 'NavigationManager', 'SoftwareManager', 'SNAPLocation', 'CommandStartup', function ($scope, $timeout, CustomerManager, ActivityMonitor, ChatManager, ShellManager, DataManager, DialogManager, OrderManager, LocationModel, NavigationManager, SoftwareManager, SNAPLocation, CommandStartup) {

  CommandStartup();

  $scope.touch = function () {
    return ActivityMonitor.activityDetected();
  };

  OrderManager.model.orderRequestChanged.add(function (item) {
    if (!item) {
      return;
    }
    item.promise.then(function () {
      return DialogManager.alert(ALERT_REQUEST_ORDER_RECEIVED);
    });
  });

  OrderManager.model.assistanceRequestChanged.add(function (item) {
    if (!item) {
      return;
    }
    item.promise.then(function () {
      return DialogManager.alert(ALERT_REQUEST_ASSISTANCE_RECEIVED);
    });
  });

  OrderManager.model.closeoutRequestChanged.add(function (item) {
    if (!item) {
      return;
    }
    item.promise.then(function () {
      return DialogManager.alert(ALERT_REQUEST_CLOSEOUT_RECEIVED);
    });
  });

  ChatManager.model.chatRequestReceived.add(function (token) {
    DialogManager.confirm(ChatManager.getDeviceName(token) + ' would like to chat with you.').then(function () {
      ChatManager.approveDevice(token);
      NavigationManager.location = { type: 'chat' };
    }, function () {
      return ChatManager.declineDevice(token);
    });
  });

  ChatManager.model.giftRequestReceived.add(function (token, description) {
    DialogManager.confirm(ChatManager.getDeviceName(token) + ' would like to gift you a ' + description).then(function () {
      ChatManager.acceptGift(token);
    }, function () {
      return ChatManager.declineGift(token);
    });
  });

  ChatManager.model.messageReceived.add(function (message) {
    var device = LocationModel.getDevice(message.device);

    if (!device) {
      return;
    }

    if (message.status === ChatManager.MESSAGE_STATUSES.CHAT_REQUEST_DECLINED) {
      DialogManager.alert('Chat with ' + ChatManager.getDeviceName(device.token) + ' was declined. ' + 'To stop recieving chat requests, open the chat screen and touch the "Chat on/off" button.');
    } else if (message.status === ChatManager.MESSAGE_STATUSES.CHAT_REQUEST_ACCEPTED) {
      DialogManager.alert('Your chat request to ' + ChatManager.getDeviceName(device.token) + ' was accepted.');
    } else if (message.status === ChatManager.MESSAGE_STATUSES.GIFT_REQUEST_ACCEPTED) {
      DialogManager.alert(ChatManager.getDeviceName(device.token) + ' has accepted your gift. The item will be added to your check.');
    } else if (message.status === ChatManager.MESSAGE_STATUSES.GIFT_REQUEST_DECLINED) {
      DialogManager.alert(ChatManager.getDeviceName(device.token) + ' has declined your gift. The item will NOT be added to your check.');
    }

    if (NavigationManager.location.type === 'chat') {
      return;
    }

    if (message.status === ChatManager.MESSAGE_STATUSES.CHAT_CLOSED) {
      DialogManager.notification(ChatManager.getDeviceName(device.token) + ' has closed the chat');
    } else if (!message.status && message.to_device) {
      DialogManager.notification('New message from ' + ChatManager.getDeviceName(device.token));
    }
  });

  ChatManager.model.giftReady.add(function () {
    ChatManager.sendGift(OrderManager.model.orderCart);
    NavigationManager.location = { type: 'chat' };
  });

  ChatManager.model.giftAccepted.add(function (status) {
    if (!status || !ChatManager.model.giftDevice) {
      ChatManager.model.giftSeat = null;
    } else {
      var job = DialogManager.startJob();

      OrderManager.submitCart().then(function () {
        DialogManager.endJob(job);
        NavigationManager.location = { type: 'chat' };
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);

        ChatManager.endGift();
        NavigationManager.location = { type: 'chat' };
      });
    }
  });
}]);

//src/js/controllers/notification.js

angular.module('SNAP.controllers').controller('NotificationCtrl', ['$scope', '$timeout', 'DialogManager', function ($scope, $timeout, DialogManager) {
  var timer;

  $scope.messages = [];

  function updateVisibility(isVisible) {
    $timeout(function () {
      $scope.visible = isVisible;
    });
  }

  function hideNext() {
    var messages = [];

    for (var i = 1; i < $scope.messages.length; i++) {
      messages.push($scope.messages[i]);
    }

    $scope.messages = messages;

    if ($scope.messages.length === 0) {
      updateVisibility(false);
      return;
    }

    timer = $timeout(hideNext, 4000);
  }

  $scope.visible = false;

  DialogManager.notificationRequested.add(function (message) {
    $timeout(function () {
      $scope.messages.push({ text: message });
    });

    updateVisibility(true);

    if (timer) {
      $timeout.cancel(timer);
    }

    timer = $timeout(hideNext, 4000);
  });
}]);

//src/js/controllers/reset.js

angular.module('SNAP.controllers').controller('ResetCtrl', ['$scope', 'CommandReset', 'DialogManager', 'ManagementService', 'SNAPEnvironment', function ($scope, CommandReset, DialogManager, ManagementService, SNAPEnvironment) {

  $scope.version = SNAPEnvironment.version;

  CommandReset().then(function () {
    ManagementService.loadStartup();
  }, function () {
    ManagementService.loadStartup();
  });
}]);

//src/js/controllers/screensaver.js

angular.module('SNAP.controllers').controller('ScreensaverCtrl', ['$scope', '$timeout', 'ShellManager', 'ActivityMonitor', 'DataModel', function ($scope, $timeout, ShellManager, ActivityMonitor, DataModel) {

  $scope.visible = false;

  function showImages(values) {
    $timeout(function () {
      $scope.images = values.map(function (item) {
        return {
          src: ShellManager.getMediaUrl(item.media, 1920, 1080, 'jpg'),
          type: ShellManager.getMediaType(item.media)
        };
      });
    });
  }

  showImages(ShellManager.model.screensavers);
  ShellManager.model.screensaversChanged.add(showImages);

  ActivityMonitor.activeChanged.add(function (value) {
    $timeout(function () {
      $scope.visible = value === false && ($scope.images && $scope.images.length > 0);
    });
  });
}]);

//src/js/controllers/signin.js

angular.module('SNAP.controllers').controller('SignInCtrl', ['$scope', '$timeout', 'CommandCustomerLogin', 'CommandCustomerGuestLogin', 'CommandCustomerSocialLogin', 'CommandCustomerSignup', 'CustomerManager', 'DialogManager', 'NavigationManager', 'SessionManager', 'SNAPLocation', 'WebBrowser', function ($scope, $timeout, CommandCustomerLogin, CommandCustomerGuestLogin, CommandCustomerSocialLogin, CommandCustomerSignup, CustomerManager, DialogManager, NavigationManager, SessionManager, SNAPLocation, WebBrowser) {

  var STEP_SPLASH = 1,
      STEP_LOGIN = 2,
      STEP_REGISTRATION = 3,
      STEP_GUESTS = 4,
      STEP_EVENT = 5,
      STEP_RESET = 6,
      STEP_SOCIAL = 7;

  $scope.STEP_SPLASH = STEP_SPLASH;
  $scope.STEP_LOGIN = STEP_LOGIN;
  $scope.STEP_REGISTRATION = STEP_REGISTRATION;
  $scope.STEP_GUESTS = STEP_GUESTS;
  $scope.STEP_EVENT = STEP_EVENT;
  $scope.STEP_RESET = STEP_RESET;
  $scope.STEP_SOCIAL = STEP_SOCIAL;

  $scope.locationName = SNAPLocation.location_name;

  //------------------------------------------------------------------------
  //
  //  Public methods
  //
  //------------------------------------------------------------------------

  //-----------------------------------------------
  //    Login
  //-----------------------------------------------

  $scope.login = function () {
    $scope.credentials = {};
    $scope.step = STEP_LOGIN;
  };

  $scope.guestLogin = function () {
    var job = DialogManager.startJob();

    CommandCustomerGuestLogin().then(function () {
      DialogManager.endJob(job);
      $timeout(function () {
        return $scope.step = STEP_GUESTS;
      });
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  $scope.doLogin = function (credentials) {
    var job = DialogManager.startJob();

    $scope.credentials.username = $scope.credentials.email;

    CommandCustomerLogin($scope.credentials).then(function () {
      DialogManager.endJob(job);
      $timeout(function () {
        return $scope.step = STEP_GUESTS;
      });
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_GENERIC_ERROR);
    });
  };

  //-----------------------------------------------
  //    Social login
  //-----------------------------------------------

  $scope.loginFacebook = function () {
    socialBusy();
    CommandCustomerSocialLogin.facebook().then(socialLogin, socialError);
  };

  $scope.loginTwitter = function () {
    socialBusy();
    CommandCustomerSocialLogin.twitter().then(socialLogin, socialError);
  };

  $scope.loginGoogle = function () {
    socialBusy();
    CommandCustomerSocialLogin.googleplus().then(socialLogin, socialError);
  };

  $scope.loginSocialCancel = function () {
    socialBusyEnd();
  };

  //-----------------------------------------------
  //    Registration
  //-----------------------------------------------

  $scope.register = function () {
    $scope.registration = {};
    $scope.step = STEP_REGISTRATION;
  };

  $scope.doRegistration = function () {
    $scope.registration.username = $scope.registration.email;

    var job = DialogManager.startJob();

    CommandCustomerSignup($scope.registration).then(function () {
      DialogManager.endJob(job);
      $timeout(function () {
        return $scope.step = STEP_GUESTS;
      });
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  //-----------------------------------------------
  //    Guest count
  //-----------------------------------------------

  $scope.session = {
    guestCount: 1,
    special: false
  };

  $scope.submitGuestCount = function () {
    if ($scope.session.guestCount > 1) {
      SessionManager.guestCount = $scope.session.guestCount;
      $scope.step = STEP_EVENT;
    } else {
      endSignIn();
    }
  };

  //-----------------------------------------------
  //    Event
  //-----------------------------------------------

  $scope.submitSpecialEvent = function (value) {
    $scope.session.special = SessionManager.specialEvent = Boolean(value);
    endSignIn();
  };

  //-----------------------------------------------
  //    Reset password
  //-----------------------------------------------

  $scope.resetPassword = function () {
    $scope.passwordreset = {};
    $scope.step = STEP_RESET;
  };

  $scope.passwordResetSubmit = function () {
    var job = DialogManager.startJob();

    CustomerManager.resetPassword($scope.passwordreset).then(function () {
      DialogManager.endJob(job);
      $scope.passwordReset = false;
      DialogManager.alert(ALERT_PASSWORD_RESET_COMPLETE);
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  $scope.passwordResetCancel = function () {
    $scope.step = STEP_SPLASH;
  };

  //------------------------------------------------------------------------
  //
  //  Private methods
  //
  //------------------------------------------------------------------------

  function socialLogin() {
    socialBusyEnd();
    $timeout(function () {
      return $scope.step = STEP_GUESTS;
    });
  }

  function socialError(e) {
    socialBusyEnd();

    if (e) {
      console.error(e);
      DialogManager.alert(ALERT_GENERIC_ERROR);
    }
  }

  var socialStep;

  function socialBusy() {
    socialStep = $scope.step;
    $scope.step = STEP_SOCIAL;
  }

  function socialBusyEnd() {
    if (socialStep) {
      $scope.step = socialStep;
      socialStep = undefined;

      WebBrowser.close();
    }
  }

  function endSignIn() {
    NavigationManager.location = { type: 'home' };
  }

  //------------------------------------------------------------------------
  //
  //  State
  //
  //------------------------------------------------------------------------

  $scope.$watchAsProperty('step').skipDuplicates().subscribe(function (value) {
    if (!value.value) {
      return;
    }

    var step = value.value();

    if (step === $scope.STEP_GUESTS) {
      $scope.submitGuestCount();
    }
  });

  //------------------------------------------------------------------------
  //
  //  Startup
  //
  //------------------------------------------------------------------------

  if (!CustomerManager.model.isEnabled || CustomerManager.model.isAuthenticated) {
    return endSignIn();
  }

  $scope.initialized = true;
  $scope.step = STEP_SPLASH;
}]);

//src/js/controllers/startup.js

angular.module('SNAP.controllers').controller('StartupCtrl', ['$scope', '$timeout', 'CommandBoot', 'CommandUpdateCache', 'DialogManager', 'LocationModel', 'ManagementService', 'SNAPEnvironment', function ($scope, $timeout, CommandBoot, CommandUpdateCache, DialogManager, LocationModel, ManagementService, SNAPEnvironment) {

  $scope.version = SNAPEnvironment.version;
  $scope.step = 0;

  function step1() {
    $timeout(function () {
      return $scope.step = 1;
    });

    CommandBoot().then(function (result) {
      step2();
    }, function (e) {
      DialogManager.alert(ALERT_ERROR_STARTUP).then(function () {
        return step1();
      });
    });
  }

  function step2() {
    $timeout(function () {
      return $scope.step = 2;
    });

    CommandUpdateCache().then(function (result) {
      if (result === 'obsolete') {
        DialogManager.alert(ALERT_WARNING_CACHE_OBSOLETE).then(function () {
          return finished();
        });
      } else {
        finished();
      }
    }, function (e) {
      DialogManager.alert(ALERT_ERROR_CACHE_UPDATE).then(function () {
        return step2();
      });
    });
  }

  function finished() {
    $timeout(function () {
      return $scope.step = 0;
    });

    ManagementService.loadApplication(LocationModel.location);
  }

  $timeout(function () {
    return step1();
  }, 1000);
}]);

//src/js/controllers/survey.js

angular.module('SNAP.controllers').controller('SurveyCtrl', ['$scope', '$timeout', 'AnalyticsModel', 'CustomerManager', 'CustomerModel', 'DialogManager', 'NavigationManager', 'OrderManager', 'SurveyManager', function ($scope, $timeout, AnalyticsModel, CustomerManager, CustomerModel, DialogManager, NavigationManager, OrderManager, SurveyManager) {

  if (!SurveyManager.model.isEnabled || !SurveyManager.model.feedbackSurvey || SurveyManager.model.feedbackSurveyComplete) {
    NavigationManager.location = { type: 'home' };
    return;
  }

  //------------------------------------------------------------------------
  //
  //  Properties
  //
  //------------------------------------------------------------------------

  $scope.comment = '';
  $scope.email = '';
  $scope.had_problems = false;

  //-----------------------------------------------
  //    Pages
  //-----------------------------------------------

  $scope.pages = [];
  var pages = $scope.$watchAsProperty('pages');

  //-----------------------------------------------
  //    Index
  //-----------------------------------------------

  $scope.pageIndex = -1;
  var pageIndex = $scope.$watchAsProperty('pageIndex');
  pageIndex.changes().subscribe(function () {
    $scope.page = $scope.pageIndex > -1 ? $scope.pages[$scope.pageIndex] : { questions: [] };

    $timeout(function () {
      $scope.page.forEach(function (item) {
        if (item.type !== 1) {
          return;
        }

        $('#rate-' + item.token).rateit({
          min: 0,
          max: 5,
          step: 1,
          resetable: false,
          backingfld: '#range-' + item.token
        }).bind('rated', function (event, value) {
          item.feedback = value;
        });
      });
    });
  });

  //-----------------------------------------------
  //    Count
  //-----------------------------------------------

  $scope.pageCount = 0;
  pages.changes().subscribe(function () {
    $scope.pageCount = $scope.pages.length;
  });

  //------------------------------------------------------------------------
  //
  //  Private methods
  //
  //------------------------------------------------------------------------

  var generatePassword = function generatePassword() {
    var length = 8,
        charset = 'abcdefghknpqrstuvwxyzABCDEFGHKMNPQRSTUVWXYZ23456789',
        result = '';
    for (var i = 0, n = charset.length; i < length; i++) {
      result += charset.charAt(Math.floor(Math.random() * n));
    }
    return result;
  };

  var submitFeedback = function submitFeedback() {
    $scope.pages.reduce(function (answers, page) {
      return page.reduce(function (answers, question) {
        var value = parseInt(question.feedback);

        if (value > 0) {
          answers.push({
            survey: SurveyManager.model.feedbackSurvey.token,
            question: question.token,
            value: value
          });
        }

        return answers;
      }, answers);
    }, []).forEach(function (answer) {
      return AnalyticsModel.logAnswer(answer);
    });

    if ($scope.comment && $scope.comment.length > 0) {
      AnalyticsModel.logComment({
        type: 'feedback',
        text: $scope.comment
      });
    }

    SurveyManager.model.feedbackSurveyComplete = true;

    if ($scope.had_problems && !OrderManager.model.assistanceRequest) {
      OrderManager.requestAssistance();
    }

    if (CustomerModel.isGuest && $scope.email && $scope.email.length > 0) {
      var job = DialogManager.startJob();
      var password = generatePassword();

      CustomerManager.login({
        email: $scope.email,
        password: password
      }).then(function () {
        CustomerManager.login({
          login: $scope.email,
          password: password
        }).then(function () {
          DialogManager.endJob(job);
          NavigationManager.location = { type: 'home' };
        }, function () {
          DialogManager.endJob(job);
          NavigationManager.location = { type: 'home' };
        });
      }, function () {
        DialogManager.endJob(job);
        NavigationManager.location = { type: 'home' };
      });
    } else {
      NavigationManager.location = { type: 'home' };
    }
  };

  //------------------------------------------------------------------------
  //
  //  Public methods
  //
  //------------------------------------------------------------------------

  $scope.previousPage = function () {
    if ($scope.pageIndex > 0) {
      $scope.pageIndex--;
    }
  };

  $scope.nextPage = function () {
    if ($scope.pageIndex < $scope.pageCount - 1) {
      $scope.pageIndex++;
    } else {
      $scope.nextStep();
    }
  };

  $scope.nextStep = function () {
    if (CustomerModel.isGuest && $scope.step < 3) {
      $scope.step++;
    } else if (!CustomerModel.isGuest && $scope.step < 2) {
      $scope.step++;
    } else {
      submitFeedback();
    }
  };

  $scope.submitProblem = function (status) {
    $scope.had_problems = Boolean(status);
    $scope.nextStep();
  };

  $scope.exit = function () {
    if ($scope.step > 0) {
      submitFeedback();
    }

    NavigationManager.location = { type: 'home' };
  };

  //------------------------------------------------------------------------
  //
  //  Startup
  //
  //------------------------------------------------------------------------

  (function () {
    var page;

    $scope.has_email = CustomerModel.hasCredentials;

    function buildSurvey() {
      SurveyManager.model.feedbackSurvey.questions.forEach(function (item) {
        if (item.type !== 1) {
          return;
        }

        if (!page || page.length > 4) {
          page = [];
          $scope.pages.push(page);
        }

        item.feedback = 0;
        page.push(item);
      });
    }

    if (SurveyManager.model.isEnabled && SurveyManager.model.feedbackSurvey) {
      buildSurvey();
    }

    SurveyManager.model.feedbackSurveyChanged.add(function () {
      return buildSurvey();
    });

    $scope.pageIndex = 0;
    $scope.step = 0;
  })();
}]);

//src/js/controllers/web.js

angular.module('SNAP.controllers').controller('WebCtrl', ['$scope', '$timeout', 'ActivityMonitor', 'NavigationManager', 'WebBrowser', function ($scope, $timeout, ActivityMonitor, NavigationManager, WebBrowser) {

  $scope.close = function () {
    return WebBrowser.close();
  };
  $scope.url = '';

  WebBrowser.onOpened.add(function (reference) {
    ActivityMonitor.enabled = false;

    $timeout(function () {
      $scope.browserUrl = WebBrowser.isPrivateUrl(reference.url) ? '' : reference.url;
      $scope.type = reference.type;
      $scope.visible = true;

      switch (reference.type) {
        case 'iframe':
          reference.attach(document.getElementById('page-web-iframe'));
          break;
        case 'webview':
          reference.attach(document.getElementById('page-web-webview'));
          break;
      }
    });

    reference.onNavigated.add(function (url) {
      return $timeout(function () {
        return $scope.browserUrl = WebBrowser.isPrivateUrl(url) ? '' : url;
      });
    });
  });

  WebBrowser.onClosed.add(function () {
    ActivityMonitor.enabled = true;
    $timeout(function () {
      $scope.url = '';
      $scope.visible = false;
    });
  });

  NavigationManager.locationChanging.add(function (location) {
    WebBrowser.close();
    $timeout(function () {
      $scope.wide = location.type !== 'home' && location.type !== 'signin';
      $scope.fullscreen = location.type === 'signin';
    });
  });
}]);

//src/js/directives/_base.js

angular.module('SNAP.directives', ['angular-bacon']);

//src/js/directives/email.js

angular.module('SNAP.directives').directive('email', ['$timeout', 'ShellManager', function ($timeout, ShellManager) {

  return {
    restrict: 'E',
    replace: true,
    transclude: true,
    scope: {
      disabled: '=?',
      nosubmit: '@',
      ngModel: '=',
      placeholder: '@'
    },
    templateUrl: ShellManager.getPartialUrl('input-email')
  };
}]);

//src/js/directives/gallery.js

angular.module('SNAP.directives').directive('gallery', ['ActivityMonitor', 'ShellManager', '$timeout', function (ActivityMonitor, ShellManager, $timeout) {

  var slider,
      settings = {
    mode: 'fade',
    wrapperClass: 'photo-gallery'
  };

  return {
    restrict: 'E',
    replace: false,
    scope: {
      images: '=',
      imagewidth: '=?',
      imageheight: '=?'
    },
    templateUrl: ShellManager.getPartialUrl('gallery'),
    link: function link(scope, elem, attrs) {
      elem.ready(function () {
        slider = $('.bxslider', elem).bxSlider(settings);
      });

      scope.$watch('images', function () {
        scope.medias = (scope.images || []).map(function (image) {
          return ShellManager.getMediaUrl(image, attrs.imagewidth, attrs.imageheight);
        });
        settings.pager = scope.medias.length > 1;
        $timeout(function () {
          return slider.reloadSlider(settings);
        });
      });
    }
  };
}]);

//src/js/directives/oniframeload.js

angular.module('SNAP.directives').directive('onIframeLoad', function () {
  return {
    restrict: 'A',
    scope: {
      callback: '&onIframeLoad'
    },
    link: function link(scope, element, attrs) {
      element.bind('load', function (e) {
        if (typeof scope.callback === 'function') {
          scope.callback({ event: e });
        }
      });
    }
  };
});

//src/js/directives/onkeydown.js

angular.module('SNAP.directives').directive('onKeydown', function () {
  return {
    restrict: 'A',
    link: function link(scope, elem, attrs) {
      var functionToCall = scope.$eval(attrs.onKeydown);
      elem.on('keydown', function (e) {
        functionToCall(e.which);
      });
    }
  };
});

//src/js/directives/password.js

angular.module('SNAP.directives').directive('password', ['$timeout', 'ShellManager', function ($timeout, ShellManager) {

  return {
    restrict: 'E',
    replace: true,
    transclude: true,
    scope: {
      disabled: '=?',
      ngModel: '=',
      placeholder: '@'
    },
    templateUrl: ShellManager.getPartialUrl('input-password')
  };
}]);

//src/js/directives/quantity.js

angular.module('SNAP.directives').directive('quantity', ['$timeout', 'ShellManager', function ($timeout, ShellManager) {

  return {
    restrict: 'E',
    replace: true,
    scope: {
      quantity: '=',
      min: '=',
      max: '='
    },
    link: function link(scope, elem) {
      scope.min = scope.min || 1;
      scope.max = scope.max || 9;
      scope.data = {
        min: scope.min,
        max: scope.max,
        quantity: parseInt(scope.quantity)
      };

      scope.decrease = function () {
        scope.quantity = scope.data.quantity = scope.data.quantity > scope.data.min ? scope.data.quantity - 1 : scope.data.min;
      };

      scope.increase = function () {
        scope.quantity = scope.data.quantity = scope.data.quantity < scope.data.max ? scope.data.quantity + 1 : scope.data.max;
      };
    },
    templateUrl: ShellManager.getPartialUrl('input-quantity')
  };
}]);

//src/js/directives/scroller.js

angular.module('SNAP.directives').directive('scroller', ['ActivityMonitor', 'SNAPEnvironment', function (ActivityMonitor, SNAPEnvironment) {
  return {
    restrict: 'C',
    replace: false,
    link: function link(scope, elem) {
      if (SNAPEnvironment.platform === 'desktop') {
        $(elem).kinetic({
          y: false,
          filterTarget: function filterTarget(target, e) {
            if (!/down|start|click/.test(e.type)) {
              return !/a|img/i.test(target.tagName);
            }
          },
          stopped: function stopped() {
            ActivityMonitor.activityDetected();
          }
        });
      }
    }
  };
}]);

//src/js/directives/scrollglue.js

angular.module('SNAP.directives').directive('scrollglue', ['$parse', function ($parse) {
  function unboundState(initValue) {
    var activated = initValue;
    return {
      getValue: function getValue() {
        return activated;
      },
      setValue: function setValue(value) {
        activated = value;
      }
    };
  }

  function oneWayBindingState(getter, scope) {
    return {
      getValue: function getValue() {
        return getter(scope);
      },
      setValue: function setValue() {}
    };
  }

  function twoWayBindingState(getter, setter, scope) {
    return {
      getValue: function getValue() {
        return getter(scope);
      },
      setValue: function setValue(value) {
        if (value !== getter(scope)) {
          scope.$apply(function () {
            setter(scope, value);
          });
        }
      }
    };
  }

  function createActivationState(attr, scope) {
    if (attr !== '') {
      var getter = $parse(attr);
      if (getter.assign !== undefined) {
        return twoWayBindingState(getter, getter.assign, scope);
      } else {
        return oneWayBindingState(getter, scope);
      }
    } else {
      return unboundState(true);
    }
  }

  return {
    priority: 1,
    restrict: 'A',
    link: function link(scope, $el, attrs) {
      var el = $el[0],
          activationState = createActivationState(attrs.scrollglue, scope);

      function scrollToBottom() {
        el.scrollTop = el.scrollHeight;
      }

      function onScopeChanges() {
        if (activationState.getValue() && !shouldActivateAutoScroll()) {
          scrollToBottom();
        }
      }

      function shouldActivateAutoScroll() {
        return el.scrollTop + el.clientHeight + 1 >= el.scrollHeight;
      }

      function onScroll() {
        activationState.setValue(shouldActivateAutoScroll());
      }

      scope.$watch(onScopeChanges);
      $el.bind('scroll', onScroll);
    }
  };
}]);

//src/js/directives/slider.js

angular.module('SNAP.directives').directive('slider', ['$timeout', 'ShellManager', function ($timeout, ShellManager) {
  return {
    restrict: 'AE',
    replace: true,
    scope: {
      source: '=',
      slideclick: '=',
      slideshow: '=',
      timeout: '='
    },
    link: function link(scope, elem) {
      var timeout = scope.timeout || 5000;
      scope.source = scope.source || [];
      scope.currentIndex = -1;

      var changeImage = function changeImage() {
        if (scope.source.length === 0 || scope.disabled) {
          return;
        }

        $timeout.cancel(timer);

        scope.source.forEach(function (entry, i) {
          entry.visible = false;
        });

        var entry = scope.source[scope.currentIndex];
        entry.visible = true;

        if (scope.slideshow) {
          scope.slideshow(entry);
        }

        if (entry.type === 'video') {
          var v = $('video', elem);
          v.attr('src', entry.src);
          var video = v.get(0);

          if (!video) {
            timer = $timeout(sliderFunc, 300);
            return;
          }

          var onVideoEnded = function onVideoEnded() {
            video.removeEventListener('ended', onVideoEnded, false);
            $timeout(function () {
              scope.next();
            });
          };

          var onVideoError = function onVideoError(error) {
            video.removeEventListener('error', onVideoError, false);
            $timeout(function () {
              scope.next();
            });
          };

          video.addEventListener('ended', onVideoEnded, false);
          video.addEventListener('error', onVideoError, false);

          try {
            video.load();
            video.play();
          } catch (e) {
            console.error('Unable to play video: ' + e);
          }
        } else {
          timer = $timeout(sliderFunc, timeout);
        }
      };

      scope.next = function () {
        if (scope.currentIndex < scope.source.length - 1) {
          scope.currentIndex++;
        } else {
          scope.currentIndex = 0;
        }

        changeImage();
      };

      scope.prev = function () {
        if (scope.currentIndex > 0) {
          scope.currentIndex--;
        } else {
          scope.currentIndex = scope.source.length - 1;
        }

        changeImage();
      };

      var timer;

      var sliderFunc = function sliderFunc() {
        if (scope.source.length === 0 || scope.disabled) {
          return;
        }

        scope.next();
      };

      scope.$watch('source', function () {
        scope.currentIndex = -1;
        sliderFunc();
      });

      scope.$watch('disabled', function () {
        scope.currentIndex = -1;
        sliderFunc();
      });

      sliderFunc();

      scope.$on('$destroy', function () {
        $timeout.cancel(timer);
      });
    },
    templateUrl: ShellManager.getPartialUrl('slider')
  };
}]);

//src/js/directives/switch.js

angular.module('SNAP.directives').directive('switch', ['$timeout', 'ShellManager', function ($timeout, ShellManager) {

  return {
    restrict: 'E',
    replace: true,
    scope: {
      disabled: '=?',
      selected: '=?'
    },
    link: function link(scope, elem) {
      scope.disabled = Boolean(scope.disabled);
      scope.selected = Boolean(scope.selected);
      scope.data = {
        disabled: Boolean(scope.disabled),
        selected: Boolean(scope.selected),
        changed: false
      };

      scope.toggle = function () {
        if (scope.disabled) {
          return;
        }

        scope.selected = scope.data.selected = !scope.data.selected;
        scope.data.changed = true;
      };
    },
    templateUrl: ShellManager.getPartialUrl('input-switch')
  };
}]);

//src/js/directives/textinput.js

angular.module('SNAP.directives').directive('textinput', ['$timeout', 'ShellManager', function ($timeout, ShellManager) {

  return {
    restrict: 'E',
    replace: true,
    transclude: true,
    scope: {
      disabled: '=?',
      ngModel: '=',
      placeholder: '@'
    },
    templateUrl: ShellManager.getPartialUrl('input-text')
  };
}]);

//src/js/filters/_base.js

angular.module('SNAP.filters', []);

//src/js/filters/partial.js

angular.module('SNAP.filters').filter('partial', ['ShellManager', function (ShellManager) {
  return function (name) {
    return ShellManager.getPartialUrl(name);
  };
}]);

//src/js/filters/thumbnail.js

angular.module('SNAP.filters').filter('thumbnail', ['ShellManager', function (ShellManager) {
  return function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
}]);

//src/js/filters/trusturl.js

angular.module('SNAP.filters').filter('trustUrl', ['$sce', function ($sce) {
  return function (val) {
    return $sce.trustAsResourceUrl(val);
  };
}]);

//src/js/services.js

angular.module('SNAP.services', ['ngResource', 'SNAP.configs']).factory('FlashStarter', ['Logger', 'SNAPHosts', function (Logger, SNAPHosts) {
  return new app.FlashStarter(Logger, SNAPHosts);
}]).factory('Logger', ['SNAPEnvironment', function (SNAPEnvironment) {
  var loggers = [new app.Log4JsLogger()];

  switch (SNAPEnvironment.platform) {
    case 'desktop':
      loggers.push(new app.ElectronLogger());
      break;
  }

  return new app.CompositeLogger(loggers);
}]).factory('$exceptionHandler', ['Logger', function (Logger) {
  return function (exception, cause) {
    Logger.fatal(exception.stack, cause, exception);
    throw exception;
  };
}])

//Services

.factory('CardReader', ['ManagementService', 'SNAPEnvironment', function (ManagementService, SNAPEnvironment) {
  var reader;

  switch (SNAPEnvironment.platform) {
    case 'mobile':
      reader = new app.CordovaCardReader();
      break;
    default:
      reader = new app.CardReader(ManagementService);
      break;
  }

  window.SnapCardReader = reader;

  return reader;
}]).factory('DtsApi', ['SNAPHosts', 'SessionModel', function (SNAPHosts, SessionModel) {
  return new app.BackendApi(SNAPHosts, SessionModel);
}]).factory('ManagementService', ['SNAPEnvironment', function (SNAPEnvironment) {
  switch (SNAPEnvironment.platform) {
    case 'desktop':
      return new app.ElectronManagementService();
    case 'mobile':
      return new app.CordovaManagementService();
    default:
      return new app.GenericManagementService();
  }
}]).factory('SocketClient', ['SessionModel', 'SNAPHosts', 'Logger', function (SessionModel, SNAPHosts, Logger) {
  return new app.SocketClient(SessionModel, SNAPHosts, Logger);
}]).factory('TelemetryService', ['$resource', function ($resource) {
  return new app.TelemetryService($resource);
}]).factory('WebBrowser', ['AnalyticsModel', 'ManagementService', 'SNAPEnvironment', 'SNAPHosts', function (AnalyticsModel, ManagementService, SNAPEnvironment, SNAPHosts) {
  window.SnapWebBrowser = new app.WebBrowser(AnalyticsModel, ManagementService, SNAPEnvironment, SNAPHosts);
  return window.SnapWebBrowser;
}])

//Models

.factory('AnalyticsModel', ['StorageProvider', 'HeatMap', 'Logger', function (StorageProvider, HeatMap, Logger) {
  return new app.AnalyticsModel(StorageProvider, HeatMap, Logger);
}]).factory('CartModel', function () {
  return new app.CartModel();
}).factory('ChatModel', ['SNAPLocation', 'SNAPEnvironment', 'StorageProvider', function (SNAPLocation, SNAPEnvironment, StorageProvider) {
  return new app.ChatModel(SNAPLocation, SNAPEnvironment, StorageProvider);
}]).factory('CustomerModel', ['SNAPLocation', 'StorageProvider', function (SNAPLocation, StorageProvider) {
  return new app.CustomerModel(SNAPLocation, StorageProvider);
}]).factory('DataModel', ['SNAPLocation', 'DtsApi', 'StorageProvider', function (SNAPLocation, DtsApi, StorageProvider) {
  return new app.DataModel(SNAPLocation, DtsApi, StorageProvider);
}]).factory('HeatMap', function () {
  return new app.HeatMap(document.body);
}).factory('LocationModel', ['DtsApi', 'SNAPEnvironment', 'SNAPLocation', 'StorageProvider', function (DtsApi, SNAPEnvironment, SNAPLocation, StorageProvider) {
  return new app.LocationModel(DtsApi, SNAPEnvironment, SNAPLocation, StorageProvider);
}]).factory('OrderModel', ['StorageProvider', function (StorageProvider) {
  return new app.OrderModel(StorageProvider);
}]).factory('ShellModel', function () {
  return new app.ShellModel();
}).factory('SurveyModel', ['SNAPLocation', 'StorageProvider', function (SNAPLocation, StorageProvider) {
  return new app.SurveyModel(SNAPLocation, StorageProvider);
}]).factory('SessionModel', ['StorageProvider', function (StorageProvider) {
  return new app.SessionModel(StorageProvider);
}]).factory('StorageProvider', ['Logger', 'SNAPEnvironment', function (Logger, SNAPEnvironment) {
  return function (id) {
    switch (SNAPEnvironment.platform) {
      case 'mobile':
        return new app.CordovaLocalStorageStore(id, Logger);
      default:
        return new app.LocalStorageStore(id);
    }
  };
}])

//Managers

.factory('ActivityMonitor', ['$rootScope', '$timeout', 'SNAPEnvironment', function ($rootScope, $timeout, SNAPEnvironment) {
  var monitor = new app.ActivityMonitor($rootScope, $timeout);
  monitor.timeout = 30000;

  if (SNAPEnvironment.debug) {
    monitor.timeout *= 9000;
  }

  return monitor;
}]).factory('AnalyticsManager', ['TelemetryService', 'AnalyticsModel', 'Logger', function (TelemetryService, AnalyticsModel, Logger) {
  return new app.AnalyticsManager(TelemetryService, AnalyticsModel, Logger);
}]).factory('AuthenticationManager', ['DtsApi', 'SessionModel', 'SNAPEnvironment', 'WebBrowser', 'Logger', function (DtsApi, SessionModel, SNAPEnvironment, WebBrowser, Logger) {
  return new app.AuthenticationManager(DtsApi, SessionModel, SNAPEnvironment, WebBrowser, Logger);
}]).factory('CustomerManager', ['DtsApi', 'CustomerModel', 'SessionModel', 'Logger', 'SNAPEnvironment', function (DtsApi, CustomerModel, SessionModel, Logger, SNAPEnvironment) {
  return new app.CustomerManager(DtsApi, CustomerModel, SessionModel, Logger, SNAPEnvironment);
}]).factory('ChatManager', ['AnalyticsModel', 'ChatModel', 'CustomerModel', 'LocationModel', 'SocketClient', 'Logger', function (AnalyticsModel, ChatModel, CustomerModel, LocationModel, SocketClient, Logger) {
  return new app.ChatManager(AnalyticsModel, ChatModel, CustomerModel, LocationModel, SocketClient, Logger);
}]).factory('DataManager', ['DataModel', 'Logger', 'SNAPEnvironment', 'SNAPLocation', function (DataModel, Logger, SNAPEnvironment, SNAPLocation) {
  return new app.DataManager(DataModel, Logger, SNAPEnvironment, SNAPLocation);
}]).factory('DialogManager', ['Logger', function (Logger) {
  return new app.DialogManager(Logger);
}]).factory('LocationManager', ['DataModel', 'DtsApi', 'LocationModel', 'Logger', function (DataModel, DtsApi, LocationModel, Logger) {
  return new app.LocationManager(DataModel, DtsApi, LocationModel, Logger);
}]).factory('NavigationManager', ['$rootScope', '$location', '$window', 'AnalyticsModel', 'Logger', function ($rootScope, $location, $window, AnalyticsModel, Logger) {
  return new app.NavigationManager($rootScope, $location, $window, AnalyticsModel, Logger);
}]).factory('OrderManager', ['ChatModel', 'CustomerModel', 'DtsApi', 'OrderModel', 'Logger', function (ChatModel, CustomerModel, DtsApi, OrderModel, Logger) {
  return new app.OrderManager(ChatModel, CustomerModel, DtsApi, OrderModel, Logger);
}]).factory('SessionManager', ['SNAPEnvironment', 'AnalyticsModel', 'CustomerModel', 'LocationModel', 'OrderModel', 'SurveyModel', 'StorageProvider', 'Logger', function (SNAPEnvironment, AnalyticsModel, CustomerModel, LocationModel, OrderModel, SurveyModel, StorageProvider, Logger) {
  return new app.SessionManager(SNAPEnvironment, AnalyticsModel, CustomerModel, LocationModel, OrderModel, SurveyModel, StorageProvider, Logger);
}]).factory('ShellManager', ['DataModel', 'LocationModel', 'ShellModel', 'SNAPLocation', 'SNAPEnvironment', 'SNAPHosts', 'Logger', function (DataModel, LocationModel, ShellModel, SNAPLocation, SNAPEnvironment, SNAPHosts, Logger) {
  var manager = new app.ShellManager(DataModel, LocationModel, ShellModel, SNAPLocation, SNAPEnvironment, SNAPHosts, Logger);

  DataModel._getMediaUrl = function (media, width, height, extension) {
    return manager.getMediaUrl(media, width, height, extension);
  }; //ToDo: refactor

  return manager;
}]).factory('SocialManager', ['SNAPEnvironment', 'DtsApi', 'WebBrowser', 'Logger', function (SNAPEnvironment, DtsApi, WebBrowser, Logger) {
  return new app.SocialManager(SNAPEnvironment, DtsApi, WebBrowser, Logger);
}]).factory('SoftwareManager', ['SNAPEnvironment', function (SNAPEnvironment) {
  return new app.SoftwareManager(SNAPEnvironment);
}]).factory('SurveyManager', ['DataModel', 'SurveyModel', 'Logger', function (DataModel, SurveyModel, Logger) {
  return new app.SurveyManager(DataModel, SurveyModel, Logger);
}]);

//menu.selected = (location.type === 'menu' && menu.token === location.token);
//# sourceMappingURL=data:application/json;base64,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LEdBQUcsQ0FBQyxlQUFlLENBQUMsZUFBZSxDQUFDLENBQUM7Q0FDakQsQ0FBQyxDQUFDLENBQ0YsT0FBTyxDQUFDLGVBQWUsRUFBRSxDQUFDLFdBQVcsRUFBRSxhQUFhLEVBQUUsUUFBUSxFQUFFLFVBQUMsU0FBUyxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUs7QUFDbkcsU0FBTyxJQUFJLEdBQUcsQ0FBQyxhQUFhLENBQUMsU0FBUyxFQUFFLFdBQVcsRUFBRSxNQUFNLENBQUMsQ0FBQztDQUM5RCxDQUFDLENBQUMsQ0FBQyIsImZpbGUiOiJ0ZW1wL3NuYXAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL3NyYy9qcy9fYmFzZS5qc1xuXG53aW5kb3cuYXBwID0ge307XG5cbnZhciBBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUiA9IDEsXG4gICAgQUxFUlRfUkVRVUVTVF9BU1NJU1RBTkNFX1NFTlQgPSAxMCxcbiAgICBBTEVSVF9SRVFVRVNUX0FTU0lTVEFOQ0VfUkVDRUlWRUQgPSAxMSxcbiAgICBBTEVSVF9SRVFVRVNUX0NMT1NFT1VUX1NFTlQgPSAyMCxcbiAgICBBTEVSVF9SRVFVRVNUX0NMT1NFT1VUX1JFQ0VJVkVEID0gMjEsXG4gICAgQUxFUlRfUkVRVUVTVF9PUkRFUl9TRU5UID0gMzAsXG4gICAgQUxFUlRfUkVRVUVTVF9PUkRFUl9SRUNFSVZFRCA9IDMxLFxuICAgIEFMRVJUX1NJR05JTl9SRVFVSVJFRCA9IDQwLFxuICAgIEFMRVJUX1RBQkxFX1JFU0VUID0gNTAsXG4gICAgQUxFUlRfVEFCTEVfQVNTSVNUQU5DRSA9IDUxLFxuICAgIEFMRVJUX1RBQkxFX0NMT1NFT1VUID0gNTIsXG4gICAgQUxFUlRfR0VORVJJQ19FUlJPUiA9IDEwMCxcbiAgICBBTEVSVF9ERUxFVF9DQVJEID0gMjAwLFxuICAgIEFMRVJUX1BBU1NXT1JEX1JFU0VUX0NPTVBMRVRFID0gMjEwLFxuICAgIEFMRVJUX1NPRlRXQVJFX09VVERBVEVEID0gMjIwLFxuICAgIEFMRVJUX0NBUkRSRUFERVJfRVJST1IgPSAzMTAsXG4gICAgQUxFUlRfRVJST1JfTk9fU0VBVCA9IDQxMCxcbiAgICBBTEVSVF9FUlJPUl9TVEFSVFVQID0gNTEwLFxuICAgIEFMRVJUX0VSUk9SX0NBQ0hFX1VQREFURSA9IDUyMCxcbiAgICBBTEVSVF9XQVJOSU5HX0NBQ0hFX09CU09MRVRFID0gNTIxO1xuXG4vL3NyYy9qcy9zaGFyZWQvZG9tYWluL2FuYWx5dGljc2RhdGEuanNcblxud2luZG93LmFwcC5BbmFseXRpY3NEYXRhID0gY2xhc3MgQW5hbHl0aWNzRGF0YSB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIHN0b3JhZ2VQcm92aWRlciwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlIHx8ICgoKSA9PiBbXSk7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fZGF0YSA9IHRoaXMuX2RlZmF1bHRWYWx1ZSgpO1xuICAgIHRoaXMuX3N0b3JlID0gc3RvcmFnZVByb3ZpZGVyKCdzbmFwX2FuYWx5dGljc18nICsgbmFtZSk7XG4gIH1cblxuICBpbml0aWFsaXplKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gdGhpcy5fc3RvcmUucmVhZCgpLnRoZW4oZGF0YSA9PiBzZWxmLl9kYXRhID0gZGF0YSB8fCBzZWxmLl9kYXRhKTtcbiAgfVxuXG4gIGdldCBuYW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICB9XG5cbiAgZ2V0IGRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gIH1cblxuICBzZXQgZGF0YSh2YWx1ZSkge1xuICAgIHRoaXMuX2RhdGEgPSB2YWx1ZTtcbiAgICB0aGlzLnN0b3JlKCk7XG4gIH1cblxuICBnZXQgbGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhLmxlbmd0aDtcbiAgfVxuXG4gIGdldCBsYXN0KCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhW3RoaXMubGVuZ3RoIC0gMV07XG4gIH1cblxuICBwdXNoKGl0ZW0pIHtcbiAgICB0aGlzLl9kYXRhLnB1c2goaXRlbSk7XG4gICAgdGhpcy5zdG9yZSgpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5fZGF0YSA9IHRoaXMuX2RlZmF1bHRWYWx1ZSgpO1xuICAgIHJldHVybiB0aGlzLnN0b3JlKCk7XG4gIH1cblxuICBzdG9yZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmUud3JpdGUodGhpcy5fZGF0YSk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9kb21haW4vY2FydGl0ZW0uanNcblxud2luZG93LmFwcC5DYXJ0SXRlbSA9IGNsYXNzIENhcnRJdGVtIHtcbiAgY29uc3RydWN0b3IoaXRlbSwgcXVhbnRpdHksIG5hbWUsIG1vZGlmaWVycywgcmVxdWVzdCkge1xuICAgIHRoaXMuaXRlbSA9IGl0ZW07XG4gICAgdGhpcy5xdWFudGl0eSA9IHF1YW50aXR5O1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDtcblxuICAgIGlmICghdGhpcy5oYXNNb2RpZmllcnMpIHtcbiAgICAgIHRoaXMubW9kaWZpZXJzID0gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKCFtb2RpZmllcnMpIHtcbiAgICAgIHRoaXMubW9kaWZpZXJzID0gaXRlbS5tb2RpZmllcnMubWFwKGZ1bmN0aW9uKGNhdGVnb3J5KSB7XG4gICAgICAgIHJldHVybiBuZXcgYXBwLkNhcnRNb2RpZmllckNhdGVnb3J5KGNhdGVnb3J5LCBjYXRlZ29yeS5pdGVtcy5tYXAoZnVuY3Rpb24obW9kaWZpZXIpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IGFwcC5DYXJ0TW9kaWZpZXIobW9kaWZpZXIpO1xuICAgICAgICB9KSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLm1vZGlmaWVycyA9IG1vZGlmaWVycztcbiAgICB9XG4gIH1cblxuICBnZXQgaGFzTW9kaWZpZXJzKCkge1xuICAgIHJldHVybiB0aGlzLml0ZW0ubW9kaWZpZXJzICE9PSBudWxsICYmIHRoaXMuaXRlbS5tb2RpZmllcnMubGVuZ3RoID4gMDtcbiAgfVxuXG4gIGdldCBzZWxlY3RlZE1vZGlmaWVycygpIHtcbiAgICByZXR1cm4gdGhpcy5tb2RpZmllcnMucmVkdWNlKGZ1bmN0aW9uKHByZXZpb3VzQ2F0ZWdvcnksIGNhdGVnb3J5LCBpLCBhcnJheSkge1xuICAgICAgcmV0dXJuIGFycmF5LmNvbmNhdChjYXRlZ29yeS5pdGVtcy5maWx0ZXIoZnVuY3Rpb24obW9kaWZpZXIpIHtcbiAgICAgICAgcmV0dXJuIG1vZGlmaWVyLmlzU2VsZWN0ZWQ7XG4gICAgICB9KSk7XG4gICAgfSwgW10pO1xuICB9XG5cbiAgY2xvbmUoY291bnQpIHtcbiAgICByZXR1cm4gbmV3IGFwcC5DYXJ0SXRlbShcbiAgICAgIHRoaXMuaXRlbSxcbiAgICAgIHRoaXMucXVhbnRpdHksXG4gICAgICB0aGlzLm5hbWUsXG4gICAgICB0aGlzLm1vZGlmaWVycy5tYXAoY2F0ZWdvcnkgPT4gY2F0ZWdvcnkuY2xvbmUoKSksXG4gICAgICB0aGlzLnJlcXVlc3QpO1xuICB9XG5cbiAgY2xvbmVNYW55KGNvdW50KSB7XG4gICAgY291bnQgPSBjb3VudCB8fCB0aGlzLnF1YW50aXR5O1xuICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgcmVzdWx0LnB1c2gobmV3IGFwcC5DYXJ0SXRlbShcbiAgICAgICAgdGhpcy5pdGVtLFxuICAgICAgICAxLFxuICAgICAgICB0aGlzLm5hbWUsXG4gICAgICAgIHRoaXMubW9kaWZpZXJzLm1hcChjYXRlZ29yeSA9PiBjYXRlZ29yeS5jbG9uZSgpKSxcbiAgICAgICAgdGhpcy5yZXF1ZXN0KVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcmVzdG9yZShkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBhcHAuQ2FydEl0ZW0oXG4gICAgICBkYXRhLml0ZW0sXG4gICAgICBkYXRhLnF1YW50aXR5LFxuICAgICAgZGF0YS5uYW1lLFxuICAgICAgZGF0YS5tb2RpZmllcnMubWFwKGFwcC5DYXJ0TW9kaWZpZXJDYXRlZ29yeS5wcm90b3R5cGUucmVzdG9yZSksXG4gICAgICBkYXRhLnJlcXVlc3RcbiAgICApO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvZG9tYWluL2NhcnRtb2RpZmllci5qc1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIENhcnRNb2RpZmllclxuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIHZhciBDYXJ0TW9kaWZpZXIgPSBmdW5jdGlvbihkYXRhLCBpc1NlbGVjdGVkKSB7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLmlzU2VsZWN0ZWQgPSBpc1NlbGVjdGVkIHx8IGZhbHNlO1xuICB9O1xuXG4gIENhcnRNb2RpZmllci5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IGFwcC5DYXJ0TW9kaWZpZXIodGhpcy5kYXRhLCB0aGlzLmlzU2VsZWN0ZWQpO1xuICB9O1xuXG4gIENhcnRNb2RpZmllci5wcm90b3R5cGUucmVzdG9yZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICByZXR1cm4gbmV3IGFwcC5DYXJ0TW9kaWZpZXIoZGF0YS5kYXRhLCBkYXRhLmlzU2VsZWN0ZWQpO1xuICB9O1xuXG4gIHdpbmRvdy5hcHAuQ2FydE1vZGlmaWVyID0gQ2FydE1vZGlmaWVyO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBDYXJ0TW9kaWZpZXJDYXRlZ29yeVxuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIHZhciBDYXJ0TW9kaWZpZXJDYXRlZ29yeSA9IGZ1bmN0aW9uKGRhdGEsIG1vZGlmaWVycykge1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5tb2RpZmllcnMgPSBtb2RpZmllcnM7XG4gIH07XG5cbiAgQ2FydE1vZGlmaWVyQ2F0ZWdvcnkucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG1vZGlmaWVycyA9IHRoaXMubW9kaWZpZXJzLm1hcChmdW5jdGlvbihtb2RpZmllcikge1xuICAgICAgcmV0dXJuIG1vZGlmaWVyLmNsb25lKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBhcHAuQ2FydE1vZGlmaWVyQ2F0ZWdvcnkodGhpcy5kYXRhLCBtb2RpZmllcnMpO1xuICB9O1xuXG4gIENhcnRNb2RpZmllckNhdGVnb3J5LnByb3RvdHlwZS5yZXN0b3JlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIHJldHVybiBuZXcgYXBwLkNhcnRNb2RpZmllckNhdGVnb3J5KGRhdGEuZGF0YSwgZGF0YS5tb2RpZmllcnMubWFwKENhcnRNb2RpZmllci5wcm90b3R5cGUucmVzdG9yZSkpO1xuICB9O1xuXG4gIHdpbmRvdy5hcHAuQ2FydE1vZGlmaWVyQ2F0ZWdvcnkgPSBDYXJ0TW9kaWZpZXJDYXRlZ29yeTtcbn0pKCk7XG5cbi8vc3JjL2pzL3NoYXJlZC9kb21haW4vbWVkaWFraW5kLmpzXG5cbndpbmRvdy5hcHAuTWVkaWFLaW5kID0ge1xuICBhZHZlcnRpc2VtZW50aW1hZ2U6IDEsXG5cbiAgYmFja2dyb3VuZGltYWdlOiAxMSxcbiAgYmFja2dyb3VuZHZpZGVvOiAxMixcblxuICBlbGVtZW50aW1hZ2U6IDIxLFxuXG4gIG1lbnVpbWFnZTogMzEsXG5cbiAgbWVudWNhdGVnb3J5aW1hZ2U6IDQxLFxuXG4gIG1lbnVpdGVtaW1hZ2U6IDUxLFxuICBtZW51aXRlbW1lZGlhOiA1NSxcbiAgbWVudWl0ZW1waG90bzogNTgsXG5cbiAgbW9kaWZpZXJpbWFnZTogNjEsXG5cbiAgcHJvbW9pbWFnZTogODJcbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9kb21haW4vcmVxdWVzdHdhdGNoZXIuanNcblxud2luZG93LmFwcC5SZXF1ZXN0V2F0Y2hlciA9IGNsYXNzIFJlcXVlc3RXYXRjaGVyIHtcbiAgY29uc3RydWN0b3IodGlja2V0LCBEdHNBcGkpIHtcbiAgICB0aGlzLl90b2tlbiA9IHRpY2tldC50b2tlbjtcbiAgICB0aGlzLl9yZW1vdGUgPSBEdHNBcGk7XG5cbiAgICB0aGlzLlBPTExJTkdfSU5URVJWQUwgPSA1MDAwO1xuXG4gICAgdGhpcy5SRVFVRVNUX1NUQVRVU19QRU5ESU5HID0gMTtcbiAgICB0aGlzLlJFUVVFU1RfU1RBVFVTX1JFQ0VJVkVEID0gMjtcbiAgICB0aGlzLlJFUVVFU1RfU1RBVFVTX0FDQ0VQVEVEID0gMztcbiAgICB0aGlzLlJFUVVFU1RfU1RBVFVTX0VYUElSRUQgPSAyNTU7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5fcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNlbGYuX3N0YXR1c1VwZGF0ZVJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgc2VsZi5fc3RhdHVzVXBkYXRlUmVqZWN0ID0gcmVqZWN0O1xuICAgIH0pO1xuXG4gICAgdGhpcy5fdGlja2V0ID0geyBzdGF0dXM6IDAgfTtcbiAgICB0aGlzLl93YXRjaFN0YXR1cygpO1xuICB9XG5cbiAgZ2V0IHRva2VuKCkge1xuICAgIHJldHVybiB0aGlzLl90b2tlbjtcbiAgfVxuXG4gIGdldCB0aWNrZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RpY2tldDtcbiAgfVxuXG4gIGdldCBwcm9taXNlKCkge1xuICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICBpZiAodGhpcy5fdGltZW91dElkKSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXRJZCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3RpY2tldC5zdGF0dXMgPCB0aGlzLlJFUVVFU1RfU1RBVFVTX0FDQ0VQVEVEKSB7XG4gICAgICB0aGlzLl9zdGF0dXNVcGRhdGVSZWplY3QoKTtcbiAgICB9XG4gIH1cblxuICBfd2F0Y2hTdGF0dXMoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgaWYgKHNlbGYuX3RpbWVvdXRJZCkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dChzZWxmLl90aW1lb3V0SWQpO1xuICAgIH1cblxuICAgIHZhciBvblRpbWVvdXQgPSAoKSA9PiB7XG4gICAgICBzZWxmLl9yZW1vdGUud2FpdGVyLmdldFN0YXR1cyhzZWxmLl90b2tlbikudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIHNlbGYuX3NldFRpY2tldChyZXNwb25zZSk7XG4gICAgICAgIHNlbGYuX3dhdGNoU3RhdHVzKCk7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHNlbGYuX3dhdGNoU3RhdHVzKCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgaWYgKHNlbGYuX3RpY2tldC5zdGF0dXMgPT09IHNlbGYuUkVRVUVTVF9TVEFUVVNfQUNDRVBURUQpIHtcbiAgICAgIHNlbGYuX3N0YXR1c1VwZGF0ZVJlc29sdmUoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2VsZi5fdGlja2V0LnN0YXR1cyAhPT0gc2VsZi5SRVFVRVNUX1NUQVRVU19FWFBJUkVEKSB7XG4gICAgICBzZWxmLl90aW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dChvblRpbWVvdXQsIHRoaXMuUE9MTElOR19JTlRFUlZBTCk7XG4gICAgfVxuICB9XG5cbiAgX3NldFRpY2tldCh2YWx1ZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGlmIChzZWxmLl90aWNrZXQuc3RhdHVzID09PSB2YWx1ZS5zdGF0dXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLl90aWNrZXQgPSB2YWx1ZTtcbiAgICBzZWxmLl93YXRjaFN0YXR1cygpO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvZG9tYWluL3dlYmJyb3dzZXJyZWZlcmVuY2UuanNcblxud2luZG93LmFwcC5XZWJCcm93c2VyUmVmZXJlbmNlID0gY2xhc3MgV2ViQnJvd3NlclJlZmVyZW5jZSB7XG4gIGNvbnN0cnVjdG9yKHR5cGUsIGluaXRpYWxVcmwpIHtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuX2luaXRpYWxVcmwgPSB0aGlzLl91cmwgPSBpbml0aWFsVXJsO1xuXG4gICAgdGhpcy5vbk5hdmlnYXRlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMub25FeGl0ID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5cbiAgICB0aGlzLm9uTmF2aWdhdGVkLmFkZCh1cmwgPT4gdGhpcy5fdXJsID0gdXJsKTtcbiAgfVxuXG4gIGF0dGFjaChyZWZlcmVuY2UpIHtcbiAgICBpZiAodGhpcy5fZGlzcG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignV2ViIGJyb3dzZXIgcmVmZXJlbmNlIGlzIGFscmVhZHkgZGlzcG9zZWQuJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3JlZmVyZW5jZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWIgYnJvd3NlciByZWZlcmVuY2UgaXMgYWxyZWFkeSBhdHRhY2hlZC4nKTtcbiAgICB9XG5cbiAgICB0aGlzLl9yZWZlcmVuY2UgPSByZWZlcmVuY2U7XG4gIH1cblxuICBnZXQgdXJsKCkge1xuICAgIHJldHVybiB0aGlzLl91cmw7XG4gIH1cblxuICBuYXZpZ2F0ZSh1cmwpIHtcbiAgICBpZiAodGhpcy5fZGlzcG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignV2ViIGJyb3dzZXIgcmVmZXJlbmNlIGlzIGFscmVhZHkgZGlzcG9zZWQuJyk7XG4gICAgfVxuICB9XG5cbiAgZXhpdCgpIHtcbiAgICBpZiAodGhpcy5fZGlzcG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignV2ViIGJyb3dzZXIgcmVmZXJlbmNlIGlzIGFscmVhZHkgZGlzcG9zZWQuJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fZGlzcG9zZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5vbkV4aXQuZGlzcGF0Y2goKTtcblxuICAgIHRoaXMub25OYXZpZ2F0ZWQuZGlzcG9zZSgpO1xuICAgIHRoaXMub25FeGl0LmRpc3Bvc2UoKTtcbiAgfVxufTtcblxud2luZG93LmFwcC5JZnJhbWVXZWJCcm93c2VyUmVmZXJlbmNlID0gY2xhc3MgSWZyYW1lV2ViQnJvd3NlclJlZmVyZW5jZSBleHRlbmRzIGFwcC5XZWJCcm93c2VyUmVmZXJlbmNlIHtcbiAgY29uc3RydWN0b3IoaW5pdGlhbFVybCkge1xuICAgIHN1cGVyKCdpZnJhbWUnLCBpbml0aWFsVXJsKTtcbiAgfVxuXG4gIGF0dGFjaChyZWZlcmVuY2UpIHtcbiAgICBzdXBlci5hdHRhY2gocmVmZXJlbmNlKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuX29uTG9hZCA9IGZ1bmN0aW9uIG9uTG9hZChlKSB7XG4gICAgICBzZWxmLm9uTmF2aWdhdGVkLmRpc3BhdGNoKHJlZmVyZW5jZS5zcmMpO1xuICAgIH07XG5cbiAgICB0aGlzLl9jaGVja1VybCA9IGZ1bmN0aW9uKCkge1xuICAgICAgbGV0IHVybCA9IHNlbGYuX3JlZmVyZW5jZS5zcmM7XG5cbiAgICAgIGlmIChzZWxmLnVybCAhPT0gdXJsKSB7XG4gICAgICAgIHNlbGYub25OYXZpZ2F0ZWQuZGlzcGF0Y2godXJsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5fcmVmZXJlbmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9vbkxvYWQpO1xuICAgIHRoaXMuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwodGhpcy5fY2hlY2tVcmwsIDEwMDApO1xuXG4gICAgdGhpcy5fcmVmZXJlbmNlLnNyYyA9IHRoaXMuX2luaXRpYWxVcmw7XG4gIH1cblxuICBuYXZpZ2F0ZSh1cmwpIHtcbiAgICBzdXBlci5uYXZpZ2F0ZSh1cmwpO1xuICAgIHRoaXMuX3JlZmVyZW5jZS5zcmMgPSB1cmw7XG4gIH1cblxuICBleGl0KCkge1xuICAgIHN1cGVyLmV4aXQoKTtcblxuICAgIGlmICh0aGlzLl9yZWZlcmVuY2UpIHtcbiAgICAgIHRoaXMuX3JlZmVyZW5jZS5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fb25Mb2FkKTtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWwpO1xuXG4gICAgICB0aGlzLl9yZWZlcmVuY2Uuc3JjID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUFBQUNINUJBRUtBQUVBTEFBQUFBQUJBQUVBQUFJQ1RBRUFPdz09JztcbiAgICB9XG5cbiAgICB0aGlzLl9yZWZlcmVuY2UgPSBudWxsO1xuICB9XG59O1xuXG53aW5kb3cuYXBwLldlYlZpZXdCcm93c2VyUmVmZXJlbmNlID0gY2xhc3MgV2ViVmlld0Jyb3dzZXJSZWZlcmVuY2UgZXh0ZW5kcyBhcHAuV2ViQnJvd3NlclJlZmVyZW5jZSB7XG4gIGNvbnN0cnVjdG9yKGluaXRpYWxVcmwpIHtcbiAgICBzdXBlcignd2VidmlldycsIGluaXRpYWxVcmwpO1xuICB9XG5cbiAgYXR0YWNoKHJlZmVyZW5jZSkge1xuICAgIHN1cGVyLmF0dGFjaChyZWZlcmVuY2UpO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5fb25Mb2FkID0gZnVuY3Rpb24gb25Mb2FkKGUpIHtcbiAgICAgIHNlbGYub25OYXZpZ2F0ZWQuZGlzcGF0Y2goc2VsZi5fcmVmZXJlbmNlLmdldFVybCgpKTtcbiAgICB9O1xuXG4gICAgdGhpcy5fY2hlY2tVcmwgPSBmdW5jdGlvbigpIHtcbiAgICAgIGxldCB1cmwgPSBzZWxmLl9yZWZlcmVuY2UuZ2V0VXJsKCk7XG5cbiAgICAgIGlmIChzZWxmLnVybCAhPT0gdXJsKSB7XG4gICAgICAgIHNlbGYub25OYXZpZ2F0ZWQuZGlzcGF0Y2godXJsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5fcmVmZXJlbmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2RpZC1zdG9wLWxvYWRpbmcnLCB0aGlzLl9vbkxvYWQpO1xuICAgIHRoaXMuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwodGhpcy5fY2hlY2tVcmwsIDEwMDApO1xuXG4gICAgdGhpcy5fcmVmZXJlbmNlLnNyYyA9IHRoaXMuX2luaXRpYWxVcmw7XG4gIH1cblxuICBuYXZpZ2F0ZSh1cmwpIHtcbiAgICBzdXBlci5uYXZpZ2F0ZSh1cmwpO1xuICAgIHRoaXMuX3JlZmVyZW5jZS5zcmMgPSB1cmw7XG4gIH1cblxuICBleGl0KCkge1xuICAgIHN1cGVyLmV4aXQoKTtcblxuICAgIGlmICh0aGlzLl9yZWZlcmVuY2UpIHtcbiAgICAgIHRoaXMuX3JlZmVyZW5jZS5yZW1vdmVFdmVudExpc3RlbmVyKCdkaWQtc3RvcC1sb2FkaW5nJywgdGhpcy5fb25Mb2FkKTtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWwpO1xuXG4gICAgICB0aGlzLl9yZWZlcmVuY2Uuc3JjID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUFBQUNINUJBRUtBQUVBTEFBQUFBQUJBQUVBQUFJQ1RBRUFPdz09JztcbiAgICB9XG5cbiAgICB0aGlzLl9yZWZlcmVuY2UgPSBudWxsO1xuICB9XG59O1xuXG53aW5kb3cuYXBwLkNvcmRvdmFXZWJCcm93c2VyUmVmZXJlbmNlID0gY2xhc3MgQ29yZG92YVdlYkJyb3dzZXJSZWZlcmVuY2UgZXh0ZW5kcyBhcHAuV2ViQnJvd3NlclJlZmVyZW5jZSB7XG4gIGNvbnN0cnVjdG9yKGluaXRpYWxVcmwpIHtcbiAgICBzdXBlcignZXh0ZXJuYWwnLCBpbml0aWFsVXJsKTtcbiAgfVxuXG4gIGF0dGFjaChyZWZlcmVuY2UpIHtcbiAgICAgIHN1cGVyLmF0dGFjaChyZWZlcmVuY2UpO1xuXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGZ1bmN0aW9uIG9uTG9hZFN0YXJ0KGUpIHtcbiAgICAgICAgc2VsZi5vbk5hdmlnYXRlZC5kaXNwYXRjaChlLnVybCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uRXhpdCgpIHtcbiAgICAgICAgc2VsZi5leGl0KCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX29uTG9hZFN0YXJ0ID0gb25Mb2FkU3RhcnQ7XG4gICAgICB0aGlzLl9vbkV4aXQgPSBvbkV4aXQ7XG5cbiAgICAgIHRoaXMuX3JlZmVyZW5jZS5hZGRFdmVudExpc3RlbmVyKCdsb2Fkc3RhcnQnLCB0aGlzLl9vbkxvYWRTdGFydCk7XG4gICAgICB0aGlzLl9yZWZlcmVuY2UuYWRkRXZlbnRMaXN0ZW5lcignZXhpdCcsIHRoaXMuX29uRXhpdCk7XG5cbiAgICAgIHRoaXMub25OYXZpZ2F0ZWQuZGlzcGF0Y2godGhpcy5faW5pdGlhbFVybCk7XG4gIH1cblxuICBuYXZpZ2F0ZSh1cmwpIHtcbiAgICBzdXBlci5uYXZpZ2F0ZSh1cmwpO1xuICAgIHRoaXMuX3JlZmVyZW5jZS5zcmMgPSB1cmw7XG4gIH1cblxuICBleGl0KCkge1xuICAgIHN1cGVyLmV4aXQoKTtcblxuICAgIGlmICh0aGlzLl9yZWZlcmVuY2UpIHtcbiAgICAgIHRoaXMuX3JlZmVyZW5jZS5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2Fkc3RhcnQnLCB0aGlzLl9vbkxvYWRTdGFydCk7XG4gICAgICB0aGlzLl9yZWZlcmVuY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXhpdCcsIHRoaXMuX29uRXhpdCk7XG5cbiAgICAgIHRoaXMuX3JlZmVyZW5jZS5jbG9zZSgpO1xuICAgIH1cblxuICAgIHRoaXMuX3JlZmVyZW5jZSA9IG51bGw7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9hYnN0cmFjdG1hbmFnZXIuanNcblxud2luZG93LmFwcC5BYnN0cmFjdE1hbmFnZXIgPSBjbGFzcyBBYnN0cmFjdE1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcihMb2dnZXIpIHtcbiAgICAgIHRoaXMuX0xvZ2dlciA9IExvZ2dlcjtcbiAgfVxuXG4gIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy5fTG9nZ2VyLmRlYnVnKGBJbml0aWFsaXppbmcgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9Li4uYCk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICBmaW5hbGl6ZSgpIHtcbiAgICB0aGlzLl9Mb2dnZXIuZGVidWcoYFJlc2V0dGluZyAke3RoaXMuY29uc3RydWN0b3IubmFtZX0uLi5gKTtcblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21hbmFnZXJzL2FjdGl2aXR5bW9uaXRvci5qc1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgdmFyIEFjdGl2aXR5TW9uaXRvciA9IGZ1bmN0aW9uKCRyb290U2NvcGUsICR0aW1lb3V0KSB7XG4gICAgdGhpcy4kJHJvb3RTY29wZSA9ICRyb290U2NvcGU7XG4gICAgdGhpcy4kJHRpbWVvdXQgPSAkdGltZW91dDtcbiAgICB0aGlzLl90aW1lb3V0ID0gMTAwMDA7XG5cbiAgICB0aGlzLl9hY3RpdmVDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuJCRyb290U2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoc2VsZi5lbmFibGVkKSB7XG4gICAgICAgIHNlbGYuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hY3Rpdml0eURldGVjdGVkKCk7XG4gIH07XG5cbiAgQWN0aXZpdHlNb25pdG9yLnByb3RvdHlwZSA9IHt9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBY3Rpdml0eU1vbml0b3IucHJvdG90eXBlLCAndGltZW91dCcsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5fdGltZW91dDsgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPiAwKSB7XG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWN0aXZpdHlNb25pdG9yLnByb3RvdHlwZSwgJ2VuYWJsZWQnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX2VuYWJsZWQ7IH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLl9lbmFibGVkID0gdmFsdWU7IH1cbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFjdGl2aXR5TW9uaXRvci5wcm90b3R5cGUsICdhY3RpdmUnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3RpbWVyICE9PSBudWxsOyB9XG4gIH0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBY3Rpdml0eU1vbml0b3IucHJvdG90eXBlLCAnYWN0aXZlQ2hhbmdlZCcsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5fYWN0aXZlQ2hhbmdlZDsgfVxuICB9KTtcblxuICBBY3Rpdml0eU1vbml0b3IucHJvdG90eXBlLmFjdGl2aXR5RGV0ZWN0ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2hhbmdlZDtcblxuICAgIGlmICh0aGlzLl90aW1lcikge1xuICAgICAgdGhpcy4kJHRpbWVvdXQuY2FuY2VsKHRoaXMuX3RpbWVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5fdGltZXIgPT09IG51bGwpIHtcbiAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBvblRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuX3RpbWVyID0gbnVsbDtcblxuICAgICAgc2VsZi4kJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChzZWxmLmVuYWJsZWQpIHtcbiAgICAgICAgICBzZWxmLmFjdGl2ZUNoYW5nZWQuZGlzcGF0Y2goc2VsZi5hY3RpdmUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5fdGltZXIgPSB0aGlzLiQkdGltZW91dChvblRpbWVvdXQsIHRoaXMuX3RpbWVvdXQpO1xuXG4gICAgaWYgKGNoYW5nZWQgJiYgdGhpcy5lbmFibGVkKSB7XG4gICAgICB0aGlzLmFjdGl2ZUNoYW5nZWQuZGlzcGF0Y2godGhpcy5hY3RpdmUpO1xuICAgIH1cbiAgfTtcblxuICB3aW5kb3cuYXBwLkFjdGl2aXR5TW9uaXRvciA9IEFjdGl2aXR5TW9uaXRvcjtcbn0pKCk7XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9hbmFseXRpY3NtYW5hZ2VyLmpzXG5cbndpbmRvdy5hcHAuQW5hbHl0aWNzTWFuYWdlciA9IGNsYXNzIEFuYWx5dGljc01hbmFnZXIgZXh0ZW5kcyBhcHAuQWJzdHJhY3RNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoVGVsZW1ldHJ5U2VydmljZSwgQW5hbHl0aWNzTW9kZWwsIExvZ2dlcikge1xuICAgIHN1cGVyKExvZ2dlcik7XG4gICAgdGhpcy5fVGVsZW1ldHJ5U2VydmljZSA9IFRlbGVtZXRyeVNlcnZpY2U7XG4gICAgdGhpcy5fQW5hbHl0aWNzTW9kZWwgPSBBbmFseXRpY3NNb2RlbDtcbiAgfVxuXG4gIGluaXRpYWxpemUoKSB7XG4gICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuXG4gICAgcmV0dXJuIHRoaXMubW9kZWwuaW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgZ2V0IG1vZGVsKCkge1xuICAgIHJldHVybiB0aGlzLl9BbmFseXRpY3NNb2RlbDtcbiAgfVxuXG4gIGZpbmFsaXplKCkge1xuICAgIHN1cGVyLmZpbmFsaXplKCk7XG5cbiAgICB0aGlzLl9Mb2dnZXIuZGVidWcoYFN1Ym1pdHRpbmcgYW5hbHl0aWNzIGRhdGEgd2l0aCBgICtcbiAgICAgIGAke3RoaXMubW9kZWwuc2Vzc2lvbnMubGVuZ3RofSBzZWF0IHNlc3Npb25zLCBgICtcbiAgICAgIGAke3RoaXMubW9kZWwuYW5zd2Vycy5sZW5ndGh9IGFuc3dlcnMsIGAgK1xuICAgICAgYCR7dGhpcy5tb2RlbC5jaGF0cy5sZW5ndGh9IGNoYXRzLCBgICtcbiAgICAgIGAke3RoaXMubW9kZWwuY29tbWVudHMubGVuZ3RofSBjb21tZW50cywgYCArXG4gICAgICBgJHt0aGlzLm1vZGVsLmNsaWNrcy5sZW5ndGh9IGNsaWNrcywgYCArXG4gICAgICBgJHt0aGlzLm1vZGVsLnBhZ2VzLmxlbmd0aH0gcGFnZXMsIGAgK1xuICAgICAgYCR7dGhpcy5tb2RlbC5hZHZlcnRpc2VtZW50cy5sZW5ndGh9IGFkdmVydGlzZW1lbnRzIGFuZCBgICtcbiAgICAgIGAke3RoaXMubW9kZWwudXJscy5sZW5ndGh9IFVSTHMuYCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fVGVsZW1ldHJ5U2VydmljZS5zdWJtaXRUZWxlbWV0cnkoe1xuICAgICAgICBzZXNzaW9uczogdGhpcy5tb2RlbC5zZXNzaW9ucy5kYXRhLFxuICAgICAgICBhZHZlcnRpc2VtZW50czogdGhpcy5tb2RlbC5hZHZlcnRpc2VtZW50cy5kYXRhLFxuICAgICAgICBhbnN3ZXJzOiB0aGlzLm1vZGVsLmFuc3dlcnMuZGF0YSxcbiAgICAgICAgY2hhdHM6IHRoaXMubW9kZWwuY2hhdHMuZGF0YSxcbiAgICAgICAgY29tbWVudHM6IHRoaXMubW9kZWwuY29tbWVudHMuZGF0YSxcbiAgICAgICAgY2xpY2tzOiB0aGlzLm1vZGVsLmNsaWNrcy5kYXRhLFxuICAgICAgICBwYWdlczogdGhpcy5tb2RlbC5wYWdlcy5kYXRhLFxuICAgICAgICB1cmxzOiB0aGlzLm1vZGVsLnVybHMuZGF0YVxuICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMubW9kZWwucmVzZXQoKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSwgZSA9PiB7XG4gICAgICAgIHRoaXMuX0xvZ2dlci53YXJuKGBVbmFibGUgdG8gc3VibWl0IGFuYWx5dGljcyBkYXRhOiAke2UubWVzc2FnZX1gKTtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9hdXRoZW50aWNhdGlvbm1hbmFnZXIuanNcblxud2luZG93LmFwcC5BdXRoZW50aWNhdGlvbk1hbmFnZXIgPSBjbGFzcyBBdXRoZW50aWNhdGlvbk1hbmFnZXIgZXh0ZW5kcyBhcHAuQWJzdHJhY3RNYW5hZ2VyIHtcbiAgLyogZ2xvYmFsIG1vbWVudCAqL1xuXG4gIGNvbnN0cnVjdG9yKEJhY2tlbmRBcGksIFNlc3Npb25Nb2RlbCwgU05BUEVudmlyb25tZW50LCBXZWJCcm93c2VyLCBMb2dnZXIpIHtcbiAgICBzdXBlcihMb2dnZXIpO1xuXG4gICAgdGhpcy5fQmFja2VuZEFwaSA9IEJhY2tlbmRBcGk7XG4gICAgdGhpcy5fU2Vzc2lvbk1vZGVsID0gU2Vzc2lvbk1vZGVsO1xuICAgIHRoaXMuX1NOQVBFbnZpcm9ubWVudCA9IFNOQVBFbnZpcm9ubWVudDtcbiAgICB0aGlzLl9XZWJCcm93c2VyID0gV2ViQnJvd3NlcjtcbiAgfVxuXG4gIHZhbGlkYXRlKCkge1xuICAgIHZhciBtb2RlbCA9IHRoaXMuX1Nlc3Npb25Nb2RlbDtcblxuICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZygnVmFsaWRhdGluZyBhY2Nlc3MgdG9rZW4uLi4nKTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBtb2RlbC5pbml0aWFsaXplKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHZhciB0b2tlbiA9IG1vZGVsLmFwaVRva2VuO1xuXG4gICAgICAgIGlmICghdG9rZW4gfHwgIXRoaXMuX3ZhbGlkYXRlVG9rZW4odG9rZW4pKSB7XG4gICAgICAgICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdBdXRob3JpemF0aW9uIGlzIG5vdCB2YWxpZC4nKTtcbiAgICAgICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9Mb2dnZXIuZGVidWcoJ1ZhbGlkYXRpbmcgYXV0aG9yaXphdGlvbiBzZXNzaW9uLi4uJyk7XG5cbiAgICAgICAgICB0aGlzLl9CYWNrZW5kQXBpLm9hdXRoMi5nZXRTZXNzaW9uKCkudGhlbihzZXNzaW9uID0+IHtcbiAgICAgICAgICAgIHNlc3Npb24gPSBVUkkoJz8nICsgc2Vzc2lvbikucXVlcnkodHJ1ZSk7IC8vVG9EbzogcmVtb3ZlIHRoaXMgaGFja1xuXG4gICAgICAgICAgICBpZiAoc2Vzc2lvbiAmJiBzZXNzaW9uLnZhbGlkID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdBdXRob3JpemF0aW9uIGlzIHZhbGlkLicsIHNlc3Npb24pO1xuICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZygnQXV0aG9yaXphdGlvbiBpcyBub3QgdmFsaWQgb3IgZXhwaXJlZC4nLCBzZXNzaW9uKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZygnVW5hYmxlIHRvIHZhbGlkYXRlIGF1dGhvcml6YXRpb24uJywgZSk7XG4gICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZSA9PiB7XG4gICAgICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZygnRXJyb3IgdmFsaWRhdGluZyBhdXRob3JpemF0aW9uLicsIGUpO1xuICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBhdXRob3JpemUoKSB7XG4gICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdBdXRob3JpemluZyBBUEkgYWNjZXNzLi4uJyk7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuX1Nlc3Npb25Nb2RlbC5jbGVhcigpLnRoZW4oKCkgPT4ge1xuICAgICAgICB2YXIgYXBwbGljYXRpb24gPSB0aGlzLl9TTkFQRW52aXJvbm1lbnQubWFpbl9hcHBsaWNhdGlvbixcbiAgICAgICAgICAgIGF1dGhVcmwgPSB0aGlzLl9CYWNrZW5kQXBpLm9hdXRoMi5nZXRUb2tlbkF1dGhvcml6ZVVybChhcHBsaWNhdGlvbi5jbGllbnRfaWQsIGFwcGxpY2F0aW9uLmNhbGxiYWNrX3VybCwgYXBwbGljYXRpb24uc2NvcGUpO1xuXG4gICAgICAgIHRoaXMuX1dlYkJyb3dzZXIub3BlbihhdXRoVXJsKS50aGVuKGJyb3dzZXIgPT4ge1xuICAgICAgICAgIHZhciBjb21wbGV0ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgZnVuY3Rpb24gaGFuZGxlQ2FsbGJhY2sodXJsKSB7XG4gICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoYXBwbGljYXRpb24uY2FsbGJhY2tfdXJsKSAhPT0gMCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyb3dzZXIuZXhpdCgpO1xuXG4gICAgICAgICAgICB2YXIgY2FsbGJhY2tSZXNwb25zZSA9IHVybC5zcGxpdCgnIycpWzFdLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlUGFyYW1ldGVycyA9IGNhbGxiYWNrUmVzcG9uc2Uuc3BsaXQoJyYnKSxcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJNYXAgPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZVBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgcGFyYW1ldGVyTWFwW3Jlc3BvbnNlUGFyYW1ldGVyc1tpXS5zcGxpdCgnPScpWzBdXSA9IHJlc3BvbnNlUGFyYW1ldGVyc1tpXS5zcGxpdCgnPScpWzFdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGFyYW1ldGVyTWFwLmFjY2Vzc190b2tlbiAhPT0gdW5kZWZpbmVkICYmIHBhcmFtZXRlck1hcC5hY2Nlc3NfdG9rZW4gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgdmFyIHRva2VuID0ge1xuICAgICAgICAgICAgICAgIGFjY2Vzc190b2tlbjogcGFyYW1ldGVyTWFwLmFjY2Vzc190b2tlbixcbiAgICAgICAgICAgICAgICBleHBpcmVzX2luOiBwYXJhbWV0ZXJNYXAuZXhwaXJlc19pblxuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnTmV3IGFjY2VzcyB0b2tlbiBpc3N1ZWQuJywgdG9rZW4pO1xuXG4gICAgICAgICAgICAgIHNlbGYuX1Nlc3Npb25Nb2RlbC5hcGlUb2tlbiA9IHRva2VuO1xuXG4gICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnUHJvYmxlbSBpc3N1aW5nIG5ldyBhY2Nlc3MgdG9rZW4uJywgcGFyYW1ldGVyTWFwKTtcbiAgICAgICAgICAgIHJlamVjdCgnUHJvYmxlbSBhdXRoZW50aWNhdGluZzogJyArIHVybCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJvd3Nlci5vbk5hdmlnYXRlZC5hZGQodXJsID0+IGhhbmRsZUNhbGxiYWNrKHVybCkpO1xuXG4gICAgICAgICAgYnJvd3Nlci5vbkV4aXQuYWRkKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChjb21wbGV0ZSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlamVjdCgnQ2FuY2VsZWQnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBjdXN0b21lckxvZ2luUmVndWxhcihjcmVkZW50aWFscykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB2YXIgYXBwbGljYXRpb24gPSB0aGlzLl9TTkFQRW52aXJvbm1lbnQuY3VzdG9tZXJfYXBwbGljYXRpb247XG4gICAgICB0aGlzLl9CYWNrZW5kQXBpLm9hdXRoMi5nZXRUb2tlbldpdGhDcmVkZW50aWFscyhcbiAgICAgICAgYXBwbGljYXRpb24uY2xpZW50X2lkLFxuICAgICAgICBjcmVkZW50aWFscy5sb2dpbixcbiAgICAgICAgY3JlZGVudGlhbHMucGFzc3dvcmRcbiAgICAgICkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZWplY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzdWx0KTsgLy9Ub0RvOiBmaXhcblxuICAgICAgICBpZiAocmVzdWx0LmVycm9yIHx8ICFyZXN1bHQuYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChyZXN1bHQuZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlc3Npb24gPSB7XG4gICAgICAgICAgYWNjZXNzX3Rva2VuOiByZXN1bHQuYWNjZXNzX3Rva2VuXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHJlc3VsdC5leHBpcmVzX2luKSB7XG4gICAgICAgICAgc2Vzc2lvbi5leHBpcmVzID0gbW9tZW50KCkuYWRkKHJlc3VsdC5leHBpcmVzX2luLCAnc2Vjb25kcycpLnVuaXgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX1Nlc3Npb25Nb2RlbC5jdXN0b21lclRva2VuID0gc2Vzc2lvbjtcblxuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgY3VzdG9tZXJMb2dpblNvY2lhbCh0b2tlbikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB2YXIgc2Vzc2lvbiA9IHtcbiAgICAgICAgYWNjZXNzX3Rva2VuOiB0b2tlbi5hY2Nlc3NfdG9rZW5cbiAgICAgIH07XG5cbiAgICAgIGlmICh0b2tlbi5leHBpcmVzX2luKSB7XG4gICAgICAgIHNlc3Npb24uZXhwaXJlcyA9IG1vbWVudCgpLmFkZCh0b2tlbi5leHBpcmVzX2luLCAnc2Vjb25kcycpLnVuaXgoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fU2Vzc2lvbk1vZGVsLmN1c3RvbWVyVG9rZW4gPSBzZXNzaW9uO1xuXG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH1cblxuICBfdmFsaWRhdGVUb2tlbih0b2tlbikge1xuICAgIGlmICghdG9rZW4gfHwgIXRva2VuLmFjY2Vzc190b2tlbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRva2VuLmV4cGlyZXMpIHtcbiAgICAgIHZhciBleHBpcmVzID0gbW9tZW50LnVuaXgodG9rZW4uZXhwaXJlcyk7XG5cbiAgICAgIGlmIChleHBpcmVzLmlzQmVmb3JlKG1vbWVudCgpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9jaGF0bWFuYWdlci5qc1xuXG53aW5kb3cuYXBwLkNoYXRNYW5hZ2VyID0gY2xhc3MgQ2hhdE1hbmFnZXIgZXh0ZW5kcyBhcHAuQWJzdHJhY3RNYW5hZ2VyIHtcbiAgLyogZ2xvYmFsIG1vbWVudCwgc2lnbmFscyAqL1xuXG4gIGNvbnN0cnVjdG9yKEFuYWx5dGljc01vZGVsLCBDaGF0TW9kZWwsIEN1c3RvbWVyTW9kZWwsIExvY2F0aW9uTW9kZWwsIFNvY2tldENsaWVudCwgTG9nZ2VyKSB7XG4gICAgc3VwZXIoTG9nZ2VyKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuTUVTU0FHRV9UWVBFUyA9IHtcbiAgICAgIExPQ0FUSU9OOiAnbG9jYXRpb24nLFxuICAgICAgREVWSUNFOiAnZGV2aWNlJ1xuICAgIH07XG4gICAgdGhpcy5NRVNTQUdFX1NUQVRVU0VTID0ge1xuICAgICAgQ0hBVF9SRVFVRVNUOiAnY2hhdF9yZXF1ZXN0JyxcbiAgICAgIENIQVRfUkVRVUVTVF9BQ0NFUFRFRDogJ2NoYXRfcmVxdWVzdF9hY2NlcHRlZCcsXG4gICAgICBDSEFUX1JFUVVFU1RfREVDTElORUQ6ICdjaGF0X3JlcXVlc3RfZGVjbGluZWQnLFxuICAgICAgR0lGVF9SRVFVRVNUOiAnZ2lmdF9yZXF1ZXN0JyxcbiAgICAgIEdJRlRfUkVRVUVTVF9BQ0NFUFRFRDogJ2dpZnRfcmVxdWVzdF9hY2NlcHRlZCcsXG4gICAgICBHSUZUX1JFUVVFU1RfREVDTElORUQ6ICdnaWZ0X3JlcXVlc3RfZGVjbGluZWQnLFxuICAgICAgQ0hBVF9DTE9TRUQ6ICdjaGF0X2Nsb3NlZCdcbiAgICB9O1xuICAgIHRoaXMuT1BFUkFUSU9OUyA9IHtcbiAgICAgIENIQVRfTUVTU0FHRTogJ2NoYXRfbWVzc2FnZScsXG4gICAgICBTVEFUVVNfUkVRVUVTVDogJ3N0YXR1c19yZXF1ZXN0JyxcbiAgICAgIFNUQVRVU19VUERBVEU6ICdzdGF0dXNfdXBkYXRlJ1xuICAgIH07XG4gICAgdGhpcy5ST09NUyA9IHtcbiAgICAgIExPQ0FUSU9OOiAnbG9jYXRpb25fJyxcbiAgICAgIERFVklDRTogJ2RldmljZV8nXG4gICAgfTtcblxuICAgIHRoaXMuX0FuYWx5dGljc01vZGVsID0gQW5hbHl0aWNzTW9kZWw7XG4gICAgdGhpcy5fQ2hhdE1vZGVsID0gQ2hhdE1vZGVsO1xuICAgIHRoaXMuX0N1c3RvbWVyTW9kZWwgPSBDdXN0b21lck1vZGVsO1xuICAgIHRoaXMuX0xvY2F0aW9uTW9kZWwgPSBMb2NhdGlvbk1vZGVsO1xuICAgIHRoaXMuX1NvY2tldENsaWVudCA9IFNvY2tldENsaWVudDtcblxuICAgIHRoaXMuX0NoYXRNb2RlbC5pc0VuYWJsZWRDaGFuZ2VkLmFkZCgoKSA9PiBzZWxmLl9zZW5kU3RhdHVzVXBkYXRlKCkpO1xuICAgIHRoaXMuX0NoYXRNb2RlbC5pc1ByZXNlbnRDaGFuZ2VkLmFkZCgoKSA9PiBzZWxmLl9zZW5kU3RhdHVzVXBkYXRlKCkpO1xuICAgIHRoaXMuX0N1c3RvbWVyTW9kZWwucHJvZmlsZUNoYW5nZWQuYWRkKCgpID0+IHNlbGYuX3NlbmRTdGF0dXNVcGRhdGUoKSk7XG4gICAgdGhpcy5fTG9jYXRpb25Nb2RlbC5zZWF0Q2hhbmdlZC5hZGQoKCkgPT4gc2VsZi5fc2VuZFN0YXR1c1VwZGF0ZSgpKTtcblxuICAgIHRoaXMuX1NvY2tldENsaWVudC5pc0Nvbm5lY3RlZENoYW5nZWQuYWRkKGlzQ29ubmVjdGVkID0+IHtcbiAgICAgIHNlbGYubW9kZWwuaXNDb25uZWN0ZWQgPSBpc0Nvbm5lY3RlZDtcbiAgICAgIHNlbGYuX3NlbmRTdGF0dXNVcGRhdGUoKTtcbiAgICAgIHNlbGYuX3NlbmRTdGF0dXNSZXF1ZXN0KCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9Tb2NrZXRDbGllbnQuc3Vic2NyaWJlKHRoaXMuUk9PTVMuTE9DQVRJT04gKyB0aGlzLl9Mb2NhdGlvbk1vZGVsLmxvY2F0aW9uLnRva2VuLCBtZXNzYWdlID0+IHtcbiAgICAgIHN3aXRjaCAobWVzc2FnZS5vcGVyYXRpb24pIHtcbiAgICAgICAgY2FzZSBzZWxmLk9QRVJBVElPTlMuQ0hBVF9NRVNTQUdFOlxuICAgICAgICAgIHNlbGYuX29uTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBzZWxmLk9QRVJBVElPTlMuU1RBVFVTX1JFUVVFU1Q6XG4gICAgICAgICAgc2VsZi5fb25TdGF0dXNSZXF1ZXN0KG1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHNlbGYuT1BFUkFUSU9OUy5TVEFUVVNfVVBEQVRFOlxuICAgICAgICAgIHNlbGYuX29uU3RhdHVzVXBkYXRlKG1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5fU29ja2V0Q2xpZW50LnN1YnNjcmliZSh0aGlzLlJPT01TLkRFVklDRSArIHRoaXMuX0xvY2F0aW9uTW9kZWwuZGV2aWNlLCBtZXNzYWdlID0+IHtcbiAgICAgIHN3aXRjaCAobWVzc2FnZS5vcGVyYXRpb24pIHtcbiAgICAgICAgY2FzZSBzZWxmLk9QRVJBVElPTlMuQ0hBVF9NRVNTQUdFOlxuICAgICAgICAgIHNlbGYuX29uTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBzZWxmLk9QRVJBVElPTlMuU1RBVFVTX1VQREFURTpcbiAgICAgICAgICBzZWxmLl9vblN0YXR1c1VwZGF0ZShtZXNzYWdlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGdldCBtb2RlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fQ2hhdE1vZGVsO1xuICB9XG5cbiAgZmluYWxpemUoKSB7XG4gICAgc3VwZXIuZmluYWxpemUoKTtcblxuICAgIHRoaXMubW9kZWwucmVzZXQoKTtcblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgTWVzc2FnaW5nXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgbWVzc2FnZS5kZXZpY2UgPSB0aGlzLl9Mb2NhdGlvbk1vZGVsLmRldmljZTtcbiAgICBtZXNzYWdlLm9wZXJhdGlvbiA9IHRoaXMuT1BFUkFUSU9OUy5DSEFUX01FU1NBR0U7XG4gICAgbWVzc2FnZS50eXBlID0gbWVzc2FnZS50b19kZXZpY2UgP1xuICAgICAgdGhpcy5NRVNTQUdFX1RZUEVTLkRFVklDRSA6XG4gICAgICB0aGlzLk1FU1NBR0VfVFlQRVMuTE9DQVRJT047XG5cbiAgICB0aGlzLl9hZGRNZXNzYWdlSUQobWVzc2FnZSk7XG4gICAgdGhpcy5tb2RlbC5hZGRIaXN0b3J5KG1lc3NhZ2UpO1xuXG4gICAgdmFyIHRvcGljID0gdGhpcy5fZ2V0VG9waWMobWVzc2FnZSk7XG5cbiAgICB0aGlzLl9Tb2NrZXRDbGllbnQuc2VuZCh0b3BpYywgbWVzc2FnZSk7XG4gICAgdGhpcy5fQW5hbHl0aWNzTW9kZWwubG9nQ2hhdChtZXNzYWdlKTtcbiAgfVxuXG4gIGFwcHJvdmVEZXZpY2UodG9rZW4pIHtcbiAgICB2YXIgZGV2aWNlID0gdGhpcy5fTG9jYXRpb25Nb2RlbC5nZXREZXZpY2UodG9rZW4pO1xuXG4gICAgdGhpcy5tb2RlbC5zZXRMYXN0UmVhZCh0b2tlbiwgbW9tZW50KCkudW5peCgpKTtcblxuICAgIGlmICh0aGlzLm1vZGVsLmlzUGVuZGluZ0RldmljZShkZXZpY2UpKSB7XG4gICAgICB0aGlzLm1vZGVsLnJlbW92ZVBlbmRpbmdEZXZpY2UoZGV2aWNlKTtcblxuICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XG4gICAgICAgIHN0YXR1czogdGhpcy5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfUkVRVUVTVF9BQ0NFUFRFRCxcbiAgICAgICAgdG9fZGV2aWNlOiBkZXZpY2UudG9rZW5cbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICBzdGF0dXM6IHRoaXMuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX1JFUVVFU1QsXG4gICAgICAgIHRvX2RldmljZTogZGV2aWNlLnRva2VuXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMubW9kZWwuaXNBY3RpdmVEZXZpY2UoZGV2aWNlKSkge1xuICAgICAgdGhpcy5tb2RlbC5hZGRBY3RpdmVEZXZpY2UoZGV2aWNlKTtcbiAgICB9XG4gIH1cblxuICBkZWNsaW5lRGV2aWNlKHRva2VuKSB7XG4gICAgdmFyIGRldmljZSA9IHRoaXMuX0xvY2F0aW9uTW9kZWwuZ2V0RGV2aWNlKHRva2VuKTtcblxuICAgIGlmICh0aGlzLm1vZGVsLmlzQWN0aXZlRGV2aWNlKGRldmljZSkpIHtcbiAgICAgIHRoaXMubW9kZWwucmVtb3ZlQWN0aXZlRGV2aWNlKGRldmljZSk7XG5cbiAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICBzdGF0dXM6IHRoaXMuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX0NMT1NFRCxcbiAgICAgICAgdG9fZGV2aWNlOiBkZXZpY2UudG9rZW5cbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICBzdGF0dXM6IHRoaXMuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX1JFUVVFU1RfREVDTElORUQsXG4gICAgICAgIHRvX2RldmljZTogZGV2aWNlLnRva2VuXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBnZXRNZXNzYWdlTmFtZShtZXNzYWdlKSB7XG4gICAgaWYgKHRoaXMuX0xvY2F0aW9uTW9kZWwuZGV2aWNlID09PSBtZXNzYWdlLmRldmljZSkge1xuICAgICAgcmV0dXJuICdNZSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lc3NhZ2UudXNlcm5hbWUgfHwgdGhpcy5nZXREZXZpY2VOYW1lKG1lc3NhZ2UuZGV2aWNlKTtcbiAgfVxuXG4gIGdldERldmljZU5hbWUodG9rZW4pIHtcbiAgICB2YXIgZGV2aWNlID0gdGhpcy5fTG9jYXRpb25Nb2RlbC5nZXREZXZpY2UodG9rZW4pO1xuXG4gICAgaWYgKGRldmljZSkge1xuICAgICAgaWYgKHRoaXMuX0xvY2F0aW9uTW9kZWwuZGV2aWNlID09PSBkZXZpY2UudG9rZW4pIHtcbiAgICAgICAgcmV0dXJuICdNZSc7XG4gICAgICB9XG5cbiAgICAgIGlmIChkZXZpY2UudXNlcm5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGRldmljZS51c2VybmFtZTtcbiAgICAgIH1cblxuICAgICAgZm9yKHZhciBwIGluIHRoaXMuX0xvY2F0aW9uTW9kZWwuc2VhdHMpIHtcbiAgICAgICAgaWYgKHRoaXMuX0xvY2F0aW9uTW9kZWwuc2VhdHNbcF0udG9rZW4gPT09IGRldmljZS5zZWF0KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX0xvY2F0aW9uTW9kZWwuc2VhdHNbcF0ubmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnR3Vlc3QnO1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBOb3RpZmljYXRpb25zXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBjaGVja0lmVW5yZWFkKGRldmljZV90b2tlbiwgbWVzc2FnZSkge1xuICAgIGxldCBsYXN0UmVhZCA9IHRoaXMubW9kZWwuZ2V0TGFzdFJlYWQoZGV2aWNlX3Rva2VuKTtcblxuICAgIGlmICghbGFzdFJlYWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAobWVzc2FnZSkge1xuICAgICAgcmV0dXJuIG1vbWVudC51bml4KG1lc3NhZ2UucmVjZWl2ZWQpLmlzQWZ0ZXIobW9tZW50LnVuaXgobGFzdFJlYWQpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5nZXRVbnJlYWRDb3VudChkZXZpY2VfdG9rZW4pID4gMDtcbiAgfVxuXG4gIGdldFVucmVhZENvdW50KGRldmljZV90b2tlbikge1xuICAgIGxldCBsYXN0UmVhZCA9IHRoaXMubW9kZWwuZ2V0TGFzdFJlYWQoZGV2aWNlX3Rva2VuKTtcblxuICAgIGlmICghbGFzdFJlYWQpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgZnJvbURhdGUgPSBtb21lbnQudW5peChsYXN0UmVhZCk7XG5cbiAgICByZXR1cm4gdGhpcy5tb2RlbC5oaXN0b3J5XG4gICAgICAuZmlsdGVyKG1lc3NhZ2UgPT4gbWVzc2FnZS50eXBlID09PSBzZWxmLk1FU1NBR0VfVFlQRVMuREVWSUNFICYmIG1lc3NhZ2UuZGV2aWNlID09PSBkZXZpY2VfdG9rZW4pXG4gICAgICAuZmlsdGVyKG1lc3NhZ2UgPT4gbW9tZW50LnVuaXgobWVzc2FnZS5yZWNlaXZlZCkuaXNBZnRlcihmcm9tRGF0ZSkpXG4gICAgICAubGVuZ3RoO1xuICB9XG5cbiAgbWFya0FzUmVhZChkZXZpY2VfdG9rZW4pIHtcbiAgICB0aGlzLm1vZGVsLnNldExhc3RSZWFkKGRldmljZV90b2tlbiwgbW9tZW50KCkudW5peCgpKTtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgR2lmdHNcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIHNlbmRHaWZ0KGl0ZW1zKSB7XG4gICAgaWYgKCF0aGlzLm1vZGVsLmdpZnREZXZpY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNlbmRNZXNzYWdlKHtcbiAgICAgIHN0YXR1czogdGhpcy5NRVNTQUdFX1NUQVRVU0VTLkdJRlRfUkVRVUVTVCxcbiAgICAgIHRvX2RldmljZTogdGhpcy5tb2RlbC5naWZ0RGV2aWNlLFxuICAgICAgdGV4dDogaXRlbXMucmVkdWNlKChyZXN1bHQsIGl0ZW0pID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCAhPT0gJycpIHtcbiAgICAgICAgICByZXN1bHQgKz0gJywgJztcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgKz0gaXRlbS5pdGVtLnRpdGxlO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSwgJycpXG4gICAgfSk7XG4gIH1cblxuICBhY2NlcHRHaWZ0KGRldmljZSkge1xuICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgc3RhdHVzOiB0aGlzLk1FU1NBR0VfU1RBVFVTRVMuR0lGVF9SRVFVRVNUX0FDQ0VQVEVELFxuICAgICAgdG9fZGV2aWNlOiBkZXZpY2UudG9rZW5cbiAgICB9KTtcbiAgfVxuXG4gIGRlY2xpbmVHaWZ0KGRldmljZSkge1xuICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgc3RhdHVzOiB0aGlzLk1FU1NBR0VfU1RBVFVTRVMuR0lGVF9SRVFVRVNUX0RFQ0xJTkVELFxuICAgICAgdG9fZGV2aWNlOiBkZXZpY2UudG9rZW5cbiAgICB9KTtcbiAgfVxuXG4gIHN0YXJ0R2lmdChkZXZpY2VfdG9rZW4pIHtcbiAgICBsZXQgZGV2aWNlID0gdGhpcy5fTG9jYXRpb25Nb2RlbC5nZXREZXZpY2UoZGV2aWNlX3Rva2VuKTtcblxuICAgIHRoaXMubW9kZWwuZ2lmdERldmljZSA9IGRldmljZV90b2tlbjtcbiAgICB0aGlzLm1vZGVsLmdpZnRTZWF0ID0gZGV2aWNlLnNlYXQ7XG4gIH1cblxuICBlbmRHaWZ0KCkge1xuICAgIHRoaXMubW9kZWwuZ2lmdERldmljZSA9IG51bGw7XG4gICAgdGhpcy5tb2RlbC5naWZ0U2VhdCA9IG51bGw7XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHJpdmF0ZSBtZXRob2RzXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgX29uTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgaWYgKCFtZXNzYWdlLmlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubW9kZWwuaGlzdG9yeS5maWx0ZXIobXNnID0+IG1zZy5pZCA9PT0gbWVzc2FnZS5pZCkubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1lc3NhZ2UucmVjZWl2ZWQgPSBtb21lbnQoKS51bml4KCk7XG5cbiAgICB2YXIgZGV2aWNlID0gdGhpcy5fTG9jYXRpb25Nb2RlbC5nZXREZXZpY2UobWVzc2FnZS5kZXZpY2UpLFxuICAgICAgICBnaWZ0RGV2aWNlID0gdGhpcy5tb2RlbC5naWZ0RGV2aWNlLFxuICAgICAgICBzZWF0ID0gdGhpcy5fTG9jYXRpb25Nb2RlbC5zZWF0LnRva2VuO1xuXG4gICAgaWYgKCFkZXZpY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoKG1lc3NhZ2Uuc3RhdHVzID09PSB0aGlzLk1FU1NBR0VfU1RBVFVTRVMuQ0hBVF9SRVFVRVNUKSAmJlxuICAgICAgICAhdGhpcy5tb2RlbC5pc1BlbmRpbmdEZXZpY2UoZGV2aWNlKSAmJlxuICAgICAgICAhdGhpcy5tb2RlbC5pc0FjdGl2ZURldmljZShkZXZpY2UpKSB7XG4gICAgICB0aGlzLm1vZGVsLmFkZFBlbmRpbmdEZXZpY2UoZGV2aWNlKTtcbiAgICAgIHRoaXMubW9kZWwuY2hhdFJlcXVlc3RSZWNlaXZlZC5kaXNwYXRjaChkZXZpY2UudG9rZW4pO1xuICAgIH1cblxuICAgIGlmIChtZXNzYWdlLnN0YXR1cyA9PT0gdGhpcy5NRVNTQUdFX1NUQVRVU0VTLkdJRlRfUkVRVUVTVCAmJlxuICAgICAgICB0aGlzLm1vZGVsLmlzQWN0aXZlRGV2aWNlKGRldmljZSkpIHtcbiAgICAgIHRoaXMubW9kZWwuZ2lmdFJlcXVlc3RSZWNlaXZlZC5kaXNwYXRjaChkZXZpY2UsIG1lc3NhZ2UudGV4dCk7XG4gICAgfVxuXG4gICAgaWYgKG1lc3NhZ2UudG9fZGV2aWNlKSB7XG4gICAgICBpZiAobWVzc2FnZS5zdGF0dXMgPT09IHRoaXMuTUVTU0FHRV9TVEFUVVNFUy5HSUZUX1JFUVVFU1RfQUNDRVBURUQpIHtcbiAgICAgICAgaWYgKGdpZnREZXZpY2UgJiYgZ2lmdERldmljZSA9PT0gbWVzc2FnZS5kZXZpY2UpIHtcbiAgICAgICAgICB0aGlzLm1vZGVsLmdpZnRBY2NlcHRlZC5kaXNwYXRjaCh0cnVlKTtcbiAgICAgICAgICB0aGlzLm1vZGVsLmdpZnREZXZpY2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChtZXNzYWdlLnN0YXR1cyA9PT0gdGhpcy5NRVNTQUdFX1NUQVRVU0VTLkdJRlRfUkVRVUVTVF9ERUNMSU5FRCkge1xuICAgICAgICBpZiAoZ2lmdERldmljZSAmJiBnaWZ0RGV2aWNlID09PSBtZXNzYWdlLmRldmljZSkge1xuICAgICAgICAgIHRoaXMubW9kZWwuZ2lmdEFjY2VwdGVkLmRpc3BhdGNoKGZhbHNlKTtcbiAgICAgICAgICB0aGlzLm1vZGVsLmdpZnREZXZpY2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChtZXNzYWdlLnN0YXR1cyA9PT0gdGhpcy5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfUkVRVUVTVF9ERUNMSU5FRCkge1xuICAgICAgICB0aGlzLmRlY2xpbmVEZXZpY2UoZGV2aWNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobWVzc2FnZS5vcGVyYXRpb24gPT09IHRoaXMuT1BFUkFUSU9OUy5DSEFUX01FU1NBR0UpIHtcbiAgICAgIG1lc3NhZ2UudXNlcm5hbWUgPSB0aGlzLmdldERldmljZU5hbWUoZGV2aWNlKTtcbiAgICAgIHRoaXMubW9kZWwuYWRkSGlzdG9yeShtZXNzYWdlKTtcbiAgICB9XG5cbiAgICB0aGlzLm1vZGVsLm1lc3NhZ2VSZWNlaXZlZC5kaXNwYXRjaChtZXNzYWdlKTtcbiAgfVxuXG4gIF9vblN0YXR1c1JlcXVlc3QobWVzc2FnZSkge1xuICAgIGlmIChtZXNzYWdlLmRldmljZSA9PT0gdGhpcy5fTG9jYXRpb25Nb2RlbC5kZXZpY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zZW5kU3RhdHVzVXBkYXRlKG1lc3NhZ2UuZGV2aWNlKTtcbiAgfVxuXG4gIF9vblN0YXR1c1VwZGF0ZShtZXNzYWdlKSB7XG4gICAgaWYgKG1lc3NhZ2UuZGV2aWNlID09PSB0aGlzLl9Mb2NhdGlvbk1vZGVsLmRldmljZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBkZXZpY2UgPSB0aGlzLl9Mb2NhdGlvbk1vZGVsLmdldERldmljZShtZXNzYWdlLmRldmljZSk7XG5cbiAgICBpZiAoIWRldmljZSkge1xuICAgICAgZGV2aWNlID0ge1xuICAgICAgICB0b2tlbjogbWVzc2FnZS5kZXZpY2UsXG4gICAgICB9O1xuXG4gICAgICB0aGlzLl9Mb2NhdGlvbk1vZGVsLmFkZERldmljZShkZXZpY2UpO1xuICAgIH1cblxuICAgIGlmICghbWVzc2FnZS5pc19hdmFpbGFibGUgJiYgZGV2aWNlLmlzX2F2YWlsYWJsZSkge1xuICAgICAgbGV0IGhpc3RvcnkgPSB7XG4gICAgICAgIG9wZXJhdGlvbjogdGhpcy5PUEVSQVRJT05TLkNIQVRfTUVTU0FHRSxcbiAgICAgICAgdHlwZTogdGhpcy5NRVNTQUdFX1RZUEVTLkRFVklDRSxcbiAgICAgICAgZGV2aWNlOiBkZXZpY2UudG9rZW4sXG4gICAgICAgIHN0YXR1czogdGhpcy5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfQ0xPU0VELFxuICAgICAgICB0b19kZXZpY2U6IHRoaXMuX0xvY2F0aW9uTW9kZWwuZGV2aWNlXG4gICAgICB9O1xuICAgICAgdGhpcy5fYWRkTWVzc2FnZUlEKGhpc3RvcnkpO1xuICAgICAgdGhpcy5tb2RlbC5hZGRIaXN0b3J5KGhpc3RvcnkpO1xuICAgIH1cblxuICAgIGRldmljZS5pc19hdmFpbGFibGUgPSBCb29sZWFuKG1lc3NhZ2UuaXNfYXZhaWxhYmxlKTtcbiAgICBkZXZpY2UuaXNfcHJlc2VudCA9IEJvb2xlYW4obWVzc2FnZS5pc19wcmVzZW50KTtcbiAgICBkZXZpY2Uuc2VhdCA9IG1lc3NhZ2Uuc2VhdDtcbiAgICBkZXZpY2UudXNlcm5hbWUgPSBtZXNzYWdlLnVzZXJuYW1lO1xuXG4gICAgdGhpcy5fTG9jYXRpb25Nb2RlbC5kZXZpY2VzQ2hhbmdlZC5kaXNwYXRjaCh0aGlzLl9Mb2NhdGlvbk1vZGVsLmRldmljZXMpO1xuICB9XG5cbiAgX3NlbmRTdGF0dXNSZXF1ZXN0KCkge1xuICAgIGlmICghdGhpcy5tb2RlbC5pc0Nvbm5lY3RlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBtZXNzYWdlID0ge1xuICAgICAgb3BlcmF0aW9uOiB0aGlzLk9QRVJBVElPTlMuU1RBVFVTX1JFUVVFU1QsXG4gICAgICBkZXZpY2U6IHRoaXMuX0xvY2F0aW9uTW9kZWwuZGV2aWNlXG4gICAgfTtcblxuICAgIHRoaXMuX1NvY2tldENsaWVudC5zZW5kKHRoaXMuX2dldFRvcGljKG1lc3NhZ2UpLCBtZXNzYWdlKTtcbiAgfVxuXG4gIF9zZW5kU3RhdHVzVXBkYXRlKGRldmljZSkge1xuICAgIGlmICghdGhpcy5tb2RlbC5pc0Nvbm5lY3RlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBwcm9maWxlID0gdGhpcy5fQ3VzdG9tZXJNb2RlbC5wcm9maWxlLFxuICAgICAgICB1c2VybmFtZTtcblxuICAgIGlmIChwcm9maWxlICYmIHByb2ZpbGUuZmlyc3RfbmFtZSkge1xuICAgICAgdXNlcm5hbWUgPSBwcm9maWxlLmZpcnN0X25hbWUgKyAnICcgKyBwcm9maWxlLmxhc3RfbmFtZTtcbiAgICB9XG5cbiAgICBsZXQgbWVzc2FnZSA9IHtcbiAgICAgIG9wZXJhdGlvbjogdGhpcy5PUEVSQVRJT05TLlNUQVRVU19VUERBVEUsXG4gICAgICB0b19kZXZpY2U6IGRldmljZSxcbiAgICAgIGRldmljZTogdGhpcy5fTG9jYXRpb25Nb2RlbC5kZXZpY2UsXG4gICAgICBzZWF0OiB0aGlzLl9Mb2NhdGlvbk1vZGVsLnNlYXQudG9rZW4sXG4gICAgICBpc19hdmFpbGFibGU6IHRoaXMubW9kZWwuaXNFbmFibGVkLFxuICAgICAgaXNfcHJlc2VudDogdGhpcy5tb2RlbC5pc1ByZXNlbnQsXG4gICAgICB1c2VybmFtZTogdXNlcm5hbWVcbiAgICB9O1xuXG4gICAgdGhpcy5fU29ja2V0Q2xpZW50LnNlbmQodGhpcy5fZ2V0VG9waWMobWVzc2FnZSksIG1lc3NhZ2UpO1xuICB9XG5cbiAgX2dldFRvcGljKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBtZXNzYWdlLnRvX2RldmljZSA/XG4gICAgICAgIHRoaXMuUk9PTVMuREVWSUNFICsgbWVzc2FnZS50b19kZXZpY2UgOlxuICAgICAgICB0aGlzLlJPT01TLkxPQ0FUSU9OICsgdGhpcy5fTG9jYXRpb25Nb2RlbC5sb2NhdGlvbi50b2tlbjtcbiAgfVxuXG4gIF9hZGRNZXNzYWdlSUQobWVzc2FnZSkge1xuICAgIG1lc3NhZ2UuaWQgPSBtZXNzYWdlLmlkIHx8ICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgYyA9PiB7XG4gICAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkgKiAxNnwwLFxuICAgICAgICAgIHYgPSBjID09PSAneCcgPyByIDogKHImMHgzfDB4OCk7XG4gICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9jdXN0b21lcm1hbmFnZXIuanNcblxud2luZG93LmFwcC5DdXN0b21lck1hbmFnZXIgPSBjbGFzcyBDdXN0b21lck1hbmFnZXIgZXh0ZW5kcyBhcHAuQWJzdHJhY3RNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoRHRzQXBpLCBDdXN0b21lck1vZGVsLCBTZXNzaW9uTW9kZWwsIExvZ2dlciwgU05BUEVudmlyb25tZW50KSB7XG4gICAgc3VwZXIoTG9nZ2VyKTtcblxuICAgIHRoaXMuX0R0c0FwaSA9IER0c0FwaTtcbiAgICB0aGlzLl9DdXN0b21lck1vZGVsID0gQ3VzdG9tZXJNb2RlbDtcbiAgICB0aGlzLl9TZXNzaW9uTW9kZWwgPSBTZXNzaW9uTW9kZWw7XG4gICAgdGhpcy5fY3VzdG9tZXJBcHBJZCA9IFNOQVBFbnZpcm9ubWVudC5jdXN0b21lcl9hcHBsaWNhdGlvbi5jbGllbnRfaWQ7XG4gIH1cblxuICBnZXQgbW9kZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX0N1c3RvbWVyTW9kZWw7XG4gIH1cblxuICBnZXQgY3VzdG9tZXJOYW1lKCkge1xuICAgIGlmICh0aGlzLm1vZGVsLmlzRW5hYmxlZCAmJiB0aGlzLm1vZGVsLmlzQXV0aGVudGljYXRlZCAmJiAhdGhpcy5tb2RlbC5pc0d1ZXN0KSB7XG4gICAgICB2YXIgbmFtZSA9ICcnO1xuXG4gICAgICBpZiAodGhpcy5tb2RlbC5wcm9maWxlLmZpcnN0X25hbWUpIHtcbiAgICAgICAgbmFtZSArPSB0aGlzLm1vZGVsLnByb2ZpbGUuZmlyc3RfbmFtZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMubW9kZWwucHJvZmlsZS5sYXN0X25hbWUpIHtcbiAgICAgICAgbmFtZSArPSAnICcgKyB0aGlzLm1vZGVsLnByb2ZpbGUubGFzdF9uYW1lO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZpbmFsaXplKCkge1xuICAgIHN1cGVyLmZpbmFsaXplKCk7XG5cbiAgICByZXR1cm4gdGhpcy5sb2dvdXQoKTtcbiAgfVxuXG4gIGxvZ291dCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICB0aGlzLl9TZXNzaW9uTW9kZWwuY3VzdG9tZXJUb2tlbiA9IG51bGw7XG4gICAgICB0aGlzLl9DdXN0b21lck1vZGVsLnByb2ZpbGUgPSBudWxsO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgZ3Vlc3RMb2dpbigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICB0aGlzLl9DdXN0b21lck1vZGVsLnByb2ZpbGUgPSAnZ3Vlc3QnO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgbG9naW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xvYWRQcm9maWxlKCk7XG4gIH1cblxuICBsb2dpblNvY2lhbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbG9hZFByb2ZpbGUoKTtcbiAgfVxuXG4gIHNpZ25VcChyZWdpc3RyYXRpb24pIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgcmVnaXN0cmF0aW9uLmNsaWVudF9pZCA9IHRoaXMuX2N1c3RvbWVyQXBwSWQ7XG4gICAgICB0aGlzLl9EdHNBcGkuY3VzdG9tZXIuc2lnblVwKHJlZ2lzdHJhdGlvbikudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMubG9naW4oe1xuICAgICAgICAgIGxvZ2luOiByZWdpc3RyYXRpb24udXNlcm5hbWUsXG4gICAgICAgICAgcGFzc3dvcmQ6IHJlZ2lzdHJhdGlvbi5wYXNzd29yZFxuICAgICAgICB9KS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlUHJvZmlsZShwcm9maWxlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuX0R0c0FwaS5jdXN0b21lci51cGRhdGVQcm9maWxlKHByb2ZpbGUpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLl9DdXN0b21lck1vZGVsLnByb2ZpbGUgPSBwcm9maWxlO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgY2hhbmdlUGFzc3dvcmQocmVxdWVzdCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLl9EdHNBcGkuY3VzdG9tZXIuY2hhbmdlUGFzc3dvcmQocmVxdWVzdCkudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMubG9naW4oe1xuICAgICAgICAgIGxvZ2luOiB0aGlzLl9DdXN0b21lck1vZGVsLmVtYWlsLFxuICAgICAgICAgIHBhc3N3b3JkOiByZXF1ZXN0Lm5ld19wYXNzd29yZFxuICAgICAgICB9KS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgcmVzZXRQYXNzd29yZChyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuX0R0c0FwaS5jdXN0b21lci5yZXNldFBhc3N3b3JkKHJlcXVlc3QpLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgX2xvYWRQcm9maWxlKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLl9EdHNBcGkuY3VzdG9tZXIuZ2V0UHJvZmlsZSgpLnRoZW4ocHJvZmlsZSA9PiB7XG4gICAgICAgIHRoaXMuX0N1c3RvbWVyTW9kZWwucHJvZmlsZSA9IHByb2ZpbGU7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9kYXRhbWFuYWdlci5qc1xuXG53aW5kb3cuYXBwLkRhdGFNYW5hZ2VyID0gY2xhc3MgRGF0YU1hbmFnZXIgZXh0ZW5kcyBhcHAuQWJzdHJhY3RNYW5hZ2VyIHtcbiAgLyogZ2xvYmFsIHNpZ25hbHMgKi9cblxuICBjb25zdHJ1Y3RvcihEYXRhTW9kZWwsIExvZ2dlciwgU05BUEVudmlyb25tZW50LCBTTkFQTG9jYXRpb24pIHtcbiAgICBzdXBlcihMb2dnZXIpO1xuXG4gICAgdGhpcy5fRGF0YU1vZGVsID0gRGF0YU1vZGVsO1xuICAgIHRoaXMuX1NOQVBFbnZpcm9ubWVudCA9IFNOQVBFbnZpcm9ubWVudDtcbiAgICB0aGlzLl9TTkFQTG9jYXRpb24gPSBTTkFQTG9jYXRpb247XG5cbiAgICB0aGlzLmhvbWVDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5tZW51Q2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuY2F0ZWdvcnlDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5pdGVtQ2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgdGhpcy5fQ0FDSEVBQkxFX01FRElBX0tJTkRTID0gW1xuICAgICAgYXBwLk1lZGlhS2luZC5hZHZlcnRpc2VtZW50aW1hZ2UsXG4gICAgICBhcHAuTWVkaWFLaW5kLmJhY2tncm91bmRpbWFnZSxcbiAgICAgIGFwcC5NZWRpYUtpbmQuZWxlbWVudGltYWdlLFxuICAgICAgYXBwLk1lZGlhS2luZC5tZW51aW1hZ2UsXG4gICAgICBhcHAuTWVkaWFLaW5kLm1lbnVjYXRlZ29yeWltYWdlLFxuICAgICAgYXBwLk1lZGlhS2luZC5tZW51aXRlbWltYWdlLFxuICAgICAgYXBwLk1lZGlhS2luZC5tZW51aXRlbXBob3RvLFxuICAgICAgYXBwLk1lZGlhS2luZC5tb2RpZmllcmltYWdlLFxuICAgICAgYXBwLk1lZGlhS2luZC5wcm9tb2ltYWdlXG4gICAgXTtcbiAgfVxuXG4gIGdldCBtb2RlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fRGF0YU1vZGVsO1xuICB9XG5cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICBzdXBlci5pbml0aWFsaXplKCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5tb2RlbC5kaWdlc3QoKS50aGVuKGRpZ2VzdCA9PiB7XG4gICAgICAgIHRoaXMuX2xvYWRDb250ZW50KGRpZ2VzdCwgZmFsc2UpLnRoZW4ocmVzb2x2ZSwgZSA9PiB7XG4gICAgICAgICAgdGhpcy5fTG9nZ2VyLndhcm4oYEVycm9yIGxvYWRpbmcgY2FjaGVkIGNvbnRlbnQ6ICR7ZX1gKTtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSwgZSA9PiB7XG4gICAgICAgIHRoaXMuX0xvZ2dlci53YXJuKGBVbmFibGUgdG8gbG9hZCBjYWNoZWQgY29udGVudCBkaWdlc3QuIEFuIHVwZGF0ZSBpcyByZXF1aXJlZC5gKTtcbiAgICAgICAgcmVzb2x2ZSgnbm9kaWdlc3QnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZmV0Y2hDb250ZW50KCkge1xuICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZygnTG9hZGluZyBhcHBsaWNhdGlvbiBjb250ZW50Li4uJyk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5tb2RlbC5kaWdlc3QodHJ1ZSkudGhlbihkaWdlc3QgPT4ge1xuICAgICAgICB0aGlzLl9sb2FkQ29udGVudChkaWdlc3QsIHRydWUpXG4gICAgICAgICAgLnRoZW4oKCkgPT4gcmVzb2x2ZSgpLCByZWplY3QpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZldGNoTWVkaWEoKSB7XG4gICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdMb2FkaW5nIG1lZGlhIGNvbnRlbnQuLi4nKTtcblxuICAgIHZhciBsYXlvdXQgPSB0aGlzLl9TTkFQTG9jYXRpb24udGhlbWUubGF5b3V0O1xuXG4gICAgcmV0dXJuIHRoaXMubW9kZWwuZGlnZXN0KCkudGhlbihkaWdlc3QgPT4ge1xuICAgICAgdGhpcy5tb2RlbC5hZHZlcnRpc2VtZW50cygpLnRoZW4oYWR2ZXJ0aXNlbWVudHMgPT4ge1xuICAgICAgICB2YXIgYWRzID0ge1xuICAgICAgICAgIG1haW46IGFkdmVydGlzZW1lbnRzLm1haW4ucmVkdWNlKHRoaXMuX3JlZHVjZUFkLCB7fSksXG4gICAgICAgICAgbWlzYzogYWR2ZXJ0aXNlbWVudHMubWlzYy5yZWR1Y2UodGhpcy5fcmVkdWNlQWQsIHt9KVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBtZWRpYXMgPSAoZGlnZXN0Lm1lZGlhIHx8IFtdKVxuICAgICAgICAgIC5maWx0ZXIobWVkaWEgPT4gdGhpcy5fQ0FDSEVBQkxFX01FRElBX0tJTkRTLmluZGV4T2YobWVkaWEua2luZCkgIT09IC0xKVxuICAgICAgICAgIC5tYXAobWVkaWEgPT4ge1xuICAgICAgICAgICAgdmFyIHdpZHRoLCBoZWlnaHQ7XG5cbiAgICAgICAgICAgIHN3aXRjaCAobWVkaWEua2luZCkge1xuICAgICAgICAgICAgICBjYXNlIGFwcC5NZWRpYUtpbmQuYWR2ZXJ0aXNlbWVudGltYWdlOlxuICAgICAgICAgICAgICAgIGlmIChhZHMubWFpblttZWRpYS50b2tlbl0pIHtcbiAgICAgICAgICAgICAgICAgIHdpZHRoID0gOTcwO1xuICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gOTA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFkcy5taXNjW21lZGlhLnRva2VuXSkge1xuICAgICAgICAgICAgICAgICAgd2lkdGggPSAzMDA7XG4gICAgICAgICAgICAgICAgICBoZWlnaHQgPSAyNTA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIGFwcC5NZWRpYUtpbmQuYmFja2dyb3VuZGltYWdlOlxuICAgICAgICAgICAgICAgIHdpZHRoID0gMTkyMDtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSAxMDgwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIGFwcC5NZWRpYUtpbmQuZWxlbWVudGltYWdlOlxuICAgICAgICAgICAgICAgIGlmIChsYXlvdXQgPT09ICdjbGFzc2ljJykge1xuICAgICAgICAgICAgICAgICAgd2lkdGggPSAxNjA7XG4gICAgICAgICAgICAgICAgICBoZWlnaHQgPSAxNjA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxheW91dCA9PT0gJ2dhbGF4aWVzJykge1xuICAgICAgICAgICAgICAgICAgd2lkdGggPSAxMDA7XG4gICAgICAgICAgICAgICAgICBoZWlnaHQgPSAxMDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIGFwcC5NZWRpYUtpbmQubWVudWltYWdlOlxuICAgICAgICAgICAgICAgIGlmIChsYXlvdXQgPT09ICdjbGFzc2ljJykge1xuICAgICAgICAgICAgICAgICAgd2lkdGggPSAxNjA7XG4gICAgICAgICAgICAgICAgICBoZWlnaHQgPSAxNjA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxheW91dCA9PT0gJ2dhbGF4aWVzJykge1xuICAgICAgICAgICAgICAgICAgd2lkdGggPSA0NzA7XG4gICAgICAgICAgICAgICAgICBoZWlnaHQgPSA0MTA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIGFwcC5NZWRpYUtpbmQubWVudWNhdGVnb3J5aW1hZ2U6XG4gICAgICAgICAgICAgIGNhc2UgYXBwLk1lZGlhS2luZC5tZW51aXRlbWltYWdlOlxuICAgICAgICAgICAgICAgIGlmIChsYXlvdXQgPT09ICdjbGFzc2ljJykge1xuICAgICAgICAgICAgICAgICAgd2lkdGggPSAzNzA7XG4gICAgICAgICAgICAgICAgICBoZWlnaHQgPSAzNzA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxheW91dCA9PT0gJ2dhbGF4aWVzJykge1xuICAgICAgICAgICAgICAgICAgd2lkdGggPSA0NzA7XG4gICAgICAgICAgICAgICAgICBoZWlnaHQgPSA0MTA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIGFwcC5NZWRpYUtpbmQubWVudWl0ZW1waG90bzpcbiAgICAgICAgICAgICAgICBpZiAobGF5b3V0ID09PSAnY2xhc3NpYycpIHtcbiAgICAgICAgICAgICAgICAgIHdpZHRoID0gNjAwO1xuICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gNjAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsYXlvdXQgPT09ICdnYWxheGllcycpIHtcbiAgICAgICAgICAgICAgICAgIHdpZHRoID0gNDcwO1xuICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gNDEwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBhcHAuTWVkaWFLaW5kLm1vZGlmaWVyaW1hZ2U6XG4gICAgICAgICAgICAgICAgd2lkdGggPSAxMDA7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gMTAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIGFwcC5NZWRpYUtpbmQucHJvbW9pbWFnZTpcbiAgICAgICAgICAgICAgICBpZiAobGF5b3V0ID09PSAnY2xhc3NpYycpIHtcbiAgICAgICAgICAgICAgICAgIHdpZHRoID0gMTYwO1xuICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gMTYwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWVkaWEud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIG1lZGlhLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgcmV0dXJuIG1lZGlhO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZpbHRlcihtZWRpYSA9PiBtZWRpYS53aWR0aCAmJiBtZWRpYS5oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZyhgRGlnZXN0IGNvbnRhaW5zICR7bWVkaWFzLmxlbmd0aH0gbWVkaWEgZmlsZXMsIHByZWxvYWRpbmcuLi5gKTtcblxuICAgICAgICBsZXQgdGFza3MgPSBtZWRpYXMubWFwKG0gPT4gdGhpcy5tb2RlbC5tZWRpYShtLCB0cnVlKSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh0YXNrcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBob21lKCkgeyByZXR1cm4gdGhpcy5faG9tZTsgfVxuICBzZXQgaG9tZSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9ob21lID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5faG9tZSA9IHZhbHVlO1xuICAgICAgdGhpcy5tb2RlbC5ob21lKCkudGhlbihob21lID0+IHtcbiAgICAgICAgaWYgKHRoaXMuX2hvbWUpIHtcbiAgICAgICAgICBob21lID0gdGhpcy5fZmlsdGVySG9tZShob21lKTtcbiAgICAgICAgICB0aGlzLmhvbWVDaGFuZ2VkLmRpc3BhdGNoKGhvbWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9ob21lID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5ob21lQ2hhbmdlZC5kaXNwYXRjaCh1bmRlZmluZWQpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBtZW51KCkgeyByZXR1cm4gdGhpcy5fbWVudTsgfVxuICBzZXQgbWVudSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9tZW51ID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5fbWVudSA9IHZhbHVlO1xuXG4gICAgICB0aGlzLm1vZGVsLm1lbnUodmFsdWUpLnRoZW4obWVudSA9PiB7XG4gICAgICAgIGlmICh0aGlzLl9tZW51KSB7XG4gICAgICAgICAgbWVudSA9IHRoaXMuX2ZpbHRlck1lbnUobWVudSk7XG4gICAgICAgICAgdGhpcy5tZW51Q2hhbmdlZC5kaXNwYXRjaChtZW51KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fbWVudSA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMubWVudUNoYW5nZWQuZGlzcGF0Y2godW5kZWZpbmVkKTtcbiAgICB9XG4gIH1cblxuICBnZXQgY2F0ZWdvcnkoKSB7IHJldHVybiB0aGlzLl9jYXRlZ29yeTsgfVxuICBzZXQgY2F0ZWdvcnkodmFsdWUpIHtcbiAgICBpZiAodGhpcy5fY2F0ZWdvcnkgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLl9jYXRlZ29yeSA9IHZhbHVlO1xuXG4gICAgICB0aGlzLm1vZGVsLmNhdGVnb3J5KHZhbHVlKS50aGVuKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgaWYgKHRoaXMuX2NhdGVnb3J5KSB7XG4gICAgICAgICAgY2F0ZWdvcnkgPSB0aGlzLl9maWx0ZXJDYXRlZ29yeShjYXRlZ29yeSk7XG4gICAgICAgICAgdGhpcy5jYXRlZ29yeUNoYW5nZWQuZGlzcGF0Y2goY2F0ZWdvcnkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9jYXRlZ29yeSA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuY2F0ZWdvcnlDaGFuZ2VkLmRpc3BhdGNoKHVuZGVmaW5lZCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGl0ZW0oKSB7IHJldHVybiB0aGlzLl9pdGVtOyB9XG4gIHNldCBpdGVtKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX2l0ZW0gPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLl9pdGVtID0gdmFsdWU7XG5cbiAgICAgIHRoaXMubW9kZWwuaXRlbSh2YWx1ZSkudGhlbihpdGVtID0+IHtcbiAgICAgICAgaWYgKHRoaXMuX2l0ZW0pIHtcbiAgICAgICAgICB0aGlzLml0ZW1DaGFuZ2VkLmRpc3BhdGNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9pdGVtID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5pdGVtQ2hhbmdlZC5kaXNwYXRjaCh1bmRlZmluZWQpO1xuICAgIH1cbiAgfVxuXG4gIF9maWx0ZXJIb21lKGRhdGEpIHtcbiAgICBkYXRhLm1lbnVzID0gZGF0YS5tZW51c1xuICAgICAgLmZpbHRlcihtZW51ID0+IHRoaXMuX1NOQVBFbnZpcm9ubWVudC5wbGF0Zm9ybSA9PT0gJ2Rlc2t0b3AnIHx8IG1lbnUudHlwZSAhPT0gMyk7XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIF9maWx0ZXJNZW51KGRhdGEpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIF9maWx0ZXJDYXRlZ29yeShkYXRhKSB7XG4gICAgZGF0YS5pdGVtcyA9IGRhdGEuaXRlbXNcbiAgICAgIC5maWx0ZXIoaXRlbSA9PiB0aGlzLl9TTkFQRW52aXJvbm1lbnQucGxhdGZvcm0gPT09ICdkZXNrdG9wJyB8fCBpdGVtLnR5cGUgIT09IDMpO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBfbG9hZENvbnRlbnQoZGlnZXN0LCBmZXRjaCkge1xuICAgIHZhciBtZW51U2V0cyA9IChkaWdlc3QubWVudV9zZXRzIHx8IFtdKS5tYXAobSA9PiB0aGlzLm1vZGVsLm1lbnUobS50b2tlbiwgZmV0Y2gpKTtcbiAgICB2YXIgbWVudUNhdGVnb3JpZXMgPSAoZGlnZXN0Lm1lbnVfY2F0ZWdvcmllcyB8fCBbXSkubWFwKGMgPT4gdGhpcy5tb2RlbC5jYXRlZ29yeShjLnRva2VuLCBmZXRjaCkpO1xuICAgIHZhciBtZW51SXRlbXMgPSAoZGlnZXN0Lm1lbnVfaXRlbXMgfHwgW10pLm1hcChpID0+IHRoaXMubW9kZWwuaXRlbShpLnRva2VuLCBmZXRjaCkpO1xuXG4gICAgdGhpcy5fTG9nZ2VyLmRlYnVnKGBEaWdlc3QgY29udGFpbnMgJHttZW51U2V0cy5sZW5ndGh9IG1lbnVzLCBgICtcbiAgICAgIGAke21lbnVDYXRlZ29yaWVzLmxlbmd0aH0gY2F0ZWdvcmllcyBhbmQgYCArXG4gICAgICBgJHttZW51SXRlbXMubGVuZ3RofSBpdGVtcywgJHtmZXRjaCA/ICd1cGRhdGluZyBmcm9tIHNlcnZlcicgOiAnbG9hZGluZyBmcm9tIGNhY2hlJ30uLi5gKTtcblxuICAgIHZhciB0YXNrcyA9IFtcbiAgICAgIHRoaXMubW9kZWwuaG9tZShmZXRjaCksXG4gICAgICB0aGlzLm1vZGVsLmFkdmVydGlzZW1lbnRzKGZldGNoKSxcbiAgICAgIHRoaXMubW9kZWwuYmFja2dyb3VuZHMoZmV0Y2gpLFxuICAgICAgdGhpcy5tb2RlbC5lbGVtZW50cyhmZXRjaCksXG4gICAgICB0aGlzLm1vZGVsLnN1cnZleXMoZmV0Y2gpXG4gICAgXVxuICAgICAgLmNvbmNhdChtZW51U2V0cylcbiAgICAgIC5jb25jYXQobWVudUNhdGVnb3JpZXMpXG4gICAgICAuY29uY2F0KG1lbnVJdGVtcyk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwodGFza3MpO1xuICB9XG5cbiAgX3JlZHVjZUFkKHJlc3VsdCwgaXRlbSkge1xuICAgIHJlc3VsdFtpdGVtLnNyY10gPSBpdGVtO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9kaWFsb2dtYW5hZ2VyLmpzXG5cbndpbmRvdy5hcHAuRGlhbG9nTWFuYWdlciA9IGNsYXNzIERpYWxvZ01hbmFnZXIgZXh0ZW5kcyBhcHAuQWJzdHJhY3RNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoTG9nZ2VyKSB7XG4gICAgc3VwZXIoTG9nZ2VyKTtcblxuICAgIHRoaXMuYWxlcnRSZXF1ZXN0ZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLm5vdGlmaWNhdGlvblJlcXVlc3RlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuY29uZmlybVJlcXVlc3RlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuam9iU3RhcnRlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuam9iRW5kZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLl9qb2JzID0gMDtcbiAgfVxuXG4gIGdldCBqb2JzKCkgeyByZXR1cm4gdGhpcy5fam9iczsgfVxuXG4gIGFsZXJ0KG1lc3NhZ2UsIHRpdGxlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZWxmLmFsZXJ0UmVxdWVzdGVkLmRpc3BhdGNoKG1lc3NhZ2UsIHRpdGxlLCByZXNvbHZlLCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgbm90aWZpY2F0aW9uKG1lc3NhZ2UpIHtcbiAgICB0aGlzLm5vdGlmaWNhdGlvblJlcXVlc3RlZC5kaXNwYXRjaChtZXNzYWdlKTtcbiAgfVxuXG4gIGNvbmZpcm0obWVzc2FnZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2VsZi5jb25maXJtUmVxdWVzdGVkLmRpc3BhdGNoKG1lc3NhZ2UsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBzdGFydEpvYigpIHtcbiAgICB0aGlzLl9qb2JzKys7XG5cbiAgICBpZiAodGhpcy5fam9icyA9PT0gMSkge1xuICAgICAgdGhpcy5qb2JTdGFydGVkLmRpc3BhdGNoKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2pvYnM7XG4gIH1cblxuICBlbmRKb2IoaWQpIHtcbiAgICB0aGlzLl9qb2JzLS07XG5cbiAgICBpZiAodGhpcy5fam9icyA9PT0gMCkge1xuICAgICAgdGhpcy5qb2JFbmRlZC5kaXNwYXRjaCgpO1xuICAgIH1cbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21hbmFnZXJzL2xvY2F0aW9ubWFuYWdlci5qc1xuXG53aW5kb3cuYXBwLkxvY2F0aW9uTWFuYWdlciA9IGNsYXNzIExvY2F0aW9uTWFuYWdlciBleHRlbmRzIGFwcC5BYnN0cmFjdE1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcihEYXRhTW9kZWwsIER0c0FwaSwgTG9jYXRpb25Nb2RlbCwgTG9nZ2VyKSB7XG4gICAgc3VwZXIoTG9nZ2VyKTtcblxuICAgIHRoaXMuX0RhdGFNb2RlbCA9IERhdGFNb2RlbDtcbiAgICB0aGlzLl9EdHNBcGkgPSBEdHNBcGk7XG4gICAgdGhpcy5fTG9jYXRpb25Nb2RlbCA9IExvY2F0aW9uTW9kZWw7XG4gIH1cblxuICBnZXQgbW9kZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX0xvY2F0aW9uTW9kZWw7XG4gIH1cblxuICBsb2FkQ29uZmlnKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgbW9kZWwgPSBzZWxmLl9Mb2NhdGlvbk1vZGVsO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGZ1bmN0aW9uIGxvYWRDb25maWcoKSB7XG4gICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnTG9hZGluZyBsb2NhdGlvbiBjb25maWcuLi4nKTtcblxuICAgICAgICBtb2RlbC5mZXRjaCgnbG9jYXRpb24nKS50aGVuKGxvY2F0aW9uID0+IHtcbiAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoYE5ldyAnJHtsb2NhdGlvbi5sb2NhdGlvbl9uYW1lfScgbG9jYXRpb24gY29uZmlnIGxvYWRlZC5gKTtcbiAgICAgICAgICByZXNvbHZlKGxvY2F0aW9uKTtcbiAgICAgICAgfSwgZSA9PiB7XG4gICAgICAgICAgaWYgKCFtb2RlbC5sb2NhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoYEZhbGxiYWNrIHRvIHN0b3JlZCBsb2NhdGlvbiAnJHttb2RlbC5sb2NhdGlvbi5sb2NhdGlvbl9uYW1lfScuYCk7XG4gICAgICAgICAgcmVzb2x2ZShtb2RlbC5sb2NhdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBtb2RlbC5pbml0aWFsaXplKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnTG9hZGluZyBkZXZpY2UgaW5mby4uLicpO1xuXG4gICAgICAgIG1vZGVsLmZldGNoKCdkZXZpY2UnKS50aGVuKGRldmljZSA9PiB7XG4gICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKGBOZXcgZGV2aWNlIGxvYWRlZDogdG9rZW49JHtkZXZpY2UudG9rZW59O2xvY2F0aW9uPSR7ZGV2aWNlLmxvY2F0aW9uX3Rva2VufWApO1xuICAgICAgICAgIGxvYWRDb25maWcoKTtcbiAgICAgICAgfSwgZSA9PiB7XG4gICAgICAgICAgaWYgKCFtb2RlbC5kZXZpY2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKGBGYWxsYmFjayB0byBzdG9yZWQgZGV2aWNlOiB0b2tlbj0ke21vZGVsLmRldmljZS50b2tlbn07bG9jYXRpb249JHttb2RlbC5kZXZpY2UubG9jYXRpb25fdG9rZW59YCk7XG4gICAgICAgICAgbG9hZENvbmZpZygpO1xuICAgICAgICB9KTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBsb2FkU2VhdHMoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBtb2RlbCA9IHNlbGYuX0xvY2F0aW9uTW9kZWw7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgZnVuY3Rpb24gbG9hZFNlYXQoKSB7XG4gICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnTG9hZGluZyBjdXJyZW50IHNlYXQgaW5mby4uLicpO1xuXG4gICAgICAgIG1vZGVsLmZldGNoKCdzZWF0JykudGhlbihzZWF0ID0+IHtcbiAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoYE5ldyBzZWF0IGRhdGEgbG9hZGVkIGZvciAjJHtzZWF0LnRva2VufS5gKTtcbiAgICAgICAgICByZXNvbHZlKHNlYXQpO1xuICAgICAgICB9LCBlID0+IHtcbiAgICAgICAgICBpZiAoIW1vZGVsLnNlYXQpIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKGBGYWxsYmFjayB0byBzdG9yZWQgc2VhdCAjJHttb2RlbC5zZWF0LnRva2VufS5gKTtcbiAgICAgICAgICByZXNvbHZlKG1vZGVsLnNlYXQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgbW9kZWwuaW5pdGlhbGl6ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ0xvYWRpbmcgbG9jYXRpb24gc2VhdHMuLi4nKTtcblxuICAgICAgICBtb2RlbC5mZXRjaCgnc2VhdHMnKS50aGVuKHNlYXRzID0+IHtcbiAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoYExvY2F0aW9uIHNlYXRzIGxvYWRlZCAoJHtzZWF0cy5sZW5ndGh9KS5gKTtcbiAgICAgICAgICBsb2FkU2VhdCgpO1xuICAgICAgICB9LCBlID0+IHtcbiAgICAgICAgICBpZiAoIW1vZGVsLnNlYXRzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZyhgRmFsbGJhY2sgdG8gc3RvcmVkIHNlYXRzICgke21vZGVsLnNlYXRzLmxlbmd0aH0pLmApO1xuICAgICAgICAgIGxvYWRTZWF0KCk7XG4gICAgICAgIH0pO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21hbmFnZXJzL25hdmlnYXRpb25tYW5hZ2VyLmpzXG5cbndpbmRvdy5hcHAuTmF2aWdhdGlvbk1hbmFnZXIgPSBjbGFzcyBOYXZpZ2F0aW9uTWFuYWdlciBleHRlbmRzIGFwcC5BYnN0cmFjdE1hbmFnZXIge1xuICAvKiBnbG9iYWwgc2lnbmFscyAqL1xuXG4gIGNvbnN0cnVjdG9yKCRyb290U2NvcGUsICRsb2NhdGlvbiwgJHdpbmRvdywgQW5hbHl0aWNzTW9kZWwsIExvZ2dlcikge1xuICAgIHN1cGVyKExvZ2dlcik7XG5cbiAgICB0aGlzLiQkbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgdGhpcy4kJHdpbmRvdyA9ICR3aW5kb3c7XG4gICAgdGhpcy5fQW5hbHl0aWNzTW9kZWwgPSBBbmFseXRpY3NNb2RlbDtcblxuICAgIHRoaXMubG9jYXRpb25DaGFuZ2luZyA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMubG9jYXRpb25DaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5cbiAgICAkcm9vdFNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsICgpID0+IHtcbiAgICAgIHZhciBwYXRoID0gdGhpcy4kJGxvY2F0aW9uLnBhdGgoKTtcblxuICAgICAgaWYgKHBhdGggIT09IHRoaXMuX3BhdGgpIHtcbiAgICAgICAgdGhpcy5fcGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuX2xvY2F0aW9uID0gdGhpcy5nZXRMb2NhdGlvbihwYXRoKTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbkNoYW5naW5nLmRpc3BhdGNoKHRoaXMubG9jYXRpb24pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxvY2F0aW9uQ2hhbmdlZC5kaXNwYXRjaCh0aGlzLmxvY2F0aW9uKTtcbiAgICB9KTtcblxuICAgIHRoaXMubG9jYXRpb25DaGFuZ2VkLmFkZChsb2NhdGlvbiA9PiB0aGlzLl9BbmFseXRpY3NNb2RlbC5sb2dOYXZpZ2F0aW9uKGxvY2F0aW9uKSk7XG4gIH1cblxuICBnZXQgcGF0aCgpIHsgcmV0dXJuIHRoaXMuX3BhdGg7IH1cbiAgc2V0IHBhdGgodmFsdWUpIHtcbiAgICB2YXIgaSA9IHZhbHVlLmluZGV4T2YoJyMnKSxcbiAgICAgICAgcGF0aCA9IGkgIT09IC0xID8gdmFsdWUuc3Vic3RyaW5nKGkgKyAxKSA6IHZhbHVlO1xuXG4gICAgdGhpcy5sb2NhdGlvbiA9IHRoaXMuZ2V0TG9jYXRpb24ocGF0aCk7XG4gIH1cblxuICBnZXQgbG9jYXRpb24oKSB7IHJldHVybiB0aGlzLl9sb2NhdGlvbjsgfVxuICBzZXQgbG9jYXRpb24odmFsdWUpIHtcbiAgICBpZiAodGhpcy5fbG9jYXRpb24gPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMubG9jYXRpb24udHlwZSA9PT0gdmFsdWUudHlwZSAmJiB0aGlzLmxvY2F0aW9uLnRva2VuID09PSB2YWx1ZS50b2tlbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2xvY2F0aW9uID0gdmFsdWU7XG4gICAgdGhpcy5sb2NhdGlvbkNoYW5naW5nLmRpc3BhdGNoKHRoaXMubG9jYXRpb24pO1xuXG4gICAgdGhpcy5fcGF0aCA9IHRoaXMuZ2V0UGF0aCh0aGlzLmxvY2F0aW9uKTtcbiAgICB0aGlzLiQkbG9jYXRpb24ucGF0aCh0aGlzLl9wYXRoKTtcbiAgfVxuXG4gIGdldFBhdGgobG9jYXRpb24pIHtcbiAgICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAobG9jYXRpb24udG9rZW4pIHtcbiAgICAgIHJldHVybiAnLycgKyBsb2NhdGlvbi50eXBlICsgJy8nICsgbG9jYXRpb24udG9rZW47XG4gICAgfVxuICAgIGVsc2UgaWYgKGxvY2F0aW9uLnVybCkge1xuICAgICAgcmV0dXJuICcvJyArIGxvY2F0aW9uLnR5cGUgKyAnLycgKyBlbmNvZGVVUklDb21wb25lbnQobG9jYXRpb24udXJsKTtcbiAgICB9XG5cbiAgICBpZiAobG9jYXRpb24udHlwZSA9PT0gJ2hvbWUnKSB7XG4gICAgICByZXR1cm4gJy8nO1xuICAgIH1cblxuICAgIHJldHVybiAnLycgKyBsb2NhdGlvbi50eXBlO1xuICB9XG5cbiAgZ2V0TG9jYXRpb24ocGF0aCkge1xuICAgIHZhciBtYXRjaCA9IC9cXC8oXFx3Kyk/KFxcLyguKykpPy8uZXhlYyhwYXRoKTtcblxuICAgIGlmIChtYXRjaCAmJiBtYXRjaC5sZW5ndGggPiAxKSB7XG4gICAgICB2YXIgdHlwZSA9IG1hdGNoWzFdO1xuICAgICAgdmFyIHBhcmFtID0gbWF0Y2hbM107XG5cbiAgICAgIGlmIChwYXJhbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN3aXRjaCh0eXBlKSB7XG4gICAgICAgICAgY2FzZSAndXJsJzpcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IHR5cGUsIHVybDogZGVjb2RlVVJJQ29tcG9uZW50KHBhcmFtKSB9O1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IHR5cGUsIHRva2VuOiBwYXJhbSB9O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghdHlwZSkge1xuICAgICAgICB0eXBlID0gJ2hvbWUnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyB0eXBlOiB0eXBlIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgZ29CYWNrKCkge1xuICAgIGlmICh0aGlzLmxvY2F0aW9uLnR5cGUgIT09ICdob21lJyAmJiB0aGlzLmxvY2F0aW9uLnR5cGUgIT09ICdzaWduaW4nKSB7XG4gICAgICB0aGlzLiQkd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuICAgIH1cbiAgfVxuXG4gIGdldFF1ZXJ5UGFyYW1ldGVyKG5hbWUpIHtcbiAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKG5hbWUgKyBcIj0oW14mI10qKVwiKSxcbiAgICByZXN1bHRzID0gcmVnZXguZXhlYyh3aW5kb3cubG9jYXRpb24uaGFzaCk7XG4gICAgcmV0dXJuIHJlc3VsdHMgPT09IG51bGwgPyB1bmRlZmluZWQgOiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1sxXS5yZXBsYWNlKC9cXCsvZywgXCIgXCIpKTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21hbmFnZXJzL29yZGVybWFuYWdlci5qc1xuXG53aW5kb3cuYXBwLk9yZGVyTWFuYWdlciA9IGNsYXNzIE9yZGVyTWFuYWdlciBleHRlbmRzIGFwcC5BYnN0cmFjdE1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcihDaGF0TW9kZWwsIEN1c3RvbWVyTW9kZWwsIER0c0FwaSwgT3JkZXJNb2RlbCwgTG9nZ2VyKSB7XG4gICAgc3VwZXIoTG9nZ2VyKTtcblxuICAgIHRoaXMuX0R0c0FwaSA9IER0c0FwaTtcbiAgICB0aGlzLl9DaGF0TW9kZWwgPSBDaGF0TW9kZWw7XG4gICAgdGhpcy5fQ3VzdG9tZXJNb2RlbCA9IEN1c3RvbWVyTW9kZWw7XG4gICAgdGhpcy5fT3JkZXJNb2RlbCA9IE9yZGVyTW9kZWw7XG5cbiAgICB0aGlzLl9DaGF0TW9kZWwuZ2lmdFNlYXRDaGFuZ2VkLmFkZChnaWZ0U2VhdCA9PiB7XG4gICAgICBpZiAodGhpcy5tb2RlbC5vcmRlckNhcnRTdGFzaC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5tb2RlbC5vcmRlckNhcnRTdGFzaCA9IHRoaXMubW9kZWwub3JkZXJDYXJ0O1xuICAgICAgICB0aGlzLm1vZGVsLm9yZGVyQ2FydCA9IFtdO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWdpZnRTZWF0KSB7XG4gICAgICAgIHRoaXMubW9kZWwub3JkZXJDYXJ0ID0gdGhpcy5tb2RlbC5vcmRlckNhcnRTdGFzaDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGdldCBtb2RlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fT3JkZXJNb2RlbDtcbiAgfVxuXG4gIGZpbmFsaXplKCkge1xuICAgIHN1cGVyLmZpbmFsaXplKCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMubW9kZWwuY2xlYXJXYXRjaGVyKHRoaXMubW9kZWwuUkVRVUVTVF9LSU5EX09SREVSKTtcbiAgICAgIHRoaXMubW9kZWwuY2xlYXJXYXRjaGVyKHRoaXMubW9kZWwuUkVRVUVTVF9LSU5EX0FTU0lTVEFOQ0UpO1xuICAgICAgdGhpcy5tb2RlbC5jbGVhcldhdGNoZXIodGhpcy5tb2RlbC5SRVFVRVNUX0tJTkRfQ0xPU0VPVVQpO1xuXG4gICAgICB0aGlzLmNsZWFyQ2FydCgpO1xuICAgICAgdGhpcy5jbGVhckNoZWNrKCk7XG4gICAgICB0aGlzLm1vZGVsLm9yZGVyVGlja2V0ID0ge307XG5cbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgQ2FydCBhbmQgY2hlY2tzXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBhZGRUb0NhcnQoaXRlbSkge1xuICAgIHRoaXMubW9kZWwub3JkZXJDYXJ0LnB1c2goaXRlbSk7XG4gICAgdGhpcy5tb2RlbC5vcmRlckNhcnRDaGFuZ2VkLmRpc3BhdGNoKHRoaXMubW9kZWwub3JkZXJDYXJ0KTtcblxuICAgIGlmICh0aGlzLl9DaGF0TW9kZWwuZ2lmdFNlYXQpIHtcbiAgICAgIHRoaXMuX0NoYXRNb2RlbC5naWZ0UmVhZHkuZGlzcGF0Y2goKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5tb2RlbC5vcmRlckNhcnQ7XG4gIH1cblxuICByZW1vdmVGcm9tQ2FydChpdGVtKSB7XG4gICAgdGhpcy5tb2RlbC5vcmRlckNhcnQgPSB0aGlzLm1vZGVsLm9yZGVyQ2FydC5maWx0ZXIoZW50cnkgPT4gZW50cnkgIT09IGl0ZW0pO1xuICAgIHJldHVybiB0aGlzLm1vZGVsLm9yZGVyQ2FydDtcbiAgfVxuXG4gIGNsZWFyQ2FydCgpIHtcbiAgICB0aGlzLm1vZGVsLm9yZGVyQ2FydCA9IFtdO1xuICAgIHRoaXMubW9kZWwub3JkZXJDYXJ0U3Rhc2ggPSBbXTtcblxuICAgIHRoaXMuX0NoYXRNb2RlbC5naWZ0U2VhdCA9IG51bGw7XG4gIH1cblxuICBjbGVhckNoZWNrKGl0ZW1zKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgaWYgKGl0ZW1zKSB7XG4gICAgICByZXN1bHQgPSB0aGlzLm1vZGVsLm9yZGVyQ2hlY2s7XG5cbiAgICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdFtpXS5yZXF1ZXN0ID09PSBpdGVtLnJlcXVlc3QpIHtcbiAgICAgICAgICAgIHJlc3VsdFtpXS5xdWFudGl0eSAtPSBpdGVtLnF1YW50aXR5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcihpdGVtID0+IGl0ZW0ucXVhbnRpdHkgPiAwKTtcbiAgICB9XG5cbiAgICB0aGlzLm1vZGVsLm9yZGVyQ2hlY2sgPSByZXN1bHQ7XG4gIH1cblxuICBzdWJtaXRDYXJ0KG9wdGlvbnMpIHtcbiAgICBpZiAodGhpcy5tb2RlbC5vcmRlckNhcnQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgMDtcblxuICAgIGlmICh0aGlzLl9DaGF0TW9kZWwuZ2lmdFNlYXQpIHtcbiAgICAgIG9wdGlvbnMgfD0gNDtcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgcmVxdWVzdCA9IHtcbiAgICAgIGtpbmQ6IHRoaXMubW9kZWwuUkVRVUVTVF9LSU5EX09SREVSLFxuICAgICAgaXRlbXM6IHRoaXMubW9kZWwub3JkZXJDYXJ0Lm1hcChlbnRyeSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdG9rZW46IGVudHJ5Lml0ZW0ub3JkZXIudG9rZW4sXG4gICAgICAgICAgcXVhbnRpdHk6IGVudHJ5LnF1YW50aXR5LFxuICAgICAgICAgIG1vZGlmaWVyczogZW50cnkubW9kaWZpZXJzLnJlZHVjZSgocmVzdWx0LCBjYXRlZ29yeSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5jb25jYXQoY2F0ZWdvcnkubW9kaWZpZXJzLnJlZHVjZSgocmVzdWx0LCBtb2RpZmllcikgPT4ge1xuICAgICAgICAgICAgICBpZiAobW9kaWZpZXIuaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG1vZGlmaWVyLmRhdGEudG9rZW4pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9LCBbXSkpO1xuICAgICAgICAgIH0sIFtdKSxcbiAgICAgICAgICBub3RlOiBlbnRyeS5uYW1lIHx8ICcnXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIHRpY2tldF90b2tlbjogc2VsZi5tb2RlbC5vcmRlclRpY2tldC50b2tlbixcbiAgICAgIHNlYXRfdG9rZW46IHNlbGYuX0NoYXRNb2RlbC5naWZ0U2VhdCxcbiAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICB9O1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNlbGYuX0R0c0FwaS53YWl0ZXIucGxhY2VPcmRlcihyZXF1ZXN0KS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLml0ZW1fdG9rZW5zKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5pdGVtX3Rva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc2VsZi5tb2RlbC5vcmRlckNhcnRbaV0ucmVxdWVzdCA9IHJlc3BvbnNlLml0ZW1fdG9rZW5zW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYubW9kZWwub3JkZXJUaWNrZXQgPSB7IHRva2VuOiByZXNwb25zZS50aWNrZXRfdG9rZW4gfTtcblxuICAgICAgICBzZWxmLm1vZGVsLm9yZGVyQ2hlY2sgPSBzZWxmLm1vZGVsLm9yZGVyQ2hlY2suY29uY2F0KHNlbGYubW9kZWwub3JkZXJDYXJ0KTtcbiAgICAgICAgc2VsZi5jbGVhckNhcnQoKTtcblxuICAgICAgICBzZWxmLl9DaGF0TW9kZWwuZ2lmdFNlYXQgPSBudWxsO1xuXG4gICAgICAgIGxldCB3YXRjaGVyID0gc2VsZi5fY3JlYXRlV2F0Y2hlcihzZWxmLm1vZGVsLlJFUVVFU1RfS0lORF9PUkRFUiwgcmVzcG9uc2UpO1xuICAgICAgICByZXNvbHZlKHdhdGNoZXIpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlcXVlc3RDbG9zZW91dCgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHJlcXVlc3QgPSB7XG4gICAgICBraW5kOiB0aGlzLm1vZGVsLlJFUVVFU1RfS0lORF9DTE9TRU9VVCxcbiAgICAgIHRpY2tldF90b2tlbjogdGhpcy5tb2RlbC5vcmRlclRpY2tldC50b2tlbixcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXMuX0R0c0FwaS53YWl0ZXIucGxhY2VSZXF1ZXN0KHJlcXVlc3QpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgc2VsZi5tb2RlbC5vcmRlclRpY2tldCA9IHsgdG9rZW46IHJlc3BvbnNlLnRpY2tldF90b2tlbiB9O1xuICAgICAgcmV0dXJuIHNlbGYuX2NyZWF0ZVdhdGNoZXIoc2VsZi5tb2RlbC5SRVFVRVNUX0tJTkRfQ0xPU0VPVVQsIHJlc3BvbnNlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlcXVlc3RBc3Npc3RhbmNlKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgcmVxdWVzdCA9IHtcbiAgICAgIGtpbmQ6IHRoaXMubW9kZWwuUkVRVUVTVF9LSU5EX0FTU0lTVEFOQ0UsXG4gICAgICB0aWNrZXRfdG9rZW46IHRoaXMubW9kZWwub3JkZXJUaWNrZXQudG9rZW4sXG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLl9EdHNBcGkud2FpdGVyLnBsYWNlUmVxdWVzdChyZXF1ZXN0KS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgIHNlbGYuX3NhdmVUaWNrZXQocmVzcG9uc2UpO1xuICAgICAgcmV0dXJuIHNlbGYuX2NyZWF0ZVdhdGNoZXIoc2VsZi5tb2RlbC5SRVFVRVNUX0tJTkRfQVNTSVNUQU5DRSwgcmVzcG9uc2UpO1xuICAgIH0pO1xuICB9XG5cbiAgY29weUl0ZW1zKGl0ZW1zKSB7XG4gICAgcmV0dXJuIGl0ZW1zLnNsaWNlKDApLm1hcChpdGVtID0+IGl0ZW0uY2xvbmUoKSk7XG4gIH1cblxuICBjYWxjdWxhdGVQcmljZShlbnRyeSkge1xuICAgIHZhciBtb2RpZmllcnMgPSBlbnRyeS5tb2RpZmllcnMucmVkdWNlKCh0b3RhbCwgY2F0ZWdvcnkpID0+IHtcbiAgICAgIHJldHVybiB0b3RhbCArIGNhdGVnb3J5Lm1vZGlmaWVycy5yZWR1Y2UoKHRvdGFsLCBtb2RpZmllcikgPT4ge1xuICAgICAgICByZXR1cm4gdG90YWwgKyAobW9kaWZpZXIuaXNTZWxlY3RlZCAmJiBtb2RpZmllci5kYXRhLnByaWNlID4gMCA/XG4gICAgICAgICAgbW9kaWZpZXIuZGF0YS5wcmljZSA6XG4gICAgICAgICAgMFxuICAgICAgICApO1xuICAgICAgfSwgMCk7XG4gICAgfSwgMCk7XG5cbiAgICByZXR1cm4gZW50cnkucXVhbnRpdHkgKiAobW9kaWZpZXJzICsgZW50cnkuaXRlbS5vcmRlci5wcmljZSk7XG4gIH1cblxuICBjYWxjdWxhdGVUb3RhbFByaWNlKGVudHJpZXMpIHtcbiAgICByZXR1cm4gKGVudHJpZXMgPyBlbnRyaWVzLnJlZHVjZSgodG90YWwsIGVudHJ5KSA9PiB7XG4gICAgICByZXR1cm4gdG90YWwgKyBPcmRlck1hbmFnZXIucHJvdG90eXBlLmNhbGN1bGF0ZVByaWNlKGVudHJ5KTtcbiAgICB9LCAwKSA6IDApO1xuICB9XG5cbiAgY2FsY3VsYXRlVGF4KGVudHJpZXMpIHtcbiAgICByZXR1cm4gdGhpcy5jYWxjdWxhdGVUb3RhbFByaWNlKGVudHJpZXMpICogdGhpcy5tb2RlbC50YXg7XG4gIH1cblxuICB1cGxvYWRTaWduYXR1cmUoZGF0YSkge1xuICAgIHJldHVybiB0aGlzLl9EdHNBcGkudXBsb2FkLnVwbG9hZFRlbXAoZGF0YSwgJ2ltYWdlL3BuZycsICdzaWduYXR1cmUucG5nJylcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLnRva2VuKTtcbiAgfVxuXG4gIGdlbmVyYXRlUGF5bWVudFRva2VuKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy5fQ3VzdG9tZXJNb2RlbC5pc0F1dGhlbnRpY2F0ZWQgJiYgIXRoaXMuX0N1c3RvbWVyTW9kZWwuaXNHdWVzdCkge1xuICAgICAgICB0aGlzLl9EdHNBcGkuY3VzdG9tZXIuaW5pdGlhbGl6ZVBheW1lbnQoKS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlLnRva2VuKTtcbiAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9EdHNBcGkud2FpdGVyLmluaXRpYWxpemVQYXltZW50KCkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShyZXNwb25zZS50b2tlbik7XG4gICAgICAgIH0sIHJlamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwYXlPcmRlcihyZXF1ZXN0KSB7XG4gICAgcmVxdWVzdC50aWNrZXRfdG9rZW4gPSB0aGlzLm1vZGVsLm9yZGVyVGlja2V0LnRva2VuO1xuICAgIHJldHVybiB0aGlzLl9EdHNBcGkud2FpdGVyLnN1Ym1pdENoZWNrb3V0UGF5bWVudChyZXF1ZXN0KTtcbiAgfVxuXG4gIHJlcXVlc3RSZWNlaXB0KHJlcXVlc3QpIHtcbiAgICByZXF1ZXN0LnRpY2tldF90b2tlbiA9IHRoaXMubW9kZWwub3JkZXJUaWNrZXQudG9rZW47XG4gICAgcmV0dXJuIHRoaXMuX0R0c0FwaS53YWl0ZXIucmVxdWVzdFJlY2VpcHQocmVxdWVzdCk7XG4gIH1cblxuICBfc2F2ZVRpY2tldChyZXNwb25zZSkge1xuICAgIHRoaXMubW9kZWwub3JkZXJUaWNrZXQgPSB7XG4gICAgICB0b2tlbjogcmVzcG9uc2UudGlja2V0X3Rva2VuXG4gICAgfTtcbiAgfVxuXG4gIF9jcmVhdGVXYXRjaGVyKGtpbmQsIHRpY2tldCkge1xuICAgIGxldCB3YXRjaGVyID0gbmV3IGFwcC5SZXF1ZXN0V2F0Y2hlcih0aWNrZXQsIHRoaXMuX0R0c0FwaSk7XG4gICAgdGhpcy5tb2RlbC5hZGRXYXRjaGVyKGtpbmQsIHdhdGNoZXIpO1xuXG4gICAgcmV0dXJuIHdhdGNoZXI7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9zZXNzaW9ubWFuYWdlci5qc1xuXG53aW5kb3cuYXBwLlNlc3Npb25NYW5hZ2VyID0gY2xhc3MgU2Vzc2lvbk1hbmFnZXIgZXh0ZW5kcyBhcHAuQWJzdHJhY3RNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoU05BUEVudmlyb25tZW50LCBBbmFseXRpY3NNb2RlbCwgQ3VzdG9tZXJNb2RlbCwgTG9jYXRpb25Nb2RlbCwgT3JkZXJNb2RlbCwgU3VydmV5TW9kZWwsIHN0b3JhZ2VQcm92aWRlciwgTG9nZ2VyKSB7XG4gICAgc3VwZXIoTG9nZ2VyKTtcblxuICAgIHRoaXMuc2Vzc2lvblN0YXJ0ZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLnNlc3Npb25FbmRlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgdGhpcy5fU05BUEVudmlyb25tZW50ID0gU05BUEVudmlyb25tZW50O1xuICAgIHRoaXMuX0FuYWx5dGljc01vZGVsID0gQW5hbHl0aWNzTW9kZWw7XG4gICAgdGhpcy5fQ3VzdG9tZXJNb2RlbCA9IEN1c3RvbWVyTW9kZWw7XG4gICAgdGhpcy5fTG9jYXRpb25Nb2RlbCA9IExvY2F0aW9uTW9kZWw7XG4gICAgdGhpcy5fT3JkZXJNb2RlbCA9IE9yZGVyTW9kZWw7XG4gICAgdGhpcy5fU3VydmV5TW9kZWwgPSBTdXJ2ZXlNb2RlbDtcblxuICAgIHRoaXMuX3N0b3JlID0gc3RvcmFnZVByb3ZpZGVyKCdzbmFwX3NlYXRfc2Vzc2lvbicpO1xuXG4gICAgdGhpcy5fQ3VzdG9tZXJNb2RlbC5wcm9maWxlQ2hhbmdlZC5hZGQoY3VzdG9tZXIgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9zZXNzaW9uIHx8ICFjdXN0b21lcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3Nlc3Npb24uY3VzdG9tZXIgPSBjdXN0b21lci50b2tlbjtcbiAgICAgIHRoaXMuX3N0b3JlLndyaXRlKHRoaXMuX3Nlc3Npb24pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fTG9jYXRpb25Nb2RlbC5zZWF0Q2hhbmdlZC5hZGQoc2VhdCA9PiB7XG4gICAgICBpZiAoIXRoaXMuX3Nlc3Npb24gfHwgIXNlYXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9zZXNzaW9uLnNlYXQgPSBzZWF0LnRva2VuO1xuICAgICAgdGhpcy5fc3RvcmUud3JpdGUodGhpcy5fc2Vzc2lvbik7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9PcmRlck1vZGVsLm9yZGVyVGlja2V0Q2hhbmdlZC5hZGQodGlja2V0ID0+IHtcbiAgICAgIGlmICghc2VsZi5fc2Vzc2lvbiB8fCAhdGlja2V0IHx8ICF0aWNrZXQudG9rZW4pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9zZXNzaW9uLnRpY2tldCA9IHRpY2tldC50b2tlbjtcbiAgICAgIHRoaXMuX3N0b3JlLndyaXRlKHRoaXMuX3Nlc3Npb24pO1xuICAgIH0pO1xuICB9XG5cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICBzdXBlci5pbml0aWFsaXplKCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fc3RvcmUucmVhZCgpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIHRoaXMuX3Nlc3Npb24gPSBkYXRhO1xuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIHRoaXMuX3N0YXJ0U2Vzc2lvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZpbmFsaXplKCkge1xuICAgIHN1cGVyLmZpbmFsaXplKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fc3RvcmUuY2xlYXIoKTtcbiAgfVxuXG4gIGdldCBzZXNzaW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9zZXNzaW9uO1xuICB9XG5cbiAgZW5kU2Vzc2lvbigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fc3RvcmUucmVhZCgpLnRoZW4ocyA9PiB7XG4gICAgICAgIHRoaXMuX3Nlc3Npb24gPSBudWxsO1xuXG4gICAgICAgIGlmIChzKSB7XG4gICAgICAgICAgdGhpcy5fTG9nZ2VyLmRlYnVnKGBTZWF0IHNlc3Npb24gJHtzLmlkfSBlbmRlZC5gKTtcblxuICAgICAgICAgIHMuZW5kZWQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIHRoaXMuX0FuYWx5dGljc01vZGVsLmxvZ1Nlc3Npb24ocyk7XG4gICAgICAgICAgdGhpcy5zZXNzaW9uRW5kZWQuZGlzcGF0Y2gocyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdG9yZS5jbGVhcigpLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXQgZ3Vlc3RDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2Vzc2lvbi5ndWVzdF9jb3VudCB8fCAxO1xuICB9XG5cbiAgc2V0IGd1ZXN0Q291bnQodmFsdWUpIHtcbiAgICBpZiAodGhpcy5fc2Vzc2lvbi5ndWVzdF9jb3VudCA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXNzaW9uLmd1ZXN0X2NvdW50ID0gdmFsdWU7XG4gICAgdGhpcy5fc3RvcmUud3JpdGUodGhpcy5fc2Vzc2lvbik7XG4gIH1cblxuICBnZXQgc3BlY2lhbEV2ZW50KCkge1xuICAgIHJldHVybiB0aGlzLl9zZXNzaW9uLnNwZWNpYWxfZXZlbnQ7XG4gIH1cblxuICBzZXQgc3BlY2lhbEV2ZW50KHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX3Nlc3Npb24uc3BlY2lhbF9ldmVudCA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXNzaW9uLnNwZWNpYWxfZXZlbnQgPSB2YWx1ZTtcbiAgICB0aGlzLl9zdG9yZS53cml0ZSh0aGlzLl9zZXNzaW9uKTtcbiAgfVxuXG4gIF9zdGFydFNlc3Npb24oKSB7XG4gICAgbGV0IHNlYXQgPSB0aGlzLl9Mb2NhdGlvbk1vZGVsLnNlYXQ7XG5cbiAgICB0aGlzLl9zZXNzaW9uID0ge1xuICAgICAgaWQ6IHRoaXMuX2dlbmVyYXRlSUQoKSxcbiAgICAgIHNlYXQ6IHNlYXQgPyBzZWF0LnRva2VuIDogdW5kZWZpbmVkLFxuICAgICAgcGxhdGZvcm06IHRoaXMuX1NOQVBFbnZpcm9ubWVudC5wbGF0Zm9ybSxcbiAgICAgIHN0YXJ0ZWQ6IG5ldyBEYXRlKClcbiAgICB9O1xuXG4gICAgdGhpcy5fTG9nZ2VyLmRlYnVnKGBTZWF0IHNlc3Npb24gJHt0aGlzLl9zZXNzaW9uLmlkfSBzdGFydGVkLmApO1xuXG4gICAgdGhpcy5fc3RvcmUud3JpdGUodGhpcy5fc2Vzc2lvbik7XG4gICAgdGhpcy5zZXNzaW9uU3RhcnRlZC5kaXNwYXRjaCh0aGlzLl9zZXNzaW9uKTtcbiAgfVxuXG4gIF9nZW5lcmF0ZUlEKCl7XG4gICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgYyA9PiB7XG4gICAgICBsZXQgciA9IE1hdGgucmFuZG9tKCkqMTZ8MCwgdiA9IGMgPT09ICd4JyA/IHIgOiAociYweDN8MHg4KTtcbiAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICB9KTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21hbmFnZXJzL3NoZWxsbWFuYWdlci5qc1xuXG53aW5kb3cuYXBwLlNoZWxsTWFuYWdlciA9IGNsYXNzIFNoZWxsTWFuYWdlciBleHRlbmRzIGFwcC5BYnN0cmFjdE1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcihEYXRhTW9kZWwsIExvY2F0aW9uTW9kZWwsIFNoZWxsTW9kZWwsIFNOQVBMb2NhdGlvbiwgRW52aXJvbm1lbnQsIEhvc3RzLCBMb2dnZXIpIHtcbiAgICBzdXBlcihMb2dnZXIpO1xuXG4gICAgdGhpcy5fRGF0YU1vZGVsID0gRGF0YU1vZGVsO1xuICAgIHRoaXMuX0xvY2F0aW9uTW9kZWwgPSBMb2NhdGlvbk1vZGVsO1xuICAgIHRoaXMuX1NoZWxsTW9kZWwgPSBTaGVsbE1vZGVsO1xuICAgIHRoaXMuX1NOQVBMb2NhdGlvbiA9IFNOQVBMb2NhdGlvbjtcbiAgICB0aGlzLl9FbnZpcm9ubWVudCA9IEVudmlyb25tZW50O1xuICAgIHRoaXMuX0hvc3RzID0gSG9zdHM7XG5cbiAgICB0aGlzLmxvY2FsZSA9IHRoaXMuX0xvY2F0aW9uTW9kZWwubG9jYXRpb24ubG9jYWxlO1xuICAgIHRoaXMuX0xvY2F0aW9uTW9kZWwubG9jYXRpb25DaGFuZ2VkLmFkZChsb2NhdGlvbiA9PiB7XG4gICAgICB0aGlzLmxvY2FsZSA9IGxvY2F0aW9uLmxvY2FsZTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBsb2NhbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xvY2FsZTtcbiAgfVxuXG4gIHNldCBsb2NhbGUodmFsdWUpIHtcbiAgICBpZiAodGhpcy5fbG9jYWxlID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9sb2NhbGUgPSB2YWx1ZTtcblxuICAgIHZhciBmb3JtYXQgPSAnezB9JyxcbiAgICAgICAgY3VycmVuY3kgPSAnJztcblxuICAgIHN3aXRjaCAodGhpcy5fbG9jYWxlKSB7XG4gICAgICBjYXNlICdyb19NRCc6XG4gICAgICAgIGZvcm1hdCA9ICd7MH0gTGVpJztcbiAgICAgICAgY3VycmVuY3kgPSAnJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd6aF9NTyc6XG4gICAgICAgIGZvcm1hdCA9ICdNT1AkIHswfSc7XG4gICAgICAgIGN1cnJlbmN5ID0gJyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZW5fVVMnOlxuICAgICAgICBmb3JtYXQgPSAnJHswfSc7XG4gICAgICAgIGN1cnJlbmN5ID0gJ1VTRCc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHRoaXMuX1NoZWxsTW9kZWwucHJpY2VGb3JtYXQgPSBmb3JtYXQ7XG4gICAgdGhpcy5fU2hlbGxNb2RlbC5jdXJyZW5jeSA9IGN1cnJlbmN5O1xuICB9XG5cbiAgZ2V0IG1vZGVsKCkge1xuICAgIHJldHVybiB0aGlzLl9TaGVsbE1vZGVsO1xuICB9XG5cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICBzdXBlci5pbml0aWFsaXplKCk7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgdGFza0JhY2tncm91bmRzID0gdGhpcy5fRGF0YU1vZGVsLmJhY2tncm91bmRzKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgc2VsZi5fU2hlbGxNb2RlbC5iYWNrZ3JvdW5kcyA9IHJlc3BvbnNlLm1haW4ubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1lZGlhOiBpdGVtLnNyY1xuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIHNlbGYuX1NoZWxsTW9kZWwuc2NyZWVuc2F2ZXJzID0gcmVzcG9uc2Uuc2NyZWVuc2F2ZXIubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1lZGlhOiBpdGVtLnNyY1xuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIHNlbGYuX1NoZWxsTW9kZWwucGFnZUJhY2tncm91bmRzID0gcmVzcG9uc2UucGFnZXMubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1lZGlhOiBpdGVtLmJhY2tncm91bmQuc3JjLFxuICAgICAgICAgIGRlc3RpbmF0aW9uOiBpdGVtLmRlc3RpbmF0aW9uXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHZhciB0YXNrRWxlbWVudHMgPSB0aGlzLl9EYXRhTW9kZWwuZWxlbWVudHMoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICB2YXIgbGF5b3V0ID0gc2VsZi5fU05BUExvY2F0aW9uLnRoZW1lLmxheW91dDtcblxuICAgICAgdmFyIGVsZW1lbnRzID0ge307XG5cbiAgICAgIHN3aXRjaCAobGF5b3V0KSB7XG4gICAgICAgIGNhc2UgJ2NsYXNzaWMnOlxuICAgICAgICAgIGVsZW1lbnRzID0ge1xuICAgICAgICAgICAgJ2J1dHRvbl9ob21lJzogc2VsZi5nZXRBc3NldFVybCgnaW1hZ2VzL2J1dHRvbi1ob21lLnBuZycpLFxuICAgICAgICAgICAgJ2J1dHRvbl9iYWNrJzogc2VsZi5nZXRBc3NldFVybCgnaW1hZ2VzL2J1dHRvbi1iYWNrLnBuZycpLFxuICAgICAgICAgICAgJ2J1dHRvbl9jYXJ0Jzogc2VsZi5nZXRBc3NldFVybCgnaW1hZ2VzL2J1dHRvbi1jYXJ0LnBuZycpLFxuICAgICAgICAgICAgJ2J1dHRvbl9yb3RhdGUnOiBzZWxmLmdldEFzc2V0VXJsKCdpbWFnZXMvYnV0dG9uLXJvdGF0ZS5wbmcnKSxcbiAgICAgICAgICAgICdidXR0b25fd2FpdGVyJzogc2VsZi5nZXRBc3NldFVybCgnaW1hZ2VzL2J1dHRvbi1hc3Npc3RhbmNlLnBuZycpLFxuICAgICAgICAgICAgJ2J1dHRvbl9jaGVjayc6IHNlbGYuZ2V0QXNzZXRVcmwoJ2ltYWdlcy9idXR0b24tY2xvc2VvdXQucG5nJyksXG4gICAgICAgICAgICAnYnV0dG9uX3N1cnZleSc6IHNlbGYuZ2V0QXNzZXRVcmwoJ2ltYWdlcy9idXR0b24tc3VydmV5LnBuZycpLFxuICAgICAgICAgICAgJ2J1dHRvbl9jaGF0Jzogc2VsZi5nZXRBc3NldFVybCgnaW1hZ2VzL2J1dHRvbi1jaGF0LnBuZycpXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZ2FsYXhpZXMnOlxuICAgICAgICAgIGVsZW1lbnRzID0ge1xuICAgICAgICAgICAgJ2J1dHRvbl9iYWNrJzogc2VsZi5nZXRBc3NldFVybCgnaW1hZ2VzL2J1dHRvbi1iYWNrLnBuZycpLFxuICAgICAgICAgICAgJ2J1dHRvbl9yb3RhdGUnOiBzZWxmLmdldEFzc2V0VXJsKCdpbWFnZXMvYnV0dG9uLXJvdGF0ZS5wbmcnKSxcbiAgICAgICAgICAgICdidXR0b25fc2V0dGluZ3MnOiBzZWxmLmdldEFzc2V0VXJsKCdpbWFnZXMvYnV0dG9uLXNldHRpbmdzLnBuZycpLFxuICAgICAgICAgICAgJ2xvY2F0aW9uX2xvZ28nOiBzZWxmLmdldEFzc2V0VXJsKCdpbWFnZXMvYnV0dG9uLWxvZ28ucG5nJyksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgZWxlbWVudCA9IHJlc3BvbnNlLmVsZW1lbnRzW2ldO1xuICAgICAgICBlbGVtZW50c1tlbGVtZW50LnNsb3RdID0gZWxlbWVudC5zcmM7XG4gICAgICB9XG5cbiAgICAgIHNlbGYuX1NoZWxsTW9kZWwuZWxlbWVudHMgPSBlbGVtZW50cztcbiAgICB9KTtcblxuICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICB0YXNrQmFja2dyb3VuZHMsXG4gICAgICB0YXNrRWxlbWVudHNcbiAgICBdKTtcbiAgfVxuXG4gIGZvcm1hdFByaWNlKHByaWNlKSB7XG4gICAgcmV0dXJuIHRoaXMuX1NoZWxsTW9kZWwucHJpY2VGb3JtYXQucmVwbGFjZSgveyhcXGQrKX0vZywgKCkgPT4gcHJpY2UudG9GaXhlZCgyKSk7XG4gIH1cblxuICBnZXRQYWdlQmFja2dyb3VuZHMobG9jYXRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5fU2hlbGxNb2RlbC5wYWdlQmFja2dyb3VuZHMuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgcmV0dXJuIGl0ZW0uZGVzdGluYXRpb24udHlwZSA9PT0gbG9jYXRpb24udHlwZSAmJlxuICAgICAgICAoaXRlbS5kZXN0aW5hdGlvbi50b2tlbiA9PT0gbG9jYXRpb24udG9rZW4gJiYgbG9jYXRpb24udG9rZW4gfHxcbiAgICAgICAgIGl0ZW0uZGVzdGluYXRpb24udXJsID09PSBsb2NhdGlvbi51cmwgJiYgbG9jYXRpb24udXJsKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEFzc2V0VXJsKGZpbGUpIHtcbiAgICB2YXIgcGF0aCA9IHRoaXMuX2dldFBhdGgodGhpcy5fSG9zdHMuc3RhdGljKTtcblxuICAgIHJldHVybiBgJHtwYXRofWFzc2V0cy8ke3RoaXMuX1NOQVBMb2NhdGlvbi50aGVtZS5sYXlvdXR9LyR7ZmlsZX1gO1xuICB9XG5cbiAgZ2V0UGFydGlhbFVybChuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXNzZXRVcmwoYHBhcnRpYWxzLyR7bmFtZX0uaHRtbGApO1xuICB9XG5cbiAgZ2V0TWVkaWFVcmwobWVkaWEsIHdpZHRoLCBoZWlnaHQsIGV4dGVuc2lvbikge1xuICAgIGlmICghbWVkaWEpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBwYXRoID0gdGhpcy5fZ2V0UGF0aCh0aGlzLl9Ib3N0cy5tZWRpYSk7XG5cbiAgICBpZiAodHlwZW9mIG1lZGlhID09PSAnc3RyaW5nJyB8fCBtZWRpYSBpbnN0YW5jZW9mIFN0cmluZykge1xuICAgICAgaWYgKG1lZGlhLmluZGV4T2YoJy8nKSA9PT0gLTEgJiYgbWVkaWEuaW5kZXhPZignLicpID09PSAtMSkge1xuICAgICAgICBleHRlbnNpb24gPSBleHRlbnNpb24gfHwgJ2pwZyc7XG4gICAgICAgIHJldHVybiBgJHtwYXRofW1lZGlhLyR7bWVkaWF9XyR7d2lkdGh9XyR7aGVpZ2h0fS4ke2V4dGVuc2lvbn1gO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWVkaWE7XG4gICAgfVxuXG4gICAgaWYgKCFtZWRpYS50b2tlbikge1xuICAgICAgcmV0dXJuIG1lZGlhO1xuICAgIH1cblxuICAgIHZhciB0eXBlID0gdGhpcy5nZXRNZWRpYVR5cGUobWVkaWEpO1xuICAgIHZhciB1cmwgPSBgJHtwYXRofW1lZGlhLyR7bWVkaWEudG9rZW59YDtcblxuICAgIGlmICghdHlwZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICd2aWRlbycpIHtcbiAgICAgIHVybCArPSAnLndlYm0nO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSAnZmxhc2gnKSB7XG4gICAgICB1cmwgKz0gJy5zd2YnO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSAnaW1hZ2UnKSB7XG4gICAgICBpZiAod2lkdGggJiYgaGVpZ2h0KSB7XG4gICAgICAgIHVybCArPSAnXycgKyB3aWR0aCArICdfJyArIGhlaWdodDtcbiAgICAgIH1cblxuICAgICAgaWYgKGV4dGVuc2lvbikge1xuICAgICAgICB1cmwgKz0gJy4nICsgZXh0ZW5zaW9uO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmICghbWVkaWEgfHwgIW1lZGlhLm1pbWVfdHlwZSkge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChtZWRpYS5taW1lX3R5cGUpIHtcbiAgICAgICAgICBjYXNlICdpbWFnZS9wbmcnOlxuICAgICAgICAgICAgdXJsICs9ICcucG5nJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB1cmwgKz0gJy5qcGcnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgZ2V0TWVkaWFUeXBlKG1lZGlhKSB7XG4gICAgaWYgKCFtZWRpYSB8fCAhbWVkaWEubWltZV90eXBlKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChtZWRpYS5taW1lX3R5cGUuc3Vic3RyaW5nKDAsIDUpID09PSAnaW1hZ2UnKXtcbiAgICAgIHJldHVybiAnaW1hZ2UnO1xuICAgIH1cbiAgICBlbHNlIGlmIChtZWRpYS5taW1lX3R5cGUuc3Vic3RyaW5nKDAsIDUpID09PSAndmlkZW8nKSB7XG4gICAgICByZXR1cm4gJ3ZpZGVvJztcbiAgICB9XG4gICAgZWxzZSBpZiAobWVkaWEubWltZV90eXBlID09PSAnYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2gnKSB7XG4gICAgICByZXR1cm4gJ2ZsYXNoJztcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgZ2V0IHRpbGVTdHlsZSgpIHtcbiAgICB2YXIgc3R5bGUgPSAndGlsZSc7XG5cbiAgICBzd2l0Y2ggKHRoaXMuX1NOQVBMb2NhdGlvbi50aGVtZS50aWxlc19zdHlsZSkge1xuICAgICAgY2FzZSAncmVndWxhcic6XG4gICAgICAgIHN0eWxlICs9ICcgdGlsZS1yZWd1bGFyJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vc3R5bGUgKz0gJyB0aWxlLXJlZ3VsYXInO1xuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuXG4gIGdldCBwcmVkaWNhdGVFdmVuKCkge1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgcmV0dXJuICgpID0+IGluZGV4KysgJSAyID09PSAxO1xuICB9XG5cbiAgZ2V0IHByZWRpY2F0ZU9kZCgpIHtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHJldHVybiAoKSA9PiBpbmRleCsrICUgMiA9PT0gMDtcbiAgfVxuXG4gIF9nZXRQYXRoKHJlcykge1xuICAgIHZhciBwYXRoID0gJyc7XG5cbiAgICBpZiAocmVzLnByb3RvY29sKSB7XG4gICAgICBwYXRoICs9IGAke3Jlcy5wcm9mb2NvbH06Ly9gO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXMuc2VjdXJlKSB7XG4gICAgICBwYXRoICs9IGBodHRwczovL2A7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlcy5zZWN1cmUgPT09IGZhbHNlKSB7XG4gICAgICBwYXRoICs9IGBodHRwOi8vYDtcbiAgICB9XG5cbiAgICBpZiAocmVzLmhvc3QpIHtcbiAgICAgIGlmICghcmVzLnByb3RvY29sICYmIHBhdGggPT09ICcnKSB7XG4gICAgICAgIHBhdGggKz0gJy8vJztcbiAgICAgIH1cbiAgICAgIHBhdGggKz0gcmVzLmhvc3Q7XG4gICAgfVxuXG4gICAgaWYgKHJlcy5wYXRoKSB7XG4gICAgICBwYXRoICs9IHJlcy5wYXRoO1xuICAgIH1cblxuICAgIGlmIChwYXRoLmxlbmd0aCA+IDAgJiYgIXBhdGguZW5kc1dpdGgoJy8nKSkge1xuICAgICAgcGF0aCArPSAnLyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhdGg7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9zb2NpYWxtYW5hZ2VyLmpzXG5cbndpbmRvdy5hcHAuU29jaWFsTWFuYWdlciA9IGNsYXNzIFNvY2lhbE1hbmFnZXIgZXh0ZW5kcyBhcHAuQWJzdHJhY3RNYW5hZ2VyIHtcbiAgLyogZ2xvYmFsIFVSSSAqL1xuXG4gIGNvbnN0cnVjdG9yKFNOQVBFbnZpcm9ubWVudCwgRHRzQXBpLCBXZWJCcm93c2VyLCBMb2dnZXIpIHtcbiAgICBzdXBlcihMb2dnZXIpO1xuXG4gICAgdGhpcy5fU05BUEVudmlyb25tZW50ID0gU05BUEVudmlyb25tZW50O1xuICAgIHRoaXMuX0R0c0FwaSA9IER0c0FwaTtcbiAgICB0aGlzLl9XZWJCcm93c2VyID0gV2ViQnJvd3NlcjtcbiAgfVxuXG4gIGluaXRpYWxpemUoKSB7XG4gICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgbG9naW5GYWNlYm9vaygpIHtcbiAgICB2YXIgbG9naW5VcmwgPSBVUkkoJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9kaWFsb2cvb2F1dGgnKVxuICAgICAgLmFkZFNlYXJjaCgnY2xpZW50X2lkJywgdGhpcy5fU05BUEVudmlyb25tZW50LmZhY2Vib29rX2FwcGxpY2F0aW9uLmNsaWVudF9pZClcbiAgICAgIC5hZGRTZWFyY2goJ3JlZGlyZWN0X3VyaScsIHRoaXMuX1NOQVBFbnZpcm9ubWVudC5mYWNlYm9va19hcHBsaWNhdGlvbi5yZWRpcmVjdF91cmwpXG4gICAgICAuYWRkU2VhcmNoKCdyZXNwb25zZV90eXBlJywgJ3Rva2VuJylcbiAgICAgIC5hZGRTZWFyY2goJ3Njb3BlJywgJ3B1YmxpY19wcm9maWxlLGVtYWlsJylcbiAgICAgIC50b1N0cmluZygpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZygnTG9nZ2luZyBpbiB3aXRoIEZhY2Vib29rLicpO1xuXG4gICAgICB0aGlzLl9XZWJCcm93c2VyLm9wZW4obG9naW5VcmwpLnRoZW4od2ViID0+IHtcbiAgICAgICAgd2ViLm9uTmF2aWdhdGVkLmFkZCh1cmwgPT4ge1xuICAgICAgICAgIGlmICh1cmwuaW5kZXhPZih0aGlzLl9TTkFQRW52aXJvbm1lbnQuZmFjZWJvb2tfYXBwbGljYXRpb24ucmVkaXJlY3RfdXJsKSA9PT0gMCkge1xuICAgICAgICAgICAgdmFyIGZhY2Vib29rQXV0aCA9IFVSSSgnPycgKyBVUkkodXJsKS5mcmFnbWVudCgpKS5zZWFyY2godHJ1ZSk7XG5cbiAgICAgICAgICAgIGlmIChmYWNlYm9va0F1dGguZXJyb3IgfHwgIWZhY2Vib29rQXV0aC5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICAgICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdGYWNlYm9vayBjYWxsYmFjayBlcnJvcjogJyArIGZhY2Vib29rQXV0aC5lcnJvcik7XG4gICAgICAgICAgICAgIHdlYi5leGl0KCk7XG4gICAgICAgICAgICAgIHJldHVybiByZWplY3QoZmFjZWJvb2tBdXRoLmVycm9yKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdGYWNlYm9vayBjYWxsYmFjayByZWNlaXZlZC4nKTtcblxuICAgICAgICAgICAgdGhpcy5fRHRzQXBpLmN1c3RvbWVyLnNpZ25VcEZhY2Vib29rKHtcbiAgICAgICAgICAgICAgYWNjZXNzX3Rva2VuOiBmYWNlYm9va0F1dGguYWNjZXNzX3Rva2VuLFxuICAgICAgICAgICAgICBjbGllbnRfaWQ6IHRoaXMuX1NOQVBFbnZpcm9ubWVudC5jdXN0b21lcl9hcHBsaWNhdGlvbi5jbGllbnRfaWRcbiAgICAgICAgICAgIH0pLnRoZW4odGlja2V0ID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdGYWNlYm9vayBzaWduaW4gY29tcGxldGUuJyk7XG5cbiAgICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMuX0R0c0FwaS5vYXV0aDIuZ2V0QXV0aENvbmZpcm1VcmwodGlja2V0LnRpY2tldF9pZCwge1xuICAgICAgICAgICAgICAgIGNsaWVudF9pZDogdGhpcy5fU05BUEVudmlyb25tZW50LmN1c3RvbWVyX2FwcGxpY2F0aW9uLmNsaWVudF9pZCxcbiAgICAgICAgICAgICAgICByZWRpcmVjdF91cmk6IHRoaXMuX1NOQVBFbnZpcm9ubWVudC5jdXN0b21lcl9hcHBsaWNhdGlvbi5jYWxsYmFja191cmwsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VfdHlwZTogJ3Rva2VuJ1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICB3ZWIubmF2aWdhdGUodXJsKTtcbiAgICAgICAgICAgIH0sIGUgPT4ge1xuICAgICAgICAgICAgICB0aGlzLl9Mb2dnZXIuZGVidWcoJ0Vycm9yIGdldHRpbmcgYSBGYWNlYm9vayBsb2dpbiB0aWNrZXQuJyk7XG4gICAgICAgICAgICAgIHdlYi5leGl0KCk7XG4gICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKHVybC5pbmRleE9mKHRoaXMuX1NOQVBFbnZpcm9ubWVudC5jdXN0b21lcl9hcHBsaWNhdGlvbi5jYWxsYmFja191cmwpID09PSAwKSB7XG4gICAgICAgICAgICB2YXIgY3VzdG9tZXJBdXRoID0gVVJJKCc/JyArIFVSSSh1cmwpLmZyYWdtZW50KCkpLnNlYXJjaCh0cnVlKTtcblxuICAgICAgICAgICAgaWYgKGN1c3RvbWVyQXV0aC5lcnJvciB8fCAhY3VzdG9tZXJBdXRoLmFjY2Vzc190b2tlbikge1xuICAgICAgICAgICAgICB0aGlzLl9Mb2dnZXIuZGVidWcoJ0ZhY2Vib29rIGN1c3RvbWVyIGNhbGxiYWNrIGVycm9yOiAnICsgY3VzdG9tZXJBdXRoLmVycm9yKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChjdXN0b21lckF1dGguZXJyb3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9Mb2dnZXIuZGVidWcoJ0ZhY2Vib29rIGN1c3RvbWVyIGxvZ2luIGNvbXBsZXRlLicpO1xuXG4gICAgICAgICAgICByZXNvbHZlKGN1c3RvbWVyQXV0aCk7XG4gICAgICAgICAgICB3ZWIuZXhpdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgd2ViLm9uRXhpdC5hZGQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZygnRmFjZWJvb2sgbG9naW4gY2FuY2VsZWQuJyk7XG4gICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgIH0pO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGxvZ2luR29vZ2xlUGx1cygpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdmFyIHN0YXRlID0gdGhpcy5fZ2VuZXJhdGVUb2tlbigpO1xuICAgICAgdmFyIGxvZ2luVXJsID0gVVJJKCdodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvYXV0aCcpXG4gICAgICAgIC5hZGRTZWFyY2goJ2NsaWVudF9pZCcsIHRoaXMuX1NOQVBFbnZpcm9ubWVudC5nb29nbGVwbHVzX2FwcGxpY2F0aW9uLmNsaWVudF9pZClcbiAgICAgICAgLmFkZFNlYXJjaCgncmVkaXJlY3RfdXJpJywgdGhpcy5fU05BUEVudmlyb25tZW50Lmdvb2dsZXBsdXNfYXBwbGljYXRpb24ucmVkaXJlY3RfdXJsKVxuICAgICAgICAuYWRkU2VhcmNoKCdyZXNwb25zZV90eXBlJywgJ2NvZGUnKVxuICAgICAgICAuYWRkU2VhcmNoKCdzY29wZScsICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3BsdXMubG9naW4gZW1haWwnKVxuICAgICAgICAuYWRkU2VhcmNoKCdhY2Nlc3NfdHlwZScsICdvZmZsaW5lJylcbiAgICAgICAgLmFkZFNlYXJjaCgnc3RhdGUnLCBzdGF0ZSlcbiAgICAgICAgLnRvU3RyaW5nKCk7XG5cbiAgICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZygnTG9nZ2luZyBpbiB3aXRoIEdvb2dsZSsuJyk7XG5cbiAgICAgIHRoaXMuX1dlYkJyb3dzZXIub3Blbihsb2dpblVybCkudGhlbih3ZWIgPT4ge1xuICAgICAgICB3ZWIub25OYXZpZ2F0ZWQuYWRkKHVybCA9PiB7XG4gICAgICAgICAgaWYgKHVybC5pbmRleE9mKHRoaXMuX1NOQVBFbnZpcm9ubWVudC5nb29nbGVwbHVzX2FwcGxpY2F0aW9uLnJlZGlyZWN0X3VybCkgPT09IDApIHtcbiAgICAgICAgICAgIHZhciBnb29nbGVwbHVzQXV0aCA9IFVSSSh1cmwpLnNlYXJjaCh0cnVlKTtcblxuICAgICAgICAgICAgaWYgKGdvb2dsZXBsdXNBdXRoLmVycm9yIHx8ICFnb29nbGVwbHVzQXV0aC5jb2RlIHx8IGdvb2dsZXBsdXNBdXRoLnN0YXRlICE9PSBzdGF0ZSkge1xuICAgICAgICAgICAgICB0aGlzLl9Mb2dnZXIuZGVidWcoJ0dvb2dsZSsgY2FsbGJhY2sgZXJyb3I6ICcgKyBnb29nbGVwbHVzQXV0aC5lcnJvcik7XG4gICAgICAgICAgICAgIHdlYi5leGl0KCk7XG4gICAgICAgICAgICAgIHJldHVybiByZWplY3QoZ29vZ2xlcGx1c0F1dGguZXJyb3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9Mb2dnZXIuZGVidWcoJ0dvb2dsZSsgY2FsbGJhY2sgcmVjZWl2ZWQuJyk7XG5cbiAgICAgICAgICAgIHRoaXMuX0R0c0FwaS5jdXN0b21lci5zaWduVXBHb29nbGVQbHVzKHtcbiAgICAgICAgICAgICAgY29kZTogZ29vZ2xlcGx1c0F1dGguY29kZSxcbiAgICAgICAgICAgICAgY2xpZW50X2lkOiB0aGlzLl9TTkFQRW52aXJvbm1lbnQuZ29vZ2xlcGx1c19hcHBsaWNhdGlvbi5jbGllbnRfaWRcbiAgICAgICAgICAgIH0pLnRoZW4odGlja2V0ID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdHb29nbGUrIHNpZ25pbiBjb21wbGV0ZS4nKTtcblxuICAgICAgICAgICAgICB2YXIgdXJsID0gdGhpcy5fRHRzQXBpLm9hdXRoMi5nZXRBdXRoQ29uZmlybVVybCh0aWNrZXQudGlja2V0X2lkLCB7XG4gICAgICAgICAgICAgICAgY2xpZW50X2lkOiB0aGlzLl9TTkFQRW52aXJvbm1lbnQuY3VzdG9tZXJfYXBwbGljYXRpb24uY2xpZW50X2lkLFxuICAgICAgICAgICAgICAgIHJlZGlyZWN0X3VyaTogdGhpcy5fU05BUEVudmlyb25tZW50LmN1c3RvbWVyX2FwcGxpY2F0aW9uLmNhbGxiYWNrX3VybCxcbiAgICAgICAgICAgICAgICByZXNwb25zZV90eXBlOiAndG9rZW4nXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHdlYi5uYXZpZ2F0ZSh1cmwpO1xuICAgICAgICAgICAgfSwgZSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZygnRXJyb3IgZ2V0dGluZyBhIEdvb2dsZSsgbG9naW4gdGlja2V0LicpO1xuICAgICAgICAgICAgICB3ZWIuZXhpdCgpO1xuICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmICh1cmwuaW5kZXhPZih0aGlzLl9TTkFQRW52aXJvbm1lbnQuY3VzdG9tZXJfYXBwbGljYXRpb24uY2FsbGJhY2tfdXJsKSA9PT0gMCkge1xuICAgICAgICAgICAgdmFyIGN1c3RvbWVyQXV0aCA9IFVSSSgnPycgKyBVUkkodXJsKS5mcmFnbWVudCgpKS5zZWFyY2godHJ1ZSk7XG5cbiAgICAgICAgICAgIGlmIChjdXN0b21lckF1dGguZXJyb3IgfHwgIWN1c3RvbWVyQXV0aC5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICAgICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdHb29nbGUrIGN1c3RvbWVyIGNhbGxiYWNrIGVycm9yOiAnICsgY3VzdG9tZXJBdXRoLmVycm9yKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChjdXN0b21lckF1dGguZXJyb3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9Mb2dnZXIuZGVidWcoJ0dvb2dsZSsgY3VzdG9tZXIgbG9naW4gY29tcGxldGUuJyk7XG5cbiAgICAgICAgICAgIHJlc29sdmUoY3VzdG9tZXJBdXRoKTtcbiAgICAgICAgICAgIHdlYi5leGl0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB3ZWIub25FeGl0LmFkZCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdHb29nbGUrIGxvZ2luIGNhbmNlbGVkLicpO1xuICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBsb2dpblR3aXR0ZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZygnTG9nZ2luZyBpbiB3aXRoIFR3aXR0ZXIuJyk7XG5cbiAgICAgIHRoaXMuX0R0c0FwaS5jdXN0b21lci5zaWduVXBUd2l0dGVyUmVxdWVzdFRva2VuKHtcbiAgICAgICAgb2F1dGhfY2FsbGJhY2s6IHRoaXMuX1NOQVBFbnZpcm9ubWVudC50d2l0dGVyX2FwcGxpY2F0aW9uLnJlZGlyZWN0X3VybFxuICAgICAgfSkudGhlbih0b2tlbiA9PiB7XG4gICAgICAgIHZhciB1cmwgPSBVUkkoJ2h0dHBzOi8vYXBpLnR3aXR0ZXIuY29tL29hdXRoL2F1dGhlbnRpY2F0ZScpXG4gICAgICAgIC5hZGRTZWFyY2goJ29hdXRoX3Rva2VuJywgdG9rZW4ub2F1dGhfdG9rZW4pXG4gICAgICAgIC5hZGRTZWFyY2goJ2ZvcmNlX2xvZ2luJywgJ3RydWUnKVxuICAgICAgICAudG9TdHJpbmcoKTtcblxuICAgICAgICB0aGlzLl9Mb2dnZXIuZGVidWcoJ1R3aXR0ZXIgcmVxdWVzdCB0b2tlbiByZWNlaXZlZC4nKTtcblxuICAgICAgICB2YXIgdG9rZW5TZWNyZXQgPSB0b2tlbi5vYXV0aF90b2tlbl9zZWNyZXQ7XG5cbiAgICAgICAgdGhpcy5fV2ViQnJvd3Nlci5vcGVuKHVybCkudGhlbih3ZWIgPT4ge1xuICAgICAgICAgIHdlYi5vbk5hdmlnYXRlZC5hZGQodXJsID0+IHtcbiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZih0aGlzLl9TTkFQRW52aXJvbm1lbnQudHdpdHRlcl9hcHBsaWNhdGlvbi5yZWRpcmVjdF91cmwpID09PSAwKSB7XG4gICAgICAgICAgICAgIHZhciB0d2l0dGVyQXV0aCA9IFVSSSh1cmwpLnNlYXJjaCh0cnVlKTtcblxuICAgICAgICAgICAgICBpZiAodHdpdHRlckF1dGguZXJyb3IgfHwgIXR3aXR0ZXJBdXRoLm9hdXRoX3ZlcmlmaWVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdUd2l0dGVyIGNhbGxiYWNrIGVycm9yOiAnICsgdHdpdHRlckF1dGguZXJyb3IpO1xuICAgICAgICAgICAgICAgIHdlYi5leGl0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCh0d2l0dGVyQXV0aC5lcnJvcik7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aGlzLl9Mb2dnZXIuZGVidWcoJ1R3aXR0ZXIgY2FsbGJhY2sgcmVjZWl2ZWQuJyk7XG5cbiAgICAgICAgICAgICAgdGhpcy5fRHRzQXBpLmN1c3RvbWVyLnNpZ25VcFR3aXR0ZXIoe1xuICAgICAgICAgICAgICAgIGNsaWVudF9pZDogdGhpcy5fU05BUEVudmlyb25tZW50LmN1c3RvbWVyX2FwcGxpY2F0aW9uLmNsaWVudF9pZCxcbiAgICAgICAgICAgICAgICByZXF1ZXN0X3Rva2VuOiB0d2l0dGVyQXV0aC5vYXV0aF90b2tlbixcbiAgICAgICAgICAgICAgICByZXF1ZXN0X3Rva2VuX3NlY3JldDogdG9rZW5TZWNyZXQsXG4gICAgICAgICAgICAgICAgcmVxdWVzdF90b2tlbl92ZXJpZmllcjogdHdpdHRlckF1dGgub2F1dGhfdmVyaWZpZXJcbiAgICAgICAgICAgICAgfSkudGhlbih0aWNrZXQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZygnVHdpdHRlciBzaWduaW4gY29tcGxldGUuJyk7XG5cbiAgICAgICAgICAgICAgICBsZXQgdXJsID0gdGhpcy5fRHRzQXBpLm9hdXRoMi5nZXRBdXRoQ29uZmlybVVybCh0aWNrZXQudGlja2V0X2lkLCB7XG4gICAgICAgICAgICAgICAgICBjbGllbnRfaWQ6IHRoaXMuX1NOQVBFbnZpcm9ubWVudC5jdXN0b21lcl9hcHBsaWNhdGlvbi5jbGllbnRfaWQsXG4gICAgICAgICAgICAgICAgICByZWRpcmVjdF91cmk6IHRoaXMuX1NOQVBFbnZpcm9ubWVudC5jdXN0b21lcl9hcHBsaWNhdGlvbi5jYWxsYmFja191cmwsXG4gICAgICAgICAgICAgICAgICByZXNwb25zZV90eXBlOiAndG9rZW4nXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB3ZWIubmF2aWdhdGUodXJsKTtcbiAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVybC5pbmRleE9mKHRoaXMuX1NOQVBFbnZpcm9ubWVudC5jdXN0b21lcl9hcHBsaWNhdGlvbi5jYWxsYmFja191cmwpID09PSAwKSB7XG4gICAgICAgICAgICAgIHZhciBjdXN0b21lckF1dGggPSBVUkkoJz8nICsgVVJJKHVybCkuZnJhZ21lbnQoKSkuc2VhcmNoKHRydWUpO1xuXG4gICAgICAgICAgICAgIGlmIChjdXN0b21lckF1dGguZXJyb3IgfHwgIWN1c3RvbWVyQXV0aC5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9Mb2dnZXIuZGVidWcoJ1R3aXR0ZXIgY3VzdG9tZXIgY2FsbGJhY2sgZXJyb3I6ICcgKyBjdXN0b21lckF1dGguZXJyb3IpO1xuICAgICAgICAgICAgICAgIHdlYi5leGl0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChjdXN0b21lckF1dGguZXJyb3IpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdUd2l0dGVyIGN1c3RvbWVyIGxvZ2luIGNvbXBsZXRlLicpO1xuXG4gICAgICAgICAgICAgIHJlc29sdmUoY3VzdG9tZXJBdXRoKTtcbiAgICAgICAgICAgICAgd2ViLmV4aXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHdlYi5vbkV4aXQuYWRkKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZygnVHdpdHRlciBsb2dpbiBjYW5jZWxlZC4nKTtcbiAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgSGVscGVyc1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgX2dlbmVyYXRlVG9rZW4oKSB7XG4gICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgYyA9PiB7XG4gICAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkqMTZ8MCwgdiA9IGMgPT09ICd4JyA/IHIgOiAociYweDN8MHg4KTtcbiAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICB9KTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21hbmFnZXJzL3NvZnR3YXJlbWFuYWdlci5qc1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFNvZnR3YXJlTWFuYWdlclxuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIHZhciBTb2Z0d2FyZU1hbmFnZXIgPSBmdW5jdGlvbihTTkFQRW52aXJvbm1lbnQpIHtcbiAgICB0aGlzLl9TTkFQRW52aXJvbm1lbnQgPSBTTkFQRW52aXJvbm1lbnQ7XG4gIH07XG5cbiAgd2luZG93LmFwcC5Tb2Z0d2FyZU1hbmFnZXIgPSBTb2Z0d2FyZU1hbmFnZXI7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvZnR3YXJlTWFuYWdlci5wcm90b3R5cGUsICdjdXJyZW50VmVyc2lvbicsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhdHRlcm4gPSAvKFNOQVApXFwvKFswLTkuXSspLyxcbiAgICAgICAgICBtYXRjaCA9IHBhdHRlcm4uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICByZXR1cm4gJzguOC44LjgnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWF0Y2hbMV07XG4gICAgfVxuICB9KTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU29mdHdhcmVNYW5hZ2VyLnByb3RvdHlwZSwgJ3JlcXVpcmVkVmVyc2lvbicsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX1NOQVBFbnZpcm9ubWVudC5yZXF1aXJlbWVudHNbdGhpcy5fU05BUEVudmlyb25tZW50LnBsYXRmb3JtXTtcbiAgICB9XG4gIH0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTb2Z0d2FyZU1hbmFnZXIucHJvdG90eXBlLCAndXBkYXRlUmVxdWlyZWQnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl92ZXJzaW9uQ29tcGFyZSh0aGlzLmN1cnJlbnRWZXJzaW9uLCB0aGlzLnJlcXVpcmVkVmVyc2lvbikgPT09IC0xO1xuICAgIH1cbiAgfSk7XG5cbiAgU29mdHdhcmVNYW5hZ2VyLnByb3RvdHlwZS5fdmVyc2lvbkNvbXBhcmUgPSBmdW5jdGlvbih2MSwgdjIsIG9wdGlvbnMpIHtcbiAgICBpZiAoIXYxIHx8ICF2Mikge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgdmFyIGxleGljb2dyYXBoaWNhbCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5sZXhpY29ncmFwaGljYWwsXG4gICAgICAgIHplcm9FeHRlbmQgPSBvcHRpb25zICYmIG9wdGlvbnMuemVyb0V4dGVuZCxcbiAgICAgICAgdjFwYXJ0cyA9IHYxLnNwbGl0KCcuJyksXG4gICAgICAgIHYycGFydHMgPSB2Mi5zcGxpdCgnLicpO1xuXG4gICAgZnVuY3Rpb24gaXNWYWxpZFBhcnQoeCkge1xuICAgICAgcmV0dXJuIChsZXhpY29ncmFwaGljYWwgPyAvXlxcZCtbQS1aYS16XSokLyA6IC9eXFxkKyQvKS50ZXN0KHgpO1xuICAgIH1cblxuICAgIGlmICghdjFwYXJ0cy5ldmVyeShpc1ZhbGlkUGFydCkgfHwgIXYycGFydHMuZXZlcnkoaXNWYWxpZFBhcnQpKSB7XG4gICAgICByZXR1cm4gTmFOO1xuICAgIH1cblxuICAgIGlmICh6ZXJvRXh0ZW5kKSB7XG4gICAgICB3aGlsZSAodjFwYXJ0cy5sZW5ndGggPCB2MnBhcnRzLmxlbmd0aCkge1xuICAgICAgICB2MXBhcnRzLnB1c2goJzAnKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICh2MnBhcnRzLmxlbmd0aCA8IHYxcGFydHMubGVuZ3RoKSB7XG4gICAgICAgIHYycGFydHMucHVzaCgnMCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghbGV4aWNvZ3JhcGhpY2FsKSB7XG4gICAgICB2MXBhcnRzID0gdjFwYXJ0cy5tYXAoTnVtYmVyKTtcbiAgICAgIHYycGFydHMgPSB2MnBhcnRzLm1hcChOdW1iZXIpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdjFwYXJ0cy5sZW5ndGg7ICsraSkge1xuICAgICAgaWYgKHYycGFydHMubGVuZ3RoID09PSBpKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuXG4gICAgICBpZiAodjFwYXJ0c1tpXSA9PT0gdjJwYXJ0c1tpXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHYxcGFydHNbaV0gPiB2MnBhcnRzW2ldKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodjFwYXJ0cy5sZW5ndGggIT09IHYycGFydHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH07XG59KSgpO1xuXG4vL3NyYy9qcy9zaGFyZWQvbWFuYWdlcnMvc3VydmV5bWFuYWdlci5qc1xuXG53aW5kb3cuYXBwLlN1cnZleU1hbmFnZXIgPSBjbGFzcyBTdXJ2ZXlNYW5hZ2VyIGV4dGVuZHMgYXBwLkFic3RyYWN0TWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKERhdGFNb2RlbCwgU3VydmV5TW9kZWwsIExvZ2dlcikge1xuICAgIHN1cGVyKExvZ2dlcik7XG5cbiAgICB0aGlzLl9EYXRhTW9kZWwgPSBEYXRhTW9kZWw7XG4gICAgdGhpcy5fU3VydmV5TW9kZWwgPSBTdXJ2ZXlNb2RlbDtcbiAgfVxuXG4gIGdldCBtb2RlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fU3VydmV5TW9kZWw7XG4gIH1cblxuICBpbml0aWFsaXplKCkge1xuICAgIHN1cGVyLmluaXRpYWxpemUoKTtcblxuICAgIGlmICh0aGlzLm1vZGVsLmlzRW5hYmxlZCkge1xuICAgICAgdGhpcy5fRGF0YU1vZGVsLnN1cnZleXMoKS50aGVuKGRhdGEgPT4ge1xuICAgICAgICB0aGlzLm1vZGVsLmZlZWRiYWNrU3VydmV5ID0gZGF0YS5zdXJ2ZXlzWzBdO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgZmluYWxpemUoKSB7XG4gICAgc3VwZXIuZmluYWxpemUoKTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy5tb2RlbC5pc0VuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5mZWVkYmFja1N1cnZleUNvbXBsZXRlID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21vZGVsL2Fic3RyYWN0bW9kZWwuanNcblxud2luZG93LmFwcC5BYnN0cmFjdE1vZGVsID0gY2xhc3MgQWJzdHJhY3RNb2RlbCB7XG4gIC8qIGdsb2JhbCBzaWduYWxzICovXG5cbiAgY29uc3RydWN0b3Ioc3RvcmFnZVByb3ZpZGVyKSB7XG4gICAgdGhpcy5fc3RvcmFnZVByb3ZpZGVyID0gc3RvcmFnZVByb3ZpZGVyO1xuICAgIHRoaXMuX3Byb3BlcnRpZXMgPSB7fTtcbiAgfVxuXG4gIF9kZWZpbmVQcm9wZXJ0eShuYW1lLCBzdG9yZU5hbWUsIGRlZmF1bHRWYWx1ZSwgcHJvdmlkZXJGdW5jdGlvbikge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgcHJvcGVydHkgPSB0aGlzLl9wcm9wZXJ0aWVzW25hbWVdID0geyBuYW1lOiAnXycgKyBuYW1lIH07XG5cbiAgICBpZiAoc3RvcmVOYW1lKSB7XG4gICAgICBwcm9wZXJ0eS5zdG9yZSA9IHRoaXMuX3N0b3JhZ2VQcm92aWRlcihzdG9yZU5hbWUpO1xuICAgIH1cblxuICAgIGlmIChwcm92aWRlckZ1bmN0aW9uKSB7XG4gICAgICBwcm9wZXJ0eS5wcm92aWRlciA9IHByb3ZpZGVyRnVuY3Rpb247XG4gICAgfVxuXG4gICAgdGhpc1tuYW1lICsgJ0NoYW5nZWQnXSA9IHByb3BlcnR5LnNpZ25hbCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIG5hbWUsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBzZWxmW3Byb3BlcnR5Lm5hbWVdIHx8IGRlZmF1bHRWYWx1ZTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gc2VsZltwcm9wZXJ0eS5uYW1lXSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGZbcHJvcGVydHkubmFtZV0gPSB2YWx1ZTtcblxuICAgICAgICBpZiAocHJvcGVydHkuc3RvcmUpIHtcbiAgICAgICAgICBwcm9wZXJ0eS5zdG9yZS53cml0ZSh2YWx1ZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBwcm9wZXJ0eS5zaWduYWwuZGlzcGF0Y2godmFsdWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfaW5pdFByb3BlcnR5KG5hbWUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIHByb3BlcnR5ID0gdGhpcy5fcHJvcGVydGllc1tuYW1lXTtcblxuICAgIGlmICghcHJvcGVydHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUHJvcGVydHkgJyR7bmFtZX0nIG5vdCBmb3VuZC5gKTtcbiAgICB9XG5cbiAgICBpZiAocHJvcGVydHkuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUHJvcGVydHkgJyR7bmFtZX0nIGlzIGFscmVhZHkgaW5pdGlhbGl6ZWQuYCk7XG4gICAgfVxuXG4gICAgaWYgKCFwcm9wZXJ0eS5zdG9yZSkge1xuICAgICAgcHJvcGVydHkuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9wZXJ0eS5zdG9yZS5yZWFkKCkudGhlbih2YWx1ZSA9PiB7XG4gICAgICBwcm9wZXJ0eS5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICBzZWxmW3Byb3BlcnR5Lm5hbWVdID0gdmFsdWU7XG4gICAgICBwcm9wZXJ0eS5zaWduYWwuZGlzcGF0Y2godmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoT2JqZWN0LmtleXModGhpcy5fcHJvcGVydGllcylcbiAgICAgIC5maWx0ZXIoa2V5ID0+ICF0aGlzLl9wcm9wZXJ0aWVzW2tleV0uaW5pdGlhbGl6ZWQpXG4gICAgICAubWFwKGtleSA9PiB0aGlzLl9pbml0UHJvcGVydHkoa2V5KSkpO1xuICB9XG5cbiAgZmV0Y2gocHJvcGVydHlOYW1lKSB7XG4gICAgdmFyIHByb3BlcnR5ID0gdGhpcy5fcHJvcGVydGllc1twcm9wZXJ0eU5hbWVdO1xuXG4gICAgaWYgKCFwcm9wZXJ0eSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm9wZXJ0eSAnJHtwcm9wZXJ0eU5hbWV9JyBub3QgZm91bmQuYCk7XG4gICAgfVxuXG4gICAgaWYgKCFwcm9wZXJ0eS5wcm92aWRlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm9wZXJ0eSAnJHtwcm9wZXJ0eU5hbWV9JyBoYXMgbm8gcHJvdmlkZXIuYCk7XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBwcm9wZXJ0eS5wcm92aWRlcigpLnRoZW4odmFsdWUgPT4ge1xuICAgICAgc2VsZltwcm9wZXJ0eU5hbWVdID0gdmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG4gIH1cblxuICBmZXRjaEFsbCgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoT2JqZWN0LmtleXModGhpcy5fcHJvcGVydGllcylcbiAgICAgIC5maWx0ZXIoa2V5ID0+IHRoaXMuX3Byb3BlcnRpZXNba2V5XS5wcm92aWRlcilcbiAgICAgIC5tYXAoa2V5ID0+IHRoaXMuZmV0Y2goa2V5KSkpO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKE9iamVjdC5rZXlzKHRoaXMuX3Byb3BlcnRpZXMpXG4gICAgICAuZmlsdGVyKGtleSA9PiB0aGlzLl9wcm9wZXJ0aWVzW2tleV0uc3RvcmUpXG4gICAgICAubWFwKGtleSA9PiB0aGlzLl9wcm9wZXJ0aWVzW2tleV0uc3RvcmUuY2xlYXIoKSkpO1xuICB9XG5cbiAgX3Byb3BlcnR5Q2hhbmdlZChuYW1lKSB7XG4gICAgdmFyIHByb3BlcnR5ID0gdGhpcy5fcHJvcGVydGllc1tuYW1lXTtcblxuICAgIHByb3BlcnR5LnNpZ25hbC5kaXNwYXRjaCh0aGlzW3Byb3BlcnR5Lm5hbWVdKTtcblxuICAgIGlmIChwcm9wZXJ0eS5zdG9yZSkge1xuICAgICAgcHJvcGVydHkuc3RvcmUud3JpdGUodGhpc1twcm9wZXJ0eS5uYW1lXSk7XG4gICAgfVxuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbW9kZWwvYW5hbHl0aWNzbW9kZWwuanNcblxud2luZG93LmFwcC5BbmFseXRpY3NNb2RlbCA9IGNsYXNzIEFuYWx5dGljc01vZGVsIHtcbiAgY29uc3RydWN0b3Ioc3RvcmFnZVByb3ZpZGVyLCBoZWF0bWFwLCBMb2dnZXIpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5fZGF0YSA9IFtcbiAgICAgIG5ldyBhcHAuQW5hbHl0aWNzRGF0YSgnc2Vzc2lvbnMnLCBzdG9yYWdlUHJvdmlkZXIpLFxuICAgICAgbmV3IGFwcC5BbmFseXRpY3NEYXRhKCdhZHZlcnRpc2VtZW50cycsIHN0b3JhZ2VQcm92aWRlciksXG4gICAgICBuZXcgYXBwLkFuYWx5dGljc0RhdGEoJ2Fuc3dlcnMnLCBzdG9yYWdlUHJvdmlkZXIpLFxuICAgICAgbmV3IGFwcC5BbmFseXRpY3NEYXRhKCdjaGF0cycsIHN0b3JhZ2VQcm92aWRlciksXG4gICAgICBuZXcgYXBwLkFuYWx5dGljc0RhdGEoJ2NvbW1lbnRzJywgc3RvcmFnZVByb3ZpZGVyKSxcbiAgICAgIG5ldyBhcHAuQW5hbHl0aWNzRGF0YSgnY2xpY2tzJywgc3RvcmFnZVByb3ZpZGVyKSxcbiAgICAgIG5ldyBhcHAuQW5hbHl0aWNzRGF0YSgncGFnZXMnLCBzdG9yYWdlUHJvdmlkZXIpLFxuICAgICAgbmV3IGFwcC5BbmFseXRpY3NEYXRhKCd1cmxzJywgc3RvcmFnZVByb3ZpZGVyKVxuICAgIF0ucmVkdWNlKChyZXN1bHQsIGl0ZW0pID0+IHtcbiAgICAgIHJlc3VsdFtpdGVtLm5hbWVdID0gaXRlbTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSwge30pO1xuXG4gICAgaGVhdG1hcC5jbGlja2VkLmFkZChjbGljayA9PiB7XG4gICAgICBzZWxmLl9sb2dDbGljayhjbGljayk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9Mb2dnZXIgPSBMb2dnZXI7XG4gIH1cblxuICBpbml0aWFsaXplKCkge1xuICAgIHJldHVybiBRLmFsbFNldHRsZWQodGhpcy5fZGF0YXMubWFwKGQgPT4gZC5pbml0aWFsaXplKCkpKTtcbiAgfVxuXG4gIGxvZ1Nlc3Npb24oc2Vzc2lvbikge1xuICAgIHRoaXMuX2RhdGEuc2Vzc2lvbnMucHVzaChzZXNzaW9uKTtcbiAgfVxuXG4gIGdldCBzZXNzaW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YS5zZXNzaW9ucztcbiAgfVxuXG4gIGxvZ05hdmlnYXRpb24oZGVzdGluYXRpb24pIHtcbiAgICB0aGlzLl9kYXRhLnBhZ2VzLnB1c2goe1xuICAgICAgdGltZTogbmV3IERhdGUoKSxcbiAgICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvblxuICAgIH0pO1xuXG4gICAgdGhpcy5fZGF0YS5jbGlja3Muc3RvcmUoKTtcbiAgfVxuXG4gIGdldCBwYWdlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YS5wYWdlcztcbiAgfVxuXG4gIGxvZ0FkdmVydGlzZW1lbnQoYWR2ZXJ0aXNlbWVudCkge1xuICAgIHRoaXMuX2RhdGEuYWR2ZXJ0aXNlbWVudHMucHVzaCh7XG4gICAgICB0aW1lOiBuZXcgRGF0ZSgpLFxuICAgICAgYWR2ZXJ0aXNlbWVudDogYWR2ZXJ0aXNlbWVudFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0IGFkdmVydGlzZW1lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhLmFkdmVydGlzZW1lbnRzO1xuICB9XG5cbiAgbG9nQW5zd2VyKGFuc3dlcikge1xuICAgIHRoaXMuX2RhdGEuYW5zd2Vycy5wdXNoKHtcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCksXG4gICAgICBhbnN3ZXI6IGFuc3dlclxuICAgIH0pO1xuICB9XG5cbiAgZ2V0IGFuc3dlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEuYW5zd2VycztcbiAgfVxuXG4gIGxvZ0NoYXQoY2hhdCkge1xuICAgIHRoaXMuX2RhdGEuY2hhdHMucHVzaCh7XG4gICAgICB0aW1lOiBuZXcgRGF0ZSgpLFxuICAgICAgY2hhdDogY2hhdFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0IGNoYXRzKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhLmNoYXRzO1xuICB9XG5cbiAgbG9nQ29tbWVudChjb21tZW50KSB7XG4gICAgdGhpcy5fZGF0YS5jb21tZW50cy5wdXNoKHtcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCksXG4gICAgICBjb21tZW50OiBjb21tZW50XG4gICAgfSk7XG4gIH1cblxuICBnZXQgY29tbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEuY29tbWVudHM7XG4gIH1cblxuICBsb2dVcmwodXJsKSB7XG4gICAgdGhpcy5fZGF0YS51cmxzLnB1c2goe1xuICAgICAgdGltZTogbmV3IERhdGUoKSxcbiAgICAgIHVybDogdXJsXG4gICAgfSk7XG4gIH1cblxuICBnZXQgdXJscygpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YS51cmxzO1xuICB9XG5cbiAgZ2V0IGNsaWNrcygpIHtcbiAgICB0aGlzLl9kYXRhLmNsaWNrcy5zdG9yZSgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2RhdGEuY2xpY2tzO1xuICB9XG5cbiAgZ2V0IF9kYXRhcygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fZGF0YSkubWFwKHggPT4gdGhpcy5fZGF0YVt4XSk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICByZXR1cm4gUS5hbGxTZXR0bGVkKHRoaXMuX2RhdGFzLm1hcChkID0+IGQucmVzZXQoKSkpO1xuICB9XG5cbiAgX2xvZ0NsaWNrKGNsaWNrKSB7XG4gICAgY2xpY2sudGltZSA9IG5ldyBEYXRlKCk7XG4gICAgdGhpcy5fZGF0YS5jbGlja3MuZGF0YS5wdXNoKGNsaWNrKTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21vZGVsL2NhcnRtb2RlbC5qc1xuXG53aW5kb3cuYXBwLkNhcnRNb2RlbCA9IGNsYXNzIENhcnRNb2RlbCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuU1RBVEVfQ0FSVCA9ICdjYXJ0JztcbiAgICB0aGlzLlNUQVRFX0hJU1RPUlkgPSAnaGlzdG9yeSc7XG5cbiAgICB0aGlzLl9pc0NhcnRPcGVuID0gZmFsc2U7XG4gICAgdGhpcy5pc0NhcnRPcGVuQ2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuX2NhcnRTdGF0ZSA9IHRoaXMuU1RBVEVfQ0FSVDtcbiAgICB0aGlzLmNhcnRTdGF0ZUNoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLl9lZGl0YWJsZUl0ZW0gPSBudWxsO1xuICAgIHRoaXMuZWRpdGFibGVJdGVtQ2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICB9XG5cbiAgZ2V0IGlzQ2FydE9wZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzQ2FydE9wZW47XG4gIH1cblxuICBzZXQgaXNDYXJ0T3Blbih2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9pc0NhcnRPcGVuID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9pc0NhcnRPcGVuID0gdmFsdWU7XG4gICAgdGhpcy5pc0NhcnRPcGVuQ2hhbmdlZC5kaXNwYXRjaCh2YWx1ZSk7XG4gIH1cblxuICBnZXQgY2FydFN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9jYXJ0U3RhdGU7XG4gIH1cblxuICBzZXQgY2FydFN0YXRlKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX2NhcnRTdGF0ZSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fY2FydFN0YXRlID0gdmFsdWU7XG4gICAgdGhpcy5jYXJ0U3RhdGVDaGFuZ2VkLmRpc3BhdGNoKHZhbHVlKTtcbiAgfVxuXG4gIGdldCBlZGl0YWJsZUl0ZW0oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VkaXRhYmxlSXRlbTtcbiAgfVxuXG4gIGdldCBlZGl0YWJsZUl0ZW1OZXcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VkaXRhYmxlSXRlbU5ldztcbiAgfVxuXG4gIG9wZW5FZGl0b3IoaXRlbSwgaXNOZXcpIHtcbiAgICBpZiAodGhpcy5fZWRpdGFibGVJdGVtID09PSBpdGVtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2VkaXRhYmxlSXRlbU5ldyA9IGlzTmV3IHx8IGZhbHNlO1xuICAgIHRoaXMuX2VkaXRhYmxlSXRlbSA9IGl0ZW07XG4gICAgdGhpcy5lZGl0YWJsZUl0ZW1DaGFuZ2VkLmRpc3BhdGNoKGl0ZW0pO1xuICB9XG5cbiAgY2xvc2VFZGl0b3IoKSB7XG4gICAgdGhpcy5fZWRpdGFibGVJdGVtTmV3ID0gZmFsc2U7XG4gICAgdGhpcy5fZWRpdGFibGVJdGVtID0gbnVsbDtcbiAgICB0aGlzLmVkaXRhYmxlSXRlbUNoYW5nZWQuZGlzcGF0Y2gobnVsbCk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tb2RlbC9jaGF0bW9kZWwuanNcblxud2luZG93LmFwcC5DaGF0TW9kZWwgPSBjbGFzcyBDaGF0TW9kZWwge1xuICAvKiBnbG9iYWwgc2lnbmFscyAqL1xuXG4gIGNvbnN0cnVjdG9yKFNOQVBMb2NhdGlvbiwgU05BUEVudmlyb25tZW50LCBzdG9yYWdlUHJvdmlkZXIpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLl9wcmVmZXJlbmNlc1N0b3JlID0gc3RvcmFnZVByb3ZpZGVyKCdzbmFwX2NoYXRfcHJlZmVyZW5jZXMnKTtcbiAgICB0aGlzLl9oaXN0b3J5U3RvcmUgPSBzdG9yYWdlUHJvdmlkZXIoJ3NuYXBfY2hhdF9oaXN0b3J5Jyk7XG5cbiAgICB0aGlzLmlzQ29ubmVjdGVkQ2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuaXNFbmFibGVkQ2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuaXNQcmVzZW50Q2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgdGhpcy5hY3RpdmVEZXZpY2VzQ2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMucGVuZGluZ0RldmljZXNDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5jaGF0UmVxdWVzdFJlY2VpdmVkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5cbiAgICB0aGlzLmhpc3RvcnlDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5tZXNzYWdlUmVjZWl2ZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICBcbiAgICB0aGlzLmdpZnRSZXF1ZXN0UmVjZWl2ZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLmdpZnRBY2NlcHRlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgdGhpcy5fZ2lmdFNlYXQgPSBudWxsO1xuICAgIHRoaXMuZ2lmdFNlYXRDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5cbiAgICB0aGlzLl9naWZ0RGV2aWNlID0gbnVsbDtcbiAgICB0aGlzLmdpZnREZXZpY2VDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5cbiAgICB0aGlzLmdpZnRSZWFkeSA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuZ2lmdEFjY2VwdGVkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5cbiAgICB0aGlzLl9pc0VuYWJsZWQgPSBTTkFQTG9jYXRpb24uY2hhdDtcbiAgICB0aGlzLl9wZW5kaW5nRGV2aWNlcyA9IFtdO1xuICAgIHRoaXMuX2FjdGl2ZURldmljZXMgPSBbXTtcbiAgICB0aGlzLl9sYXN0UmVhZHMgPSB7fTtcblxuICAgIHRoaXMuX3ByZWZlcmVuY2VzU3RvcmUucmVhZCgpLnRoZW4ocHJlZnMgPT4ge1xuICAgICAgaWYgKCFwcmVmcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNlbGYuX2lzRW5hYmxlZCA9IEJvb2xlYW4ocHJlZnMuaXNfZW5hYmxlZCk7XG5cbiAgICAgIHNlbGYuX2FjdGl2ZURldmljZXMgPSBwcmVmcy5hY3RpdmVfZGV2aWNlcyB8fCBbXTtcbiAgICAgIHNlbGYuX3BlbmRpbmdEZXZpY2VzID0gcHJlZnMucGVuZGluZ19kZXZpY2VzIHx8IFtdO1xuICAgICAgc2VsZi5fbGFzdFJlYWRzID0gcHJlZnMubGFzdF9yZWFkcyB8fCB7fTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2hpc3RvcnlTdG9yZS5yZWFkKCkudGhlbihoaXN0b3J5ID0+IHtcbiAgICAgIHNlbGYuX2hpc3RvcnkgPSBoaXN0b3J5IHx8IFtdO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0IGlzQ29ubmVjdGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0Nvbm5lY3RlZDtcbiAgfVxuXG4gIHNldCBpc0Nvbm5lY3RlZCh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9pc0Nvbm5lY3RlZCA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pc0Nvbm5lY3RlZCA9IEJvb2xlYW4odmFsdWUpO1xuICAgIHRoaXMuaXNDb25uZWN0ZWRDaGFuZ2VkLmRpc3BhdGNoKHRoaXMuX2lzQ29ubmVjdGVkKTtcbiAgfVxuXG4gIGdldCBpc0VuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzRW5hYmxlZDtcbiAgfVxuXG4gIHNldCBpc0VuYWJsZWQodmFsdWUpIHtcbiAgICBpZiAodGhpcy5faXNFbmFibGVkID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2lzRW5hYmxlZCA9IEJvb2xlYW4odmFsdWUpO1xuICAgIHRoaXMuaXNFbmFibGVkQ2hhbmdlZC5kaXNwYXRjaCh0aGlzLl9pc0VuYWJsZWQpO1xuXG4gICAgdGhpcy5fdXBkYXRlUHJlZmVyZW5jZXMoKTtcbiAgfVxuXG4gIGdldCBpc1ByZXNlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzUHJlc2VudDtcbiAgfVxuXG4gIHNldCBpc1ByZXNlbnQodmFsdWUpIHtcbiAgICBpZiAodGhpcy5faXNQcmVzZW50ID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2lzUHJlc2VudCA9IEJvb2xlYW4odmFsdWUpO1xuICAgIHRoaXMuaXNQcmVzZW50Q2hhbmdlZC5kaXNwYXRjaCh0aGlzLl9pc1ByZXNlbnQpO1xuICB9XG5cbiAgZ2V0IGdpZnREZXZpY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dpZnREZXZpY2U7XG4gIH1cblxuICBzZXQgZ2lmdERldmljZSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9naWZ0RGV2aWNlID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2dpZnREZXZpY2UgPSB2YWx1ZTtcbiAgICB0aGlzLmdpZnREZXZpY2VDaGFuZ2VkLmRpc3BhdGNoKHRoaXMuX2dpZnREZXZpY2UpO1xuICB9XG5cbiAgZ2V0IGdpZnRTZWF0KCkge1xuICAgIHJldHVybiB0aGlzLl9naWZ0U2VhdDtcbiAgfVxuXG4gIHNldCBnaWZ0U2VhdCh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9naWZ0U2VhdCA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9naWZ0U2VhdCA9IHZhbHVlO1xuICAgIHRoaXMuZ2lmdFNlYXRDaGFuZ2VkLmRpc3BhdGNoKHRoaXMuX2dpZnRTZWF0KTtcbiAgfVxuXG4gIGdldCBwZW5kaW5nRGV2aWNlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fcGVuZGluZ0RldmljZXM7XG4gIH1cblxuICBzZXQgcGVuZGluZ0RldmljZXModmFsdWUpIHtcbiAgICB0aGlzLl9wZW5kaW5nRGV2aWNlcyA9IHZhbHVlIHx8IFtdO1xuICAgIHRoaXMucGVuZGluZ0RldmljZXNDaGFuZ2VkLmRpc3BhdGNoKHRoaXMucGVuZGluZ0RldmljZXMpO1xuICB9XG5cbiAgZ2V0IGFjdGl2ZURldmljZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FjdGl2ZURldmljZXM7XG4gIH1cblxuICBzZXQgYWN0aXZlRGV2aWNlcyh2YWx1ZSkge1xuICAgIHRoaXMuX2FjdGl2ZURldmljZXMgPSB2YWx1ZSB8fCBbXTtcbiAgICB0aGlzLmFjdGl2ZURldmljZXNDaGFuZ2VkLmRpc3BhdGNoKHRoaXMuYWN0aXZlRGV2aWNlcyk7XG4gIH1cblxuICBpc0FjdGl2ZURldmljZShkZXZpY2UpIHtcbiAgICByZXR1cm4gdGhpcy5hY3RpdmVEZXZpY2VzLmluZGV4T2YoZGV2aWNlLnRva2VuIHx8IGRldmljZSkgIT09IC0xO1xuICB9XG5cbiAgaXNQZW5kaW5nRGV2aWNlKGRldmljZSkge1xuICAgIHJldHVybiB0aGlzLnBlbmRpbmdEZXZpY2VzLmluZGV4T2YoZGV2aWNlLnRva2VuIHx8IGRldmljZSkgIT09IC0xO1xuICB9XG5cbiAgYWRkQWN0aXZlRGV2aWNlKGRldmljZSkge1xuICAgIHRoaXMuX2FjdGl2ZURldmljZXMucHVzaChkZXZpY2UudG9rZW4gfHwgZGV2aWNlKTtcbiAgICB0aGlzLmFjdGl2ZURldmljZXMgPSB0aGlzLl9hY3RpdmVEZXZpY2VzO1xuICB9XG5cbiAgYWRkUGVuZGluZ0RldmljZShkZXZpY2UpIHtcbiAgICB0aGlzLl9wZW5kaW5nRGV2aWNlcy5wdXNoKGRldmljZS50b2tlbiB8fCBkZXZpY2UpO1xuICAgIHRoaXMucGVuZGluZ0RldmljZXMgPSB0aGlzLl9wZW5kaW5nRGV2aWNlcztcbiAgfVxuXG4gIHJlbW92ZUFjdGl2ZURldmljZShkZXZpY2UpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmFjdGl2ZURldmljZXMuaW5kZXhPZihkZXZpY2UudG9rZW4gfHwgZGV2aWNlKTtcbiAgICB0aGlzLl9hY3RpdmVEZXZpY2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgdGhpcy5hY3RpdmVEZXZpY2VzID0gdGhpcy5fYWN0aXZlRGV2aWNlcztcbiAgfVxuXG4gIHJlbW92ZVBlbmRpbmdEZXZpY2UoZGV2aWNlKSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5wZW5kaW5nRGV2aWNlcy5pbmRleE9mKGRldmljZS50b2tlbiB8fCBkZXZpY2UpO1xuICAgIHRoaXMuX3BlbmRpbmdEZXZpY2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgdGhpcy5wZW5kaW5nRGV2aWNlcyA9IHRoaXMuX3BlbmRpbmdEZXZpY2VzO1xuICB9XG5cbiAgZ2V0IGhpc3RvcnkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hpc3Rvcnk7XG4gIH1cblxuICBzZXQgaGlzdG9yeSh2YWx1ZSkge1xuICAgIHRoaXMuX2hpc3RvcnkgPSB2YWx1ZSB8fCBbXTtcblxuICAgIHRoaXMuaGlzdG9yeUNoYW5nZWQuZGlzcGF0Y2godGhpcy5faGlzdG9yeSk7XG4gICAgdGhpcy5fdXBkYXRlSGlzdG9yeSgpO1xuICB9XG5cbiAgYWRkSGlzdG9yeShtZXNzYWdlKSB7XG4gICAgdGhpcy5faGlzdG9yeS5wdXNoKG1lc3NhZ2UpO1xuICAgIHRoaXMuaGlzdG9yeSA9IHRoaXMuX2hpc3Rvcnk7XG4gIH1cblxuICBnZXRMYXN0UmVhZChkZXZpY2UpIHtcbiAgICBsZXQgdG9rZW4gPSBkZXZpY2UudG9rZW4gfHwgZGV2aWNlO1xuICAgIHJldHVybiB0aGlzLl9sYXN0UmVhZHNbdG9rZW5dIHx8IG51bGw7XG4gIH1cblxuICBzZXRMYXN0UmVhZChkZXZpY2UsIHZhbHVlKSB7XG4gICAgbGV0IHRva2VuID0gZGV2aWNlLnRva2VuIHx8IGRldmljZTtcbiAgICB0aGlzLl9sYXN0UmVhZHNbdG9rZW5dID0gdmFsdWU7XG4gICAgdGhpcy5fdXBkYXRlUHJlZmVyZW5jZXMoKTtcbiAgfVxuXG4gIHNhdmUoKSB7XG4gICAgdGhpcy5fdXBkYXRlSGlzdG9yeSgpO1xuICAgIHRoaXMuX3VwZGF0ZVByZWZlcmVuY2VzKCk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLl9pc0Nvbm5lY3RlZCA9IHRoaXMuX2lzRW5hYmxlZCA9IHRoaXMuX2lzUHJlc2VudCA9IGZhbHNlO1xuICAgIHRoaXMuX2hpc3RvcnkgPSBbXTtcbiAgICB0aGlzLl9hY3RpdmVEZXZpY2VzID0gW107XG4gICAgdGhpcy5fcGVuZGluZ0RldmljZXMgPSBbXTtcblxuICAgIHRoaXMuX2hpc3RvcnlTdG9yZS5jbGVhcigpO1xuICAgIHRoaXMuX3ByZWZlcmVuY2VzU3RvcmUuY2xlYXIoKTtcbiAgfVxuXG4gIF91cGRhdGVIaXN0b3J5KCkge1xuICAgIHRoaXMuX2hpc3RvcnlTdG9yZS53cml0ZSh0aGlzLmhpc3RvcnkpO1xuICB9XG5cbiAgX3VwZGF0ZVByZWZlcmVuY2VzKCkge1xuICAgIHRoaXMuX3ByZWZlcmVuY2VzU3RvcmUud3JpdGUoe1xuICAgICAgaXNfZW5hYmxlZDogdGhpcy5pc0VuYWJsZWQsXG4gICAgICBhY3RpdmVfZGV2aWNlczogdGhpcy5hY3RpdmVEZXZpY2VzLFxuICAgICAgcGVuZGluZ19kZXZpY2VzOiB0aGlzLnBlbmRpbmdEZXZpY2VzLFxuICAgICAgbGFzdF9yZWFkczogdGhpcy5fbGFzdFJlYWRzXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tb2RlbC9jdXN0b21lcm1vZGVsLmpzXG5cbndpbmRvdy5hcHAuQ3VzdG9tZXJNb2RlbCA9IGNsYXNzIEN1c3RvbWVyTW9kZWwge1xuICAvKiBnbG9iYWwgc2lnbmFscyAqL1xuXG4gIGNvbnN0cnVjdG9yKENvbmZpZywgc3RvcmFnZVByb3ZpZGVyKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5fYWNjb3VudFN0b3JlID0gc3RvcmFnZVByb3ZpZGVyKCdzbmFwX2N1c3RvbWVyJyk7XG5cbiAgICB0aGlzLl9wcm9maWxlID0gbnVsbDtcblxuICAgIHRoaXMuX2lzR3Vlc3QgPSBmYWxzZTtcbiAgICB0aGlzLl9pc0VuYWJsZWQgPSBCb29sZWFuKENvbmZpZy5hY2NvdW50cyk7XG5cbiAgICB0aGlzLnByb2ZpbGVDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5cbiAgICB0aGlzLl9hY2NvdW50U3RvcmUucmVhZCgpLnRoZW4oYWNjb3VudCA9PiB7XG4gICAgICBzZWxmLl9pc0d1ZXN0ID0gYWNjb3VudCAmJiBhY2NvdW50LmlzX2d1ZXN0O1xuXG4gICAgICBpZiAoIWFjY291bnQgfHwgYWNjb3VudC5pc19ndWVzdCkge1xuICAgICAgICBzZWxmLl9wcm9maWxlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzZWxmLl9wcm9maWxlID0gYWNjb3VudC5wcm9maWxlO1xuICAgICAgfVxuXG4gICAgICBzZWxmLnByb2ZpbGVDaGFuZ2VkLmRpc3BhdGNoKHNlbGYuX3Byb2ZpbGUpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0IGlzRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gQm9vbGVhbih0aGlzLl9pc0VuYWJsZWQpO1xuICB9XG5cbiAgZ2V0IGlzQXV0aGVudGljYXRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0VuYWJsZWQgJiYgKEJvb2xlYW4odGhpcy5wcm9maWxlKSB8fCB0aGlzLmlzR3Vlc3QpO1xuICB9XG5cbiAgZ2V0IGlzR3Vlc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNFbmFibGVkICYmIEJvb2xlYW4odGhpcy5faXNHdWVzdCk7XG4gIH1cblxuICBnZXQgaGFzQ3JlZGVudGlhbHMoKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5pc0F1dGhlbnRpY2F0ZWQgJiYgIXRoaXMuaXNHdWVzdCAmJiB0aGlzLnByb2ZpbGUudHlwZSA9PT0gMSk7XG4gIH1cblxuICBnZXQgcHJvZmlsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvZmlsZTtcbiAgfVxuXG4gIHNldCBwcm9maWxlKHZhbHVlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuX3Byb2ZpbGUgPSB2YWx1ZSB8fCBudWxsO1xuICAgIHRoaXMuX2lzR3Vlc3QgPSB2YWx1ZSA9PT0gJ2d1ZXN0JztcblxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHRoaXMuX2FjY291bnRTdG9yZS5jbGVhcigpLnRoZW4oKCkgPT4ge1xuICAgICAgICBzZWxmLl9pc0d1ZXN0ID0gZmFsc2U7XG4gICAgICAgIHNlbGYucHJvZmlsZUNoYW5nZWQuZGlzcGF0Y2goc2VsZi5fcHJvZmlsZSk7XG4gICAgICAgIHNlbGYuc2Vzc2lvbiA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9hY2NvdW50U3RvcmUud3JpdGUoe1xuICAgICAgICBwcm9maWxlOiB0aGlzLl9wcm9maWxlLFxuICAgICAgICBpc19ndWVzdDogdGhpcy5faXNHdWVzdFxuICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgIHNlbGYucHJvZmlsZUNoYW5nZWQuZGlzcGF0Y2goc2VsZi5fcHJvZmlsZSk7XG5cbiAgICAgICAgaWYgKCF2YWx1ZSB8fCBzZWxmLl9pc0d1ZXN0KSB7XG4gICAgICAgICAgc2VsZi5zZXNzaW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbW9kZWwvZGF0YW1vZGVsLmpzXG5cbndpbmRvdy5hcHAuRGF0YU1vZGVsID0gY2xhc3MgRGF0YU1vZGVsIHtcbiAgY29uc3RydWN0b3IoY29uZmlnLCBzZXJ2aWNlLCBzdG9yYWdlUHJvdmlkZXIpIHtcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5fc2VydmljZSA9IHNlcnZpY2U7XG4gICAgdGhpcy5fY2FjaGUgPSB7fTtcbiAgICB0aGlzLl9zdG9yYWdlUHJvdmlkZXIgPSBzdG9yYWdlUHJvdmlkZXI7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICB0aGlzLl9jYWNoZSA9IHt9O1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgZGlnZXN0KGZldGNoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldFNuYXBEYXRhKCdkaWdlc3QnLCAnZ2V0RGlnZXN0JywgdW5kZWZpbmVkLCBmZXRjaCk7XG4gIH1cblxuICBob21lKGZldGNoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldFNuYXBEYXRhKCdob21lJywgJ2dldE1lbnVzJywgdW5kZWZpbmVkLCBmZXRjaCk7XG4gIH1cblxuICBhZHZlcnRpc2VtZW50cyhmZXRjaCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRTbmFwRGF0YSgnYWR2ZXJ0aXNlbWVudHMnLCAnZ2V0QWR2ZXJ0aXNlbWVudHMnLCB1bmRlZmluZWQsIGZldGNoKTtcbiAgfVxuXG4gIGJhY2tncm91bmRzKGZldGNoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldFNuYXBEYXRhKCdiYWNrZ3JvdW5kcycsICdnZXRCYWNrZ3JvdW5kcycsIHVuZGVmaW5lZCwgZmV0Y2gpO1xuICB9XG5cbiAgZWxlbWVudHMoZmV0Y2gpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0U25hcERhdGEoJ2VsZW1lbnRzJywgJ2dldEVsZW1lbnRzJywgdW5kZWZpbmVkLCBmZXRjaCk7XG4gIH1cblxuICBtZW51KGlkLCBmZXRjaCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRTbmFwRGF0YSgnbWVudScsICdnZXRNZW51JywgaWQsIGZldGNoKTtcbiAgfVxuXG4gIGNhdGVnb3J5KGlkLCBmZXRjaCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRTbmFwRGF0YSgnY2F0ZWdvcnknLCAnZ2V0TWVudUNhdGVnb3J5JywgaWQsIGZldGNoKTtcbiAgfVxuXG4gIGl0ZW0oaWQsIGZldGNoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldFNuYXBEYXRhKCdpdGVtJywgJ2dldE1lbnVJdGVtJywgaWQsIGZldGNoKTtcbiAgfVxuXG4gIHN1cnZleXMoZmV0Y2gpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0U25hcERhdGEoJ3N1cnZleXMnLCAnZ2V0U3VydmV5cycsIHVuZGVmaW5lZCwgZmV0Y2gpO1xuICB9XG5cbiAgbWVkaWEobWVkaWEpIHtcbiAgICB2YXIgdG9rZW4gPSBgJHttZWRpYS50b2tlbn1fJHttZWRpYS53aWR0aH1fJHttZWRpYS5oZWlnaHR9YDtcbiAgICByZXR1cm4gdGhpcy5fY2FjaGVkKCdtZWRpYScsIHRva2VuKSB8fCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAobmF2aWdhdG9yLm9uTGluZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmVqZWN0KGBBcHBsaWNhdGlvbiBpcyBvZmZsaW5lLCB1bmFibGUgdG8gbG9hZCBtZWRpYSAke3Rva2VufWApO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWEud2lkdGggJiYgbWVkaWEuaGVpZ2h0KSB7XG4gICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoaW1nKTtcbiAgICAgICAgaW1nLm9uZXJyb3IgPSAoZSkgPT4gcmVqZWN0KGUpO1xuICAgICAgICBpbWcuc3JjID0gdGhpcy5fZ2V0TWVkaWFVcmwobWVkaWEsIG1lZGlhLndpZHRoLCBtZWRpYS5oZWlnaHQsIG1lZGlhLmV4dGVuc2lvbik7XG5cbiAgICAgICAgdGhpcy5fc3RvcmUoaW1nLCAnbWVkaWEnLCB0b2tlbik7XG5cbiAgICAgICAgaWYgKGltZy5jb21wbGV0ZSkge1xuICAgICAgICAgIHJlc29sdmUoaW1nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlamVjdCgnTWlzc2luZyBpbWFnZSBkaW1lbnNpb25zJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfZ2V0U25hcERhdGEobmFtZSwgbWV0aG9kLCBpZCwgZmV0Y2gpIHtcbiAgICBpZiAoZmV0Y2gpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zZXJ2aWNlLnNuYXBbbWV0aG9kXSh0aGlzLl9jb25maWcubG9jYXRpb24sIGlkKS50aGVuKGRhdGEgPT4ge1xuICAgICAgICBkYXRhID0gZGF0YSB8fCBbXTtcbiAgICAgICAgdGhpcy5fc3RvcmUoZGF0YSwgbmFtZSwgaWQpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGxldCBjYWNoZWQgPSB0aGlzLl9jYWNoZWQobmFtZSwgaWQpO1xuXG4gICAgaWYgKGNhY2hlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjYWNoZWQpO1xuICAgIH1cblxuICAgIGxldCBzdG9yZWQgPSB0aGlzLl9zdG9yZWQobmFtZSwgaWQpO1xuXG4gICAgaWYgKHN0b3JlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShzdG9yZWQpO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgQ29udGVudCBpcyBub3QgYXZhaWxhYmxlOiAvJHtuYW1lfS8ke2lkIHx8ICcnfWApO1xuICB9XG5cbiAgX2NhY2hlZChncm91cCwgaWQpIHtcbiAgICBpZiAoaWQgJiYgdGhpcy5fY2FjaGVbZ3JvdXBdICYmIHRoaXMuX2NhY2hlW2dyb3VwXVtpZF0pIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fY2FjaGVbZ3JvdXBdW2lkXSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFpZCAmJiB0aGlzLl9jYWNoZVtncm91cF0pIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fY2FjaGVbZ3JvdXBdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIF9zdG9yZWQoZ3JvdXAsIGlkKSB7XG4gICAgbGV0IHN0b3JhZ2UgPSB0aGlzLl9nZXRTdG9yYWdlKGdyb3VwLCBpZCk7XG5cbiAgICByZXR1cm4gc3RvcmFnZS5yZWFkU3luYygpO1xuICB9XG5cbiAgX3N0b3JlKGRhdGEsIGdyb3VwLCBpZCkge1xuICAgIGlmIChpZCkge1xuICAgICAgaWYgKCF0aGlzLl9jYWNoZVtncm91cF0pIHtcbiAgICAgICAgdGhpcy5fY2FjaGVbZ3JvdXBdID0ge307XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2NhY2hlW2dyb3VwXVtpZF0gPSBkYXRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX2NhY2hlW2dyb3VwXSA9IGRhdGE7XG4gICAgfVxuXG4gICAgaWYgKGdyb3VwICE9PSAnbWVkaWEnKSB7XG4gICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuX2dldFN0b3JhZ2UoZ3JvdXAsIGlkKTtcbiAgICAgIHN0b3JhZ2Uud3JpdGUoZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgX2dldFN0b3JhZ2UoZ3JvdXAsIGlkKSB7XG4gICAgaWYgKGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3RvcmFnZVByb3ZpZGVyKGBzbmFwX2NhY2hlXyR7Z3JvdXB9XyR7aWR9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3N0b3JhZ2VQcm92aWRlcihgc25hcF9jYWNoZV8ke2dyb3VwfWApO1xuICB9XG5cbiAgX2dldE1lZGlhVXJsKCkge1xuXG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tb2RlbC9sb2NhdGlvbmNvbmZpZy5qc1xuXG53aW5kb3cuYXBwLkxvY2F0aW9uQ29uZmlnID0gY2xhc3MgTG9jYXRpb25Db25maWcge1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHRoaXMuaW5qZWN0KGRhdGEpO1xuICAgIH1cbiAgfVxuICBcbiAgaW5qZWN0KGRhdGEpIHtcbiAgICBPYmplY3Qua2V5cyhkYXRhKS5tYXAoayA9PiB7XG4gICAgICB0aGlzW2tdID0gZGF0YVtrXTtcbiAgICB9KTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21vZGVsL2xvY2F0aW9ubW9kZWwuanNcblxud2luZG93LmFwcC5Mb2NhdGlvbk1vZGVsID0gY2xhc3MgTG9jYXRpb25Nb2RlbCBleHRlbmRzIGFwcC5BYnN0cmFjdE1vZGVsIHtcbiAgY29uc3RydWN0b3IoRHRzQXBpLCBTTkFQRW52aXJvbm1lbnQsIFNOQVBMb2NhdGlvbiwgc3RvcmFnZVByb3ZpZGVyKSB7XG4gICAgc3VwZXIoc3RvcmFnZVByb3ZpZGVyKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuX2RlZmluZVByb3BlcnR5KCdkZXZpY2UnLCAnc25hcF9kZXZpY2UnLCBudWxsLCAoKSA9PiBEdHNBcGkuaGFyZHdhcmUuZ2V0Q3VycmVudERldmljZSgpKTtcbiAgICB0aGlzLl9kZWZpbmVQcm9wZXJ0eSgnZGV2aWNlcycsIHVuZGVmaW5lZCwgW10pO1xuICAgIHRoaXMuX2RlZmluZVByb3BlcnR5KCdzZWF0JywgJ3NuYXBfc2VhdCcsIG51bGwsICgpID0+IER0c0FwaS5sb2NhdGlvbi5nZXRDdXJyZW50U2VhdCgpKTtcbiAgICB0aGlzLl9kZWZpbmVQcm9wZXJ0eSgnc2VhdHMnLCAnc25hcF9zZWF0cycsIFtdLCAoKSA9PiBEdHNBcGkubG9jYXRpb24uZ2V0U2VhdHMoKSk7XG4gICAgdGhpcy5fZGVmaW5lUHJvcGVydHkoJ2xvY2F0aW9uJywgJ3NuYXBfbG9jYXRpb24nLCBTTkFQTG9jYXRpb24sICgpID0+IHtcbiAgICAgIGlmICghc2VsZi5kZXZpY2UpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdEZXZpY2UgZGF0YSBpcyBtaXNzaW5nLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gRHRzQXBpLnNuYXAuZ2V0Q29uZmlnKHNlbGYuZGV2aWNlLmxvY2F0aW9uX3Rva2VuKS50aGVuKGNvbmZpZyA9PiB7XG4gICAgICAgIFNOQVBMb2NhdGlvbi5pbmplY3QoY29uZmlnKTtcbiAgICAgICAgcmV0dXJuIFNOQVBMb2NhdGlvbjtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5pbml0aWFsaXplKCk7XG4gIH1cblxuICBhZGREZXZpY2UoZGV2aWNlKSB7XG4gICAgdGhpcy5kZXZpY2VzLnB1c2goZGV2aWNlKTtcbiAgICB0aGlzLl9wcm9wZXJ0eUNoYW5nZWQoJ2RldmljZScpO1xuICB9XG5cbiAgZ2V0U2VhdCh0b2tlbikge1xuICAgIHJldHVybiB0aGlzLnNlYXRzLmZpbHRlcihzZWF0ID0+IHNlYXQudG9rZW4gPT09IHRva2VuKVswXSB8fCBudWxsO1xuICB9XG5cbiAgZ2V0RGV2aWNlKGRldmljZSkge1xuICAgIHJldHVybiB0aGlzLmRldmljZXMuZmlsdGVyKGQgPT4gKGRldmljZS50b2tlbiB8fCBkZXZpY2UpID09PSBkLnRva2VuKVswXSB8fCBudWxsO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbW9kZWwvb3JkZXJtb2RlbC5qc1xuXG53aW5kb3cuYXBwLk9yZGVyTW9kZWwgPSBjbGFzcyBPcmRlck1vZGVsIHtcbiAgLyogZ2xvYmFsIHNpZ25hbHMgKi9cblxuICBjb25zdHJ1Y3RvcihzdG9yYWdlUHJvdmlkZXIpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLlJFUVVFU1RfS0lORF9PUkRFUiA9IDE7XG4gICAgdGhpcy5SRVFVRVNUX0tJTkRfQVNTSVNUQU5DRSA9IDI7XG4gICAgdGhpcy5SRVFVRVNUX0tJTkRfQ0xPU0VPVVQgPSAzO1xuXG4gICAgdGhpcy5wcmljZUZvcm1hdCA9ICd7MH0nO1xuICAgIHRoaXMudGF4ID0gMDtcblxuICAgIHRoaXMuX29yZGVyQ2FydCA9IFtdO1xuICAgIHRoaXMuX29yZGVyQ2FydFN0YXNoID0gW107XG4gICAgdGhpcy5fb3JkZXJDaGVjayA9IFtdO1xuICAgIHRoaXMuX29yZGVyVGlja2V0ID0ge307XG5cbiAgICB0aGlzLl9yZXF1ZXN0V2F0Y2hlcnMgPSB7fTtcblxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyAgICBTaWduYWxzXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgdGhpcy5vcmRlckNhcnRDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5vcmRlckNhcnRTdGFzaENoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLm9yZGVyQ2hlY2tDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5vcmRlclRpY2tldENoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLm9yZGVyUmVxdWVzdENoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLmFzc2lzdGFuY2VSZXF1ZXN0Q2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuY2xvc2VvdXRSZXF1ZXN0Q2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vICAgIEluaXRpYWxpemF0aW9uXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgZnVuY3Rpb24gcHJlcGFyZUNhcnREYXRhKGl0ZW1zKSB7XG4gICAgICByZXR1cm4gaXRlbXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzdG9yZUNhcnREYXRhKGl0ZW1zKSB7XG4gICAgICByZXR1cm4gaXRlbXMubWFwID8gaXRlbXMubWFwKGFwcC5DYXJ0SXRlbS5wcm90b3R5cGUucmVzdG9yZSkgOiBbXTtcbiAgICB9XG5cbiAgICB0aGlzLl9vcmRlckNhcnRTdG9yYWdlID0gc3RvcmFnZVByb3ZpZGVyKCdzbmFwX29yZGVyX2NhcnQnKTtcbiAgICB0aGlzLl9vcmRlckNhcnRTdG9yYWdlLnJlYWQoKS50aGVuKHZhbHVlID0+IHtcbiAgICAgIHNlbGYub3JkZXJDYXJ0ID0gcmVzdG9yZUNhcnREYXRhKHZhbHVlIHx8IFtdKTtcbiAgICAgIHNlbGYub3JkZXJDYXJ0Q2hhbmdlZC5kaXNwYXRjaChzZWxmLm9yZGVyQ2FydCk7XG4gICAgICBzZWxmLm9yZGVyQ2FydENoYW5nZWQuYWRkKGl0ZW1zID0+IHtcbiAgICAgICAgc2VsZi5fb3JkZXJDYXJ0U3RvcmFnZS53cml0ZShwcmVwYXJlQ2FydERhdGEoaXRlbXMpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fb3JkZXJDYXJ0U3Rhc2hTdG9yYWdlID0gc3RvcmFnZVByb3ZpZGVyKCdzbmFwX29yZGVyX2NhcnRfc3Rhc2gnKTtcbiAgICB0aGlzLl9vcmRlckNhcnRTdGFzaFN0b3JhZ2UucmVhZCgpLnRoZW4odmFsdWUgPT4ge1xuICAgICAgc2VsZi5vcmRlckNhcnRTdGFzaCA9IHJlc3RvcmVDYXJ0RGF0YSh2YWx1ZSB8fCBbXSk7XG4gICAgICBzZWxmLm9yZGVyQ2FydFN0YXNoQ2hhbmdlZC5kaXNwYXRjaChzZWxmLm9yZGVyQ2FydFN0YXNoKTtcbiAgICAgIHNlbGYub3JkZXJDYXJ0U3Rhc2hDaGFuZ2VkLmFkZChpdGVtcyA9PiB7XG4gICAgICAgIHNlbGYuX29yZGVyQ2FydFN0YXNoU3RvcmFnZS53cml0ZShwcmVwYXJlQ2FydERhdGEoaXRlbXMpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fb3JkZXJDaGVja1N0b3JhZ2UgPSBzdG9yYWdlUHJvdmlkZXIoJ3NuYXBfb3JkZXJfY2hlY2snKTtcbiAgICB0aGlzLl9vcmRlckNoZWNrU3RvcmFnZS5yZWFkKCkudGhlbih2YWx1ZSA9PiB7XG4gICAgICBzZWxmLm9yZGVyQ2hlY2sgPSByZXN0b3JlQ2FydERhdGEodmFsdWUgfHwgW10pO1xuICAgICAgc2VsZi5vcmRlckNoZWNrQ2hhbmdlZC5kaXNwYXRjaChzZWxmLm9yZGVyQ2hlY2spO1xuICAgICAgc2VsZi5vcmRlckNoZWNrQ2hhbmdlZC5hZGQoaXRlbXMgPT4ge1xuICAgICAgICBzZWxmLl9vcmRlckNoZWNrU3RvcmFnZS53cml0ZShwcmVwYXJlQ2FydERhdGEoaXRlbXMpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fb3JkZXJUaWNrZXRTdG9yYWdlID0gc3RvcmFnZVByb3ZpZGVyKCdzbmFwX29yZGVyX3RpY2tldCcpO1xuICAgIHRoaXMuX29yZGVyVGlja2V0U3RvcmFnZS5yZWFkKCkudGhlbih2YWx1ZSA9PiB7XG4gICAgICBzZWxmLm9yZGVyVGlja2V0ID0gdmFsdWUgfHwge307XG4gICAgICBzZWxmLm9yZGVyVGlja2V0Q2hhbmdlZC5kaXNwYXRjaChzZWxmLm9yZGVyVGlja2V0KTtcbiAgICAgIHNlbGYub3JkZXJUaWNrZXRDaGFuZ2VkLmFkZChkYXRhID0+IHtcbiAgICAgICAgc2VsZi5fb3JkZXJUaWNrZXRTdG9yYWdlLndyaXRlKGRhdGEpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHJvcGVydGllc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIGdldCBvcmRlckNhcnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX29yZGVyQ2FydDtcbiAgfVxuXG4gIHNldCBvcmRlckNhcnQodmFsdWUpIHtcbiAgICB0aGlzLl9vcmRlckNhcnQgPSB2YWx1ZSB8fCBbXTtcbiAgICB0aGlzLm9yZGVyQ2FydENoYW5nZWQuZGlzcGF0Y2godGhpcy5vcmRlckNhcnQpO1xuICB9XG5cbiAgZ2V0IG9yZGVyQ2FydFN0YXNoKCkge1xuICAgIHJldHVybiB0aGlzLl9vcmRlckNhcnRTdGFzaDtcbiAgfVxuXG4gIHNldCBvcmRlckNhcnRTdGFzaCh2YWx1ZSkge1xuICAgIHRoaXMuX29yZGVyQ2FydFN0YXNoID0gdmFsdWUgfHwgW107XG4gICAgdGhpcy5vcmRlckNhcnRTdGFzaENoYW5nZWQuZGlzcGF0Y2godGhpcy5vcmRlckNhcnRTdGFzaCk7XG4gIH1cblxuICBnZXQgb3JkZXJDaGVjaygpIHtcbiAgICByZXR1cm4gdGhpcy5fb3JkZXJDaGVjaztcbiAgfVxuXG4gIHNldCBvcmRlckNoZWNrKHZhbHVlKSB7XG4gICAgdGhpcy5fb3JkZXJDaGVjayA9IHZhbHVlIHx8IFtdO1xuICAgIHRoaXMub3JkZXJDaGVja0NoYW5nZWQuZGlzcGF0Y2godGhpcy5vcmRlckNoZWNrKTtcbiAgfVxuXG4gIGdldCBvcmRlclRpY2tldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fb3JkZXJUaWNrZXQ7XG4gIH1cblxuICBzZXQgb3JkZXJUaWNrZXQodmFsdWUpIHtcbiAgICB0aGlzLl9vcmRlclRpY2tldCA9IHZhbHVlIHx8IHt9O1xuICAgIHRoaXMub3JkZXJUaWNrZXRDaGFuZ2VkLmRpc3BhdGNoKHRoaXMub3JkZXJUaWNrZXQpO1xuICB9XG5cbiAgZ2V0IG9yZGVyUmVxdWVzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRXYXRjaGVyKHRoaXMuUkVRVUVTVF9LSU5EX09SREVSKTtcbiAgfVxuXG4gIGdldCBhc3Npc3RhbmNlUmVxdWVzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRXYXRjaGVyKHRoaXMuUkVRVUVTVF9LSU5EX0FTU0lTVEFOQ0UpO1xuICB9XG5cbiAgZ2V0IGNsb3Nlb3V0UmVxdWVzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRXYXRjaGVyKHRoaXMuUkVRVUVTVF9LSU5EX0NMT1NFT1VUKTtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBQdWJsaWMgbWV0aG9kc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgUmVxdWVzdCB3YXRjaGVyc1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgZ2V0V2F0Y2hlcihraW5kKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3RXYXRjaGVyc1traW5kXSB8fCBudWxsO1xuICB9XG5cbiAgYWRkV2F0Y2hlcihraW5kLCB3YXRjaGVyKSB7XG4gICAgdGhpcy5jbGVhcldhdGNoZXIoa2luZCk7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgd2F0Y2hlci5wcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKHNlbGYuZ2V0V2F0Y2hlcihraW5kKSAhPT0gd2F0Y2hlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWxmLmNsZWFyV2F0Y2hlcihraW5kKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3JlcXVlc3RXYXRjaGVyc1traW5kXSA9IHdhdGNoZXI7XG4gICAgdGhpcy5fbm90aWZ5Q2hhbmdlKGtpbmQpO1xuICB9XG5cbiAgY2xlYXJXYXRjaGVyKGtpbmQpIHtcbiAgICB2YXIgd2F0Y2hlciA9IHRoaXMuZ2V0V2F0Y2hlcihraW5kKTtcblxuICAgIGlmICh3YXRjaGVyKSB7XG4gICAgICB3YXRjaGVyLmRpc3Bvc2UoKTtcbiAgICB9XG5cbiAgICBkZWxldGUgdGhpcy5fcmVxdWVzdFdhdGNoZXJzW2tpbmRdO1xuICAgIHRoaXMuX25vdGlmeUNoYW5nZShraW5kKTtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBQcml2YXRlIG1ldGhvZHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBfbm90aWZ5Q2hhbmdlKGtpbmQpIHtcbiAgICB2YXIgc2lnbmFsO1xuXG4gICAgc3dpdGNoIChraW5kKSB7XG4gICAgICBjYXNlIHRoaXMuUkVRVUVTVF9LSU5EX09SREVSOlxuICAgICAgICBzaWduYWwgPSB0aGlzLm9yZGVyUmVxdWVzdENoYW5nZWQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSB0aGlzLlJFUVVFU1RfS0lORF9BU1NJU1RBTkNFOlxuICAgICAgICBzaWduYWwgPSB0aGlzLmFzc2lzdGFuY2VSZXF1ZXN0Q2hhbmdlZDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHRoaXMuUkVRVUVTVF9LSU5EX0NMT1NFT1VUOlxuICAgICAgICBzaWduYWwgPSB0aGlzLmNsb3Nlb3V0UmVxdWVzdENoYW5nZWQ7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChzaWduYWwpIHtcbiAgICAgIHNpZ25hbC5kaXNwYXRjaCh0aGlzLmdldFdhdGNoZXIoa2luZCkpO1xuICAgIH1cbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21vZGVsL3Nlc3Npb25tb2RlbC5qc1xuXG53aW5kb3cuYXBwLlNlc3Npb25Nb2RlbCA9IGNsYXNzIFNlc3Npb25Nb2RlbCBleHRlbmRzIGFwcC5BYnN0cmFjdE1vZGVsICB7XG4gIGNvbnN0cnVjdG9yKHN0b3JhZ2VQcm92aWRlcikge1xuICAgIHN1cGVyKHN0b3JhZ2VQcm92aWRlcik7XG5cbiAgICB0aGlzLl9kZWZpbmVQcm9wZXJ0eSgnYXBpVG9rZW4nLCAnc25hcF9hY2Nlc3N0b2tlbicpO1xuICAgIHRoaXMuX2RlZmluZVByb3BlcnR5KCdjdXN0b21lclRva2VuJywgJ3NuYXBfY3VzdG9tZXJfYWNjZXNzdG9rZW4nKTtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbW9kZWwvc2hlbGxtb2RlbC5qc1xuXG53aW5kb3cuYXBwLlNoZWxsTW9kZWwgPSBjbGFzcyBTaGVsbE1vZGVsIHtcbiAgLyogZ2xvYmFsIHNpZ25hbHMgKi9cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9iYWNrZ3JvdW5kcyA9IFtdO1xuICAgIHRoaXMuYmFja2dyb3VuZHNDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5fc2NyZWVuc2F2ZXJzID0gW107XG4gICAgdGhpcy5zY3JlZW5zYXZlcnNDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5fcGFnZUJhY2tncm91bmRzID0gW107XG4gICAgdGhpcy5wYWdlQmFja2dyb3VuZHNDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5fZWxlbWVudHMgPSBbXTtcbiAgICB0aGlzLmVsZW1lbnRzQ2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuX3ByaWNlRm9ybWF0ID0gJ3swfSc7XG4gICAgdGhpcy5wcmljZUZvcm1hdENoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLl9jdXJyZW5jeSA9ICcnO1xuICAgIHRoaXMuY3VycmVuY3lDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gIH1cblxuICBnZXQgYmFja2dyb3VuZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRzO1xuICB9XG5cbiAgc2V0IGJhY2tncm91bmRzKHZhbHVlKSB7XG4gICAgdGhpcy5fYmFja2dyb3VuZHMgPSB2YWx1ZTtcbiAgICB0aGlzLmJhY2tncm91bmRzQ2hhbmdlZC5kaXNwYXRjaCh2YWx1ZSk7XG4gIH1cblxuICBnZXQgc2NyZWVuc2F2ZXJzKCkge1xuICAgIHJldHVybiB0aGlzLl9zY3JlZW5zYXZlcnM7XG4gIH1cblxuICBzZXQgc2NyZWVuc2F2ZXJzKHZhbHVlKSB7XG4gICAgdGhpcy5fc2NyZWVuc2F2ZXJzID0gdmFsdWU7XG4gICAgdGhpcy5zY3JlZW5zYXZlcnNDaGFuZ2VkLmRpc3BhdGNoKHZhbHVlKTtcbiAgfVxuXG4gIGdldCBwYWdlQmFja2dyb3VuZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhZ2VCYWNrZ3JvdW5kcztcbiAgfVxuXG4gIHNldCBwYWdlQmFja2dyb3VuZHModmFsdWUpIHtcbiAgICB0aGlzLl9wYWdlQmFja2dyb3VuZHMgPSB2YWx1ZTtcbiAgICB0aGlzLnBhZ2VCYWNrZ3JvdW5kc0NoYW5nZWQuZGlzcGF0Y2godmFsdWUpO1xuICB9XG5cbiAgZ2V0IGVsZW1lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50cztcbiAgfVxuXG4gIHNldCBlbGVtZW50cyh2YWx1ZSkge1xuICAgIHRoaXMuX2VsZW1lbnRzID0gdmFsdWU7XG4gICAgdGhpcy5lbGVtZW50c0NoYW5nZWQuZGlzcGF0Y2godmFsdWUpO1xuICB9XG5cbiAgZ2V0IHByaWNlRm9ybWF0KCkge1xuICAgIHJldHVybiB0aGlzLl9wcmljZUZvcm1hdDtcbiAgfVxuXG4gIHNldCBwcmljZUZvcm1hdCh2YWx1ZSkge1xuICAgIHRoaXMuX3ByaWNlRm9ybWF0ID0gdmFsdWU7XG4gICAgdGhpcy5wcmljZUZvcm1hdENoYW5nZWQuZGlzcGF0Y2godmFsdWUpO1xuICB9XG5cbiAgZ2V0IGN1cnJlbmN5KCkge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW5jeTtcbiAgfVxuXG4gIHNldCBjdXJyZW5jeSh2YWx1ZSkge1xuICAgIHRoaXMuX2N1cnJlbmN5ID0gdmFsdWU7XG4gICAgdGhpcy5jdXJyZW5jeUNoYW5nZWQuZGlzcGF0Y2godmFsdWUpO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbW9kZWwvc3VydmV5bW9kZWwuanNcblxud2luZG93LmFwcC5TdXJ2ZXlNb2RlbCA9IGNsYXNzIFN1cnZleU1vZGVsIHtcbiAgLyogZ2xvYmFsIHNpZ25hbHMgKi9cblxuICBjb25zdHJ1Y3RvcihTTkFQTG9jYXRpb24sIHN0b3JhZ2VQcm92aWRlcikge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuX2lzRW5hYmxlZCA9IEJvb2xlYW4oU05BUExvY2F0aW9uLnN1cnZleXMpO1xuICAgIHRoaXMuX3N1cnZleXMgPSB7fTtcblxuICAgIHRoaXMuX3N0b3JlID0gc3RvcmFnZVByb3ZpZGVyKCdzbmFwX3N1cnZleScpO1xuXG4gICAgdGhpcy5fZmVlZGJhY2tTdXJ2ZXkgPSBudWxsO1xuICAgIHRoaXMuZmVlZGJhY2tTdXJ2ZXlDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5cbiAgICB0aGlzLnN1cnZleUNvbXBsZXRlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgdGhpcy5fc3RvcmUucmVhZCgpLnRoZW4odmFsdWUgPT4ge1xuICAgICAgc2VsZi5fc3VydmV5cyA9IHZhbHVlIHx8IHNlbGYuX3N1cnZleXM7XG4gICAgfSk7XG4gIH1cblxuICBnZXQgaXNFbmFibGVkKCkge1xuICAgIHJldHVybiBCb29sZWFuKHRoaXMuX2lzRW5hYmxlZCk7XG4gIH1cblxuICBnZXQgZmVlZGJhY2tTdXJ2ZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZlZWRiYWNrU3VydmV5O1xuICB9XG5cbiAgc2V0IGZlZWRiYWNrU3VydmV5KHZhbHVlKSB7XG4gICAgdGhpcy5fZmVlZGJhY2tTdXJ2ZXkgPSB2YWx1ZTtcbiAgICB0aGlzLmZlZWRiYWNrU3VydmV5Q2hhbmdlZC5kaXNwYXRjaCh0aGlzLl9mZWVkYmFja1N1cnZleSk7XG4gIH1cblxuICBnZXQgZmVlZGJhY2tTdXJ2ZXlDb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gQm9vbGVhbih0aGlzLl9zdXJ2ZXlzLmZlZWRiYWNrKTtcbiAgfVxuXG4gIHNldCBmZWVkYmFja1N1cnZleUNvbXBsZXRlKHZhbHVlKSB7XG4gICAgdGhpcy5fc3VydmV5cy5mZWVkYmFjayA9IEJvb2xlYW4odmFsdWUpO1xuICAgIHRoaXMuX3N0b3JlLndyaXRlKHRoaXMuX3N1cnZleXMpO1xuXG4gICAgdGhpcy5zdXJ2ZXlDb21wbGV0ZWQuZGlzcGF0Y2godGhpcy5mZWVkYmFja1N1cnZleSk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9wZXJzaXN0ZW5jZS9zdG9yZS5jb3Jkb3ZhLmpzXG5cbndpbmRvdy5hcHAuQ29yZG92YUxvY2FsU3RvcmFnZVN0b3JlID0gY2xhc3MgQ29yZG92YUxvY2FsU3RvcmFnZVN0b3JlIHtcbiAgY29uc3RydWN0b3IoaWQsIExvZ2dlcikge1xuICAgIHRoaXMuX2lkID0gaWQ7XG4gICAgdGhpcy5fTG9nZ2VyID0gTG9nZ2VyO1xuXG4gICAgaWYgKCFsb2NhbFN0b3JhZ2UpIHtcbiAgICAgIHRocm93IEVycm9yKCdDb3Jkb3ZhIG5vdCBmb3VuZC4nKTtcbiAgICB9XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5faWQpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuX0xvZ2dlci53YXJuKGBVbmFibGUgdG8gY2xlYXIgc3RvcmUgIyR7dGhpcy5faWR9OiAke2UubWVzc2FnZX1gKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICB9XG4gIH1cblxuICByZWFkKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgdmFsdWUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuX2lkKSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLl9Mb2dnZXIud2FybihgVW5hYmxlIHRvIHJlYWQgZnJvbSBzdG9yZSAjJHt0aGlzLl9pZH06ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgIH1cbiAgfVxuXG4gIHJlYWRTeW5jKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgdmFsdWUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuX2lkKSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5fTG9nZ2VyLndhcm4oYFVuYWJsZSB0byByZWFkIGZyb20gc3RvcmUgIyR7dGhpcy5faWR9OiAke2UubWVzc2FnZX1gKTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgd3JpdGUodmFsdWUpIHtcbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5faWQsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5fTG9nZ2VyLndhcm4oYFVuYWJsZSB0byB3cml0ZSB0byBzdG9yZSAjJHt0aGlzLl9pZH06ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgIH1cbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL3BlcnNpc3RlbmNlL3N0b3JlLmlubWVtb3J5LmpzXG5cbndpbmRvdy5hcHAuSW5NZW1vcnlTdG9yZSA9IGNsYXNzIEluTWVtb3J5U3RvcmUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9zdG9yYWdlID0gbnVsbDtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuX3N0b3JhZ2UgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgcmVhZCgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3N0b3JhZ2UpO1xuICB9XG5cbiAgcmVhZFN5bmMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0b3JhZ2U7XG4gIH1cblxuICB3cml0ZSh2YWx1ZSkge1xuICAgIHRoaXMuX3N0b3JhZ2UgPSB2YWx1ZTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9wZXJzaXN0ZW5jZS9zdG9yZS5sb2NhbHN0b3JhZ2UuanNcblxud2luZG93LmFwcC5Mb2NhbFN0b3JhZ2VTdG9yZSA9IGNsYXNzIExvY2FsU3RvcmFnZVN0b3JlIHtcbiAgY29uc3RydWN0b3IoaWQpIHtcbiAgICB0aGlzLl9pZCA9IGlkO1xuXG4gICAgaWYgKCFzdG9yZSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ1N0b3JlLmpzIG5vdCBmb3VuZC4nKTtcbiAgICB9XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0cnkge1xuICAgICAgc3RvcmUucmVtb3ZlKHRoaXMuX2lkKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgfVxuICB9XG5cbiAgcmVhZCgpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHZhbHVlID0gc3RvcmUuZ2V0KHRoaXMuX2lkKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICB9XG4gIH1cblxuICByZWFkU3luYygpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHN0b3JlLmdldCh0aGlzLl9pZCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICB3cml0ZSh2YWx1ZSkge1xuICAgIHRyeSB7XG4gICAgICBzdG9yZS5zZXQodGhpcy5faWQsIHZhbHVlKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgfVxuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvc2VydmljZS9iYWNrZW5kYXBpLmpzXG5cbndpbmRvdy5hcHAuQmFja2VuZEFwaSA9IGNsYXNzIEJhY2tlbmRBcGkge1xuICBjb25zdHJ1Y3RvcihIb3N0cywgU2Vzc2lvbk1vZGVsKSB7XG4gICAgdGhpcy5fU2Vzc2lvbk1vZGVsID0gU2Vzc2lvbk1vZGVsO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gYnVzaW5lc3NUb2tlblByb3ZpZGVyKCkge1xuICAgICAgaWYgKCFzZWxmLl9TZXNzaW9uTW9kZWwuYXBpVG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc2VsZi5fU2Vzc2lvbk1vZGVsLmFwaVRva2VuLmFjY2Vzc190b2tlbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3VzdG9tZXJUb2tlblByb3ZpZGVyKCkge1xuICAgICAgaWYgKCFzZWxmLl9TZXNzaW9uTW9kZWwuY3VzdG9tZXJUb2tlbikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShzZWxmLl9TZXNzaW9uTW9kZWwuY3VzdG9tZXJUb2tlbi5hY2Nlc3NfdG9rZW4pO1xuICAgIH1cblxuICAgIGZvciAodmFyIGtleSBpbiBEdHNBcGlDbGllbnQpIHtcbiAgICAgIGxldCBjb25maWcgPSB7XG4gICAgICAgIGhvc3Q6IHtcbiAgICAgICAgICBkb21haW46IEhvc3RzLmFwaS5ob3N0LFxuICAgICAgICAgIHNlY3VyZTogSG9zdHMuYXBpLnNlY3VyZSA9PT0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBsZXQgcHJvdmlkZXIgPSBidXNpbmVzc1Rva2VuUHJvdmlkZXI7XG5cbiAgICAgIGlmIChrZXkgPT09ICdzbmFwJykge1xuICAgICAgICBjb25maWcuaG9zdC5kb21haW4gPSBIb3N0cy5jb250ZW50Lmhvc3Q7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChrZXkgPT09ICdjdXN0b21lcicpIHtcbiAgICAgICAgcHJvdmlkZXIgPSBjdXN0b21lclRva2VuUHJvdmlkZXI7XG4gICAgICB9XG5cbiAgICAgIHRoaXNba2V5XSA9IG5ldyBEdHNBcGlDbGllbnRba2V5XShjb25maWcsIHByb3ZpZGVyKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9zZXJ2aWNlL2NhcmRyZWFkZXIuY29yZG92YS5qc1xuXG53aW5kb3cuYXBwLkNvcmRvdmFDYXJkUmVhZGVyID0gY2xhc3MgQ29yZG92YUNhcmRSZWFkZXIge1xuICAvKiBnbG9iYWwgc2lnbmFscyAqL1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMub25SZWNlaXZlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMub25FcnJvciA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgaWYgKCF3aW5kb3cuSURUZWNoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhcmQgcmVhZGVyIGlzIG5vdCBhdmFpbGFibGUuJyk7XG4gICAgfVxuICB9XG5cbiAgcmVjZWl2ZWQoY2FyZCkge1xuICAgIHRoaXMub25SZWNlaXZlZC5kaXNwYXRjaChjYXJkKTtcbiAgfVxuXG4gIGVycm9yKGUpIHtcbiAgICB0aGlzLm9uRXJyb3IuZGlzcGF0Y2goZSk7XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICBpZiAoIXRoaXMuX2FjdGl2ZSkge1xuICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcblxuICAgICAgd2luZG93LklEVGVjaC5zdGFydENhcmRSZWFkZXIoKGRhdGEpID0+IHRoaXMuX29uUmVjZWl2ZWQoZGF0YSksIGUgPT4gdGhpcy5fb25FcnJvcihlKSk7XG4gICAgfVxuICB9XG5cbiAgc3RvcCgpIHtcbiAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG4gICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcblxuICAgICAgd2luZG93LklEVGVjaC5zdG9wQ2FyZFJlYWRlcigoKSA9PiB7fSwgZSA9PiB7fSk7XG4gICAgfVxuICB9XG5cbiAgX29uUmVjZWl2ZWQoZGF0YSkge1xuICAgIGlmICghdGhpcy5fYWN0aXZlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5yZWNlaXZlZCh7XG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSk7XG4gIH1cblxuICBfb25FcnJvcihkYXRhKSB7XG4gICAgaWYgKCF0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmVycm9yKHtcbiAgICAgIGNhdXNlOiBwYXJzZUludChkYXRhKSB8fCAyXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9zZXJ2aWNlL2NhcmRyZWFkZXIuZ2VuZXJpYy5qc1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLyogZ2xvYmFsIHNpZ25hbHMgKi9cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgQ2FyZFJlYWRlclxuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIHZhciBDYXJkUmVhZGVyID0gZnVuY3Rpb24oTWFuYWdlbWVudFNlcnZpY2UpIHtcbiAgICB0aGlzLl9NYW5hZ2VtZW50U2VydmljZSA9IE1hbmFnZW1lbnRTZXJ2aWNlO1xuICAgIHRoaXMub25SZWNlaXZlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMub25FcnJvciA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICB9O1xuXG4gIENhcmRSZWFkZXIucHJvdG90eXBlLnJlY2VpdmVkID0gZnVuY3Rpb24oY2FyZCkge1xuICAgIHRoaXMub25SZWNlaXZlZC5kaXNwYXRjaChjYXJkKTtcbiAgfTtcblxuICBDYXJkUmVhZGVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uKGUpIHtcbiAgICB0aGlzLm9uRXJyb3IuZGlzcGF0Y2goZSk7XG4gIH07XG5cbiAgQ2FyZFJlYWRlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuX2FjdGl2ZSkge1xuICAgICAgdGhpcy5fTWFuYWdlbWVudFNlcnZpY2Uuc3RhcnRDYXJkUmVhZGVyKCkudGhlbihkYXRhID0+IHtcbiAgICAgICAgdGhpcy5yZWNlaXZlZChkYXRhKTtcbiAgICAgIH0sIGUgPT4ge1xuICAgICAgICB0aGlzLmVycm9yKGUpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICBDYXJkUmVhZGVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgdGhpcy5fTWFuYWdlbWVudFNlcnZpY2Uuc3RvcENhcmRSZWFkZXIoKTtcbiAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICB3aW5kb3cuYXBwLkNhcmRSZWFkZXIgPSBDYXJkUmVhZGVyO1xufSkoKTtcblxuLy9zcmMvanMvc2hhcmVkL3NlcnZpY2UvbWFuYWdlbWVudHNlcnZpY2UuY29yZG92YS5qc1xuXG53aW5kb3cuYXBwLkNvcmRvdmFNYW5hZ2VtZW50U2VydmljZSA9IGNsYXNzIENvcmRvdmFNYW5hZ2VtZW50U2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGlmICghd2luZG93LmNvcmRvdmEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ29yZG92YSBpcyBub3QgYXZhaWxhYmxlLicpO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3cuc2NyZWVuKSB7XG4gICAgICB0aGlzLl9vcmllbnRhdGlvbiA9IHdpbmRvdy5zY3JlZW4ub3JpZW50YXRpb247XG4gICAgfVxuICB9XG5cbiAgbG9hZFJlc2V0KCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgoKSA9PiB3aW5kb3cub3BlbigncmVzZXQuaHRtbCcsICdfc2VsZicpKTtcbiAgfVxuXG4gIGxvYWRTdGFydHVwKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgoKSA9PiB3aW5kb3cub3Blbignc3RhcnR1cC5odG1sJywgJ19zZWxmJykpO1xuICB9XG5cbiAgbG9hZEFwcGxpY2F0aW9uKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKCgpID0+IHdpbmRvdy5vcGVuKGBzbmFwXyR7bG9jYXRpb24udGhlbWUubGF5b3V0fS5odG1sYCwgJ19zZWxmJykpO1xuICB9XG5cbiAgcm90YXRlU2NyZWVuKCkge1xuICAgIGlmICghd2luZG93LnNjcmVlbiB8fCAhdGhpcy5fb3JpZW50YXRpb24pIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgdmFyIG9yaWVudGF0aW9uO1xuICAgICAgc3dpdGNoIChzZWxmLl9vcmllbnRhdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2xhbmRzY2FwZSc6XG4gICAgICAgIGNhc2UgJ2xhbmRzY2FwZS1wcmltYXJ5JzpcbiAgICAgICAgICBvcmllbnRhdGlvbiA9ICdsYW5kc2NhcGUtc2Vjb25kYXJ5JztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbGFuZHNjYXBlLXNlY29uZGFyeSc6XG4gICAgICAgICAgb3JpZW50YXRpb24gPSAnbGFuZHNjYXBlLXByaW1hcnknO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIG9yaWVudGF0aW9uID0gJ2xhbmRzY2FwZS1wcmltYXJ5JztcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgd2luZG93LnNjcmVlbi5sb2NrT3JpZW50YXRpb24ob3JpZW50YXRpb24pO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgb3BlbkJyb3dzZXIodXJsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgbGV0IHNldHRpbmdzID0ge1xuICAgICAgICAgICAgbG9jYXRpb246ICd5ZXMnLFxuICAgICAgICAgICAgY2xlYXJjYWNoZTogJ3llcycsXG4gICAgICAgICAgICBjbGVhcnNlc3Npb25jYWNoZTogJ3llcycsXG4gICAgICAgICAgICB6b29tOiAnbm8nLFxuICAgICAgICAgICAgaGFyZHdhcmViYWNrOiAnbm8nXG4gICAgICAgICAgfTtcblxuICAgICAgbGV0IHJlZiA9IG5ldyBhcHAuQ29yZG92YVdlYkJyb3dzZXJSZWZlcmVuY2UodXJsKTtcbiAgICAgIHJlZi5hdHRhY2god2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJywgT2JqZWN0LmtleXMoc2V0dGluZ3MpLm1hcCh4ID0+IGAke3h9PSR7c2V0dGluZ3NbeF19YCkuam9pbignLCcpKSk7XG5cbiAgICAgIHJlc29sdmUocmVmKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsb3NlQnJvd3NlcihyZWZlcmVuY2UpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICByZWZlcmVuY2UuZXhpdCgpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0U291bmRWb2x1bWUoKSB7XG4gICAgaWYgKCF3aW5kb3cudm9sdW1lKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKDEwMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHdpbmRvdy52b2x1bWUuZ2V0Vm9sdW1lKHJlc29sdmUsIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBzZXRTb3VuZFZvbHVtZSh2YWx1ZSkge1xuICAgIGlmICghKHZhbHVlID49IDAgJiYgdmFsdWUgPD0gMTAwKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBJbnZhbGlkIHZhbHVlOiAke3ZhbHVlfWApO1xuICAgIH1cblxuICAgIGlmICghd2luZG93LnZvbHVtZSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB3aW5kb3cudm9sdW1lLnNldFZvbHVtZSh2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldERpc3BsYXlCcmlnaHRuZXNzKCkge1xuICAgIGlmICghd2luZG93LmJyaWdodG5lc3MpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoMTAwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgd2luZG93LmJyaWdodG5lc3MuZ2V0QnJpZ2h0bmVzcyh2YWx1ZSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSA8IDApIHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZSg1MCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YWx1ZSA9IHBhcnNlSW50KHZhbHVlICogMTAwKTtcbiAgICAgICAgdmFsdWUgPSBNYXRoLm1pbigxMDAsIHZhbHVlKTtcbiAgICAgICAgdmFsdWUgPSBNYXRoLm1heCgwLCB2YWx1ZSk7XG5cbiAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0RGlzcGxheUJyaWdodG5lc3ModmFsdWUpIHtcbiAgICBpZiAoISh2YWx1ZSA+PSAwICYmIHZhbHVlIDw9IDEwMCkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgSW52YWxpZCB2YWx1ZTogJHt2YWx1ZX1gKTtcbiAgICB9XG5cbiAgICBpZiAoIXdpbmRvdy5icmlnaHRuZXNzKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHdpbmRvdy5icmlnaHRuZXNzLnNldEJyaWdodG5lc3ModmFsdWUgLyAxMDAsICgpID0+IHJlc29sdmUoKSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXJ0Q2FyZFJlYWRlcigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgSURUZWNoLnN0YXJ0Q2FyZFJlYWRlcihyZXNvbHZlLCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgc3RvcENhcmRSZWFkZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIElEVGVjaC5zdG9wQ2FyZFJlYWRlcihyZXNvbHZlLCByZWplY3QpO1xuICAgIH0pO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvc2VydmljZS9tYW5hZ2VtZW50c2VydmljZS5lbGVjdHJvbi5qc1xuXG53aW5kb3cuYXBwLkVsZWN0cm9uTWFuYWdlbWVudFNlcnZpY2UgPSBjbGFzcyBFbGVjdHJvbk1hbmFnZW1lbnRTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgaWYgKCFyZXF1aXJlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vZGUuanMgY29udGV4dCBub3QgZm91bmQuJyk7XG4gICAgfVxuXG4gICAgdGhpcy5faXBjID0gcmVxdWlyZSgnaXBjJyk7XG5cbiAgICBpZiAoIXRoaXMuX2lwYykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJUEMgbW9kdWxlIG5vdCBmb3VuZC4nKTtcbiAgICB9XG4gIH1cblxuICBsb2FkUmVzZXQoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKCgpID0+IHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oJ3Jlc2V0Lmh0bWwnKSk7XG4gIH1cblxuICBsb2FkU3RhcnR1cCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKCkgPT4gd2luZG93LmxvY2F0aW9uLmFzc2lnbignc3RhcnR1cC5odG1sJykpO1xuICB9XG5cbiAgbG9hZEFwcGxpY2F0aW9uKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKCgpID0+IHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oYHNuYXBfJHtsb2NhdGlvbi50aGVtZS5sYXlvdXR9Lmh0bWxgKSk7XG4gIH1cblxuICBvcGVuQnJvd3Nlcih1cmwpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBhcHAuV2ViVmlld0Jyb3dzZXJSZWZlcmVuY2UodXJsKSk7XG4gIH1cblxuICBjbG9zZUJyb3dzZXIocmVmZXJlbmNlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgcmVmZXJlbmNlLmV4aXQoKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJvdGF0ZVNjcmVlbigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAvL3RoaXMuX2lwYy5zZW5kKCdyb3RhdGUtc2NyZWVuJyk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRTb3VuZFZvbHVtZSgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKDUwKTtcbiAgICAvLyByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgLy8gICB0aGlzLl9pcGMub24oJ2dldC1zb3VuZC12b2x1bWUtcmVzdWx0JywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAvLyAgICAgcmVzb2x2ZShwYXJzZUZsb2F0KHZhbHVlKSAqIDEwMCk7XG4gICAgLy8gICB9KTtcbiAgICAvLyAgIHRoaXMuX2lwYy5zZW5kKCdnZXQtc291bmQtdm9sdW1lJyk7XG4gICAgLy8gfSk7XG4gIH1cblxuICBzZXRTb3VuZFZvbHVtZSgpIHtcbiAgICBpZiAoISh2YWx1ZSA+PSAwICYmIHZhbHVlIDw9IDEwMCkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgSW52YWxpZCB2YWx1ZTogJHt2YWx1ZX1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAvL3RoaXMuX2lwYy5zZW5kKCdzZXQtc291bmQtdm9sdW1lJywgdmFsdWUgKiAwLjAxKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldERpc3BsYXlCcmlnaHRuZXNzKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoNTApO1xuICAgIC8vIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAvLyAgIHRoaXMuX2lwYy5vbignZ2V0LWRpc3BsYXktYnJpZ2h0bmVzcy1yZXN1bHQnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgIC8vICAgICByZXNvbHZlKHBhcnNlRmxvYXQodmFsdWUpICogMTAwKTtcbiAgICAvLyAgIH0pO1xuICAgIC8vICAgdGhpcy5faXBjLnNlbmQoJ2dldC1kaXNwbGF5LWJyaWdodG5lc3MnKTtcbiAgICAvLyB9KTtcbiAgfVxuXG4gIHNldERpc3BsYXlCcmlnaHRuZXNzKHZhbHVlKSB7XG4gICAgaWYgKCEodmFsdWUgPj0gMCAmJiB2YWx1ZSA8PSAxMDApKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEludmFsaWQgdmFsdWU6ICR7dmFsdWV9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgLy90aGlzLl9pcGMuc2VuZCgnc2V0LWRpc3BsYXktYnJpZ2h0bmVzcycsIHZhbHVlICogMC4wMSk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH1cblxuICBzdGFydENhcmRSZWFkZXIoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgLy8gcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAvLyAgIHRoaXMuX2lwYy5vbignY2FyZC1yZWFkZXItcmVzdWx0JywgZnVuY3Rpb24oZGF0YSkge1xuICAgIC8vICAgICByZXNvbHZlKGRhdGEpO1xuICAgIC8vICAgfSk7XG4gICAgLy8gICB0aGlzLl9pcGMub24oJ2NhcmQtcmVhZGVyLWVycm9yJywgZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgIHJlamVjdCgpO1xuICAgIC8vICAgfSk7XG4gICAgLy8gICB0aGlzLl9pcGMuc2VuZCgnc3RhcnQtY2FyZC1yZWFkZXInKTtcbiAgICAvLyB9KTtcbiAgfVxuXG4gIHN0b3BDYXJkUmVhZGVyKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICAgIC8vIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAvLyAgIHRoaXMuX2lwYy5zZW5kKCdzdG9wLWNhcmQtcmVhZGVyJyk7XG4gICAgLy8gICByZXNvbHZlKCk7XG4gICAgLy8gfSk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9zZXJ2aWNlL21hbmFnZW1lbnRzZXJ2aWNlLmdlbmVyaWMuanNcblxud2luZG93LmFwcC5HZW5lcmljTWFuYWdlbWVudFNlcnZpY2UgPSBjbGFzcyBHZW5lcmljTWFuYWdlbWVudFNlcnZpY2Uge1xuICBsb2FkUmVzZXQoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKCgpID0+IHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oJ3Jlc2V0Lmh0bWwnKSk7XG4gIH1cblxuICBsb2FkU3RhcnR1cCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKCkgPT4gd2luZG93LmxvY2F0aW9uLmFzc2lnbignc3RhcnR1cC5odG1sJykpO1xuICB9XG5cbiAgbG9hZEFwcGxpY2F0aW9uKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKCgpID0+IHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oYHNuYXBfJHtsb2NhdGlvbi50aGVtZS5sYXlvdXR9Lmh0bWxgKSk7XG4gIH1cblxuICBvcGVuQnJvd3Nlcih1cmwpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBhcHAuSWZyYW1lV2ViQnJvd3NlclJlZmVyZW5jZSh1cmwpKTtcbiAgfVxuXG4gIGNsb3NlQnJvd3NlcihyZWZlcmVuY2UpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICByZWZlcmVuY2UuZXhpdCgpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgcm90YXRlU2NyZWVuKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICB9XG5cbiAgZ2V0U291bmRWb2x1bWUoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gIH1cblxuICBzZXRTb3VuZFZvbHVtZSgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgfVxuXG4gIGdldERpc3BsYXlCcmlnaHRuZXNzKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICB9XG5cbiAgc2V0RGlzcGxheUJyaWdodG5lc3MoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gIH1cblxuICBzdGFydENhcmRSZWFkZXIoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gIH1cblxuICBzdG9wQ2FyZFJlYWRlcigpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL3NlcnZpY2Uvc29ja2V0Y2xpZW50LmpzXG5cbndpbmRvdy5hcHAuU29ja2V0Q2xpZW50ID0gY2xhc3MgU29ja2V0Q2xpZW50IHtcbiAgY29uc3RydWN0b3IoU2Vzc2lvbk1vZGVsLCBIb3N0cywgTG9nZ2VyKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5fU2Vzc2lvbk1vZGVsID0gU2Vzc2lvbk1vZGVsO1xuICAgIHRoaXMuX0xvZ2dlciA9IExvZ2dlcjtcblxuICAgIHRoaXMuaXNDb25uZWN0ZWRDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5cbiAgICB0aGlzLl9jaGFubmVscyA9IHt9O1xuICAgIHRoaXMuX2lzQ29ubmVjdGVkID0gZmFsc2U7XG5cbiAgICB0aGlzLl9zb2NrZXQgPSBzb2NrZXRDbHVzdGVyLmNvbm5lY3Qoe1xuICAgICAgaG9zdG5hbWU6IEhvc3RzLnNvY2tldC5ob3N0LFxuICAgICAgcGF0aDogSG9zdHMuc29ja2V0LnBhdGgsXG4gICAgICBwb3J0OiBIb3N0cy5zb2NrZXQucG9ydCxcbiAgICAgIHNlY3VyZTogSG9zdHMuc29ja2V0LnNlY3VyZVxuICAgIH0pO1xuICAgIHRoaXMuX3NvY2tldC5vbignY29ubmVjdCcsIHN0YXR1cyA9PiB7XG4gICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoYFNvY2tldCBjb25uZWN0ZWQuYCk7XG4gICAgICBzZWxmLl9hdXRoZW50aWNhdGUoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zb2NrZXQub24oJ2Rpc2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoYFNvY2tldCBkaXNjb25uZWN0ZWQuYCk7XG4gICAgICBzZWxmLl9pc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgc2VsZi5pc0Nvbm5lY3RlZENoYW5nZWQuZGlzcGF0Y2goc2VsZi5pc0Nvbm5lY3RlZCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXQgaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzQ29ubmVjdGVkO1xuICB9XG5cbiAgc3Vic2NyaWJlKHRvcGljLCBoYW5kbGVyKSB7XG4gICAgdGhpcy5fZ2V0Q2hhbm5lbCh0b3BpYykud2F0Y2goaGFuZGxlcik7XG4gIH1cblxuICBzZW5kKHRvcGljLCBkYXRhKSB7XG4gICAgdGhpcy5fZ2V0Q2hhbm5lbCh0b3BpYykucHVibGlzaChkYXRhKTtcbiAgfVxuXG4gIF9nZXRDaGFubmVsKHRvcGljKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NoYW5uZWxzW3RvcGljXSB8fCAodGhpcy5fY2hhbm5lbHNbdG9waWNdID0gdGhpcy5fc29ja2V0LnN1YnNjcmliZSh0b3BpYykpO1xuICB9XG5cbiAgX2F1dGhlbnRpY2F0ZSgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5fc29ja2V0LmVtaXQoJ2F1dGhlbnRpY2F0ZScsIHtcbiAgICAgIGFjY2Vzc190b2tlbjogc2VsZi5fU2Vzc2lvbk1vZGVsLmFwaVRva2VuXG4gICAgfSwgZXJyID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgc2VsZi5fTG9nZ2VyLndhcm4oYFVuYWJsZSB0byBhdXRoZW50aWNhdGUgc29ja2V0OiAke2Vyci5tZXNzYWdlfWApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNlbGYuX2lzQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgIHNlbGYuaXNDb25uZWN0ZWRDaGFuZ2VkLmRpc3BhdGNoKHNlbGYuaXNDb25uZWN0ZWQpO1xuICAgIH0pO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvc2VydmljZS90ZWxlbWV0cnlzZXJ2aWNlLmpzXG5cbndpbmRvdy5hcHAuVGVsZW1ldHJ5U2VydmljZSA9IGNsYXNzIFRlbGVtZXRyeVNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigkcmVzb3VyY2UpIHtcbiAgICB0aGlzLl9hcGkgPSB7XG4gICAgICAnc3VibWl0VGVsZW1ldHJ5JzogJHJlc291cmNlKCcvc25hcC90ZWxlbWV0cnknLCB7fSwgeyBxdWVyeTogeyBtZXRob2Q6ICdQT1NUJyB9IH0pLFxuICAgICAgJ3N1Ym1pdExvZ3MnOiAkcmVzb3VyY2UoJy9zbmFwL2xvZ3MnLCB7fSwgeyBxdWVyeTogeyBtZXRob2Q6ICdQT1NUJyB9IH0pXG4gICAgfTtcbiAgfVxuXG4gIHN1Ym1pdFRlbGVtZXRyeShkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FwaS5zdWJtaXRUZWxlbWV0cnkucXVlcnkoZGF0YSkuJHByb21pc2U7XG4gIH1cblxuICBzdWJtaXRMb2dzKGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5fYXBpLnN1Ym1pdExvZ3MucXVlcnkoZGF0YSkuJHByb21pc2U7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9zZXJ2aWNlL3dlYmJyb3dzZXIuanNcblxud2luZG93LmFwcC5XZWJCcm93c2VyID0gY2xhc3MgV2ViQnJvd3NlciB7XG4gIC8qIGdsb2JhbCBzaWduYWxzLCBVUkkgKi9cblxuICBjb25zdHJ1Y3RvcihBbmFseXRpY3NNb2RlbCwgTWFuYWdlbWVudFNlcnZpY2UsIFNOQVBFbnZpcm9ubWVudCwgU05BUEhvc3RzKSB7XG4gICAgdGhpcy5fQW5hbHl0aWNzTW9kZWwgPSBBbmFseXRpY3NNb2RlbDtcbiAgICB0aGlzLl9NYW5hZ2VtZW50U2VydmljZSA9IE1hbmFnZW1lbnRTZXJ2aWNlO1xuICAgIHRoaXMuX1NOQVBFbnZpcm9ubWVudCA9IFNOQVBFbnZpcm9ubWVudDtcblxuICAgIHRoaXMuX2xvY2FsSG9zdHMgPSBPYmplY3Qua2V5cyhTTkFQSG9zdHMpXG4gICAgICAubWFwKHAgPT4gU05BUEhvc3RzW3BdLmhvc3QpXG4gICAgICAuZmlsdGVyKGggPT4gQm9vbGVhbihoKSk7XG4gICAgdGhpcy5fbG9jYWxIb3N0cy5wdXNoKCdsb2NhbGhvc3QnKTtcblxuICAgIHRoaXMub25PcGVuZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLm9uQ2xvc2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5vbk5hdmlnYXRlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgdGhpcy5fYnJvd3NlciA9IG51bGw7XG4gIH1cblxuICBvcGVuKHVybCkge1xuICAgIGlmICh0aGlzLl9icm93c2VyKSB7XG4gICAgICB0aGlzLl9icm93c2VyLm5hdmlnYXRlKHVybCk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2Jyb3dzZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLl9NYW5hZ2VtZW50U2VydmljZS5vcGVuQnJvd3Nlcih1cmwpLnRoZW4oYnJvd3NlciA9PiB7XG4gICAgICAgIHRoaXMuX2Jyb3dzZXIgPSBicm93c2VyO1xuICAgICAgICB0aGlzLm9uT3BlbmVkLmRpc3BhdGNoKHRoaXMuX2Jyb3dzZXIpO1xuXG4gICAgICAgIHRoaXMuX2Jyb3dzZXIub25OYXZpZ2F0ZWQuYWRkKHVybCA9PiB7XG4gICAgICAgICAgdGhpcy5vbk5hdmlnYXRlZC5kaXNwYXRjaCh1cmwpO1xuXG4gICAgICAgICAgbGV0IGhvc3QgPSBVUkkodXJsKS5ob3N0bmFtZSgpO1xuXG4gICAgICAgICAgaWYgKHRoaXMuX2xvY2FsSG9zdHMuaW5kZXhPZihob3N0KSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX0FuYWx5dGljc01vZGVsLmxvZ1VybCh1cmwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fYnJvd3Nlci5vbkV4aXQuYWRkT25jZSgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5vbkNsb3NlZC5kaXNwYXRjaCgpO1xuICAgICAgICAgIHRoaXMuX2Jyb3dzZXIgPSBudWxsO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXNvbHZlKGJyb3dzZXIpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIGlmICghdGhpcy5fYnJvd3Nlcikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9NYW5hZ2VtZW50U2VydmljZS5jbG9zZUJyb3dzZXIodGhpcy5fYnJvd3NlcikudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLl9icm93c2VyID0gbnVsbDtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEZsYXNoVXJsKHVybCwgd2lkdGgsIGhlaWdodCkge1xuICAgIHJldHVybiBgZmxhc2guaHRtbCNtZWRpYT0ke2VuY29kZVVSSUNvbXBvbmVudCh1cmwpfWAgK1xuICAgICAgYCZ3aWR0aD0ke2VuY29kZVVSSUNvbXBvbmVudCh3aWR0aCl9YCArXG4gICAgICBgJmhlaWdodD0ke2VuY29kZVVSSUNvbXBvbmVudChoZWlnaHQpfWA7XG4gIH1cblxuICBpc1ByaXZhdGVVcmwodXJsKSB7XG4gICAgcmV0dXJuICF1cmwuc3RhcnRzV2l0aCgnaHR0cCcpIHx8IHRoaXMuX2xvY2FsSG9zdHMuaW5kZXhPZihVUkkodXJsKS5ob3N0bmFtZSgpKSAhPT0gLTE7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC93b3JrZXJzL2ZsYXNoc3RhcnRlci5qc1xuXG53aW5kb3cuYXBwLkZsYXNoU3RhcnRlciA9IGNsYXNzIEZsYXNoU3RhcnRlciB7XG4gIC8qIGdsb2JhbCBzd2ZvYmplY3QgKi9cblxuICBjb25zdHJ1Y3RvcihMb2dnZXIsIFNOQVBIb3N0cykge1xuICAgIHRoaXMuX0xvZ2dlciA9IExvZ2dlcjtcbiAgICB0aGlzLl9TTkFQSG9zdHMgPSBTTkFQSG9zdHM7XG4gIH1cblxuICBzdGFydChjb250YWluZXJJZCwgdXJsLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgdmFyIGZsYXNodmFycyA9IHt9LFxuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgbWVudTogJ2ZhbHNlJyxcbiAgICAgICAgICB3bW9kZTogJ2RpcmVjdCcsXG4gICAgICAgICAgYWxsb3dGdWxsU2NyZWVuOiAnZmFsc2UnXG4gICAgICAgIH0sXG4gICAgICAgIGF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgaWQ6IGNvbnRhaW5lcklkLFxuICAgICAgICAgIG5hbWU6IGNvbnRhaW5lcklkXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgc3dmb2JqZWN0LmVtYmVkU1dGKFxuICAgICAgdXJsLFxuICAgICAgY29udGFpbmVySWQsXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgICcxNi4wLjAnLFxuICAgICAgJ2V4cHJlc3NJbnN0YWxsLnN3ZicsXG4gICAgICBmbGFzaHZhcnMsXG4gICAgICBwYXJhbXMsXG4gICAgICBhdHRyaWJ1dGVzLFxuICAgICAgZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGlmIChyZXMuc3VjY2VzcyAhPT0gdHJ1ZSkge1xuICAgICAgICAgIHNlbGYuX0xvZ2dlci53YXJuKGBVbmFibGUgdG8gc3RhcnQgRmxhc2ggaW4gY29udGFpbmVyICMke2NvbnRhaW5lcklkfTogJHt1cmx9ICR7d2lkdGh9LyR7aGVpZ2h0fWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL3dvcmtlcnMvaGVhdG1hcC5qc1xuXG53aW5kb3cuYXBwLkhlYXRNYXAgPSBjbGFzcyBIZWF0TWFwIHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuX2xpc3RlbmVyID0gZSA9PiB7XG4gICAgICBzZWxmLl9vbkNsaWNrKGUpO1xuICAgIH07XG5cbiAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fbGlzdGVuZXIpO1xuXG4gICAgdGhpcy5jbGlja2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gIH1cblxuICBkaXNwb3NlKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9saXN0ZW5lcik7XG4gIH1cblxuICBfb25DbGljayhlKSB7XG4gICAgbGV0IGRhdGEgPSB7XG4gICAgICB4OiBlLmxheWVyWCAvIHRoaXMuX2VsZW1lbnQuY2xpZW50V2lkdGgsXG4gICAgICB5OiBlLmxheWVyWSAvIHRoaXMuX2VsZW1lbnQuY2xpZW50SGVpZ2h0XG4gICAgfTtcblxuICAgIGlmIChkYXRhLnggPCAwIHx8IGRhdGEueSA8IDAgfHwgZGF0YS54ID4gMSB8fCBkYXRhLnkgPiAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5jbGlja2VkLmRpc3BhdGNoKGRhdGEpO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvd29ya2Vycy9sb2dnZXIuY29tcG9zaXRlLmpzXG5cbndpbmRvdy5hcHAuQ29tcG9zaXRlTG9nZ2VyID0gY2xhc3MgQ29tcG9zaXRlTG9nZ2VyIHtcbiAgY29uc3RydWN0b3IobG9nZ2Vycykge1xuICAgIHRoaXMubG9nZ2VycyA9IGxvZ2dlcnM7XG4gIH1cblxuICBkZWJ1ZyhtZXNzYWdlKSB7XG4gICAgdGhpcy5sb2dnZXJzLmZvckVhY2gobG9nZ2VyID0+IGxvZ2dlci5kZWJ1ZyhtZXNzYWdlKSk7XG4gIH1cblxuICBpbmZvKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmxvZ2dlcnMuZm9yRWFjaChsb2dnZXIgPT4gbG9nZ2VyLmluZm8obWVzc2FnZSkpO1xuICB9XG5cbiAgd2FybihtZXNzYWdlKSB7XG4gICAgdGhpcy5sb2dnZXJzLmZvckVhY2gobG9nZ2VyID0+IGxvZ2dlci53YXJuKG1lc3NhZ2UpKTtcbiAgfVxuXG4gIGVycm9yKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmxvZ2dlcnMuZm9yRWFjaChsb2dnZXIgPT4gbG9nZ2VyLmVycm9yKG1lc3NhZ2UpKTtcbiAgfVxuXG4gIGZhdGFsKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmxvZ2dlcnMuZm9yRWFjaChsb2dnZXIgPT4gbG9nZ2VyLmZhdGFsKG1lc3NhZ2UpKTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL3dvcmtlcnMvbG9nZ2VyLmVsZWN0cm9uLmpzXG5cbndpbmRvdy5hcHAuRWxlY3Ryb25Mb2dnZXIgPSBjbGFzcyBFbGVjdHJvbkxvZ2dlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGlmICghcmVxdWlyZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb2RlLmpzIGNvbnRleHQgbm90IGZvdW5kLicpO1xuICAgIH1cblxuICAgIHRoaXMuX2lwYyA9IHJlcXVpcmUoJ2lwYycpO1xuXG4gICAgaWYgKCF0aGlzLl9pcGMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSVBDIG1vZHVsZSBub3QgZm91bmQuJyk7XG4gICAgfVxuICB9XG5cbiAgZGVidWcobWVzc2FnZSkge1xuICAgIHRoaXMuX2lwYy5zZW5kKCdsb2cnLCB7XG4gICAgICBsZXZlbDogJ2RlYnVnJyxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcbiAgICB9KTtcbiAgfVxuXG4gIGluZm8obWVzc2FnZSkge1xuICAgIHRoaXMuX2lwYy5zZW5kKCdsb2cnLCB7XG4gICAgICBsZXZlbDogJ2luZm8nLFxuICAgICAgbWVzc2FnZTogbWVzc2FnZVxuICAgIH0pO1xuICB9XG5cbiAgd2FybihtZXNzYWdlKSB7XG4gICAgdGhpcy5faXBjLnNlbmQoJ2xvZycsIHtcbiAgICAgIGxldmVsOiAnd2FybicsXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlXG4gICAgfSk7XG4gIH1cblxuICBlcnJvcihtZXNzYWdlKSB7XG4gICAgdGhpcy5faXBjLnNlbmQoJ2xvZycsIHtcbiAgICAgIGxldmVsOiAnZXJyb3InLFxuICAgICAgbWVzc2FnZTogbWVzc2FnZVxuICAgIH0pO1xuICB9XG5cbiAgZmF0YWwobWVzc2FnZSkge1xuICAgIHRoaXMuX2lwYy5zZW5kKCdsb2cnLCB7XG4gICAgICBsZXZlbDogJ2ZhdGFsJyxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcbiAgICB9KTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL3dvcmtlcnMvbG9nZ2VyLmpzXG5cbndpbmRvdy5hcHAuTG9nZ2VyID0gY2xhc3MgTG9nZ2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG5cbiAgfVxuICBcbiAgZGVidWcobWVzc2FnZSkge1xuICB9XG5cbiAgaW5mbyhtZXNzYWdlKSB7XG4gIH1cblxuICB3YXJuKG1lc3NhZ2UpIHtcbiAgfVxuXG4gIGVycm9yKG1lc3NhZ2UpIHtcbiAgfVxuXG4gIGZhdGFsKG1lc3NhZ2UpIHtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL3dvcmtlcnMvbG9nZ2VyLmxvZzRqcy5qc1xuXG53aW5kb3cuYXBwLkxvZzRKc0xvZ2dlciA9IGNsYXNzIExvZzRKc0xvZ2dlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2xvZyA9IGxvZzRqYXZhc2NyaXB0LmdldExvZ2dlcigpO1xuXG4gICAgLy8gdmFyIGFqYXhBcHBlbmRlciA9IG5ldyBsb2c0amF2YXNjcmlwdC5BamF4QXBwZW5kZXIoJy9zbmFwL2xvZycpO1xuICAgIC8vIGFqYXhBcHBlbmRlci5zZXRXYWl0Rm9yUmVzcG9uc2UodHJ1ZSk7XG4gICAgLy8gYWpheEFwcGVuZGVyLnNldExheW91dChuZXcgbG9nNGphdmFzY3JpcHQuSnNvbkxheW91dCgpKTtcbiAgICAvLyBhamF4QXBwZW5kZXIuc2V0VGhyZXNob2xkKGxvZzRqYXZhc2NyaXB0LkxldmVsLkVSUk9SKTtcbiAgICAvL1xuICAgIC8vIHRoaXMuX2xvZy5hZGRBcHBlbmRlcihhamF4QXBwZW5kZXIpO1xuICAgIHRoaXMuX2xvZy5hZGRBcHBlbmRlcihuZXcgbG9nNGphdmFzY3JpcHQuQnJvd3NlckNvbnNvbGVBcHBlbmRlcigpKTtcbiAgfVxuXG4gIGRlYnVnKG1lc3NhZ2UpIHtcbiAgICB0aGlzLl9sb2cuZGVidWcobWVzc2FnZSk7XG4gIH1cblxuICBpbmZvKG1lc3NhZ2UpIHtcbiAgICB0aGlzLl9sb2cuaW5mbyhtZXNzYWdlKTtcbiAgfVxuXG4gIHdhcm4obWVzc2FnZSkge1xuICAgIHRoaXMuX2xvZy53YXJuKG1lc3NhZ2UpO1xuICB9XG5cbiAgZXJyb3IobWVzc2FnZSkge1xuICAgIHRoaXMuX2xvZy5lcnJvcihtZXNzYWdlKTtcbiAgfVxuXG4gIGZhdGFsKG1lc3NhZ2UpIHtcbiAgICB0aGlzLl9sb2cuZmF0YWwobWVzc2FnZSk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL2FwcHMuanNcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vXG4vLyAgQXBwbGljYXRpb25Cb290c3RyYXBlclxuLy9cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbndpbmRvdy5hcHAuQXBwbGljYXRpb25Cb290c3RyYXBlciA9IGNsYXNzIEFwcGxpY2F0aW9uQm9vdHN0cmFwZXIge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBvcHRpb25zKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgdGhpcy5ob3N0cyA9IHtcbiAgICAgIGFwaTogeyAnaG9zdCc6ICdhcGkyLm1hbmFnZXNuYXAuY29tJywgJ3NlY3VyZSc6IHRydWUgfSxcbiAgICAgIGNvbnRlbnQ6IHsgJ2hvc3QnOiAnY29udGVudC5tYW5hZ2VzbmFwLmNvbScsICdzZWN1cmUnOiBmYWxzZSB9LFxuICAgICAgbWVkaWE6IHsgJ2hvc3QnOiAnY29udGVudC5tYW5hZ2VzbmFwLmNvbScsICdzZWN1cmUnOiBmYWxzZSB9LFxuICAgICAgc3RhdGljOiB7ICdwYXRoJzogdGhpcy5vcHRpb25zLnN0YXRpY19wYXRoIHx8ICcvJyB9LFxuICAgICAgc29ja2V0OiB7ICdob3N0JzogJ3dlYi1kZXYubWFuYWdlc25hcC5jb20nLCAnc2VjdXJlJzogdHJ1ZSwgJ3BvcnQnOjgwODAsICdwYXRoJzogJy9zb2NrZXQvJyB9LFxuICAgICAgZ2FtZXM6IHsgJ2hvc3QnOiAnc3RhdGljLm1hbmFnZXNuYXAuY29tJyB9XG4gICAgfTtcblxuICAgIHRoaXMuZW52aXJvbm1lbnQgPSB7XG4gICAgICBkZWJ1ZzogdGhpcy5vcHRpb25zLmRlYnVnIHx8IGZhbHNlLFxuICAgICAgcGxhdGZvcm06IHRoaXMub3B0aW9ucy5wbGF0Zm9ybSB8fCAnd2ViJyxcbiAgICAgIHZlcnNpb246IFNOQVBfVkVSU0lPTiB8fCAnMC4wLjAnLFxuICAgICAgbWFpbl9hcHBsaWNhdGlvbjogeyAnY2xpZW50X2lkJzogJ2Q2NzYxMGIxYzkxMDQ0ZDhhYmQ1NWNiZGE2YzYxOWYwJywgJ2NhbGxiYWNrX3VybCc6ICdodHRwczovL2FwaTIubWFuYWdlc25hcC5jb20vY2FsbGJhY2svYXBpJywgJ3Njb3BlJzogJycgfSxcbiAgICAgIGN1c3RvbWVyX2FwcGxpY2F0aW9uOiB7ICdjbGllbnRfaWQnOiAnOTEzODFhODZiM2I0NDRmZDg3NmRmODBiMjJkN2ZhNmUnLCAnY2FsbGJhY2tfdXJsJzogJ2h0dHBzOi8vYXBpMi5tYW5hZ2VzbmFwLmNvbS9jYWxsYmFjay9jdXN0b21lcicsICdzY29wZSc6ICcnIH0sXG4gICAgICBmYWNlYm9va19hcHBsaWNhdGlvbjogeyAnY2xpZW50X2lkJzogJzM0OTcyOTUxODU0NTMxMycsICdyZWRpcmVjdF91cmwnOiAnaHR0cHM6Ly93ZWIubWFuYWdlc25hcC5jb20vY2FsbGJhY2svZmFjZWJvb2snIH0sXG4gICAgICBnb29nbGVwbHVzX2FwcGxpY2F0aW9uOiB7ICdjbGllbnRfaWQnOiAnNjc4OTk4MjUwOTQxLTFkbWVicDRrc25pOXRzanRoNDV0c2h0OGw3Y2wxbXJuLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tJywgJ3JlZGlyZWN0X3VybCc6ICdodHRwczovL3dlYi5tYW5hZ2VzbmFwLmNvbS9jYWxsYmFjay9nb29nbGVwbHVzJyB9LFxuICAgICAgdHdpdHRlcl9hcHBsaWNhdGlvbjogeyAnY29uc3VtZXJfa2V5JzogJ3lROFhKMTVQbWFQT2k0TDVESlBpa0dDSTAnLCAncmVkaXJlY3RfdXJsJzogJ2h0dHBzOi8vd2ViLm1hbmFnZXNuYXAuY29tL2NhbGxiYWNrL3R3aXR0ZXInIH1cbiAgICB9O1xuXG4gICAgdGhpcy5kZXBlbmRlbmNpZXMgPSBbXG4gICAgICAnbmdSb3V0ZScsXG4gICAgICAnbmdBbmltYXRlJyxcbiAgICAgICduZ1RvdWNoJyxcbiAgICAgICduZ1Nhbml0aXplJyxcbiAgICAgICdTTkFQLmNvbmZpZ3MnLFxuICAgICAgJ1NOQVAuY29udHJvbGxlcnMnLFxuICAgICAgJ1NOQVAuZGlyZWN0aXZlcycsXG4gICAgICAnU05BUC5maWx0ZXJzJyxcbiAgICAgICdTTkFQLnNlcnZpY2VzJ1xuICAgIF07XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIFB1YmxpYyBtZXRob2RzXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBjb25maWd1cmUoKSB7XG4gICAgRmFzdENsaWNrLmF0dGFjaChkb2N1bWVudC5ib2R5KTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmFjY2Vzc190b2tlbikge1xuICAgICAgICB0aGlzLl9nZXRTdG9yZSgnc25hcF9hY2Nlc3N0b2tlbicpLndyaXRlKHRoaXMub3B0aW9ucy5hY2Nlc3NfdG9rZW4pO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RvcmUgPSB0aGlzLl9nZXRTdG9yZSgnc25hcF9sb2NhdGlvbicpO1xuXG4gICAgICB0aGlzLl9nZXRTdG9yZSgnc25hcF9sb2NhdGlvbicpLnJlYWQoKS50aGVuKGNvbmZpZyA9PiB7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBuZXcgd2luZG93LmFwcC5Mb2NhdGlvbkNvbmZpZyhjb25maWcpO1xuXG4gICAgICAgIGlmICghdGhpcy5sb2NhdGlvbi5sb2NhdGlvbikge1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2dldFN0b3JlKCdzbmFwX2xvY2F0aW9uJykud3JpdGUodGhpcy5vcHRpb25zLmxvY2F0aW9uKTtcbiAgICAgICAgICAgIHRoaXMubG9jYXRpb24gPSBuZXcgd2luZG93LmFwcC5Mb2NhdGlvbkNvbmZpZyh0aGlzLm9wdGlvbnMubG9jYXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIGxvY2F0aW9uIGluZm8gZm91bmQuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29uZmlncycsIFtdKVxuICAgICAgICAgIC5jb25zdGFudCgnU05BUExvY2F0aW9uJywgdGhpcy5sb2NhdGlvbilcbiAgICAgICAgICAuY29uc3RhbnQoJ1NOQVBFbnZpcm9ubWVudCcsIHRoaXMuZW52aXJvbm1lbnQpXG4gICAgICAgICAgLmNvbnN0YW50KCdTTkFQSG9zdHMnLCB0aGlzLmhvc3RzKTtcblxuICAgICAgICBpZiAodGhpcy5ob3N0cy5zdGF0aWMuaG9zdCkge1xuICAgICAgICAgICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0KFsgJ3NlbGYnLCBuZXcgUmVnRXhwKCcuKicgKyB0aGlzLmhvc3RzLnN0YXRpYy5ob3N0ICsgJy4qJykgXSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYXBwID0gYW5ndWxhci5tb2R1bGUodGhpcy5uYW1lLCB0aGlzLmRlcGVuZGVuY2llcyk7XG5cbiAgICAgICAgcmVzb2x2ZShhcHApO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJ1bigpIHtcbiAgICBhbmd1bGFyLmJvb3RzdHJhcChkb2N1bWVudCwgW3RoaXMubmFtZV0pO1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBIZWxwZXIgbWV0aG9kc1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgX2dldFBhcnRpYWxVcmwobmFtZSkge1xuICAgIGlmICghdGhpcy5ob3N0cykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIGhvc3RzIGNvbmZpZ3VyYXRpb24uJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmxvY2F0aW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgbG9jYXRpb24gY29uZmlndXJhdGlvbi4nKTtcbiAgICB9XG5cbiAgICB2YXIgcGF0aCA9IHRoaXMuaG9zdHMuc3RhdGljLmhvc3QgP1xuICAgICAgYC8vJHt0aGlzLmhvc3RzLnN0YXRpYy5ob3N0fSR7dGhpcy5ob3N0cy5zdGF0aWMucGF0aH1gIDpcbiAgICAgIGAke3RoaXMuaG9zdHMuc3RhdGljLnBhdGh9YDtcblxuICAgIHJldHVybiBgJHtwYXRofWFzc2V0cy8ke3RoaXMubG9jYXRpb24udGhlbWUubGF5b3V0fS9wYXJ0aWFscy8ke25hbWV9Lmh0bWxgO1xuICB9XG5cbiAgX2dldFN0b3JlKGlkKSB7XG4gICAgc3dpdGNoICh0aGlzLmVudmlyb25tZW50LnBsYXRmb3JtKSB7XG4gICAgICBjYXNlICdtb2JpbGUnOlxuICAgICAgICByZXR1cm4gbmV3IGFwcC5Db3Jkb3ZhTG9jYWxTdG9yYWdlU3RvcmUoaWQpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG5ldyBhcHAuTG9jYWxTdG9yYWdlU3RvcmUoaWQpO1xuICAgIH1cbiAgfVxufTtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vXG4vLyAgU25hcEFwcGxpY2F0aW9uQm9vdHN0cmFwZXJcbi8vXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG53aW5kb3cuYXBwLlNuYXBBcHBsaWNhdGlvbkJvb3RzdHJhcGVyID0gY2xhc3MgU25hcEFwcGxpY2F0aW9uQm9vdHN0cmFwZXIgZXh0ZW5kcyBhcHAuQXBwbGljYXRpb25Cb290c3RyYXBlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcignU05BUEFwcGxpY2F0aW9uJywgb3B0aW9ucyk7XG4gIH1cblxuICBjb25maWd1cmUoKSB7XG4gICAgcmV0dXJuIHN1cGVyLmNvbmZpZ3VyZSgpLnRoZW4oYXBwID0+IGFwcC5jb25maWcoXG4gICAgICBbJyRsb2NhdGlvblByb3ZpZGVyJywgJyRyb3V0ZVByb3ZpZGVyJywgJyRzY2VEZWxlZ2F0ZVByb3ZpZGVyJyxcbiAgICAgICgkbG9jYXRpb25Qcm92aWRlciwgJHJvdXRlUHJvdmlkZXIsICRzY2VEZWxlZ2F0ZVByb3ZpZGVyKSA9PiB7XG5cbiAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZShmYWxzZSk7XG5cbiAgICAgICRyb3V0ZVByb3ZpZGVyLndoZW4oJy8nLCB7IHRlbXBsYXRlOiAnICcsIGNvbnRyb2xsZXI6ICdIb21lQmFzZUN0cmwnIH0pO1xuICAgICAgJHJvdXRlUHJvdmlkZXIud2hlbignL21lbnUvOnRva2VuJywgeyB0ZW1wbGF0ZTogJyAnLCBjb250cm9sbGVyOiAnTWVudUJhc2VDdHJsJyB9KTtcbiAgICAgICRyb3V0ZVByb3ZpZGVyLndoZW4oJy9jYXRlZ29yeS86dG9rZW4nLCB7IHRlbXBsYXRlOiAnICcsIGNvbnRyb2xsZXI6ICdDYXRlZ29yeUJhc2VDdHJsJyB9KTtcbiAgICAgICRyb3V0ZVByb3ZpZGVyLndoZW4oJy9pdGVtLzp0b2tlbicsIHsgdGVtcGxhdGU6ICcgJywgY29udHJvbGxlcjogJ0l0ZW1CYXNlQ3RybCcgfSk7XG4gICAgICAkcm91dGVQcm92aWRlci53aGVuKCcvY2hlY2tvdXQnLCB7IHRlbXBsYXRlVXJsOiB0aGlzLl9nZXRQYXJ0aWFsVXJsKCdjaGVja291dCcpLCBjb250cm9sbGVyOiAnQ2hlY2tvdXRDdHJsJyB9KTtcbiAgICAgICRyb3V0ZVByb3ZpZGVyLndoZW4oJy9zaWduaW4nLCB7IHRlbXBsYXRlVXJsOiB0aGlzLl9nZXRQYXJ0aWFsVXJsKCdzaWduaW4nKSwgY29udHJvbGxlcjogJ1NpZ25JbkN0cmwnIH0pO1xuICAgICAgJHJvdXRlUHJvdmlkZXIud2hlbignL2FjY291bnQnLCB7IHRlbXBsYXRlVXJsOiB0aGlzLl9nZXRQYXJ0aWFsVXJsKCdhY2NvdW50JyksIGNvbnRyb2xsZXI6ICdBY2NvdW50Q3RybCcgfSk7XG4gICAgICAkcm91dGVQcm92aWRlci53aGVuKCcvY2hhdCcsIHsgdGVtcGxhdGVVcmw6IHRoaXMuX2dldFBhcnRpYWxVcmwoJ2NoYXQnKSwgY29udHJvbGxlcjogJ0NoYXRDdHJsJyB9KTtcbiAgICAgICRyb3V0ZVByb3ZpZGVyLndoZW4oJy9jaGF0bWFwJywgeyB0ZW1wbGF0ZVVybDogdGhpcy5fZ2V0UGFydGlhbFVybCgnY2hhdG1hcCcpLCBjb250cm9sbGVyOiAnQ2hhdE1hcEN0cmwnIH0pO1xuICAgICAgJHJvdXRlUHJvdmlkZXIud2hlbignL3N1cnZleScsIHsgdGVtcGxhdGVVcmw6IHRoaXMuX2dldFBhcnRpYWxVcmwoJ3N1cnZleScpLCBjb250cm9sbGVyOiAnU3VydmV5Q3RybCcgfSk7XG4gICAgICAkcm91dGVQcm92aWRlci5vdGhlcndpc2UoeyByZWRpcmVjdFRvOiAnLycgfSk7XG4gICAgfV0pKTtcbiAgfVxufTtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vXG4vLyAgU3RhcnR1cEFwcGxpY2F0aW9uQm9vdHN0cmFwZXJcbi8vXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG53aW5kb3cuYXBwLlN0YXJ0dXBBcHBsaWNhdGlvbkJvb3RzdHJhcGVyID0gY2xhc3MgU3RhcnR1cEFwcGxpY2F0aW9uQm9vdHN0cmFwZXIgZXh0ZW5kcyBhcHAuQXBwbGljYXRpb25Cb290c3RyYXBlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcignU05BUFN0YXJ0dXAnLCBvcHRpb25zKTtcbiAgfVxufTtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vXG4vLyAgUmVzZXRBcHBsaWNhdGlvbkJvb3RzdHJhcGVyXG4vL1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxud2luZG93LmFwcC5SZXNldEFwcGxpY2F0aW9uQm9vdHN0cmFwZXIgPSBjbGFzcyBSZXNldEFwcGxpY2F0aW9uQm9vdHN0cmFwZXIgZXh0ZW5kcyBhcHAuQXBwbGljYXRpb25Cb290c3RyYXBlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcignU05BUFJlc2V0Jywgb3B0aW9ucyk7XG4gIH1cbn07XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vL1xuLy8gIEZsYXNoQXBwbGljYXRpb25Cb290c3RyYXBlclxuLy9cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbndpbmRvdy5hcHAuRmxhc2hBcHBsaWNhdGlvbkJvb3RzdHJhcGVyID0gY2xhc3MgRmxhc2hBcHBsaWNhdGlvbkJvb3RzdHJhcGVyIGV4dGVuZHMgYXBwLkFwcGxpY2F0aW9uQm9vdHN0cmFwZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoJ1NOQVBGbGFzaCcsIG9wdGlvbnMpO1xuICB9XG59O1xuXG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vL1xuLy8gIFNuYXBBdXhpbGlhcmVzQXBwbGljYXRpb25Cb290c3RyYXBlclxuLy9cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbndpbmRvdy5hcHAuU25hcEF1eGlsaWFyZXNBcHBsaWNhdGlvbkJvb3RzdHJhcGVyID0gY2xhc3MgU25hcEF1eGlsaWFyZXNBcHBsaWNhdGlvbkJvb3RzdHJhcGVyIGV4dGVuZHMgYXBwLkFwcGxpY2F0aW9uQm9vdHN0cmFwZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoJ1NOQVBBdXhpbGlhcmVzJywgb3B0aW9ucyk7XG4gIH1cblxuICBjb25maWd1cmUoKSB7XG4gICAgcmV0dXJuIHN1cGVyLmNvbmZpZ3VyZSgpLnRoZW4oYXBwID0+IGFwcC5jb25maWcoXG4gICAgICBbJyRsb2NhdGlvblByb3ZpZGVyJywgJyRyb3V0ZVByb3ZpZGVyJyxcbiAgICAgICgkbG9jYXRpb25Qcm92aWRlciwgJHJvdXRlUHJvdmlkZXIpID0+IHtcblxuICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKGZhbHNlKTtcblxuICAgICAgJHJvdXRlUHJvdmlkZXIud2hlbignLycsIHsgdGVtcGxhdGVVcmw6IHRoaXMuX2dldFBhcnRpYWxVcmwoJ2NoYXRyb29tJyksIGNvbnRyb2xsZXI6ICdDaGF0Um9vbUN0cmwnIH0pO1xuICAgICAgJHJvdXRlUHJvdmlkZXIub3RoZXJ3aXNlKHsgcmVkaXJlY3RUbzogJy8nIH0pO1xuICAgIH1dKSk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL19iYXNlLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJywgWydhbmd1bGFyLWJhY29uJ10pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9hY2NvdW50LmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdBY2NvdW50Q3RybCcsIFsnJHNjb3BlJywgJ0N1c3RvbWVyTWFuYWdlcicsICdEaWFsb2dNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgZnVuY3Rpb24oJHNjb3BlLCBDdXN0b21lck1hbmFnZXIsIERpYWxvZ01hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyKSB7XG5cbiAgaWYgKCFDdXN0b21lck1hbmFnZXIubW9kZWwuaXNFbmFibGVkIHx8ICFDdXN0b21lck1hbmFnZXIubW9kZWwuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdob21lJyB9O1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBDb25zdGFudHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHJvcGVydGllc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgUHJvZmlsZVxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLnByb2ZpbGUgPSBDdXN0b21lck1hbmFnZXIubW9kZWwucHJvZmlsZTtcbiAgJHNjb3BlLmNhbkNoYW5nZVBhc3N3b3JkID0gQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmhhc0NyZWRlbnRpYWxzO1xuICB2YXIgcHJvZmlsZSA9ICRzY29wZS4kd2F0Y2hBc1Byb3BlcnR5KCdwcm9maWxlJyk7XG5cbiAgQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLnByb2ZpbGVDaGFuZ2VkLmFkZChmdW5jdGlvbih2YWx1ZSkge1xuICAgICRzY29wZS5wcm9maWxlID0gdmFsdWU7XG4gICAgJHNjb3BlLmNhbkNoYW5nZVBhc3N3b3JkID0gQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmhhc0NyZWRlbnRpYWxzO1xuICAgICRzY29wZS5jYW5DaGFuZ2VFbWFpbCA9IEN1c3RvbWVyTWFuYWdlci5tb2RlbC5oYXNDcmVkZW50aWFscztcbiAgfSk7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBTcGxhc2ggc2NyZWVuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUuZWRpdFByb2ZpbGUgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUucHJvZmlsZWVkaXQgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLnByb2ZpbGUpO1xuICAgICRzY29wZS5zaG93UHJvZmlsZUVkaXQgPSB0cnVlO1xuICB9O1xuXG4gICRzY29wZS5lZGl0UGFzc3dvcmQgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUucGFzc3dvcmRlZGl0ID0ge1xuICAgICAgb2xkX3Bhc3N3b3JkOiAnJyxcbiAgICAgIG5ld19wYXNzd29yZDogJydcbiAgICB9O1xuICAgICRzY29wZS5zaG93UHJvZmlsZUVkaXQgPSBmYWxzZTtcbiAgICAkc2NvcGUuc2hvd1Bhc3N3b3JkRWRpdCA9IHRydWU7XG4gIH07XG5cbiAgJHNjb3BlLmVkaXRQYXltZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnNob3dQYXltZW50RWRpdCA9IHRydWU7XG4gIH07XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBQcm9maWxlIGVkaXQgc2NyZWVuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUucHJvZmlsZUVkaXRTdWJtaXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgQ3VzdG9tZXJNYW5hZ2VyLnVwZGF0ZVByb2ZpbGUoJHNjb3BlLnByb2ZpbGVlZGl0KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICRzY29wZS5zaG93UHJvZmlsZUVkaXQgPSBmYWxzZTtcbiAgICB9LCBmdW5jdGlvbihlKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLnByb2ZpbGVFZGl0Q2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnNob3dQcm9maWxlRWRpdCA9IGZhbHNlO1xuICB9O1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgUGFzc3dvcmQgZWRpdCBzY3JlZW5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5wYXNzd29yZEVkaXRTdWJtaXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgQ3VzdG9tZXJNYW5hZ2VyLmNoYW5nZVBhc3N3b3JkKCRzY29wZS5wYXNzd29yZGVkaXQpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgJHNjb3BlLnNob3dQYXNzd29yZEVkaXQgPSBmYWxzZTtcbiAgICB9LCBmdW5jdGlvbihlKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLnBhc3N3b3JkRWRpdENhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5zaG93UGFzc3dvcmRFZGl0ID0gZmFsc2U7XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2JhY2tncm91bmQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0JhY2tncm91bmRDdHJsJywgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnU2hlbGxNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwgU2hlbGxNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlcikge1xuXG4gIGZ1bmN0aW9uIHNob3dJbWFnZXModmFsdWVzKSB7XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuaW1hZ2VzID0gdmFsdWVzLm1hcChmdW5jdGlvbihpdGVtKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzcmM6IFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybChpdGVtLm1lZGlhLCAxOTIwLCAxMDgwLCAnanBnJyksXG4gICAgICAgICAgdHlwZTogU2hlbGxNYW5hZ2VyLmdldE1lZGlhVHlwZShpdGVtLm1lZGlhKVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgYmFja2dyb3VuZHMgPSBTaGVsbE1hbmFnZXIubW9kZWwuYmFja2dyb3VuZHMsXG4gICAgICBwYWdlQmFja2dyb3VuZHMgPSBudWxsO1xuXG4gIHNob3dJbWFnZXMoYmFja2dyb3VuZHMpO1xuICBTaGVsbE1hbmFnZXIubW9kZWwuYmFja2dyb3VuZHNDaGFuZ2VkLmFkZCh2YWx1ZSA9PiB7XG4gICAgYmFja2dyb3VuZHMgPSB2YWx1ZTtcbiAgICBzaG93SW1hZ2VzKGJhY2tncm91bmRzKTtcbiAgfSk7XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2VkLmFkZChmdW5jdGlvbihsb2NhdGlvbikge1xuICAgIHZhciBuZXdQYWdlQmFja2dyb3VuZHMgPSBTaGVsbE1hbmFnZXIuZ2V0UGFnZUJhY2tncm91bmRzKGxvY2F0aW9uKTtcblxuICAgIGlmIChuZXdQYWdlQmFja2dyb3VuZHMubGVuZ3RoID4gMCkge1xuICAgICAgcGFnZUJhY2tncm91bmRzID0gbmV3UGFnZUJhY2tncm91bmRzO1xuICAgICAgc2hvd0ltYWdlcyhwYWdlQmFja2dyb3VuZHMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwYWdlQmFja2dyb3VuZHMpIHtcbiAgICAgIHN3aXRjaCAobG9jYXRpb24udHlwZSkge1xuICAgICAgICBjYXNlICdtZW51JzpcbiAgICAgICAgY2FzZSAnY2F0ZWdvcnknOlxuICAgICAgICBjYXNlICdpdGVtJzpcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgcGFnZUJhY2tncm91bmRzID0gbnVsbDtcbiAgICBzaG93SW1hZ2VzKGJhY2tncm91bmRzKTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NoYXQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NoYXRDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnQ3VzdG9tZXJNYW5hZ2VyJywgJ0NoYXRNYW5hZ2VyJywgJ0RpYWxvZ01hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnTG9jYXRpb25Nb2RlbCcsICdTaGVsbE1hbmFnZXInLCAnU05BUExvY2F0aW9uJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIEN1c3RvbWVyTWFuYWdlciwgQ2hhdE1hbmFnZXIsIERpYWxvZ01hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyLCBMb2NhdGlvbk1vZGVsLCBTaGVsbE1hbmFnZXIsIFNOQVBMb2NhdGlvbikgPT4ge1xuXG4gIGlmICghU05BUExvY2F0aW9uLmNoYXQpIHtcbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2hvbWUnIH07XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgJHNjb3BlLmxvY2F0aW9uTmFtZSA9IFNOQVBMb2NhdGlvbi5sb2NhdGlvbl9uYW1lO1xuXG4gICRzY29wZS5nZXRQYXJ0aWFsVXJsID0gbmFtZSA9PiBTaGVsbE1hbmFnZXIuZ2V0UGFydGlhbFVybChuYW1lKTtcblxuICAkc2NvcGUuY2hhdEVuYWJsZWQgPSBDaGF0TWFuYWdlci5tb2RlbC5pc0VuYWJsZWQ7XG4gIENoYXRNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZENoYW5nZWQuYWRkKHZhbHVlID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuY2hhdEVuYWJsZWQgPSB2YWx1ZSk7XG4gIH0pO1xuXG4gICRzY29wZS5hY3RpdmVEZXZpY2VzID0gQ2hhdE1hbmFnZXIubW9kZWwuYWN0aXZlRGV2aWNlcztcbiAgQ2hhdE1hbmFnZXIubW9kZWwuYWN0aXZlRGV2aWNlc0NoYW5nZWQuYWRkKHZhbHVlID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuYWN0aXZlRGV2aWNlcyA9IHZhbHVlKTtcbiAgfSk7XG5cbiAgJHNjb3BlLmdpZnRTZWF0ID0gTG9jYXRpb25Nb2RlbC5nZXRTZWF0KENoYXRNYW5hZ2VyLm1vZGVsLmdpZnRTZWF0KTtcbiAgQ2hhdE1hbmFnZXIubW9kZWwuZ2lmdFNlYXRDaGFuZ2VkLmFkZCh0b2tlbiA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmdpZnRTZWF0ID0gTG9jYXRpb25Nb2RlbC5nZXRTZWF0KHRva2VuKSk7XG4gIH0pO1xuXG4gICRzY29wZS5naWZ0RGV2aWNlID0gQ2hhdE1hbmFnZXIubW9kZWwuZ2lmdERldmljZTtcbiAgQ2hhdE1hbmFnZXIubW9kZWwuZ2lmdERldmljZUNoYW5nZWQuYWRkKHZhbHVlID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuZ2lmdERldmljZSA9IHZhbHVlKTtcbiAgfSk7XG5cbiAgJHNjb3BlLnRvZ2dsZUNoYXQgPSAoKSA9PiB7XG4gICAgQ2hhdE1hbmFnZXIubW9kZWwuaXNFbmFibGVkID0gIUNoYXRNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZDtcbiAgfTtcblxuICAkc2NvcGUub3Blbk1hcCA9ICgpID0+IHtcbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2NoYXRtYXAnIH07XG4gIH07XG5cbiAgJHNjb3BlLmdldERldmljZU5hbWUgPSBkZXZpY2VfdG9rZW4gPT4gQ2hhdE1hbmFnZXIuZ2V0RGV2aWNlTmFtZShkZXZpY2VfdG9rZW4pO1xuXG4gICRzY29wZS5nZXRTZWF0TnVtYmVyID0gZGV2aWNlX3Rva2VuID0+IHtcbiAgICB2YXIgZGV2aWNlID0gTG9jYXRpb25Nb2RlbC5nZXREZXZpY2UoZGV2aWNlX3Rva2VuKTtcblxuICAgIGZvciAodmFyIHAgaW4gTG9jYXRpb25Nb2RlbC5zZWF0cykge1xuICAgICAgaWYgKExvY2F0aW9uTW9kZWwuc2VhdHNbcF0udG9rZW4gPT09IGRldmljZS5zZWF0KSB7XG4gICAgICAgIGxldCBtYXRjaCA9IExvY2F0aW9uTW9kZWwuc2VhdHNbcF0ubmFtZS5tYXRjaCgvXFxkKy8pO1xuICAgICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFswXSB8fCAnJyA6ICcnO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfTtcblxuICAkc2NvcGUuY2xvc2VDaGF0ID0gZGV2aWNlX3Rva2VuID0+IHtcbiAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd291bGQgbGlrZSB0byBjbG9zZSB0aGUgY2hhdCB3aXRoICcgKyAkc2NvcGUuZ2V0RGV2aWNlTmFtZShkZXZpY2VfdG9rZW4pICsgJz8nKVxuICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgQ2hhdE1hbmFnZXIuZGVjbGluZURldmljZShkZXZpY2VfdG9rZW4pO1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5nZXRVbnJlYWRDb3VudCA9IGRldmljZV90b2tlbiA9PiBDaGF0TWFuYWdlci5nZXRVbnJlYWRDb3VudChkZXZpY2VfdG9rZW4pO1xuXG4gICRzY29wZS5zZW5kR2lmdCA9IGRldmljZV90b2tlbiA9PiB7XG4gICAgdmFyIGRldmljZSA9IExvY2F0aW9uTW9kZWwuZ2V0RGV2aWNlKGRldmljZV90b2tlbiksXG4gICAgICAgIHNlYXQgPSBMb2NhdGlvbk1vZGVsLmdldFNlYXQoZGV2aWNlLnNlYXQpO1xuXG4gICAgaWYgKCFzZWF0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgRGlhbG9nTWFuYWdlci5jb25maXJtKGBBcmUgeW91IHN1cmUgdGhhdCB5b3Ugd2FudCB0byBzZW5kIGEgZ2lmdCB0byAke3NlYXQubmFtZX0/YCkudGhlbigoKSA9PiB7XG4gICAgICBDaGF0TWFuYWdlci5zdGFydEdpZnQoZGV2aWNlX3Rva2VuKTtcbiAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnaG9tZScgfTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUuY2FuY2VsR2lmdCA9ICgpID0+IENoYXRNYW5hZ2VyLmVuZEdpZnQoKTtcblxuICBDaGF0TWFuYWdlci5pc1ByZXNlbnQgPSB0cnVlO1xuXG4gIHZhciB3YXRjaExvY2F0aW9uID0gdHJ1ZTtcblxuICAkc2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdGFydCcsICgpID0+IHtcbiAgICBpZiAod2F0Y2hMb2NhdGlvbikge1xuICAgICAgQ2hhdE1hbmFnZXIubW9kZWwuaXNQcmVzZW50ID0gZmFsc2U7XG4gICAgICB3YXRjaExvY2F0aW9uID0gZmFsc2U7XG4gICAgfVxuICB9KTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY2hhdGJveC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2hhdEJveEN0cmwnLCBbJyRzY29wZScsICckdGltZW91dCcsICckYXR0cnMnLCAnQ2hhdE1hbmFnZXInLCAnTG9jYXRpb25Nb2RlbCcsIGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQsICRhdHRycywgQ2hhdE1hbmFnZXIsIExvY2F0aW9uTW9kZWwpIHtcbiAgdmFyIHRvX2RldmljZSA9ICRzY29wZS5kZXZpY2UsXG4gICAgICB0eXBlID0gdG9fZGV2aWNlID9cbiAgICAgICAgQ2hhdE1hbmFnZXIuTUVTU0FHRV9UWVBFUy5ERVZJQ0UgOlxuICAgICAgICBDaGF0TWFuYWdlci5NRVNTQUdFX1RZUEVTLkxPQ0FUSU9OO1xuXG4gIHZhciBkZXZpY2UgPSB0b19kZXZpY2UgPyBMb2NhdGlvbk1vZGVsLmdldERldmljZSh0b19kZXZpY2UpIDogbnVsbDtcblxuICAkc2NvcGUucmVhZG9ubHkgPSBCb29sZWFuKCRhdHRycy5yZWFkb25seSk7XG4gICRzY29wZS5jaGF0ID0ge307XG4gICRzY29wZS5tZXNzYWdlcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIHNob3dNZXNzYWdlcygpIHtcbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAkc2NvcGUubWVzc2FnZXMgPSBDaGF0TWFuYWdlci5tb2RlbC5oaXN0b3J5LmZpbHRlcihtZXNzYWdlID0+IHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2UudHlwZSA9PT0gdHlwZSAmJiAoXG4gICAgICAgICAgbWVzc2FnZS5kZXZpY2UgPT09IHRvX2RldmljZSB8fFxuICAgICAgICAgIG1lc3NhZ2UudG9fZGV2aWNlID09PSB0b19kZXZpY2VcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgJHNjb3BlLmNoYXRFbmFibGVkID0gQ2hhdE1hbmFnZXIubW9kZWwuaXNFbmFibGVkO1xuICBDaGF0TWFuYWdlci5tb2RlbC5pc0VuYWJsZWRDaGFuZ2VkLmFkZCh2YWx1ZSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmNoYXRFbmFibGVkID0gdmFsdWUpO1xuICB9KTtcblxuICAkc2NvcGUuaXNDb25uZWN0ZWQgPSBDaGF0TWFuYWdlci5tb2RlbC5pc0Nvbm5lY3RlZDtcbiAgQ2hhdE1hbmFnZXIubW9kZWwuaXNDb25uZWN0ZWRDaGFuZ2VkLmFkZCh2YWx1ZSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmlzQ29ubmVjdGVkID0gdmFsdWUpO1xuICB9KTtcblxuICAkc2NvcGUuc2VuZE1lc3NhZ2UgPSAoKSA9PiB7XG4gICAgaWYgKCEkc2NvcGUuaXNDb25uZWN0ZWQgfHwgISRzY29wZS5jaGF0Lm1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbWVzc2FnZSA9IHtcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICB0b19kZXZpY2U6IHRvX2RldmljZSxcbiAgICAgIHRleHQ6ICRzY29wZS5jaGF0Lm1lc3NhZ2VcbiAgICB9O1xuXG4gICAgQ2hhdE1hbmFnZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSk7XG5cbiAgICAkc2NvcGUuY2hhdC5tZXNzYWdlID0gJyc7XG4gIH07XG5cbiAgJHNjb3BlLmdldEZyb21OYW1lID0gbWVzc2FnZSA9PiBDaGF0TWFuYWdlci5nZXRNZXNzYWdlTmFtZShtZXNzYWdlKTtcblxuICAkc2NvcGUuZ2V0U3RhdHVzVGV4dCA9IG1lc3NhZ2UgPT4ge1xuICAgIGlmIChtZXNzYWdlLnRvX2RldmljZSA9PT0gdG9fZGV2aWNlKSB7XG4gICAgICBzd2l0Y2gobWVzc2FnZS5zdGF0dXMpIHtcbiAgICAgICAgY2FzZSBDaGF0TWFuYWdlci5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfUkVRVUVTVDpcbiAgICAgICAgICByZXR1cm4gJ1lvdSBoYXZlIHJlcXVlc3RlZCB0byBjaGF0IHdpdGggJyArIENoYXRNYW5hZ2VyLmdldERldmljZU5hbWUobWVzc2FnZS50b19kZXZpY2UpO1xuICAgICAgICBjYXNlIENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuQ0hBVF9SRVFVRVNUX0FDQ0VQVEVEOlxuICAgICAgICAgIHJldHVybiAnQWNjZXB0ZWQgY2hhdCByZXF1ZXN0JztcbiAgICAgICAgY2FzZSBDaGF0TWFuYWdlci5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfUkVRVUVTVF9ERUNMSU5FRDpcbiAgICAgICAgICByZXR1cm4gJ0RlY2xpbmVkIGNoYXQgcmVxdWVzdCc7XG4gICAgICAgIGNhc2UgQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX0NMT1NFRDpcbiAgICAgICAgICByZXR1cm4gJ0Nsb3NlZCB0aGUgY2hhdCc7XG4gICAgICAgIGNhc2UgQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5HSUZUX1JFUVVFU1Q6XG4gICAgICAgICAgcmV0dXJuICdHaWZ0IHJlcXVlc3Qgc2VudCc7XG4gICAgICAgIGNhc2UgQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5HSUZUX1JFUVVFU1RfQUNDRVBURUQ6XG4gICAgICAgICAgcmV0dXJuICdBY2NlcHRlZCBhIGdpZnQnO1xuICAgICAgICBjYXNlIENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuR0lGVF9SRVFVRVNUX0RFQ0xJTkVEOlxuICAgICAgICAgIHJldHVybiAnRGVjbGluZWQgYSBnaWZ0JztcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAobWVzc2FnZS5kZXZpY2UgPT09IHRvX2RldmljZSkge1xuICAgICAgc3dpdGNoKG1lc3NhZ2Uuc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX1JFUVVFU1Q6XG4gICAgICAgICAgcmV0dXJuICRzY29wZS5nZXRGcm9tTmFtZShtZXNzYWdlKSArICcgd291bGQgbGlrZSB0byBjaGF0IHdpdGggeW91JztcbiAgICAgICAgY2FzZSBDaGF0TWFuYWdlci5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfUkVRVUVTVF9BQ0NFUFRFRDpcbiAgICAgICAgICByZXR1cm4gJ0FjY2VwdGVkIGNoYXQgcmVxdWVzdCc7XG4gICAgICAgIGNhc2UgQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX1JFUVVFU1RfREVDTElORUQ6XG4gICAgICAgICAgcmV0dXJuICdEZWNsaW5lZCBjaGF0IHJlcXVlc3QnO1xuICAgICAgICBjYXNlIENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuQ0hBVF9DTE9TRUQ6XG4gICAgICAgICAgcmV0dXJuICdDbG9zZWQgdGhlIGNoYXQnO1xuICAgICAgICBjYXNlIENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuR0lGVF9SRVFVRVNUOlxuICAgICAgICAgIHJldHVybiAnV291bGQgbGlrZSB0byBzZW5kIHlvdSBhIGdpZnQnO1xuICAgICAgICBjYXNlIENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuR0lGVF9SRVFVRVNUX0FDQ0VQVEVEOlxuICAgICAgICAgIHJldHVybiAnQWNjZXB0ZWQgYSBnaWZ0JztcbiAgICAgICAgY2FzZSBDaGF0TWFuYWdlci5NRVNTQUdFX1NUQVRVU0VTLkdJRlRfUkVRVUVTVF9ERUNMSU5FRDpcbiAgICAgICAgICByZXR1cm4gJ0RlY2xpbmVkIGEgZ2lmdCc7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5pc1VucmVhZCA9IG1lc3NhZ2UgPT4ge1xuICAgIGlmIChtZXNzYWdlLnRvX2RldmljZSA9PT0gdG9fZGV2aWNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIENoYXRNYW5hZ2VyLmNoZWNrSWZVbnJlYWQodG9fZGV2aWNlLCBtZXNzYWdlKTtcbiAgfTtcblxuICAkc2NvcGUubWFya0FzUmVhZCA9ICgpID0+IHtcbiAgICBpZiAoIXRvX2RldmljZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIENoYXRNYW5hZ2VyLm1hcmtBc1JlYWQodG9fZGV2aWNlKTtcbiAgfTtcblxuICAkc2NvcGUub25LZXlkb3duID0ga2V5Y29kZSA9PiB7XG4gICAgaWYgKGtleWNvZGUgPT09IDEzKSB7XG4gICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLnNlbmRNZXNzYWdlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgTG9jYXRpb25Nb2RlbC5kZXZpY2VzQ2hhbmdlZC5hZGQoc2hvd01lc3NhZ2VzKTtcbiAgTG9jYXRpb25Nb2RlbC5zZWF0c0NoYW5nZWQuYWRkKHNob3dNZXNzYWdlcyk7XG4gIENoYXRNYW5hZ2VyLm1vZGVsLmhpc3RvcnlDaGFuZ2VkLmFkZChzaG93TWVzc2FnZXMpO1xuICBzaG93TWVzc2FnZXMoKTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY2hhdG1hcC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2hhdE1hcEN0cmwnLFxuWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnQ2hhdE1hbmFnZXInLCAnU2hlbGxNYW5hZ2VyJywgJ0RpYWxvZ01hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnTG9jYXRpb25Nb2RlbCcsXG4oJHNjb3BlLCAkdGltZW91dCwgQ2hhdE1hbmFnZXIsIFNoZWxsTWFuYWdlciwgRGlhbG9nTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIExvY2F0aW9uTW9kZWwpID0+IHtcblxuICAkc2NvcGUuc2VhdHMgPSBbXTtcblxuICAkc2NvcGUubWFwSW1hZ2UgPSBTaGVsbE1hbmFnZXIubW9kZWwuZWxlbWVudHMubG9jYXRpb25fbWFwO1xuICBTaGVsbE1hbmFnZXIubW9kZWwuZWxlbWVudHNDaGFuZ2VkLmFkZCgoKSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLm1hcEltYWdlID0gU2hlbGxNYW5hZ2VyLm1vZGVsLmVsZW1lbnRzLmxvY2F0aW9uX21hcCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGJ1aWxkTWFwKCkge1xuICAgIGlmICghTG9jYXRpb25Nb2RlbC5zZWF0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuc2VhdHMgPSBMb2NhdGlvbk1vZGVsLnNlYXRzXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oc2VhdCkgeyByZXR1cm4gc2VhdC50b2tlbiAhPT0gTG9jYXRpb25Nb2RlbC5zZWF0LnRva2VuOyB9KVxuICAgICAgICAubWFwKGZ1bmN0aW9uKHNlYXQpIHtcbiAgICAgICAgICB2YXIgZGV2aWNlcyA9IExvY2F0aW9uTW9kZWwuZGV2aWNlc1xuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihkZXZpY2UpIHsgcmV0dXJuIGRldmljZS5zZWF0ID09PSBzZWF0LnRva2VuOyB9KVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbihkZXZpY2UpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogZGV2aWNlLnRva2VuLFxuICAgICAgICAgICAgICAgIHNlYXQ6IGRldmljZS5zZWF0LFxuICAgICAgICAgICAgICAgIGlzX2F2YWlsYWJsZTogZGV2aWNlLmlzX2F2YWlsYWJsZSxcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogZGV2aWNlLnVzZXJuYW1lXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b2tlbjogc2VhdC50b2tlbixcbiAgICAgICAgICAgIG5hbWU6IHNlYXQubmFtZSxcbiAgICAgICAgICAgIGRldmljZXM6IGRldmljZXMsXG4gICAgICAgICAgICBtYXBfcG9zaXRpb25feDogc2VhdC5tYXBfcG9zaXRpb25feCxcbiAgICAgICAgICAgIG1hcF9wb3NpdGlvbl95OiBzZWF0Lm1hcF9wb3NpdGlvbl95LFxuICAgICAgICAgICAgaXNfYXZhaWxhYmxlOiBkZXZpY2VzXG4gICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oZGV2aWNlKSB7IHJldHVybiBkZXZpY2UuaXNfYXZhaWxhYmxlOyB9KVxuICAgICAgICAgICAgICAubGVuZ3RoID4gMFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgTG9jYXRpb25Nb2RlbC5kZXZpY2VzQ2hhbmdlZC5hZGQoYnVpbGRNYXApO1xuICBMb2NhdGlvbk1vZGVsLnNlYXRzQ2hhbmdlZC5hZGQoYnVpbGRNYXApO1xuICBMb2NhdGlvbk1vZGVsLnNlYXRDaGFuZ2VkLmFkZChidWlsZE1hcCk7XG4gIGJ1aWxkTWFwKCk7XG5cbiAgJHNjb3BlLmNob29zZVNlYXQgPSBmdW5jdGlvbihzZWF0KSB7XG4gICAgdmFyIGRldmljZSA9IHNlYXQuZGV2aWNlc1swXTtcblxuICAgIGlmICghc2VhdC5pc19hdmFpbGFibGUgfHwgIWRldmljZSkge1xuICAgICAgdmFyIGRldmljZU5hbWUgPSBkZXZpY2UgJiYgZGV2aWNlLnVzZXJuYW1lID8gZGV2aWNlLnVzZXJuYW1lIDogc2VhdC5uYW1lO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChkZXZpY2VOYW1lICsgJyBpcyB1bmF2YWlsYWJsZSBmb3IgY2hhdCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIENoYXRNYW5hZ2VyLmFwcHJvdmVEZXZpY2UoZGV2aWNlLnRva2VuKTtcbiAgICAkc2NvcGUuZXhpdE1hcCgpO1xuICB9O1xuXG4gICRzY29wZS5leGl0TWFwID0gZnVuY3Rpb24oKSB7XG4gICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdjaGF0JyB9O1xuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jaGF0cm9vbS5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2hhdFJvb21DdHJsJyxcblsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0NoYXRNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ1NoZWxsTWFuYWdlcicsICdTTkFQTG9jYXRpb24nLFxuKCRzY29wZSwgJHRpbWVvdXQsIENoYXRNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgU2hlbGxNYW5hZ2VyLCBTTkFQTG9jYXRpb24pID0+IHtcbiAgXG4gIGlmICghU05BUExvY2F0aW9uLmNoYXQpIHtcbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2hvbWUnIH07XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgJHNjb3BlLmxvY2F0aW9uTmFtZSA9IFNOQVBMb2NhdGlvbi5sb2NhdGlvbl9uYW1lO1xuXG4gICRzY29wZS5nZXRQYXJ0aWFsVXJsID0gbmFtZSA9PiBTaGVsbE1hbmFnZXIuZ2V0UGFydGlhbFVybChuYW1lKTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY2hlY2tvdXQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NoZWNrb3V0Q3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0N1c3RvbWVyTWFuYWdlcicsICdPcmRlck1hbmFnZXInLCAnRGlhbG9nTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdTZXNzaW9uTWFuYWdlcicsICdTaGVsbE1hbmFnZXInLCAnTG9jYXRpb25Nb2RlbCcsICdTdXJ2ZXlNYW5hZ2VyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIEN1c3RvbWVyTWFuYWdlciwgT3JkZXJNYW5hZ2VyLCBEaWFsb2dNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgU2Vzc2lvbk1hbmFnZXIsIFNoZWxsTWFuYWdlciwgTG9jYXRpb25Nb2RlbCwgU3VydmV5TWFuYWdlcikgPT4ge1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBDb25zdGFudHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIENoZWNrIHNwbGl0IHR5cGVcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5DSEVDS19TUExJVF9OT05FID0gMDtcbiAgJHNjb3BlLkNIRUNLX1NQTElUX0JZX0lURU1TID0gMTtcbiAgJHNjb3BlLkNIRUNLX1NQTElUX0VWRU5MWSA9IDI7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBQYXltZW50IG1ldGhvZFxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLlBBWU1FTlRfTUVUSE9EX0NBUkQgPSAxO1xuICAkc2NvcGUuUEFZTUVOVF9NRVRIT0RfQ0FTSCA9IDI7XG4gICRzY29wZS5QQVlNRU5UX01FVEhPRF9QQVlQQUwgPSAzO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgUmVjZWlwdCBtZXRob2RcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5SRUNFSVBUX01FVEhPRF9OT05FID0gMDtcbiAgJHNjb3BlLlJFQ0VJUFRfTUVUSE9EX0VNQUlMID0gMTtcbiAgJHNjb3BlLlJFQ0VJUFRfTUVUSE9EX1NNUyA9IDI7XG4gICRzY29wZS5SRUNFSVBUX01FVEhPRF9QUklOVCA9IDM7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBDaGVja291dCBzdGVwXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUuU1RFUF9DSEVDS19TUExJVCA9IDA7XG4gICRzY29wZS5TVEVQX1BBWU1FTlQgPSAxO1xuICAkc2NvcGUuU1RFUF9USVBQSU5HID0gMjtcbiAgJHNjb3BlLlNURVBfU0lHTkFUVVJFID0gMztcbiAgJHNjb3BlLlNURVBfUkVDRUlQVCA9IDQ7XG4gICRzY29wZS5TVEVQX0NPTVBMRVRFID0gNTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHJvcGVydGllc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5vcHRpb25zID0ge307XG4gICRzY29wZS5kYXRhID0gW3tcbiAgICBpdGVtczogT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2hlY2tcbiAgfV07XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBDaGVja1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy9DaGVja3MgZGF0YVxuICB2YXIgZGF0YSA9ICRzY29wZS4kd2F0Y2hBc1Byb3BlcnR5KCdkYXRhJyk7XG4gIGRhdGFcbiAgLmNoYW5nZXMoKVxuICAuc3Vic2NyaWJlKHZhbHVlID0+IHtcbiAgICBpZiAodmFsdWUudmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdmFsdWUudmFsdWUoKTtcbiAgICAgICRzY29wZS5vcHRpb25zLmNvdW50ID0gZGF0YS5sZW5ndGg7XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wdGlvbnMuaW5kZXggPSAwO1xuICB9KTtcblxuICAvL01pbmltdW0gbnVtYmVyIG9mIGd1ZXN0c1xuICAkc2NvcGUub3B0aW9ucy5ndWVzdF9jb3VudF9taW4gPSAyO1xuXG4gIC8vTWF4aW11bSBudW1iZXIgb2YgZ3Vlc3RzXG4gICRzY29wZS5vcHRpb25zLmd1ZXN0X2NvdW50X21heCA9IDk7LypNYXRoLm1heChcbiAgICBTZXNzaW9uTWFuYWdlci5ndWVzdENvdW50LFxuICAgIE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNoZWNrLnJlZHVjZSgoaSwgaXRlbSkgPT4gaSArIGl0ZW0ucXVhbnRpdHksIDApXG4gICk7Ki9cblxuICAvL051bWJlciBvZiBndWVzdHNcbiAgJHNjb3BlLm9wdGlvbnMuZ3Vlc3RfY291bnQgPSBTZXNzaW9uTWFuYWdlci5ndWVzdENvdW50O1xuXG4gIC8vQ2hlY2sgc3BsaXQgbW9kZVxuICAkc2NvcGUub3B0aW9ucy5jaGVja19zcGxpdCA9ICRzY29wZS5DSEVDS19TUExJVF9OT05FO1xuXG4gIC8vQ2hlY2sgaW5kZXhcbiAgJHNjb3BlLm9wdGlvbnMuaW5kZXggPSAwO1xuICB2YXIgaW5kZXggPSAkc2NvcGUuJHdhdGNoQXNQcm9wZXJ0eSgnb3B0aW9ucy5pbmRleCcpO1xuICBCYWNvbi5jb21iaW5lQXNBcnJheShpbmRleCwgZGF0YSlcbiAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgJHNjb3BlLmN1cnJlbnQgPSAkc2NvcGUuZGF0YVskc2NvcGUub3B0aW9ucy5pbmRleF07XG5cbiAgICBpZiAoQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCAmJiAhQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzR3Vlc3QpIHtcbiAgICAgICRzY29wZS5jdXJyZW50LnJlY2VpcHRfcGhvbmUgPSAkc2NvcGUuY3VycmVudC5yZWNlaXB0X3Bob25lIHx8IEN1c3RvbWVyTWFuYWdlci5tb2RlbC5wcm9maWxlLnBob25lO1xuICAgICAgJHNjb3BlLmN1cnJlbnQucmVjZWlwdF9lbWFpbCA9IEN1c3RvbWVyTWFuYWdlci5tb2RlbC5oYXNDcmVkZW50aWFscyA/XG4gICAgICAgIEN1c3RvbWVyTWFuYWdlci5tb2RlbC5wcm9maWxlLmVtYWlsIDpcbiAgICAgICAgJHNjb3BlLmN1cnJlbnQucmVjZWlwdF9lbWFpbDtcbiAgICB9XG5cbiAgICBpZiAoJHNjb3BlLmN1cnJlbnQuaXRlbXMpIHtcbiAgICAgICRzY29wZS5jdXJyZW50LnN1YnRvdGFsID0gT3JkZXJNYW5hZ2VyLmNhbGN1bGF0ZVRvdGFsUHJpY2UoJHNjb3BlLmN1cnJlbnQuaXRlbXMpO1xuICAgICAgJHNjb3BlLmN1cnJlbnQudGF4ID0gT3JkZXJNYW5hZ2VyLmNhbGN1bGF0ZVRheCgkc2NvcGUuY3VycmVudC5pdGVtcyk7XG4gICAgfVxuXG4gICAgaWYgKCEkc2NvcGUuY3VycmVudC50aXApIHtcbiAgICAgICRzY29wZS5jdXJyZW50LnRpcCA9IDA7XG4gICAgfVxuXG4gICAgJHNjb3BlLmNoZWNrTmFtZSA9ICRzY29wZS5jdXJyZW50Lm5hbWUgJiYgJHNjb3BlLm9wdGlvbnMuc3RlcCAhPT0gJHNjb3BlLlNURVBfQ0hFQ0tfU1BMSVQgP1xuICAgICAkc2NvcGUuY3VycmVudC5uYW1lIDpcbiAgICAgYCR7Q3VzdG9tZXJNYW5hZ2VyLmN1c3RvbWVyTmFtZX0gQmlsbGA7XG4gIH0pO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgTmF2aWdhdGlvblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy9DdXJyZW50IHN0ZXBcbiAgJHNjb3BlLm9wdGlvbnMuc3RlcCA9ICRzY29wZS5vcHRpb25zLmd1ZXN0X2NvdW50X21heCA+IDEgP1xuICAgICRzY29wZS5TVEVQX0NIRUNLX1NQTElUIDpcbiAgICAkc2NvcGUuU1RFUF9USVBQSU5HO1xuICB2YXIgc3RlcCA9ICRzY29wZS4kd2F0Y2hBc1Byb3BlcnR5KCdvcHRpb25zLnN0ZXAnKTtcbiAgc3RlcFxuICAgIC5za2lwRHVwbGljYXRlcygpXG4gICAgLnN1YnNjcmliZSh2YWx1ZSA9PiB7XG4gICAgICBpZiAoIXZhbHVlLnZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0ZXAgPSB2YWx1ZS52YWx1ZSgpO1xuXG4gICAgICBpZiAoc3RlcCA9PT0gJHNjb3BlLlNURVBfQ09NUExFVEUpIHtcbiAgICAgICAgc3RhcnROZXh0Q2hlY2soKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIE1pc2NcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vU2VhdCBuYW1lXG4gICRzY29wZS5vcHRpb25zLnNlYXQgPSBMb2NhdGlvbk1vZGVsLnNlYXQgPyBMb2NhdGlvbk1vZGVsLnNlYXQubmFtZSA6ICdUYWJsZSc7XG4gIExvY2F0aW9uTW9kZWwuc2VhdENoYW5nZWQuYWRkKHNlYXQgPT4ge1xuICAgICRzY29wZS5vcHRpb25zLnNlYXQgPSBzZWF0ID8gc2VhdC5uYW1lIDogJ1RhYmxlJztcbiAgfSk7XG5cbiAgJHNjb3BlLmN1cnJlbmN5ID0gU2hlbGxNYW5hZ2VyLm1vZGVsLmN1cnJlbmN5O1xuICBTaGVsbE1hbmFnZXIubW9kZWwuY3VycmVuY3lDaGFuZ2VkLmFkZChjdXJyZW5jeSA9PiAkdGltZW91dCgoKSA9PiAkc2NvcGUuY3VycmVuY3kgPSBjdXJyZW5jeSkpO1xuXG4gICRzY29wZS5jaGVja05hbWUgPSBudWxsO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBQcml2YXRlIG1ldGhvZHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvL1Byb2NlZWQgd2l0aCB0aGUgbmV4dCBjaGVja1xuICBmdW5jdGlvbiBzdGFydE5leHRDaGVjaygpIHtcbiAgICB2YXIgY2hlY2sgPSAkc2NvcGUuY3VycmVudDtcblxuICAgIGlmICgkc2NvcGUub3B0aW9ucy5pbmRleCA9PT0gJHNjb3BlLm9wdGlvbnMuY291bnQgLSAxKSB7XG4gICAgICBPcmRlck1hbmFnZXIuY2xlYXJDaGVjaygpO1xuICAgICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7XG4gICAgICAgIHR5cGU6IFN1cnZleU1hbmFnZXIubW9kZWwuaXNFbmFibGVkID8gJ3N1cnZleScgOiAnaG9tZSdcbiAgICAgIH07XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgJHNjb3BlLm9wdGlvbnMuaW5kZXgrKztcbiAgICAgICRzY29wZS5vcHRpb25zLnN0ZXAgPSAkc2NvcGUuU1RFUF9USVBQSU5HO1xuICAgIH0pO1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFB1YmxpYyBtZXRob2RzXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLmdldFBhcnRpYWxVcmwgPSBuYW1lID0+IFNoZWxsTWFuYWdlci5nZXRQYXJ0aWFsVXJsKG5hbWUpO1xuXG4gIC8vQ2FsY3VsYXRlIGEgY2FydCBpdGVtIHRpdGxlXG4gICRzY29wZS5jYWxjdWxhdGVUaXRsZSA9IGVudHJ5ID0+IGVudHJ5Lm5hbWUgfHwgZW50cnkuaXRlbS50aXRsZTtcblxuICAvL0NhbGN1bGF0ZSBhIGNhcnQgaXRlbSBwcmljZVxuICAkc2NvcGUuY2FsY3VsYXRlUHJpY2UgPSBlbnRyeSA9PiBPcmRlck1hbmFnZXIuY2FsY3VsYXRlUHJpY2UoZW50cnkpO1xuXG4gIC8vQ2FsY3VsYXRlIGNhcnQgaXRlbXMgcHJpY2VcbiAgJHNjb3BlLmNhbGN1bGF0ZVRvdGFsUHJpY2UgPSBlbnRyaWVzID0+IE9yZGVyTWFuYWdlci5jYWxjdWxhdGVUb3RhbFByaWNlKGVudHJpZXMpO1xuXG4gIC8vT3V0cHV0IGEgZm9ybWF0dGVkIHByaWNlIHN0cmluZ1xuICAkc2NvcGUuZm9ybWF0UHJpY2UgPSB2YWx1ZSA9PiBTaGVsbE1hbmFnZXIuZm9ybWF0UHJpY2UodmFsdWUgfHwgMCk7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFN0YXJ0dXBcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBpZiAoIUN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ3NpZ25pbicgfTtcbiAgICByZXR1cm47XG4gIH1cblxuICAkc2NvcGUuaW5pdGlhbGl6ZWQgPSB0cnVlO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jaGVja291dHBheW1lbnQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NoZWNrb3V0UGF5bWVudEN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdDdXN0b21lck1vZGVsJywgJ0NhcmRSZWFkZXInLCAnRGlhbG9nTWFuYWdlcicsICdPcmRlck1hbmFnZXInLCAnTG9nZ2VyJywgJ1NOQVBFbnZpcm9ubWVudCcsICdTTkFQTG9jYXRpb24nLFxuICAoJHNjb3BlLCAkdGltZW91dCwgQ3VzdG9tZXJNb2RlbCwgQ2FyZFJlYWRlciwgRGlhbG9nTWFuYWdlciwgT3JkZXJNYW5hZ2VyLCBMb2dnZXIsIFNOQVBFbnZpcm9ubWVudCwgU05BUExvY2F0aW9uKSA9PiB7XG5cbiAgQ2FyZFJlYWRlci5vblJlY2VpdmVkLmFkZChkYXRhID0+IHtcbiAgICBMb2dnZXIuZGVidWcoYENhcmQgcmVhZGVyIHJlc3VsdDogJHtKU09OLnN0cmluZ2lmeShkYXRhKX1gKTtcbiAgICB2YXIgY2FyZCA9IHtcbiAgICAgIG51bWJlcjogZGF0YS5jYXJkX251bWJlcixcbiAgICAgIG1vbnRoOiBkYXRhLmV4cGlyYXRpb25fbW9udGgsXG4gICAgICB5ZWFyOiBkYXRhLmV4cGlyYXRpb25feWVhcixcbiAgICAgIGRhdGE6IGRhdGEuZGF0YVxuICAgIH07XG5cbiAgICBDYXJkUmVhZGVyLnN0b3AoKTtcbiAgICBjYXJkRGF0YVJlY2VpdmVkKGNhcmQpO1xuICB9KTtcblxuICBDYXJkUmVhZGVyLm9uRXJyb3IuYWRkKGUgPT4ge1xuICAgIExvZ2dlci5kZWJ1ZyhgQ2FyZCByZWFkZXIgZXJyb3I6ICR7SlNPTi5zdHJpbmdpZnkoZSl9YCk7XG4gICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9DQVJEUkVBREVSX0VSUk9SKS50aGVuKCgpID0+IHtcbiAgICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS5wYXlDYXJkQ2FuY2VsKCkpO1xuICAgIH0pO1xuICB9KTtcblxuICAkc2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdGFydCcsICgpID0+IHtcbiAgICBDYXJkUmVhZGVyLnN0b3AoKTtcbiAgfSk7XG5cbiAgLy9DYWxsZWQgd2hlbiBhIGNhcmQgZGF0YSBpcyByZWNlaXZlZFxuICBmdW5jdGlvbiBjYXJkRGF0YVJlY2VpdmVkKGNhcmQpIHtcbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoJHNjb3BlLmN1cnJlbnQuaXRlbXMpIHtcbiAgICAgICAgT3JkZXJNYW5hZ2VyLmNsZWFyQ2hlY2soJHNjb3BlLmN1cnJlbnQuaXRlbXMpO1xuICAgICAgfVxuICAgICAgJHNjb3BlLmN1cnJlbnQuY2FyZF9kYXRhID0gY2FyZC5kYXRhO1xuICAgICAgJHNjb3BlLm9wdGlvbnMuc3RlcCA9ICRzY29wZS5TVEVQX1NJR05BVFVSRTtcbiAgICB9KTtcbiAgfVxuXG4gICRzY29wZS5jYW5QYXlDYXJkID0gU05BUEVudmlyb25tZW50LnBsYXRmb3JtICE9PSAnd2ViJyAmJiBTTkFQTG9jYXRpb24ucGF5bWVudHM7XG5cbiAgLy9DaG9vc2UgdG8gcGF5IHdpdGggYSBjcmVkaXQgY2FyZFxuICAkc2NvcGUucGF5Q2FyZCA9ICgpID0+IHtcbiAgICAkc2NvcGUuY3VycmVudC5wYXltZW50X21ldGhvZCA9ICRzY29wZS5QQVlNRU5UX01FVEhPRF9DQVJEO1xuXG4gICAgaWYgKCEkc2NvcGUuY3VycmVudC5wYXltZW50X3Rva2VuKSB7XG4gICAgICBnZW5lcmF0ZVBheW1lbnRUb2tlbigpO1xuICAgIH1cblxuICAgIENhcmRSZWFkZXIuc3RhcnQoKTtcbiAgfTtcblxuICAkc2NvcGUucGF5Q2FyZENhbmNlbCA9ICgpID0+IHtcbiAgICAkc2NvcGUuY3VycmVudC5wYXltZW50X21ldGhvZCA9IHVuZGVmaW5lZDtcbiAgICBDYXJkUmVhZGVyLnN0b3AoKTtcbiAgfTtcblxuICAvL0Nob29zZSB0byBwYXkgd2l0aCBjYXNoXG4gICRzY29wZS5wYXlDYXNoID0gKCkgPT4ge1xuICAgICRzY29wZS5jdXJyZW50LnBheW1lbnRfbWV0aG9kID0gJHNjb3BlLlBBWU1FTlRfTUVUSE9EX0NBU0g7XG5cbiAgICBpZiAoT3JkZXJNYW5hZ2VyLm1vZGVsLmNsb3Nlb3V0UmVxdWVzdCAhPT0gbnVsbCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX0NMT1NFT1VUX1NFTlQpO1xuICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoJHNjb3BlLmN1cnJlbnQuaXRlbXMpIHtcbiAgICAgICAgICBPcmRlck1hbmFnZXIuY2xlYXJDaGVjaygkc2NvcGUuY3VycmVudC5pdGVtcyk7XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLm9wdGlvbnMuc3RlcCA9ICRzY29wZS5TVEVQX0NPTVBMRVRFO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcblxuICAgIE9yZGVyTWFuYWdlci5yZXF1ZXN0Q2xvc2VvdXQoKS50aGVuKCgpID0+IHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfQ0xPU0VPVVRfU0VOVCk7XG4gICAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICgkc2NvcGUuY3VycmVudC5pdGVtcykge1xuICAgICAgICAgIE9yZGVyTWFuYWdlci5jbGVhckNoZWNrKCRzY29wZS5jdXJyZW50Lml0ZW1zKTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUub3B0aW9ucy5zdGVwID0gJHNjb3BlLlNURVBfQ09NUExFVEU7XG4gICAgICB9KTtcbiAgICB9LCBlID0+IHtcbiAgICAgIExvZ2dlci5kZWJ1ZyhgUmVxdWVzdCBjbG9zZW91dCBlcnJvcjogJHtKU09OLnN0cmluZ2lmeShlKX1gKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICB9KTtcbiAgfTtcblxuICAvL0dlbmVyYXRlIGEgcGF5bWVudCB0b2tlblxuICBmdW5jdGlvbiBnZW5lcmF0ZVBheW1lbnRUb2tlbigpIHtcbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgT3JkZXJNYW5hZ2VyLmdlbmVyYXRlUGF5bWVudFRva2VuKCkudGhlbih0b2tlbiA9PiB7XG4gICAgICAkc2NvcGUuY3VycmVudC5wYXltZW50X3Rva2VuID0gdG9rZW47XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgIH0sIGUgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgIH0pO1xuICB9XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NoZWNrb3V0cmVjZWlwdC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2hlY2tvdXRSZWNlaXB0Q3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0RpYWxvZ01hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIERpYWxvZ01hbmFnZXIsIE9yZGVyTWFuYWdlcikgPT4ge1xuXG4gICRzY29wZS5lbWFpbEVkaXRvck9wZW4gPSBmYWxzZTtcblxuICAvL0Nob29zZSB0byBoYXZlIG5vIHJlY2VpcHRcbiAgJHNjb3BlLnJlY2VpcHROb25lID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLmN1cnJlbnQucmVjZWlwdF9tZXRob2QgPSAkc2NvcGUuUkVDRUlQVF9NRVRIT0RfTk9ORTtcbiAgICAkc2NvcGUub3B0aW9ucy5zdGVwID0gJHNjb3BlLlNURVBfQ09NUExFVEU7XG4gIH07XG5cbiAgLy9DaG9vc2UgdG8gcmVjZWl2ZSBhIHJlY2VpcHQgYnkgZS1tYWlsXG4gICRzY29wZS5yZWNlaXB0RW1haWwgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5jdXJyZW50LnJlY2VpcHRfZW1haWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAkc2NvcGUuY3VycmVudC5yZWNlaXB0X21ldGhvZCA9ICRzY29wZS5SRUNFSVBUX01FVEhPRF9FTUFJTDtcbiAgICByZXF1ZXN0UmVjZWlwdCgpO1xuICB9O1xuXG4gIC8vQ2hvb3NlIHRvIHJlY2VpdmUgYSByZWNlaXB0IGJ5IHNtc1xuICAkc2NvcGUucmVjZWlwdFNtcyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghJHNjb3BlLmN1cnJlbnQucmVjZWlwdF9waG9uZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgICRzY29wZS5jdXJyZW50LnJlY2VpcHRfcGhvbmUgPSAkc2NvcGUuUkVDRUlQVF9NRVRIT0RfU01TO1xuICAgIHJlcXVlc3RSZWNlaXB0KCk7XG4gIH07XG5cbiAgLy9DaG9vc2UgdG8gcmVjZWl2ZSBhIHByaW50ZWQgcmVjZWlwdFxuICAkc2NvcGUucmVjZWlwdFByaW50ID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLmN1cnJlbnQucmVjZWlwdF9tZXRob2QgPSAkc2NvcGUuUkVDRUlQVF9NRVRIT0RfUFJJTlQ7XG4gICAgcmVxdWVzdFJlY2VpcHQoKTtcbiAgfTtcblxuICAvL09wZW4gYW4gZS1tYWlsIGVkaXRvclxuICAkc2NvcGUucmVjZWlwdEVkaXRFbWFpbCA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5lbWFpbEVkaXRvck9wZW4gPSB0cnVlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHJlcXVlc3RSZWNlaXB0KCkge1xuICAgIHZhciBpdGVtID0gJHNjb3BlLmN1cnJlbnQ7XG5cbiAgICB2YXIgcmVxdWVzdCA9IHtcbiAgICAgIGNoZWNrb3V0X3Rva2VuOiBpdGVtLmNoZWNrb3V0X3Rva2VuLFxuICAgICAgcmVjZWlwdF9tZXRob2Q6IGl0ZW0ucmVjZWlwdF9tZXRob2RcbiAgICB9O1xuXG4gICAgaWYgKGl0ZW0ucmVjZWlwdF9tZXRob2QgPT09ICRzY29wZS5SRUNFSVBUX01FVEhPRF9FTUFJTCkge1xuICAgICAgcmVxdWVzdC5yZWNlaXB0X2VtYWlsID0gaXRlbS5yZWNlaXB0X2VtYWlsO1xuICAgIH1cbiAgICBlbHNlIGlmIChpdGVtLnJlY2VpcHRfbWV0aG9kID09PSAkc2NvcGUuUkVDRUlQVF9NRVRIT0RfU01TKSB7XG4gICAgICByZXF1ZXN0LnJlY2VpcHRfcGhvbmUgPSBpdGVtLnJlY2VpcHRfcGhvbmU7XG4gICAgfVxuXG4gICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcblxuICAgIE9yZGVyTWFuYWdlci5yZXF1ZXN0UmVjZWlwdChyZXF1ZXN0KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcblxuICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAkc2NvcGUub3B0aW9ucy5zdGVwID0gJHNjb3BlLlNURVBfQ09NUExFVEU7XG4gICAgICAgICRzY29wZS5lbWFpbEVkaXRvck9wZW4gPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uKGUpIHtcbiAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgJHNjb3BlLmVtYWlsRWRpdG9yT3BlbiA9IGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICB9KTtcbiAgfVxufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jaGVja291dHNpZ25hdHVyZS5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2hlY2tvdXRTaWduYXR1cmVDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnRGlhbG9nTWFuYWdlcicsICdPcmRlck1hbmFnZXInLCAnTG9nZ2VyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIERpYWxvZ01hbmFnZXIsIE9yZGVyTWFuYWdlciwgTG9nZ2VyKSA9PiB7XG5cbiAgLy9DbGVhciB0aGUgY3VycmVudCBzaWduYXR1cmVcbiAgdmFyIHJlc2V0U2lnbmF0dXJlID0gKCkgPT4ge1xuICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICRzY29wZS5jdXJyZW50LnNpZ25hdHVyZV90b2tlbiA9IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIHNpZ25hdHVyZSA9ICQoJyNjaGVja291dC1zaWduYXR1cmUtaW5wdXQnKTtcbiAgICAgIHNpZ25hdHVyZS5lbXB0eSgpO1xuICAgICAgc2lnbmF0dXJlLmpTaWduYXR1cmUoJ2luaXQnLCB7XG4gICAgICAgICdjb2xvcicgOiAnIzAwMCcsXG4gICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJyNmZmYnLFxuICAgICAgICAnZGVjb3ItY29sb3InOiAnI2ZmZicsXG4gICAgICAgICd3aWR0aCc6ICcxMDAlJyxcbiAgICAgICAgJ2hlaWdodCc6ICcyMDBweCdcbiAgICAgIH0pO1xuICAgIH0sIDMwMCk7XG4gIH07XG5cbiAgLy9TdWJtaXQgdGhlIGN1cnJlbnQgc2lnbmF0dXJlIGlucHV0XG4gICRzY29wZS5zaWduYXR1cmVTdWJtaXQgPSAoKSA9PiB7XG4gICAgdmFyIHNpZ25hdHVyZSA9ICQoJyNjaGVja291dC1zaWduYXR1cmUtaW5wdXQnKTtcblxuICAgIGlmIChzaWduYXR1cmUualNpZ25hdHVyZSgnZ2V0RGF0YScsICduYXRpdmUnKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuICAgIHZhciBzaWcgPSBzaWduYXR1cmUualNpZ25hdHVyZSgnZ2V0RGF0YScsICdpbWFnZScpO1xuXG4gICAgT3JkZXJNYW5hZ2VyLnVwbG9hZFNpZ25hdHVyZShzaWdbMV0pLnRoZW4odG9rZW4gPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcblxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS5jdXJyZW50LnNpZ25hdHVyZV90b2tlbiA9IHRva2VuO1xuICAgICAgICBjb21wbGV0ZUNoZWNrb3V0KCk7XG4gICAgICB9KTtcbiAgICB9LCBlID0+IHtcbiAgICAgIExvZ2dlci5kZWJ1ZyhgU2lnbmF0dXJlIHVwbG9hZCBlcnJvcjogJHtKU09OLnN0cmluZ2lmeShlKX1gKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICB9KTtcbiAgfTtcblxuICAvL0NhbmNlbCB0aGUgY3VycmVudCBzaWduYXR1cmUgaW5wdXRcbiAgJHNjb3BlLnNpZ25hdHVyZUNhbmNlbCA9ICgpID0+IHtcbiAgICByZXNldFNpZ25hdHVyZSgpO1xuICB9O1xuXG4gIC8vQ29tcGxldGUgdGhlIGNoZWNrb3V0XG4gIGZ1bmN0aW9uIGNvbXBsZXRlQ2hlY2tvdXQoKSB7XG4gICAgdmFyIGl0ZW0gPSAkc2NvcGUuY3VycmVudDtcbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgdmFyIHJlcXVlc3QgPSB7XG4gICAgICBhbW91bnRfc3VidG90YWw6IGl0ZW0uc3VidG90YWwsXG4gICAgICBhbW91bnRfdGF4OiBpdGVtLnRheCxcbiAgICAgIGFtb3VudF90aXA6IGl0ZW0udGlwLFxuICAgICAgY2FyZF9kYXRhOiBpdGVtLmNhcmRfZGF0YSxcbiAgICAgIHNpZ25hdHVyZV90b2tlbjogaXRlbS5zaWduYXR1cmVfdG9rZW4sXG4gICAgICBwYXltZW50X3Rva2VuOiBpdGVtLnBheW1lbnRfdG9rZW4sXG4gICAgICBvcmRlcl90b2tlbnM6IGl0ZW0uaXRlbXMgIT09IG51bGwgP1xuICAgICAgICBpdGVtLml0ZW1zLnJlZHVjZShmdW5jdGlvbihyZXN1bHQsIGl0ZW0pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbS5xdWFudGl0eTsgaSsrKSB7XG4gICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0ucmVxdWVzdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfSwgW10pXG4gICAgICAgIDogbnVsbFxuICAgIH07XG5cbiAgICBPcmRlck1hbmFnZXIucGF5T3JkZXIocmVxdWVzdCkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9DTE9TRU9VVF9TRU5UKTtcblxuICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAkc2NvcGUuY3VycmVudC5jaGVja291dF90b2tlbiA9IHJlc3VsdC50b2tlbjtcbiAgICAgICAgJHNjb3BlLm9wdGlvbnMuc3RlcCA9ICRzY29wZS5TVEVQX1JFQ0VJUFQ7XG4gICAgICB9KTtcbiAgICB9LCBlID0+IHtcbiAgICAgIExvZ2dlci5kZWJ1ZyhgT3JkZXIgcGF5bWVudCBlcnJvcjogJHtKU09OLnN0cmluZ2lmeShlKX1gKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBzdGVwID0gJHNjb3BlLiR3YXRjaEFzUHJvcGVydHkoJ29wdGlvbnMuc3RlcCcpO1xuICBzdGVwXG4gIC5za2lwRHVwbGljYXRlcygpXG4gIC5zdWJzY3JpYmUodmFsdWUgPT4ge1xuICAgIGlmICghdmFsdWUudmFsdWUgfHwgdmFsdWUudmFsdWUoKSAhPT0gJHNjb3BlLlNURVBfU0lHTkFUVVJFKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVzZXRTaWduYXR1cmUoKTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NoZWNrb3V0dGlwLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdDaGVja291dFRpcEN0cmwnLCBbJyRzY29wZScsICckdGltZW91dCcsICdPcmRlck1hbmFnZXInLCBmdW5jdGlvbigkc2NvcGUsICR0aW1lb3V0LCBPcmRlck1hbmFnZXIpIHtcblxuICAkc2NvcGUudGlwRWRpdG9yT3BlbiA9IGZhbHNlO1xuICAkc2NvcGUuZGF0YSA9IHtcbiAgICB0aXBBbW91bnQ6IDAuMFxuICB9O1xuXG4gIC8vQWRkIGEgdGlwXG4gICRzY29wZS5hZGRUaXAgPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBpZiAoYW1vdW50ID49IDApIHtcbiAgICAgICRzY29wZS5kYXRhLnRpcEFtb3VudCA9IGFtb3VudDtcbiAgICAgICRzY29wZS5jdXJyZW50LnRpcCA9IE1hdGgucm91bmQoKCRzY29wZS5jdXJyZW50LnN1YnRvdGFsICogYW1vdW50KSAqIDEwMCkgLyAxMDA7XG4gICAgfVxuICB9O1xuXG4gIC8vQXBwbHkgdGhlIHNlbGVjdGVkIHRpcCBhbW91bnQgYW5kIHByb2NlZWQgZnVydGhlclxuICAkc2NvcGUuYXBwbHlUaXAgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUub3B0aW9ucy5zdGVwID0gJHNjb3BlLlNURVBfUEFZTUVOVDtcbiAgICAkc2NvcGUudGlwRWRpdG9yT3BlbiA9IGZhbHNlO1xuICB9O1xuXG4gIC8vRWRpdCB0aXAgYW1vdW50XG4gICRzY29wZS5lZGl0VGlwID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnRpcEVkaXRvck9wZW4gPSB0cnVlO1xuICAgICRzY29wZS5hZGRUaXAoMC4yKTtcbiAgfTtcblxuICAvL0VkaXQgdGlwIGFtb3VudFxuICAkc2NvcGUuY2FuY2VsRWRpdFRpcCA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS50aXBFZGl0b3JPcGVuID0gZmFsc2U7XG4gICAgJHNjb3BlLmFkZFRpcCgwLjApO1xuICB9O1xuXG4gICRzY29wZS4kd2F0Y2hBc1Byb3BlcnR5KCdkYXRhLnRpcEFtb3VudCcpXG4gICAgLnNraXBEdXBsaWNhdGVzKClcbiAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlLnZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGFtb3VudCA9IHBhcnNlRmxvYXQodmFsdWUudmFsdWUoKSk7XG5cbiAgICAgIGlmIChhbW91bnQgPj0gMCkge1xuICAgICAgICAkc2NvcGUuYWRkVGlwKGFtb3VudCk7XG4gICAgICB9XG4gICAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NsYXNzaWMvY2FydC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2FydEN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICckc2NlJywgJ0N1c3RvbWVyTWFuYWdlcicsICdTaGVsbE1hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJywgJ0RpYWxvZ01hbmFnZXInLCAnQ2FydE1vZGVsJywgJ0xvY2F0aW9uTW9kZWwnLCAnQ2hhdE1hbmFnZXInLFxuICAoJHNjb3BlLCAkdGltZW91dCwgJHNjZSwgQ3VzdG9tZXJNYW5hZ2VyLCBTaGVsbE1hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyLCBPcmRlck1hbmFnZXIsIERpYWxvZ01hbmFnZXIsIENhcnRNb2RlbCwgTG9jYXRpb25Nb2RlbCwgQ2hhdE1hbmFnZXIpID0+IHtcblxuICAkc2NvcGUuZ2V0TWVkaWFVcmwgPSAobWVkaWEsIHdpZHRoLCBoZWlnaHQsIGV4dGVuc2lvbikgPT4gU2hlbGxNYW5hZ2VyLmdldE1lZGlhVXJsKG1lZGlhLCB3aWR0aCwgaGVpZ2h0LCBleHRlbnNpb24pO1xuICAkc2NvcGUuZm9ybWF0UHJpY2UgPSB2YWx1ZSA9PiBTaGVsbE1hbmFnZXIuZm9ybWF0UHJpY2UodmFsdWUpO1xuICAkc2NvcGUub3B0aW9ucyA9IHt9O1xuXG4gICRzY29wZS5zdGF0ZSA9IENhcnRNb2RlbC5jYXJ0U3RhdGU7XG4gIENhcnRNb2RlbC5jYXJ0U3RhdGVDaGFuZ2VkLmFkZChzdGF0ZSA9PiAkdGltZW91dCgoKSA9PiAkc2NvcGUuc3RhdGUgPSBzdGF0ZSkpO1xuXG4gICRzY29wZS5jdXJyZW50T3JkZXIgPSBPcmRlck1hbmFnZXIubW9kZWwub3JkZXJDYXJ0O1xuICBPcmRlck1hbmFnZXIubW9kZWwub3JkZXJDYXJ0Q2hhbmdlZC5hZGQodmFsdWUgPT4gJHNjb3BlLmN1cnJlbnRPcmRlciA9IHZhbHVlKTtcblxuICAkc2NvcGUudG90YWxPcmRlciA9IE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNoZWNrO1xuICBPcmRlck1hbmFnZXIubW9kZWwub3JkZXJDaGVja0NoYW5nZWQuYWRkKHZhbHVlID0+ICRzY29wZS50b3RhbE9yZGVyID0gdmFsdWUpO1xuXG4gICRzY29wZS5naWZ0U2VhdCA9IExvY2F0aW9uTW9kZWwuZ2V0U2VhdChDaGF0TWFuYWdlci5tb2RlbC5naWZ0U2VhdCk7XG4gIENoYXRNYW5hZ2VyLm1vZGVsLmdpZnRTZWF0Q2hhbmdlZC5hZGQodG9rZW4gPT4ge1xuICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS5naWZ0U2VhdCA9IExvY2F0aW9uTW9kZWwuZ2V0U2VhdCh0b2tlbikpO1xuICB9KTtcblxuICAkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2VBdmFpbGFibGUgPSB0cnVlO1xuICAkc2NvcGUucmVxdWVzdENsb3Nlb3V0QXZhaWxhYmxlID0gdHJ1ZTtcbiAgJHNjb3BlLmNoZWNrb3V0RW5hYmxlZCA9IEN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0VuYWJsZWQ7XG4gICRzY29wZS50b0dvT3JkZXIgPSBmYWxzZTtcbiAgJHNjb3BlLnZpc2libGUgPSBDYXJ0TW9kZWwuaXNDYXJ0T3BlbjtcblxuICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbkNoYW5naW5nLmFkZChsb2NhdGlvbiA9PiB7XG4gICAgaWYgKGxvY2F0aW9uLnR5cGUgIT09ICdjYXRlZ29yeScpIHtcbiAgICAgIENhcnRNb2RlbC5pc0NhcnRPcGVuID0gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICBDYXJ0TW9kZWwuaXNDYXJ0T3BlbkNoYW5nZWQuYWRkKHZhbHVlID0+IHtcbiAgICAkc2NvcGUuc2hvd0NhcnQoKTtcbiAgICAkc2NvcGUudmlzaWJsZSA9IHZhbHVlO1xuICB9KTtcblxuICAkc2NvcGUuc2VhdF9uYW1lID0gTG9jYXRpb25Nb2RlbC5zZWF0ID9cbiAgICBMb2NhdGlvbk1vZGVsLnNlYXQubmFtZSA6XG4gICAgJ1RhYmxlJztcblxuICBMb2NhdGlvbk1vZGVsLnNlYXRDaGFuZ2VkLmFkZChzZWF0ID0+ICRzY29wZS5zZWF0X25hbWUgPSBzZWF0ID8gc2VhdC5uYW1lIDogJ1RhYmxlJyk7XG5cbiAgdmFyIHJlZnJlc2hBc3Npc3RhbmNlUmVxdWVzdCA9ICgpID0+IHtcbiAgICAkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2VBdmFpbGFibGUgPSBPcmRlck1hbmFnZXIubW9kZWwuYXNzaXN0YW5jZVJlcXVlc3QgPT09IG51bGw7XG4gIH07XG4gIHZhciByZWZyZXNoQ2xvc2VvdXRSZXF1ZXN0ID0gKCkgPT4ge1xuICAgICRzY29wZS5yZXF1ZXN0Q2xvc2VvdXRBdmFpbGFibGUgPSBPcmRlck1hbmFnZXIubW9kZWwuY2xvc2VvdXRSZXF1ZXN0ID09PSBudWxsO1xuICB9O1xuXG4gIE9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdENoYW5nZWQuYWRkKHJlZnJlc2hBc3Npc3RhbmNlUmVxdWVzdCk7XG4gIE9yZGVyTWFuYWdlci5tb2RlbC5jbG9zZW91dFJlcXVlc3RDaGFuZ2VkLmFkZChyZWZyZXNoQ2xvc2VvdXRSZXF1ZXN0KTtcbiAgcmVmcmVzaEFzc2lzdGFuY2VSZXF1ZXN0KCk7XG4gIHJlZnJlc2hDbG9zZW91dFJlcXVlc3QoKTtcblxuICAkc2NvcGUuY2FsY3VsYXRlRGVzY3JpcHRpb24gPSBlbnRyeSA9PiB7XG4gICAgdmFyIHJlc3VsdCA9IGVudHJ5Lm5hbWUgfHwgZW50cnkuaXRlbS50aXRsZTtcblxuICAgIHJlc3VsdCArPSBlbnRyeS5tb2RpZmllcnMucmVkdWNlKChvdXRwdXQsIGNhdGVnb3J5KSA9PiB7XG4gICAgICByZXR1cm4gb3V0cHV0ICsgY2F0ZWdvcnkubW9kaWZpZXJzLnJlZHVjZSgob3V0cHV0LCBtb2RpZmllcikgPT4ge1xuICAgICAgICByZXR1cm4gb3V0cHV0ICsgKG1vZGlmaWVyLmlzU2VsZWN0ZWQgP1xuICAgICAgICAgICc8YnIvPi0gJyArIG1vZGlmaWVyLmRhdGEudGl0bGUgOlxuICAgICAgICAgICcnKTtcbiAgICAgIH0sICcnKTtcbiAgICB9LCAnJyk7XG5cbiAgICByZXR1cm4gJHNjZS50cnVzdEFzSHRtbChyZXN1bHQpO1xuICB9O1xuXG4gICRzY29wZS5jYWxjdWxhdGVQcmljZSA9IGVudHJ5ID0+IE9yZGVyTWFuYWdlci5jYWxjdWxhdGVQcmljZShlbnRyeSk7XG4gICRzY29wZS5jYWxjdWxhdGVUb3RhbFByaWNlID0gZW50cmllcyA9PiBPcmRlck1hbmFnZXIuY2FsY3VsYXRlVG90YWxQcmljZShlbnRyaWVzKTtcblxuICAkc2NvcGUuZWRpdEl0ZW0gPSBlbnRyeSA9PiBDYXJ0TW9kZWwub3BlbkVkaXRvcihlbnRyeSwgZmFsc2UpO1xuICAkc2NvcGUucmVtb3ZlRnJvbUNhcnQgPSBlbnRyeSA9PiAkc2NvcGUuY3VycmVudE9yZGVyID0gT3JkZXJNYW5hZ2VyLnJlbW92ZUZyb21DYXJ0KGVudHJ5KTtcbiAgJHNjb3BlLnJlb3JkZXJJdGVtID0gZW50cnkgPT4gJHNjb3BlLmN1cnJlbnRPcmRlciA9IE9yZGVyTWFuYWdlci5hZGRUb0NhcnQoZW50cnkuY2xvbmUoKSk7XG5cbiAgJHNjb3BlLnN1Ym1pdENhcnQgPSAoKSA9PiB7XG4gICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcblxuICAgIHZhciBvcHRpb25zID0gJHNjb3BlLm9wdGlvbnMudG9fZ29fb3JkZXIgPyAyIDogMDtcblxuICAgIE9yZGVyTWFuYWdlci5zdWJtaXRDYXJ0KG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuXG4gICAgICAkc2NvcGUuJGFwcGx5KCgpID0+IHtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRPcmRlciA9IE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNhcnQ7XG4gICAgICAgICRzY29wZS50b3RhbE9yZGVyID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2hlY2s7XG4gICAgICAgICRzY29wZS50b0dvT3JkZXIgPSBmYWxzZTtcbiAgICAgIH0pO1xuXG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfT1JERVJfU0VOVCk7XG4gICAgfSwgKCkgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5jbGVhckNhcnQgPSAoKSA9PiB7XG4gICAgJHNjb3BlLnRvR29PcmRlciA9IGZhbHNlO1xuICAgICRzY29wZS5jdXJyZW50T3JkZXIgPSBPcmRlck1hbmFnZXIuY2xlYXJDYXJ0KCk7XG4gIH07XG5cbiAgJHNjb3BlLmNsb3NlQ2FydCA9ICgpID0+IHtcbiAgICBDYXJ0TW9kZWwuaXNDYXJ0T3BlbiA9IGZhbHNlO1xuICAgICRzY29wZS5zaG93Q2FydCgpO1xuICB9O1xuXG4gICRzY29wZS5zaG93SGlzdG9yeSA9ICgpID0+IENhcnRNb2RlbC5jYXJ0U3RhdGUgPSBDYXJ0TW9kZWwuU1RBVEVfSElTVE9SWTtcbiAgJHNjb3BlLnNob3dDYXJ0ID0gKCkgPT4gQ2FydE1vZGVsLmNhcnRTdGF0ZSA9IENhcnRNb2RlbC5TVEFURV9DQVJUO1xuXG4gICRzY29wZS5wYXlDaGVjayA9ICgpID0+IE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnY2hlY2tvdXQnIH07XG5cbiAgJHNjb3BlLnJlcXVlc3RBc3Npc3RhbmNlID0gKCkgPT4ge1xuICAgIGlmICghJHNjb3BlLnJlcXVlc3RBc3Npc3RhbmNlQXZhaWxhYmxlKXtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oQUxFUlRfVEFCTEVfQVNTSVNUQU5DRSkudGhlbigoKSA9PiB7XG4gICAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgICBPcmRlck1hbmFnZXIucmVxdWVzdEFzc2lzdGFuY2UoKS50aGVuKCgpID0+IHtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX0FTU0lTVEFOQ0VfU0VOVCk7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLnJlcXVlc3RDbG9zZW91dCA9ICgpID0+IHtcbiAgICBpZiAoISRzY29wZS5yZXF1ZXN0Q2xvc2VvdXRBdmFpbGFibGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgT3JkZXJNYW5hZ2VyLnJlcXVlc3RDbG9zZW91dCgpLnRoZW4oKCkgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9DTE9TRU9VVF9TRU5UKTtcbiAgICB9LCAoKSA9PiB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgfSk7XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NsYXNzaWMvY2F0ZWdvcnkuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NhdGVnb3J5QmFzZUN0cmwnLCBbJyRzY29wZScsICckdGltZW91dCcsICdEYXRhTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsIGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQsIERhdGFNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlcikge1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2F0ZWdvcnlDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnRGF0YU1hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnU05BUEVudmlyb25tZW50JywgJ1NoZWxsTWFuYWdlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBEYXRhTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIFNOQVBFbnZpcm9ubWVudCwgU2hlbGxNYW5hZ2VyKSA9PiB7XG5cbiAgdmFyIENhdGVnb3J5TGlzdCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHRpbGVDbGFzc05hbWUgPSBTaGVsbE1hbmFnZXIudGlsZVN0eWxlO1xuICAgICAgdmFyIHJvd3MgPSB0aGlzLnByb3BzLnRpbGVzLm1hcChmdW5jdGlvbih0aWxlLCBpKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgUmVhY3QuRE9NLnRkKHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogdGlsZUNsYXNzTmFtZSxcbiAgICAgICAgICAgIGtleTogaVxuICAgICAgICAgIH0sIFJlYWN0LkRPTS5hKHtcbiAgICAgICAgICAgIG9uQ2xpY2s6IGUgPT4ge1xuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0gdGlsZS5kZXN0aW5hdGlvbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoJyArIFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybCh0aWxlLmltYWdlLCAzNzAsIDM3MCkgKyAnKSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4obnVsbCwgdGlsZS50aXRsZSlcbiAgICAgICAgICApKVxuICAgICAgICApO1xuICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGkpIHtcbiAgICAgICAgcmVzdWx0W2kgJSAyXS5wdXNoKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sIFtbXSwgW11dKVxuICAgICAgLm1hcChmdW5jdGlvbihyb3csIGkpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LkRPTS50cih7IGtleTogaSB9LCByb3cpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBSZWFjdC5ET00udGFibGUoeyBjbGFzc05hbWU6ICd0aWxlLXRhYmxlJyB9LCByb3dzKTtcbiAgICB9XG4gIH0pO1xuXG4gIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uQ2hhbmdpbmcuYWRkKGZ1bmN0aW9uKGxvY2F0aW9uKSB7XG4gICAgRGF0YU1hbmFnZXIuY2F0ZWdvcnkgPSBsb2NhdGlvbi50eXBlID09PSAnY2F0ZWdvcnknID8gbG9jYXRpb24udG9rZW4gOiB1bmRlZmluZWQ7XG4gICAgJHNjb3BlLnZpc2libGUgPSBCb29sZWFuKERhdGFNYW5hZ2VyLmNhdGVnb3J5KTtcbiAgICAkdGltZW91dChmdW5jdGlvbigpIHsgJHNjb3BlLiRhcHBseSgpOyB9KTtcbiAgfSk7XG5cbiAgRGF0YU1hbmFnZXIuY2F0ZWdvcnlDaGFuZ2VkLmFkZChmdW5jdGlvbihkYXRhKSB7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRpbGVzLFxuICAgICAgICBjYXRlZ29yaWVzID0gZGF0YS5jYXRlZ29yaWVzIHx8IFtdO1xuICAgIHRpbGVzID0gZGF0YS5pdGVtcyB8fCBbXTtcbiAgICB0aWxlcyA9IGNhdGVnb3JpZXMuY29uY2F0KHRpbGVzKTtcblxuICAgIGlmIChTTkFQRW52aXJvbm1lbnQucGxhdGZvcm0gIT09ICdkZXNrdG9wJykge1xuICAgICAgdGlsZXMgPSB0aWxlcy5maWx0ZXIodGlsZSA9PiB0aWxlLnR5cGUgIT09IDMpO1xuICAgIH1cblxuICAgIHRpbGVzLmZvckVhY2godGlsZSA9PiB7XG4gICAgICB0aWxlLnVybCA9ICcjJyArIE5hdmlnYXRpb25NYW5hZ2VyLmdldFBhdGgodGlsZS5kZXN0aW5hdGlvbik7XG4gICAgfSk7XG5cbiAgICBSZWFjdC5yZW5kZXIoXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENhdGVnb3J5TGlzdCwgeyB0aWxlczogdGlsZXMgfSksXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudC1jYXRlZ29yeScpXG4gICAgKTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NsYXNzaWMvY2hlY2tvdXRzcGxpdC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2hlY2tvdXRTcGxpdEN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdPcmRlck1hbmFnZXInLFxuICAoJHNjb3BlLCAkdGltZW91dCwgT3JkZXJNYW5hZ2VyKSA9PiB7XG5cbiAgLy9TcGxpdCB0aGUgY3VycmVudCBvcmRlciBpbiB0aGUgc2VsZWN0ZWQgd2F5XG4gICRzY29wZS5zcGxpdENoZWNrID0gZnVuY3Rpb24odHlwZSkge1xuICAgIHZhciBpLCBkYXRhID0gW107XG5cbiAgICBpZiAodHlwZSA9PT0gJHNjb3BlLkNIRUNLX1NQTElUX05PTkUpIHtcbiAgICAgIGRhdGEucHVzaCh7XG4gICAgICAgIGl0ZW1zOiBPcmRlck1hbmFnZXIubW9kZWwub3JkZXJDaGVja1xuICAgICAgfSk7XG5cbiAgICAgICRzY29wZS5vcHRpb25zLmd1ZXN0X2NvdW50ID0gMTtcbiAgICAgICRzY29wZS5vcHRpb25zLnN0ZXAgPSAkc2NvcGUuU1RFUF9USVBQSU5HO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSAkc2NvcGUuQ0hFQ0tfU1BMSVRfRVZFTkxZKSB7XG4gICAgICB2YXIgY2hlY2sgPSBPcmRlck1hbmFnZXIubW9kZWwub3JkZXJDaGVjayxcbiAgICAgICAgICBzdWJ0b3RhbCA9IE9yZGVyTWFuYWdlci5jYWxjdWxhdGVUb3RhbFByaWNlKGNoZWNrKSxcbiAgICAgICAgICB0YXggPSBPcmRlck1hbmFnZXIuY2FsY3VsYXRlVGF4KGNoZWNrKTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8ICRzY29wZS5vcHRpb25zLmd1ZXN0X2NvdW50OyBpKyspIHtcbiAgICAgICAgZGF0YS5wdXNoKHtcbiAgICAgICAgICBzdWJ0b3RhbDogTWF0aC5yb3VuZCgoc3VidG90YWwgLyAkc2NvcGUub3B0aW9ucy5ndWVzdF9jb3VudCkgKiAxMDApIC8gMTAwLFxuICAgICAgICAgIHRheDogTWF0aC5yb3VuZCgodGF4IC8gJHNjb3BlLm9wdGlvbnMuZ3Vlc3RfY291bnQpICogMTAwKSAvIDEwMFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgJHNjb3BlLm9wdGlvbnMuc3RlcCA9ICRzY29wZS5TVEVQX1RJUFBJTkc7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICRzY29wZS5DSEVDS19TUExJVF9CWV9JVEVNUykge1xuICAgICAgZm9yIChpID0gMDsgaSA8ICRzY29wZS5vcHRpb25zLmd1ZXN0X2NvdW50OyBpKyspIHtcbiAgICAgICAgZGF0YS5wdXNoKHtcbiAgICAgICAgICBpdGVtczogW11cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgICRzY29wZS5zcGxpdF9pdGVtcyA9IE9yZGVyTWFuYWdlci5jb3B5SXRlbXMoT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2hlY2spO1xuICAgIH1cblxuICAgICRzY29wZS4kcGFyZW50LmRhdGEgPSBkYXRhO1xuICAgICRzY29wZS5vcHRpb25zLmNoZWNrX3NwbGl0ID0gdHlwZTtcbiAgfTtcblxuICAvL01vdmUgYW4gaXRlbSB0byB0aGUgY3VycmVudCBjaGVja1xuICAkc2NvcGUuYWRkVG9DaGVjayA9IGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgJHNjb3BlLnNwbGl0X2l0ZW1zID0gJHNjb3BlLnNwbGl0X2l0ZW1zXG4gICAgLm1hcChpdGVtID0+IHtcbiAgICAgIGlmIChpdGVtLnJlcXVlc3QgIT09IGVudHJ5LnJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtLnF1YW50aXR5ID4gMSkge1xuICAgICAgICBpdGVtLnF1YW50aXR5LS07XG4gICAgICAgIHJldHVybiBpdGVtLmNsb25lKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pXG4gICAgLmZpbHRlcihpdGVtID0+IGl0ZW0gIT09IG51bGwpO1xuXG4gICAgdmFyIGV4aXN0cyA9IGZhbHNlO1xuXG4gICAgJHNjb3BlLmN1cnJlbnQuaXRlbXMgPSAkc2NvcGUuY3VycmVudC5pdGVtc1xuICAgIC5tYXAoaXRlbSA9PiB7XG4gICAgICBpZiAoaXRlbS5yZXF1ZXN0ID09PSBlbnRyeS5yZXF1ZXN0KSB7XG4gICAgICAgIGV4aXN0cyA9IHRydWU7XG4gICAgICAgIGl0ZW0ucXVhbnRpdHkrKztcbiAgICAgICAgcmV0dXJuIGl0ZW0uY2xvbmUoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfSk7XG5cbiAgICBpZiAoIWV4aXN0cykge1xuICAgICAgdmFyIGNsb25lID0gZW50cnkuY2xvbmUoKTtcbiAgICAgIGNsb25lLnF1YW50aXR5ID0gMTtcblxuICAgICAgJHNjb3BlLmN1cnJlbnQuaXRlbXMucHVzaChjbG9uZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vUmVtb3ZlIGFuIGl0ZW0gZnJvbSB0aGUgY3VycmVudCBjaGVja1xuICAkc2NvcGUucmVtb3ZlRnJvbUNoZWNrID0gZnVuY3Rpb24oZW50cnkpIHtcbiAgICAkc2NvcGUuY3VycmVudC5pdGVtcyA9ICRzY29wZS5jdXJyZW50Lml0ZW1zXG4gICAgLm1hcChpdGVtID0+IHtcbiAgICAgIGlmIChpdGVtLnJlcXVlc3QgIT09IGVudHJ5LnJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtLnF1YW50aXR5ID4gMSkge1xuICAgICAgICBpdGVtLnF1YW50aXR5LS07XG4gICAgICAgIHJldHVybiBpdGVtLmNsb25lKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pXG4gICAgLmZpbHRlcihpdGVtID0+IGl0ZW0gIT09IG51bGwpO1xuXG4gICAgdmFyIGV4aXN0cyA9IGZhbHNlO1xuXG4gICAgJHNjb3BlLnNwbGl0X2l0ZW1zID0gJHNjb3BlLnNwbGl0X2l0ZW1zXG4gICAgLm1hcChpdGVtID0+IHtcbiAgICAgIGlmIChpdGVtLnJlcXVlc3QgPT09IGVudHJ5LnJlcXVlc3QpIHtcbiAgICAgICAgZXhpc3RzID0gdHJ1ZTtcbiAgICAgICAgaXRlbS5xdWFudGl0eSsrO1xuICAgICAgICByZXR1cm4gaXRlbS5jbG9uZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXRlbTtcbiAgICB9KTtcblxuICAgIGlmICghZXhpc3RzKSB7XG4gICAgICB2YXIgY2xvbmUgPSBlbnRyeS5jbG9uZSgpO1xuICAgICAgY2xvbmUucXVhbnRpdHkgPSAxO1xuXG4gICAgICAkc2NvcGUuc3BsaXRfaXRlbXMucHVzaChjbG9uZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vTW92ZSBhbGwgYXZhaWxhYmxlIGl0ZW1zIHRvIHRoZSBjdXJyZW50IGNoZWNrXG4gICRzY29wZS5hZGRBbGxUb0NoZWNrID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnNwbGl0X2l0ZW1zLmZvckVhY2goJHNjb3BlLmFkZFRvQ2hlY2spO1xuXG4gICAgJHNjb3BlLnNwbGl0X2l0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAkc2NvcGUuY3VycmVudC5pdGVtcy5mb3JFYWNoKG5ld2l0ZW0gPT4ge1xuICAgICAgICBpZiAobmV3aXRlbS5yZXF1ZXN0ID09PSBpdGVtLnJlcXVlc3QpIHtcbiAgICAgICAgICBuZXdpdGVtLnF1YW50aXR5ICs9IGl0ZW0ucXVhbnRpdHk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLnNwbGl0X2l0ZW1zID0gW107XG4gIH07XG5cbiAgLy9SZW1vdmUgYWxsIGl0ZW1zIGZyb20gdGhlIGN1cnJlbnQgY2hlY2tcbiAgJHNjb3BlLnJlbW92ZUFsbEZyb21DaGVjayA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5jdXJyZW50Lml0ZW1zLmZvckVhY2goJHNjb3BlLnJlbW92ZUZyb21DaGVjayk7XG5cbiAgICAkc2NvcGUuY3VycmVudC5pdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgJHNjb3BlLnNwbGl0X2l0ZW1zLmZvckVhY2gobmV3aXRlbSA9PiB7XG4gICAgICAgIGlmIChuZXdpdGVtLnJlcXVlc3QgPT09IGl0ZW0ucmVxdWVzdCkge1xuICAgICAgICAgIG5ld2l0ZW0ucXVhbnRpdHkgKz0gaXRlbS5xdWFudGl0eTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUuY3VycmVudC5pdGVtcyA9IFtdO1xuICB9O1xuXG4gIC8vUHJvY2VlZCB3aXRoIHRoZSBuZXh0IGNoZWNrIHNwbGl0dGluZ1xuICAkc2NvcGUuc3BsaXROZXh0Q2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoJHNjb3BlLm9wdGlvbnMuaW5kZXggPCAkc2NvcGUub3B0aW9ucy5jb3VudCAtIDEgJiYgJHNjb3BlLnNwbGl0X2l0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICRzY29wZS5vcHRpb25zLmluZGV4Kys7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCRzY29wZS5zcGxpdF9pdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAkc2NvcGUuYWRkQWxsVG9DaGVjaygpO1xuICAgIH1cblxuICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICRzY29wZS4kcGFyZW50LmRhdGEgPSAkc2NvcGUuJHBhcmVudC5kYXRhLmZpbHRlcihmdW5jdGlvbihjaGVjaykge1xuICAgICAgICByZXR1cm4gY2hlY2suaXRlbXMubGVuZ3RoID4gMDtcbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUub3B0aW9ucy5zdGVwID0gJHNjb3BlLlNURVBfVElQUElORztcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgc3RlcCA9ICRzY29wZS4kd2F0Y2hBc1Byb3BlcnR5KCdvcHRpb25zLnN0ZXAnKTtcbiAgc3RlcFxuICAuc2tpcER1cGxpY2F0ZXMoKVxuICAuc3Vic2NyaWJlKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZS52YWx1ZSB8fCB2YWx1ZS52YWx1ZSgpICE9PSAkc2NvcGUuU1RFUF9DSEVDS19TUExJVCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICRzY29wZS5vcHRpb25zLmNoZWNrX3NwbGl0ID0gJHNjb3BlLkNIRUNLX1NQTElUX05PTkU7XG4gICAgfSk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jbGFzc2ljL2hvbWUuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0hvbWVCYXNlQ3RybCcsIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0RhdGFNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwgRGF0YU1hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyKSB7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdIb21lQ3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0NoYXRNYW5hZ2VyJywgJ0RhdGFNb2RlbCcsICdTaGVsbE1hbmFnZXInLCAnQ3VzdG9tZXJNYW5hZ2VyJywgJ09yZGVyTWFuYWdlcicsICdEaWFsb2dNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ0xvY2F0aW9uTW9kZWwnLCAnU3VydmV5TWFuYWdlcicsICdTTkFQTG9jYXRpb24nLCAnU05BUEVudmlyb25tZW50JywgJ0NvbW1hbmRDbG9zZVRhYmxlJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIENoYXRNYW5hZ2VyLCBEYXRhTW9kZWwsIFNoZWxsTWFuYWdlciwgQ3VzdG9tZXJNYW5hZ2VyLCBPcmRlck1hbmFnZXIsIERpYWxvZ01hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyLCBMb2NhdGlvbk1vZGVsLCBTdXJ2ZXlNYW5hZ2VyLCBTTkFQTG9jYXRpb24sIFNOQVBFbnZpcm9ubWVudCwgQ29tbWFuZENsb3NlVGFibGUpID0+IHtcblxuICB2YXIgSG9tZU1lbnUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbIFJlYWN0LkRPTS50ZCh7IGtleTogLTEgfSkgXTtcblxuICAgICAgdmFyIHJvd3MgPSB0aGlzLnByb3BzLnRpbGVzLm1hcCgodGlsZSwgaSkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFJlYWN0LkRPTS50ZCh7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICdob21lLW1lbnUtaXRlbScsXG4gICAgICAgICAgICBrZXk6IGlcbiAgICAgICAgICB9LCBSZWFjdC5ET00uYSh7XG4gICAgICAgICAgICBvbkNsaWNrOiBlID0+IHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHRpbGUuZGVzdGluYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAgIFJlYWN0LkRPTS5pbWcoe1xuICAgICAgICAgICAgICBzcmM6IFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybCh0aWxlLmltYWdlLCAxNjAsIDE2MClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHJvd3MpO1xuICAgICAgcmVzdWx0LnB1c2goUmVhY3QuRE9NLnRkKHsga2V5OiByZXN1bHQubGVuZ3RoIH0pKTtcblxuICAgICAgcmV0dXJuIFJlYWN0LkRPTS50YWJsZShudWxsLCByZXN1bHQpO1xuICAgIH1cbiAgfSk7XG5cbiAgRGF0YU1vZGVsLmhvbWUoKS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRpbGVzID0gW107XG5cbiAgICByZXNwb25zZS5tZW51c1xuICAgIC5maWx0ZXIobWVudSA9PiBTTkFQRW52aXJvbm1lbnQucGxhdGZvcm0gPT09ICdkZXNrdG9wJyB8fCBtZW51LnR5cGUgIT09IDMpXG4gICAgLnJlZHVjZSgodGlsZXMsIG1lbnUpID0+IHtcbiAgICAgIGlmIChtZW51LnByb21vcyAmJiBtZW51LnByb21vcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIG1lbnUucHJvbW9zXG4gICAgICAgIC5maWx0ZXIocHJvbW8gPT4gU05BUEVudmlyb25tZW50LnBsYXRmb3JtID09PSAnZGVza3RvcCcgfHwgcHJvbW8udHlwZSAhPT0gMylcbiAgICAgICAgLmZvckVhY2gocHJvbW8gPT4ge1xuICAgICAgICAgIHRpbGVzLnB1c2goe1xuICAgICAgICAgICAgdGl0bGU6IHByb21vLnRpdGxlLFxuICAgICAgICAgICAgaW1hZ2U6IHByb21vLmltYWdlLFxuICAgICAgICAgICAgdXJsOiAnIycgKyBOYXZpZ2F0aW9uTWFuYWdlci5nZXRQYXRoKHByb21vLmRlc3RpbmF0aW9uKSxcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uOiBwcm9tby5kZXN0aW5hdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsZXQgZGVzdGluYXRpb24gPSB7XG4gICAgICAgICAgdHlwZTogJ21lbnUnLFxuICAgICAgICAgIHRva2VuOiBtZW51LnRva2VuXG4gICAgICAgIH07XG5cbiAgICAgICAgdGlsZXMucHVzaCh7XG4gICAgICAgICAgdGl0bGU6IG1lbnUudGl0bGUsXG4gICAgICAgICAgaW1hZ2U6IG1lbnUuaW1hZ2UsXG4gICAgICAgICAgdXJsOiAnIycgKyBOYXZpZ2F0aW9uTWFuYWdlci5nZXRQYXRoKGRlc3RpbmF0aW9uKSxcbiAgICAgICAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aWxlcztcbiAgICB9LCB0aWxlcyk7XG5cbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICBSZWFjdC5yZW5kZXIoXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSG9tZU1lbnUsIHsgdGlsZXM6IHRpbGVzIH0pLFxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaG9tZS1tZW51LW1haW4nKVxuICAgICAgKTtcbiAgICB9LCAxMDAwKTtcbiAgfSk7XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2luZy5hZGQobG9jYXRpb24gPT4ge1xuICAgICRzY29wZS52aXNpYmxlID0gbG9jYXRpb24udHlwZSA9PT0gJ2hvbWUnO1xuICAgICR0aW1lb3V0KCgpID0+IHsgJHNjb3BlLiRhcHBseSgpOyB9KTtcbiAgfSk7XG5cbiAgJHNjb3BlLnByZWxvYWQgPSBkZXN0aW5hdGlvbiA9PiB7XG4gICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSBkZXN0aW5hdGlvbjtcbiAgfTtcblxuICAkc2NvcGUuZ2V0TWVkaWFVcmwgPSAobWVkaWEsIHdpZHRoLCBoZWlnaHQsIGV4dGVuc2lvbikgPT4gU2hlbGxNYW5hZ2VyLmdldE1lZGlhVXJsKG1lZGlhLCB3aWR0aCwgaGVpZ2h0LCBleHRlbnNpb24pO1xuICAkc2NvcGUucHJlZGljYXRlRXZlbiA9IFNoZWxsTWFuYWdlci5wcmVkaWNhdGVFdmVuO1xuICAkc2NvcGUucHJlZGljYXRlT2RkID0gU2hlbGxNYW5hZ2VyLnByZWRpY2F0ZU9kZDtcblxuICAkc2NvcGUuc2VhdF9uYW1lID0gTG9jYXRpb25Nb2RlbC5zZWF0ID8gTG9jYXRpb25Nb2RlbC5zZWF0Lm5hbWUgOiAnVGFibGUnO1xuICBMb2NhdGlvbk1vZGVsLnNlYXRDaGFuZ2VkLmFkZCh2YWx1ZSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgJHNjb3BlLnNlYXRfbmFtZSA9IHZhbHVlID8gdmFsdWUubmFtZSA6ICdUYWJsZSc7XG4gICAgfSk7XG4gIH0pO1xuXG4gICRzY29wZS5jdXN0b21lcl9uYW1lID0gQ3VzdG9tZXJNYW5hZ2VyLmN1c3RvbWVyTmFtZTtcbiAgQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLnByb2ZpbGVDaGFuZ2VkLmFkZCgoKSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmN1c3RvbWVyX25hbWUgPSBDdXN0b21lck1hbmFnZXIuY3VzdG9tZXJOYW1lKTtcbiAgfSk7XG5cbiAgJHNjb3BlLmVsZW1lbnRzID0gU2hlbGxNYW5hZ2VyLm1vZGVsLmVsZW1lbnRzO1xuICBTaGVsbE1hbmFnZXIubW9kZWwuZWxlbWVudHNDaGFuZ2VkLmFkZCh2YWx1ZSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmVsZW1lbnRzID0gdmFsdWUpO1xuICB9KTtcblxuICB2YXIgcmVmcmVzaEFzc2lzdGFuY2VSZXF1ZXN0ID0gKCkgPT4ge1xuICAgICRzY29wZS5yZXF1ZXN0QXNzaXN0YW5jZUF2YWlsYWJsZSA9ICFCb29sZWFuKE9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdCk7XG4gIH07XG4gIHZhciByZWZyZXNoQ2xvc2VvdXRSZXF1ZXN0ID0gKCkgPT4ge1xuICAgICRzY29wZS5yZXF1ZXN0Q2xvc2VvdXRBdmFpbGFibGUgPSAhQm9vbGVhbihPcmRlck1hbmFnZXIubW9kZWwuY2xvc2VvdXRSZXF1ZXN0KTtcbiAgfTtcbiAgdmFyIHJlZnJlc2hTdXJ2ZXkgPSAoKSA9PiB7XG4gICAgJHNjb3BlLnN1cnZleUF2YWlsYWJsZSA9IFN1cnZleU1hbmFnZXIubW9kZWwuaXNFbmFibGVkICYmIFN1cnZleU1hbmFnZXIubW9kZWwuZmVlZGJhY2tTdXJ2ZXkgJiYgIVN1cnZleU1hbmFnZXIubW9kZWwuZmVlZGJhY2tTdXJ2ZXlDb21wbGV0ZTtcbiAgfTtcbiAgT3JkZXJNYW5hZ2VyLm1vZGVsLmFzc2lzdGFuY2VSZXF1ZXN0Q2hhbmdlZC5hZGQocmVmcmVzaEFzc2lzdGFuY2VSZXF1ZXN0KTtcbiAgT3JkZXJNYW5hZ2VyLm1vZGVsLmNsb3Nlb3V0UmVxdWVzdENoYW5nZWQuYWRkKHJlZnJlc2hDbG9zZW91dFJlcXVlc3QpO1xuICBTdXJ2ZXlNYW5hZ2VyLm1vZGVsLmZlZWRiYWNrU3VydmV5Q2hhbmdlZC5hZGQocmVmcmVzaFN1cnZleSk7XG4gIFN1cnZleU1hbmFnZXIubW9kZWwuc3VydmV5Q29tcGxldGVkLmFkZChyZWZyZXNoU3VydmV5KTtcbiAgcmVmcmVzaEFzc2lzdGFuY2VSZXF1ZXN0KCk7XG4gIHJlZnJlc2hDbG9zZW91dFJlcXVlc3QoKTtcbiAgcmVmcmVzaFN1cnZleSgpO1xuXG4gICRzY29wZS5jaGF0QXZhaWxhYmxlID0gQm9vbGVhbihTTkFQTG9jYXRpb24uY2hhdCk7XG5cbiAgJHNjb3BlLnJlcXVlc3RBc3Npc3RhbmNlID0gKCkgPT4ge1xuICAgIGlmICghJHNjb3BlLnJlcXVlc3RBc3Npc3RhbmNlQXZhaWxhYmxlKXtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oQUxFUlRfVEFCTEVfQVNTSVNUQU5DRSkudGhlbigoKSA9PiB7XG4gICAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgICBPcmRlck1hbmFnZXIucmVxdWVzdEFzc2lzdGFuY2UoKS50aGVuKCgpID0+IHtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX0FTU0lTVEFOQ0VfU0VOVCk7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLnJlcXVlc3RDbG9zZW91dCA9ICgpID0+IHtcbiAgICBpZiAoISRzY29wZS5yZXF1ZXN0Q2xvc2VvdXRBdmFpbGFibGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oQUxFUlRfVEFCTEVfQ0xPU0VPVVQpLnRoZW4oKCkgPT4ge1xuICAgICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcblxuICAgICAgT3JkZXJNYW5hZ2VyLnJlcXVlc3RDbG9zZW91dCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfQ0xPU0VPVVRfU0VOVCk7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLm9wZW5TdXJ2ZXkgPSAoKSA9PiB7XG4gICAgaWYgKCEkc2NvcGUuc3VydmV5QXZhaWxhYmxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdzdXJ2ZXknIH07XG4gIH07XG5cbiAgJHNjb3BlLnNlYXRDbGlja2VkID0gKCkgPT4ge1xuICAgIERpYWxvZ01hbmFnZXIuY29uZmlybShBTEVSVF9UQUJMRV9SRVNFVCkudGhlbigoKSA9PiB7XG4gICAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuICAgICAgQ29tbWFuZENsb3NlVGFibGUoKS50aGVuKCgpID0+IERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYikpO1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5jdXN0b21lckNsaWNrZWQgPSAoKSA9PiB7XG4gICAgaWYgKCFDdXN0b21lck1hbmFnZXIubW9kZWwuaXNFbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKEN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0F1dGhlbnRpY2F0ZWQgJiYgIUN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0d1ZXN0KSB7XG4gICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2FjY291bnQnIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9TSUdOSU5fUkVRVUlSRUQpO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUub3BlbkNoYXQgPSAoKSA9PiB7XG4gICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdjaGF0JyB9O1xuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jbGFzc2ljL2l0ZW0uanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0l0ZW1CYXNlQ3RybCcsXG4gIFsnJHNjb3BlJywgKCRzY29wZSkgPT4ge1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignSXRlbUN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdBbmFseXRpY3NNb2RlbCcsICdDdXN0b21lck1vZGVsJywgJ0RhdGFNYW5hZ2VyJywgJ0RpYWxvZ01hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJywgJ0NhcnRNb2RlbCcsICdMb2NhdGlvbk1vZGVsJywgJ1NoZWxsTWFuYWdlcicsICdTTkFQRW52aXJvbm1lbnQnLCAnQ2hhdE1hbmFnZXInLCAnV2ViQnJvd3NlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBBbmFseXRpY3NNb2RlbCwgQ3VzdG9tZXJNb2RlbCwgRGF0YU1hbmFnZXIsIERpYWxvZ01hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyLCBPcmRlck1hbmFnZXIsIENhcnRNb2RlbCwgTG9jYXRpb25Nb2RlbCwgU2hlbGxNYW5hZ2VyLCBTTkFQRW52aXJvbm1lbnQsIENoYXRNYW5hZ2VyLCBXZWJCcm93c2VyKSA9PiB7XG5cbiAgZnVuY3Rpb24gb25DbG9zZSgpIHtcbiAgICBpZiAoTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24udHlwZSA9PT0gJ2l0ZW0nKSB7XG4gICAgICBOYXZpZ2F0aW9uTWFuYWdlci5nb0JhY2soKTtcbiAgICB9XG4gIH1cblxuICB2YXIgSXRlbUltYWdlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gUmVhY3QuRE9NLmltZyh7XG4gICAgICAgIHNyYzogU2hlbGxNYW5hZ2VyLmdldE1lZGlhVXJsKHRoaXMucHJvcHMubWVkaWEsIDYwMCwgNjAwKVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBEYXRhTWFuYWdlci5pdGVtQ2hhbmdlZC5hZGQoaXRlbSA9PiB7XG4gICAgaWYgKCFpdGVtKSB7XG4gICAgICByZXR1cm4gJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBsZXQgcGhvdG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXRlbS1waG90bycpO1xuXG4gICAgICAgIGlmIChwaG90bykge1xuICAgICAgICAgIHBob3RvLmlubmVySFRNTCA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLmVudHJ5ID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLnR5cGUgPSAxO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIHR5cGUgPSBpdGVtLnR5cGU7XG5cbiAgICBpZiAodHlwZSA9PT0gMiAmJiBpdGVtLndlYnNpdGUpIHtcbiAgICAgIFdlYkJyb3dzZXJcbiAgICAgICAgLm9wZW4oaXRlbS53ZWJzaXRlLnVybClcbiAgICAgICAgLnRoZW4oYnJvd3NlciA9PiBicm93c2VyLm9uRXhpdC5hZGRPbmNlKG9uQ2xvc2UpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gMyAmJiByZXNwb25zZS5mbGFzaCkge1xuICAgICAgbGV0IHVybCA9IFdlYkJyb3dzZXIuZ2V0Rmxhc2hVcmwoaXRlbS5mbGFzaC5tZWRpYS50b2tlbiwgaXRlbS5mbGFzaC53aWR0aCwgaXRlbS5mbGFzaC5oZWlnaHQpO1xuXG4gICAgICBXZWJCcm93c2VyXG4gICAgICAgIC5vcGVuKHVybClcbiAgICAgICAgLnRoZW4oYnJvd3NlciA9PiBicm93c2VyLm9uRXhpdC5hZGRPbmNlKG9uQ2xvc2UpKTtcbiAgICB9XG5cbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodHlwZSA9PT0gMSkge1xuICAgICAgICAkc2NvcGUuZW50cnkgPSBuZXcgYXBwLkNhcnRJdGVtKGl0ZW0sIDEpO1xuXG4gICAgICAgIFJlYWN0LnJlbmRlcihcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEl0ZW1JbWFnZSwgeyBtZWRpYTogJHNjb3BlLmVudHJ5Lml0ZW0uaW1hZ2UgfSksXG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2l0ZW0tcGhvdG8nKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUudHlwZSA9IHR5cGU7XG4gICAgfSk7XG4gIH0pO1xuXG4gICRzY29wZS5nZXRNZWRpYVVybCA9IChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKSA9PiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwobWVkaWEsIHdpZHRoLCBoZWlnaHQsIGV4dGVuc2lvbik7XG4gICRzY29wZS5mb3JtYXRQcmljZSA9IHZhbHVlID0+IHZhbHVlID8gU2hlbGxNYW5hZ2VyLmZvcm1hdFByaWNlKHZhbHVlKSA6IDA7XG5cbiAgJHNjb3BlLmFkZFRvQ2FydCA9ICgpID0+IHtcbiAgICBpZiAoQ3VzdG9tZXJNb2RlbC5pc0VuYWJsZWQgJiYgIUN1c3RvbWVyTW9kZWwuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1NJR05JTl9SRVFVSVJFRCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGVudHJ5ID0gJHNjb3BlLmVudHJ5O1xuXG4gICAgaWYgKGVudHJ5Lmhhc01vZGlmaWVycykge1xuICAgICAgQ2FydE1vZGVsLm9wZW5FZGl0b3IoZW50cnksIHRydWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIE9yZGVyTWFuYWdlci5hZGRUb0NhcnQoZW50cnkpO1xuICAgICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSB0cnVlO1xuICAgIH1cblxuICAgIE5hdmlnYXRpb25NYW5hZ2VyLmdvQmFjaygpO1xuICB9O1xuXG4gICRzY29wZS5jYW5jZWxHaWZ0ID0gKCkgPT4gQ2hhdE1hbmFnZXIuY2FuY2VsR2lmdCgpO1xuXG4gICRzY29wZS5naWZ0U2VhdCA9IExvY2F0aW9uTW9kZWwuZ2V0U2VhdChDaGF0TWFuYWdlci5tb2RlbC5naWZ0U2VhdCk7XG4gIENoYXRNYW5hZ2VyLm1vZGVsLmdpZnRTZWF0Q2hhbmdlZC5hZGQodG9rZW4gPT4ge1xuICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS5naWZ0U2VhdCA9IExvY2F0aW9uTW9kZWwuZ2V0U2VhdCh0b2tlbikpO1xuICB9KTtcblxuICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbkNoYW5naW5nLmFkZChsb2NhdGlvbiA9PiB7XG4gICAgRGF0YU1hbmFnZXIuaXRlbSA9IGxvY2F0aW9uLnR5cGUgPT09ICdpdGVtJyA/IGxvY2F0aW9uLnRva2VuIDogdW5kZWZpbmVkO1xuICAgICRzY29wZS52aXNpYmxlID0gQm9vbGVhbihEYXRhTWFuYWdlci5pdGVtKTtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuJGFwcGx5KCkpO1xuICB9KTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY2xhc3NpYy9pdGVtZWRpdC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignSXRlbUVkaXRDdHJsJyxcbiAgWyckc2NvcGUnLCAnU2hlbGxNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ09yZGVyTWFuYWdlcicsICdDYXJ0TW9kZWwnLFxuICAoJHNjb3BlLCBTaGVsbE1hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyLCBPcmRlck1hbmFnZXIsIENhcnRNb2RlbCkgPT4ge1xuXG4gICRzY29wZS5nZXRNZWRpYVVybCA9IChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKSA9PiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwobWVkaWEsIHdpZHRoLCBoZWlnaHQsIGV4dGVuc2lvbik7XG4gICRzY29wZS5mb3JtYXRQcmljZSA9IHZhbHVlID0+IFNoZWxsTWFuYWdlci5mb3JtYXRQcmljZSh2YWx1ZSk7XG5cbiAgdmFyIGN1cnJlbnRJbmRleCA9IC0xO1xuXG4gIHZhciByZWZyZXNoTmF2aWdhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICgkc2NvcGUuZW50cnkgJiYgJHNjb3BlLmVudHJ5Lmhhc01vZGlmaWVycykge1xuICAgICAgJHNjb3BlLmhhc05leHRDYXRlZ29yeSA9ICRzY29wZS5lbnRyeS5tb2RpZmllcnMubGVuZ3RoID4gMSAmJlxuICAgICAgICBjdXJyZW50SW5kZXggPCAkc2NvcGUuZW50cnkubW9kaWZpZXJzLmxlbmd0aCAtIDE7XG4gICAgICAkc2NvcGUuaGFzUHJldmlvdXNDYXRlZ29yeSA9IGN1cnJlbnRJbmRleCA+IDA7XG4gICAgICAkc2NvcGUuY2F0ZWdvcnkgPSAkc2NvcGUuZW50cnkubW9kaWZpZXJzW2N1cnJlbnRJbmRleF07XG4gICAgICAkc2NvcGUuY2FuRXhpdCA9IENhcnRNb2RlbC5lZGl0YWJsZUl0ZW1OZXc7XG4gICAgICAkc2NvcGUuY2FuRG9uZSA9IHRydWU7XG4gICAgfVxuICB9O1xuXG4gIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uQ2hhbmdpbmcuYWRkKGZ1bmN0aW9uKGxvY2F0aW9uKSB7XG4gICAgaWYgKGxvY2F0aW9uLnR5cGUgIT09ICdtZW51JyAmJiBsb2NhdGlvbi50eXBlICE9PSAnY2F0ZWdvcnknKSB7XG4gICAgICAkc2NvcGUuZXhpdCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgQ2FydE1vZGVsLmlzQ2FydE9wZW5DaGFuZ2VkLmFkZChmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgJHNjb3BlLmV4aXQoKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBpbml0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAkc2NvcGUuZW50cnkgPSB2YWx1ZTtcbiAgICAkc2NvcGUudmlzaWJsZSA9ICRzY29wZS5lbnRyeSAhPT0gbnVsbDtcblxuICAgIGN1cnJlbnRJbmRleCA9IDA7XG5cbiAgICByZWZyZXNoTmF2aWdhdGlvbigpO1xuICB9O1xuXG4gIGluaXQoQ2FydE1vZGVsLmVkaXRhYmxlSXRlbSk7XG5cbiAgQ2FydE1vZGVsLmVkaXRhYmxlSXRlbUNoYW5nZWQuYWRkKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaW5pdCh2YWx1ZSk7XG4gIH0pO1xuXG4gICRzY29wZS5nZXRNb2RpZmllclRpdGxlID0gZnVuY3Rpb24obW9kaWZpZXIpIHtcbiAgICByZXR1cm4gbW9kaWZpZXIuZGF0YS50aXRsZSArIChtb2RpZmllci5kYXRhLnByaWNlID4gMCA/XG4gICAgICAnICgrJyArIFNoZWxsTWFuYWdlci5mb3JtYXRQcmljZShtb2RpZmllci5kYXRhLnByaWNlKSArICcpJyA6XG4gICAgICAnJ1xuICAgICk7XG4gIH07XG5cbiAgJHNjb3BlLmxlZnRCdXR0b25DbGljayA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHJlc3VsdCA9IChjdXJyZW50SW5kZXggPiAwKSA/ICgkc2NvcGUucHJldmlvdXNDYXRlZ29yeSgpKSA6ICRzY29wZS5leGl0KCk7XG4gIH07XG5cbiAgJHNjb3BlLmxlZnRCdXR0b25UZXh0ID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gKGN1cnJlbnRJbmRleCA+IDApID8gJ0JhY2snIDogJ0V4aXQnO1xuICB9O1xuXG4gICRzY29wZS5yaWdodEJ1dHRvbkNsaWNrID0gZnVuY3Rpb24oKXtcbiAgICAvL01ha2Ugc3VyZSBQaWNrIDEgbW9kaWZpZXIgY2F0ZWdvcmllcyBoYXZlIG1ldCB0aGUgc2VsZWN0aW9uIGNvbmRpdGlvbi5cbiAgICBpZigkc2NvcGUuZW50cnkubW9kaWZpZXJzW2N1cnJlbnRJbmRleF0uZGF0YS5zZWxlY3Rpb24gPT09IDEpIHtcbiAgICAgIHZhciBudW1TZWxlY3RlZCA9IDA7XG4gICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmVudHJ5Lm1vZGlmaWVyc1tjdXJyZW50SW5kZXhdLm1vZGlmaWVycywgZnVuY3Rpb24obSkge1xuICAgICAgICBpZiAobS5pc1NlbGVjdGVkKSB7XG4gICAgICAgICAgbnVtU2VsZWN0ZWQrKztcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmKG51bVNlbGVjdGVkICE9PSAxKSB7XG4gICAgICAgIC8vVE9ETzogQWRkIG1vZGFsIHBvcHVwLiBNdXN0IG1ha2UgMSBzZWxlY3Rpb24hXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0ID0gKCRzY29wZS5oYXNOZXh0Q2F0ZWdvcnkpID8gJHNjb3BlLm5leHRDYXRlZ29yeSgpIDogJHNjb3BlLmRvbmUoKTtcbiAgfTtcblxuICAkc2NvcGUucmlnaHRCdXR0b25UZXh0ID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gKCRzY29wZS5oYXNOZXh0Q2F0ZWdvcnkpID8gJ05leHQnIDogJ0RvbmUnO1xuICB9O1xuXG4gICRzY29wZS5wcmV2aW91c0NhdGVnb3J5ID0gZnVuY3Rpb24oKSB7XG4gICAgY3VycmVudEluZGV4LS07XG4gICAgcmVmcmVzaE5hdmlnYXRpb24oKTtcbiAgfTtcblxuICAkc2NvcGUubmV4dENhdGVnb3J5ID0gZnVuY3Rpb24oKSB7XG4gICAgY3VycmVudEluZGV4Kys7XG4gICAgcmVmcmVzaE5hdmlnYXRpb24oKTtcbiAgfTtcblxuICAkc2NvcGUudXBkYXRlTW9kaWZpZXJzID0gZnVuY3Rpb24oY2F0ZWdvcnksIG1vZGlmaWVyKSB7XG4gICAgbW9kaWZpZXIuaXNTZWxlY3RlZCA9ICFtb2RpZmllci5pc1NlbGVjdGVkO1xuXG4gICAgaWYgKG1vZGlmaWVyLmlzU2VsZWN0ZWQgJiYgY2F0ZWdvcnkuZGF0YS5zZWxlY3Rpb24gPT09IDEpIHtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChjYXRlZ29yeS5tb2RpZmllcnMsIGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgbS5pc1NlbGVjdGVkID0gbSA9PT0gbW9kaWZpZXI7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmRvbmUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoQ2FydE1vZGVsLmVkaXRhYmxlSXRlbU5ldykge1xuICAgICAgT3JkZXJNYW5hZ2VyLmFkZFRvQ2FydChDYXJ0TW9kZWwuZWRpdGFibGVJdGVtKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuZXhpdCgpO1xuICAgIENhcnRNb2RlbC5pc0NhcnRPcGVuID0gdHJ1ZTtcbiAgfTtcblxuICAkc2NvcGUuZXhpdCA9IGZ1bmN0aW9uKCkge1xuICAgIENhcnRNb2RlbC5jbG9zZUVkaXRvcigpO1xuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jbGFzc2ljL21lbnUuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ01lbnVCYXNlQ3RybCcsIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0RhdGFNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgKCRzY29wZSwgJHRpbWVvdXQsIERhdGFNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlcikgPT4ge1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignTWVudUN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdEYXRhTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdTaGVsbE1hbmFnZXInLFxuICAoJHNjb3BlLCAkdGltZW91dCwgRGF0YU1hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyLCBTaGVsbE1hbmFnZXIpID0+IHtcblxuICB2YXIgTWVudUxpc3QgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB0aWxlQ2xhc3NOYW1lID0gU2hlbGxNYW5hZ2VyLnRpbGVTdHlsZTtcbiAgICAgIHZhciByb3dzID0gdGhpcy5wcm9wcy50aWxlcy5tYXAoZnVuY3Rpb24odGlsZSwgaSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFJlYWN0LkRPTS50ZCh7XG4gICAgICAgICAgICBjbGFzc05hbWU6IHRpbGVDbGFzc05hbWUsXG4gICAgICAgICAgICBrZXk6IGlcbiAgICAgICAgICB9LCBSZWFjdC5ET00uYSh7XG4gICAgICAgICAgICBvbkNsaWNrOiBlID0+IHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHRpbGUuZGVzdGluYXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiAndXJsKCcgKyBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwodGlsZS5pbWFnZSwgMzcwLCAzNzApICsgJyknXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKG51bGwsIHRpbGUudGl0bGUpXG4gICAgICAgICAgKSlcbiAgICAgICAgKTtcbiAgICAgIH0pLnJlZHVjZShmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBpKSB7XG4gICAgICAgIHJlc3VsdFtpICUgMl0ucHVzaCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LCBbW10sIFtdXSlcbiAgICAgIC5tYXAoZnVuY3Rpb24ocm93LCBpKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5ET00udHIoeyBrZXk6IGkgfSwgcm93KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gUmVhY3QuRE9NLnRhYmxlKHsgY2xhc3NOYW1lOiAndGlsZS10YWJsZScgfSwgcm93cyk7XG4gICAgfVxuICB9KTtcblxuICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbkNoYW5naW5nLmFkZChmdW5jdGlvbihsb2NhdGlvbikge1xuICAgIERhdGFNYW5hZ2VyLm1lbnUgPSBsb2NhdGlvbi50eXBlID09PSAnbWVudScgPyBsb2NhdGlvbi50b2tlbiA6IHVuZGVmaW5lZDtcbiAgICAkc2NvcGUudmlzaWJsZSA9IEJvb2xlYW4oRGF0YU1hbmFnZXIubWVudSk7XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7ICRzY29wZS4kYXBwbHkoKTsgfSk7XG4gIH0pO1xuXG4gIERhdGFNYW5hZ2VyLm1lbnVDaGFuZ2VkLmFkZChmdW5jdGlvbihtZW51KSB7XG4gICAgaWYgKCFtZW51KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbWVudS5jYXRlZ29yaWVzLmZvckVhY2godGlsZSA9PiB7XG4gICAgICB0aWxlLnVybCA9ICcjJyArIE5hdmlnYXRpb25NYW5hZ2VyLmdldFBhdGgodGlsZS5kZXN0aW5hdGlvbik7XG4gICAgfSk7XG5cbiAgICBSZWFjdC5yZW5kZXIoXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE1lbnVMaXN0LCB7IHRpbGVzOiBtZW51LmNhdGVnb3JpZXMgfSksXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudC1tZW51JylcbiAgICApO1xuICB9KTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY2xhc3NpYy9uYXZpZ2F0aW9uLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdOYXZpZ2F0aW9uQ3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0FjdGl2aXR5TW9uaXRvcicsICdDdXN0b21lck1hbmFnZXInLCAnQW5hbHl0aWNzTW9kZWwnLCAnQ2FydE1vZGVsJywgJ1NoZWxsTWFuYWdlcicsICdEYXRhTWFuYWdlcicsICdEYXRhTW9kZWwnLCAnRGlhbG9nTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdPcmRlck1hbmFnZXInLCAnQ29tbWFuZENsb3NlVGFibGUnLCAnQ29tbWFuZEZsaXBTY3JlZW4nLCAnV2ViQnJvd3NlcicsICdTTkFQRW52aXJvbm1lbnQnLFxuICAoJHNjb3BlLCAkdGltZW91dCwgQWN0aXZpdHlNb25pdG9yLCBDdXN0b21lck1hbmFnZXIsIEFuYWx5dGljc01vZGVsLCBDYXJ0TW9kZWwsIFNoZWxsTWFuYWdlciwgRGF0YU1hbmFnZXIsIERhdGFNb2RlbCwgRGlhbG9nTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIE9yZGVyTWFuYWdlciwgQ29tbWFuZENsb3NlVGFibGUsIENvbW1hbmRGbGlwU2NyZWVuLCBXZWJCcm93c2VyLCBTTkFQRW52aXJvbm1lbnQpID0+IHtcblxuICAkc2NvcGUubWVudXMgPSBbXTtcblxuICBEYXRhTW9kZWwuaG9tZSgpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgbG9jYXRpb24gPSBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbixcbiAgICAgICAgbGltaXQgPSBTTkFQRW52aXJvbm1lbnQucGxhdGZvcm0gPT09ICdkZXNrdG9wJyA/IDQgOiAzO1xuXG4gICAgJHNjb3BlLm1lbnVzID0gcmVzcG9uc2UubWVudXNcbiAgICAgIC5maWx0ZXIobWVudSA9PiBTTkFQRW52aXJvbm1lbnQucGxhdGZvcm0gPT09ICdkZXNrdG9wJyB8fCBtZW51LnR5cGUgIT09IDMpXG4gICAgICAuZmlsdGVyKChtZW51LCBpKSA9PiBpIDwgbGltaXQpXG4gICAgICAubWFwKG1lbnUgPT4ge1xuICAgICAgICBsZXQgZGVzdGluYXRpb24gPSB7XG4gICAgICAgICAgdHlwZTogJ21lbnUnLFxuICAgICAgICAgIHRva2VuOiBtZW51LnRva2VuXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdG9rZW46IG1lbnUudG9rZW4sXG4gICAgICAgICAgdGl0bGU6IG1lbnUudGl0bGUsXG4gICAgICAgICAgdXJsOiAnIycgKyBOYXZpZ2F0aW9uTWFuYWdlci5nZXRQYXRoKGRlc3RpbmF0aW9uKSxcbiAgICAgICAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgICAgICAgc2VsZWN0ZWQ6IGxvY2F0aW9uLnR5cGUgPT09ICdtZW51JyAmJiBtZW51LnRva2VuID09PSBsb2NhdGlvbi50b2tlblxuICAgICAgICB9O1xuICAgICAgfSk7XG4gIH0pO1xuXG4gICRzY29wZS5uYXZpZ2F0ZUhvbWUgPSAoKSA9PiB7XG4gICAgQWN0aXZpdHlNb25pdG9yLmFjdGl2aXR5RGV0ZWN0ZWQoKTtcblxuICAgIGlmIChDdXN0b21lck1hbmFnZXIubW9kZWwuaXNFbmFibGVkICYmICFDdXN0b21lck1hbmFnZXIubW9kZWwuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oQUxFUlRfVEFCTEVfUkVTRVQpLnRoZW4oKCkgPT4ge1xuICAgICAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuICAgICAgICBDb21tYW5kQ2xvc2VUYWJsZSgpLnRoZW4oKCkgPT4gRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2hvbWUnIH07XG4gICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSBmYWxzZTtcbiAgfTtcblxuICAkc2NvcGUubmF2aWdhdGVCYWNrID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG5cbiAgICBpZiAoQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZCAmJiAhQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9TSUdOSU5fUkVRVUlSRUQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIE5hdmlnYXRpb25NYW5hZ2VyLmdvQmFjaygpO1xuXG4gICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSBmYWxzZTtcbiAgfTtcblxuICAkc2NvcGUucm90YXRlU2NyZWVuID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgQ29tbWFuZEZsaXBTY3JlZW4oKTtcbiAgfTtcblxuICAkc2NvcGUub3BlbkNhcnQgPSAoKSA9PiB7XG4gICAgQWN0aXZpdHlNb25pdG9yLmFjdGl2aXR5RGV0ZWN0ZWQoKTtcblxuICAgIGlmIChDdXN0b21lck1hbmFnZXIubW9kZWwuaXNFbmFibGVkICYmICFDdXN0b21lck1hbmFnZXIubW9kZWwuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1NJR05JTl9SRVFVSVJFRCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSAhQ2FydE1vZGVsLmlzQ2FydE9wZW47XG4gIH07XG5cbiAgJHNjb3BlLm9wZW5TZXR0aW5ncyA9ICgpID0+IHtcbiAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oQUxFUlRfVEFCTEVfUkVTRVQpLnRoZW4oKCkgPT4ge1xuICAgICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcbiAgICAgIENvbW1hbmRDbG9zZVRhYmxlKCkudGhlbigoKSA9PiBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpKTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUubWVudU9wZW4gPSBmYWxzZTtcblxuICAkc2NvcGUudG9nZ2xlTWVudSA9ICgpID0+IHtcbiAgICAkc2NvcGUubWVudU9wZW4gPSAhJHNjb3BlLm1lbnVPcGVuO1xuICB9O1xuXG4gICRzY29wZS5hZHZlcnRpc2VtZW50Q2xpY2sgPSBpdGVtID0+IHtcbiAgICBpZiAoQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZCAmJiAhQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9TSUdOSU5fUkVRVUlSRUQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIEFuYWx5dGljc01vZGVsLmxvZ0FkdmVydGlzZW1lbnQoe1xuICAgICAgdG9rZW46IGl0ZW0udG9rZW4sXG4gICAgICB0eXBlOiAnY2xpY2snXG4gICAgfSk7XG5cbiAgICBpZiAoaXRlbS5ocmVmKSB7XG4gICAgICBXZWJCcm93c2VyLm9wZW4oaXRlbS5ocmVmLnVybCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5hZHZlcnRpc2VtZW50SW1wcmVzc2lvbiA9IGl0ZW0gPT4ge1xuICAgIGlmIChBY3Rpdml0eU1vbml0b3IuYWN0aXZlICYmICEkc2NvcGUud2lkZSkge1xuICAgICAgQW5hbHl0aWNzTW9kZWwubG9nQWR2ZXJ0aXNlbWVudCh7XG4gICAgICAgIHRva2VuOiBpdGVtLnRva2VuLFxuICAgICAgICB0eXBlOiAnaW1wcmVzc2lvbidcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuZWxlbWVudHMgPSBTaGVsbE1hbmFnZXIubW9kZWwuZWxlbWVudHM7XG4gIFNoZWxsTWFuYWdlci5tb2RlbC5lbGVtZW50c0NoYW5nZWQuYWRkKHZhbHVlID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuZWxlbWVudHMgPSB2YWx1ZSk7XG4gIH0pO1xuXG4gICRzY29wZS5hZHZlcnRpc2VtZW50c0FsbCA9IFtdO1xuICAkc2NvcGUuYWR2ZXJ0aXNlbWVudHNUb3AgPSBbXTtcbiAgJHNjb3BlLmFkdmVydGlzZW1lbnRzQm90dG9tID0gW107XG4gIHZhciBtYXBBZHZlcnRpc2VtZW50ID0gYWQgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBzcmM6IFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybChhZC5zcmMsIDk3MCwgOTApLFxuICAgICAgaHJlZjogYWQuaHJlZixcbiAgICAgIHR5cGU6IFNoZWxsTWFuYWdlci5nZXRNZWRpYVR5cGUoYWQuc3JjKSxcbiAgICAgIHRva2VuOiBhZC50b2tlblxuICAgIH07XG4gIH07XG4gIERhdGFNb2RlbC5hZHZlcnRpc2VtZW50cygpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICRzY29wZS5hZHZlcnRpc2VtZW50c1RvcCA9IHJlc3BvbnNlLnRvcC5tYXAobWFwQWR2ZXJ0aXNlbWVudCk7XG4gICAgICAkc2NvcGUuYWR2ZXJ0aXNlbWVudHNCb3R0b20gPSByZXNwb25zZS5ib3R0b20ubWFwKG1hcEFkdmVydGlzZW1lbnQpO1xuICAgICAgJHNjb3BlLmFkdmVydGlzZW1lbnRzQWxsID0gJHNjb3BlLmFkdmVydGlzZW1lbnRzVG9wLmNvbmNhdCgkc2NvcGUuYWR2ZXJ0aXNlbWVudHNCb3R0b20pO1xuICAgIH0pO1xuICB9KTtcblxuICAkc2NvcGUuY2FydENvdW50ID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2FydC5sZW5ndGg7XG4gIE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNhcnRDaGFuZ2VkLmFkZChjYXJ0ID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuY2FydENvdW50ID0gY2FydC5sZW5ndGgpO1xuICB9KTtcblxuICAkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2UgPSAoKSA9PiB7XG4gICAgaWYgKCEkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2VBdmFpbGFibGUpe1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIERpYWxvZ01hbmFnZXIuY29uZmlybShBTEVSVF9UQUJMRV9BU1NJU1RBTkNFKS50aGVuKCgpID0+IHtcbiAgICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICAgIE9yZGVyTWFuYWdlci5yZXF1ZXN0QXNzaXN0YW5jZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfQVNTSVNUQU5DRV9TRU5UKTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgcmVmcmVzaEFzc2lzdGFuY2VSZXF1ZXN0ID0gKCkgPT4ge1xuICAgICRzY29wZS5yZXF1ZXN0QXNzaXN0YW5jZUF2YWlsYWJsZSA9ICFCb29sZWFuKE9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdCk7XG4gIH07XG4gIE9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdENoYW5nZWQuYWRkKHJlZnJlc2hBc3Npc3RhbmNlUmVxdWVzdCk7XG4gIHJlZnJlc2hBc3Npc3RhbmNlUmVxdWVzdCgpO1xuXG4gICRzY29wZS5jdXN0b21lck5hbWUgPSBDdXN0b21lck1hbmFnZXIuY3VzdG9tZXJOYW1lO1xuICBDdXN0b21lck1hbmFnZXIubW9kZWwucHJvZmlsZUNoYW5nZWQuYWRkKCgpID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuY3VzdG9tZXJOYW1lID0gQ3VzdG9tZXJNYW5hZ2VyLmN1c3RvbWVyTmFtZSk7XG4gIH0pO1xuXG4gICRzY29wZS5uYXZpZ2F0ZSA9IGRlc3RpbmF0aW9uID0+IE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0gZGVzdGluYXRpb247XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2VkLmFkZChsb2NhdGlvbiA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgJHNjb3BlLm1lbnVzLmZvckVhY2gobWVudSA9PiB7XG4gICAgICAgIC8vbWVudS5zZWxlY3RlZCA9IChsb2NhdGlvbi50eXBlID09PSAnbWVudScgJiYgbWVudS50b2tlbiA9PT0gbG9jYXRpb24udG9rZW4pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jb21tYW5kcy9ib290LmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5mYWN0b3J5KCdDb21tYW5kQm9vdCcsXG4gIFsnQXV0aGVudGljYXRpb25NYW5hZ2VyJywgJ0xvY2F0aW9uTWFuYWdlcicsXG4gIChBdXRoZW50aWNhdGlvbk1hbmFnZXIsIExvY2F0aW9uTWFuYWdlcikgPT4ge1xuXG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgZnVuY3Rpb24gbG9hZExvY2F0aW9uKCkge1xuICAgICAgICBMb2NhdGlvbk1hbmFnZXIubG9hZENvbmZpZygpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIExvY2F0aW9uTWFuYWdlci5sb2FkU2VhdHMoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfVxuXG4gICAgICBBdXRoZW50aWNhdGlvbk1hbmFnZXIudmFsaWRhdGUoKS50aGVuKGF1dGhvcml6ZWQgPT4ge1xuICAgICAgICBpZiAoYXV0aG9yaXplZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBBdXRoZW50aWNhdGlvbk1hbmFnZXIuYXV0aG9yaXplKCkudGhlbihsb2FkTG9jYXRpb24sIHJlamVjdCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9hZExvY2F0aW9uKCk7XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jb21tYW5kcy9jbG9zZXRhYmxlLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5mYWN0b3J5KCdDb21tYW5kQ2xvc2VUYWJsZScsIFtcbiAgJ01hbmFnZW1lbnRTZXJ2aWNlJyxcbiAgKE1hbmFnZW1lbnRTZXJ2aWNlKSA9PiB7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBNYW5hZ2VtZW50U2VydmljZS5sb2FkUmVzZXQoKTtcbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY29tbWFuZHMvY3VzdG9tZXJndWVzdGxvZ2luLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5mYWN0b3J5KCdDb21tYW5kQ3VzdG9tZXJHdWVzdExvZ2luJyxcbiAgWydBdXRoZW50aWNhdGlvbk1hbmFnZXInLCAnQ3VzdG9tZXJNYW5hZ2VyJyxcbiAgKEF1dGhlbnRpY2F0aW9uTWFuYWdlciwgQ3VzdG9tZXJNYW5hZ2VyKSA9PiB7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBDdXN0b21lck1hbmFnZXIuZ3Vlc3RMb2dpbigpO1xuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jb21tYW5kcy9jdXN0b21lcmxvZ2luLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5mYWN0b3J5KCdDb21tYW5kQ3VzdG9tZXJMb2dpbicsXG4gIFsnQXV0aGVudGljYXRpb25NYW5hZ2VyJywgJ0N1c3RvbWVyTWFuYWdlcicsXG4gIChBdXRoZW50aWNhdGlvbk1hbmFnZXIsIEN1c3RvbWVyTWFuYWdlcikgPT4ge1xuXG4gIHJldHVybiBmdW5jdGlvbihjcmVkZW50aWFscykge1xuICAgIHJldHVybiBBdXRoZW50aWNhdGlvbk1hbmFnZXIuY3VzdG9tZXJMb2dpblJlZ3VsYXIoY3JlZGVudGlhbHMpLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIEN1c3RvbWVyTWFuYWdlci5sb2dpbihjcmVkZW50aWFscyk7XG4gICAgfSk7XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NvbW1hbmRzL2N1c3RvbWVyc2lnbnVwLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5mYWN0b3J5KCdDb21tYW5kQ3VzdG9tZXJTaWdudXAnLFxuICBbJ0F1dGhlbnRpY2F0aW9uTWFuYWdlcicsICdDdXN0b21lck1hbmFnZXInLFxuICAoQXV0aGVudGljYXRpb25NYW5hZ2VyLCBDdXN0b21lck1hbmFnZXIpID0+IHtcblxuICByZXR1cm4gZnVuY3Rpb24ocmVnaXN0cmF0aW9uKSB7XG4gICAgcmV0dXJuIEN1c3RvbWVyTWFuYWdlci5zaWduVXAocmVnaXN0cmF0aW9uKS50aGVuKCgpID0+IHtcbiAgICAgIHZhciBjcmVkZW50aWFscyA9IHtcbiAgICAgICAgbG9naW46IHJlZ2lzdHJhdGlvbi51c2VybmFtZSxcbiAgICAgICAgcGFzc3dvcmQ6IHJlZ2lzdHJhdGlvbi5wYXNzd29yZFxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIEF1dGhlbnRpY2F0aW9uTWFuYWdlci5jdXN0b21lckxvZ2luUmVndWxhcihjcmVkZW50aWFscykudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiBDdXN0b21lck1hbmFnZXIubG9naW4oY3JlZGVudGlhbHMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NvbW1hbmRzL2N1c3RvbWVyc29jaWFsbG9naW4uanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmZhY3RvcnkoJ0NvbW1hbmRDdXN0b21lclNvY2lhbExvZ2luJyxcbiAgWydBdXRoZW50aWNhdGlvbk1hbmFnZXInLCAnQ3VzdG9tZXJNYW5hZ2VyJywgJ1NvY2lhbE1hbmFnZXInLFxuICAoQXV0aGVudGljYXRpb25NYW5hZ2VyLCBDdXN0b21lck1hbmFnZXIsIFNvY2lhbE1hbmFnZXIpID0+IHtcblxuICBmdW5jdGlvbiBkb0xvZ2luKGF1dGgpIHtcbiAgICByZXR1cm4gQXV0aGVudGljYXRpb25NYW5hZ2VyLmN1c3RvbWVyTG9naW5Tb2NpYWwoYXV0aCkudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gQ3VzdG9tZXJNYW5hZ2VyLmxvZ2luU29jaWFsKGF1dGgpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBmYWNlYm9vazogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gU29jaWFsTWFuYWdlci5sb2dpbkZhY2Vib29rKCkudGhlbihkb0xvZ2luKTtcbiAgICB9LFxuICAgIGdvb2dsZXBsdXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFNvY2lhbE1hbmFnZXIubG9naW5Hb29nbGVQbHVzKCkudGhlbihkb0xvZ2luKTtcbiAgICB9LFxuICAgIHR3aXR0ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFNvY2lhbE1hbmFnZXIubG9naW5Ud2l0dGVyKCkudGhlbihkb0xvZ2luKTtcbiAgICB9XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NvbW1hbmRzL2ZsaXBzY3JlZW4uanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmZhY3RvcnkoJ0NvbW1hbmRGbGlwU2NyZWVuJywgWydNYW5hZ2VtZW50U2VydmljZScsIGZ1bmN0aW9uKE1hbmFnZW1lbnRTZXJ2aWNlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBNYW5hZ2VtZW50U2VydmljZS5yb3RhdGVTY3JlZW4oKTtcbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY29tbWFuZHMvcmVzZXQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmZhY3RvcnkoJ0NvbW1hbmRSZXNldCcsXG4gIFsnQW5hbHl0aWNzTWFuYWdlcicsICdDaGF0TWFuYWdlcicsICdDdXN0b21lck1hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJywgJ1Nlc3Npb25NYW5hZ2VyJywgJ1N1cnZleU1hbmFnZXInLCAnTG9nZ2VyJyxcbiAgKEFuYWx5dGljc01hbmFnZXIsIENoYXRNYW5hZ2VyLCBDdXN0b21lck1hbmFnZXIsIE9yZGVyTWFuYWdlciwgU2Vzc2lvbk1hbmFnZXIsIFN1cnZleU1hbmFnZXIsIExvZ2dlcikgPT4ge1xuXG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgZnVuY3Rpb24gcmVzZXQoZSkge1xuICAgICAgICBpZiAoZSkge1xuICAgICAgICAgIExvZ2dlci53YXJuKGBVbmFibGUgdG8gZmluYWxpemUgQW5hbHl0aWNzTWFuYWdlcjogJHtlfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgUS5hbGxTZXR0bGVkKFtcbiAgICAgICAgICBPcmRlck1hbmFnZXIuZmluYWxpemUoKSxcbiAgICAgICAgICBTdXJ2ZXlNYW5hZ2VyLmZpbmFsaXplKCksXG4gICAgICAgICAgQ3VzdG9tZXJNYW5hZ2VyLmZpbmFsaXplKCksXG4gICAgICAgICAgQ2hhdE1hbmFnZXIuZmluYWxpemUoKVxuICAgICAgICBdKVxuICAgICAgICAuc3ByZWFkKCgpID0+IHtcbiAgICAgICAgICBMb2dnZXIuZGVidWcoJ1Jlc2V0IGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuJyk7XG4gICAgICAgIH0sIGUgPT4ge1xuICAgICAgICAgIExvZ2dlci53YXJuKGBVbmFibGUgdG8gcmVzZXQgcHJvcGVybHk6ICR7ZX1gKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH1cblxuICAgICAgUS5hbGwoW1xuICAgICAgICBBbmFseXRpY3NNYW5hZ2VyLmluaXRpYWxpemUoKSxcbiAgICAgICAgU2Vzc2lvbk1hbmFnZXIuaW5pdGlhbGl6ZSgpXG4gICAgICBdKS50aGVuKCgpID0+IHtcbiAgICAgICAgU2Vzc2lvbk1hbmFnZXIuZW5kU2Vzc2lvbigpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIEFuYWx5dGljc01hbmFnZXIuZmluYWxpemUoKS50aGVuKHJlc2V0LCByZXNldCk7XG4gICAgICAgIH0sIHJlamVjdCk7XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jb21tYW5kcy9zdGFydHVwLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5mYWN0b3J5KCdDb21tYW5kU3RhcnR1cCcsXG4gIFsnTG9nZ2VyJywgJ0FuYWx5dGljc01hbmFnZXInLCAnQ2hhdE1hbmFnZXInLCAnU2hlbGxNYW5hZ2VyJywgJ0N1c3RvbWVyTWFuYWdlcicsICdEYXRhTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdTZXNzaW9uTWFuYWdlcicsICdTb2NpYWxNYW5hZ2VyJywgJ1N1cnZleU1hbmFnZXInLCAnU05BUExvY2F0aW9uJyxcbiAgKExvZ2dlciwgQW5hbHl0aWNzTWFuYWdlciwgQ2hhdE1hbmFnZXIsIFNoZWxsTWFuYWdlciwgQ3VzdG9tZXJNYW5hZ2VyLCBEYXRhTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIFNlc3Npb25NYW5hZ2VyLCBTb2NpYWxNYW5hZ2VyLCBTdXJ2ZXlNYW5hZ2VyLCBTTkFQTG9jYXRpb24pID0+IHtcblxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIFEuYWxsU2V0dGxlZChbXG4gICAgICAgIEFuYWx5dGljc01hbmFnZXIuaW5pdGlhbGl6ZSgpLFxuICAgICAgICBDaGF0TWFuYWdlci5pbml0aWFsaXplKCksXG4gICAgICAgIEN1c3RvbWVyTWFuYWdlci5pbml0aWFsaXplKCksXG4gICAgICAgIENoYXRNYW5hZ2VyLmluaXRpYWxpemUoKSxcbiAgICAgICAgRGF0YU1hbmFnZXIuaW5pdGlhbGl6ZSgpLFxuICAgICAgICBTaGVsbE1hbmFnZXIuaW5pdGlhbGl6ZSgpLFxuICAgICAgICBTZXNzaW9uTWFuYWdlci5pbml0aWFsaXplKCksXG4gICAgICAgIFNvY2lhbE1hbmFnZXIuaW5pdGlhbGl6ZSgpLFxuICAgICAgICBTdXJ2ZXlNYW5hZ2VyLmluaXRpYWxpemUoKVxuICAgICAgXSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKEN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0VuYWJsZWQpIHtcbiAgICAgICAgICBpZiAoIUN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnc2lnbmluJyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBDdXN0b21lck1hbmFnZXIuZ3Vlc3RMb2dpbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgRGF0YU1hbmFnZXIuZmV0Y2hNZWRpYSgpO1xuXG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NvbW1hbmRzL3N1Ym1pdG9yZGVyLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5mYWN0b3J5KCdDb21tYW5kU3VibWl0T3JkZXInLFxuICBbJ0RpYWxvZ01hbmFnZXInLCAnTG9jYXRpb25Nb2RlbCcsICdPcmRlck1hbmFnZXInLFxuICAoRGlhbG9nTWFuYWdlciwgTG9jYXRpb25Nb2RlbCwgT3JkZXJNYW5hZ2VyKSA9PiB7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoIUxvY2F0aW9uTW9kZWwuc2VhdCB8fCAhTG9jYXRpb25Nb2RlbC5zZWF0LnRva2VuKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX0VSUk9SX05PX1NFQVQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCAwO1xuXG4gICAgT3JkZXJNYW5hZ2VyLnN1Ym1pdENhcnQob3B0aW9ucykudGhlbigoKSA9PiB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX09SREVSX1NFTlQpO1xuICAgIH0sICgpID0+IHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICB9KTtcbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY29tbWFuZHMvdXBkYXRlY2FjaGUuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmZhY3RvcnkoJ0NvbW1hbmRVcGRhdGVDYWNoZScsXG4gIFsnRGF0YU1hbmFnZXInLCAnTG9jYXRpb25NYW5hZ2VyJyxcbiAgKERhdGFNYW5hZ2VyLCBMb2NhdGlvbk1hbmFnZXIpID0+IHtcblxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIERhdGFNYW5hZ2VyLmZldGNoQ29udGVudCgpLnRoZW4ocmVzb2x2ZSwgZSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQgPT09ICdub2RpZ2VzdCcpIHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICByZXNvbHZlKCdvYnNvbGV0ZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvZGlhbG9nLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdEaWFsb2dDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnQWN0aXZpdHlNb25pdG9yJywgJ0RpYWxvZ01hbmFnZXInLFxuICAoJHNjb3BlLCAkdGltZW91dCwgQWN0aXZpdHlNb25pdG9yLCBEaWFsb2dNYW5hZ2VyKSA9PiB7XG5cbiAgdmFyIGFsZXJ0U3RhY2sgPSBbXSxcbiAgICAgIGNvbmZpcm1TdGFjayA9IFtdO1xuICB2YXIgYWxlcnRJbmRleCA9IC0xLFxuICAgICAgY29uZmlybUluZGV4ID0gLTE7XG4gIHZhciBhbGVydFRpbWVyO1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZpc2liaWxpdHkoaXNCdXN5LCBzaG93QWxlcnQsIHNob3dDb25maXJtKSB7XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuaXNCdXN5ID0gaXNCdXN5ICE9PSB1bmRlZmluZWQgPyBpc0J1c3kgOiAkc2NvcGUuaXNCdXN5O1xuICAgICAgJHNjb3BlLnNob3dBbGVydCA9IHNob3dBbGVydCAhPT0gdW5kZWZpbmVkID8gc2hvd0FsZXJ0IDogJHNjb3BlLnNob3dBbGVydDtcbiAgICAgICRzY29wZS5zaG93Q29uZmlybSA9IHNob3dDb25maXJtICE9PSB1bmRlZmluZWQgPyBzaG93Q29uZmlybSA6ICRzY29wZS5zaG93Q29uZmlybTtcbiAgICAgICRzY29wZS52aXNpYmxlID0gJHNjb3BlLmlzQnVzeSB8fCAkc2NvcGUuc2hvd0FsZXJ0IHx8ICRzY29wZS5zaG93Q29uZmlybTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dOZXh0QWxlcnQoKSB7XG4gICAgaWYgKGFsZXJ0VGltZXIpIHtcbiAgICAgICR0aW1lb3V0LmNhbmNlbChhbGVydFRpbWVyKTtcbiAgICB9XG5cbiAgICB2YXIgYWxlcnQgPSBhbGVydFN0YWNrW2FsZXJ0SW5kZXhdO1xuXG4gICAgaWYgKGFsZXJ0ICYmIGFsZXJ0LnJlc29sdmUpIHtcbiAgICAgIGFsZXJ0LnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBhbGVydEluZGV4Kys7XG5cbiAgICBpZiAoYWxlcnRJbmRleCA9PT0gYWxlcnRTdGFjay5sZW5ndGgpIHtcbiAgICAgIHVwZGF0ZVZpc2liaWxpdHkodW5kZWZpbmVkLCBmYWxzZSk7XG4gICAgICBhbGVydFN0YWNrID0gW107XG4gICAgICBhbGVydEluZGV4ID0gLTE7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuYWxlcnRUaXRsZSA9IGFsZXJ0U3RhY2tbYWxlcnRJbmRleF0udGl0bGU7XG4gICAgICAkc2NvcGUuYWxlcnRUZXh0ID0gYWxlcnRTdGFja1thbGVydEluZGV4XS5tZXNzYWdlO1xuICAgICAgdXBkYXRlVmlzaWJpbGl0eSh1bmRlZmluZWQsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgYWxlcnRUaW1lciA9ICR0aW1lb3V0KHNob3dOZXh0QWxlcnQsIDEwMDAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dOZXh0Q29uZmlybSgpIHtcbiAgICBjb25maXJtSW5kZXgrKztcblxuICAgIGlmIChjb25maXJtSW5kZXggPT09IGNvbmZpcm1TdGFjay5sZW5ndGgpIHtcbiAgICAgIHVwZGF0ZVZpc2liaWxpdHkodW5kZWZpbmVkLCB1bmRlZmluZWQsIGZhbHNlKTtcbiAgICAgIGNvbmZpcm1TdGFjayA9IFtdO1xuICAgICAgY29uZmlybUluZGV4ID0gLTE7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuY29uZmlybVRleHQgPSBjb25maXJtU3RhY2tbY29uZmlybUluZGV4XS5tZXNzYWdlO1xuICAgICAgdXBkYXRlVmlzaWJpbGl0eSh1bmRlZmluZWQsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlKSB7XG4gICAgICAgICAgY2FzZSBBTEVSVF9HRU5FUklDX0VSUk9SOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiT29wcyEgTXkgYml0cyBhcmUgZmlkZGxlZC4gT3VyIHJlcXVlc3Qgc3lzdGVtIGhhcyBiZWVuIGRpc2Nvbm5lY3RlZC4gUGxlYXNlIG5vdGlmeSBhIHNlcnZlci5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1I6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJPb3BzISBNeSBiaXRzIGFyZSBmaWRkbGVkLiBPdXIgcmVxdWVzdCBzeXN0ZW0gaGFzIGJlZW4gZGlzY29ubmVjdGVkLiBQbGVhc2Ugbm90aWZ5IGEgc2VydmVyLlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9SRVFVRVNUX0FTU0lTVEFOQ0VfU0VOVDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkNhbGwgU2VydmVyIHJlcXVlc3Qgd2FzIHNlbnQgc3VjY2Vzc2Z1bGx5LlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9SRVFVRVNUX0FTU0lTVEFOQ0VfUkVDRUlWRUQ6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJZb3VyIHJlcXVlc3QgZm9yIHNlcnZlciBhc3Npc3RhbmNlIGhhcyBiZWVuIHNlZW4sIGFuZCBhY2NlcHRlZC5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfUkVRVUVTVF9DTE9TRU9VVF9TRU5UOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiUmVxdWVzdCBjaGVjayByZXF1ZXN0IHdhcyBzZW50IHN1Y2Nlc3NmdWxseS5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfUkVRVUVTVF9DTE9TRU9VVF9SRUNFSVZFRDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIllvdXIgY2hlY2sgcmVxdWVzdCBoYXMgYmVlbiBzZWVuLCBhbmQgYWNjZXB0ZWQuXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEFMRVJUX1JFUVVFU1RfT1JERVJfU0VOVDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIk9yZGVyIHNlbnQhIFlvdSB3aWxsIGJlIG5vdGlmaWVkIHdoZW4geW91ciB3YWl0ZXIgYWNjZXB0cyB0aGUgb3JkZXIuXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEFMRVJUX1JFUVVFU1RfT1JERVJfUkVDRUlWRUQ6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJZb3VyIG9yZGVyIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBhY2NlcHRlZC5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfU0lHTklOX1JFUVVJUkVEOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiWW91IG11c3QgYmUgbG9nZ2VkIGludG8gU05BUCB0byBhY2Nlc3MgdGhpcyBwYWdlLlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9UQUJMRV9BU1NJU1RBTkNFOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNhbGwgdGhlIHdhaXRlcj9cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfVEFCTEVfQ0xPU0VPVVQ6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVxdWVzdCB5b3VyIGNoZWNrP1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9UQUJMRV9SRVNFVDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZXNldD9cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfREVMRVRfQ0FSRDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgdGhpcyBwYXltZW50IG1ldGhvZD9cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfUEFTU1dPUkRfUkVTRVRfQ09NUExFVEU6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJBIGxpbmsgdG8gY2hhbmdlIHlvdXIgcGFzc3dvcmQgaGFzIGJlZW4gZW1haWxlZC5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfU09GVFdBUkVfT1VUREFURUQ6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJBIHNvZnR3YXJlIHVwZGF0ZSBpcyBhdmFpbGFibGUuIFBsZWFzZSByZXN0YXJ0IHRoZSBhcHBsaWNhdGlvbi5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfQ0FSRFJFQURFUl9FUlJPUjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIlVuYWJsZSB0byByZWFkIHRoZSBjYXJkIGRhdGEuIFBsZWFzZSB0cnkgYWdhaW4uXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEFMRVJUX0VSUk9SX05PX1NFQVQ6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJEZXZpY2UgaXMgbm90IGFzc2lnbmVkIHRvIGFueSB0YWJsZS5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfRVJST1JfU1RBUlRVUDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIlVuYWJsZSB0byBzdGFydCB0aGUgYXBwbGljYXRpb24uXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEFMRVJUX0VSUk9SX0NBQ0hFX1VQREFURTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIlVuYWJsZSB0byBsb2FkIHRoZSBhcHBsaWNhdGlvbiBkYXRhLlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9XQVJOSU5HX0NBQ0hFX09CU09MRVRFOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiVW5hYmxlIHRvIHVwZGF0ZSB0aGUgYXBwbGljYXRpb24gY2FjaGUuIEZhbGxpbmcgYmFjayB0byBjYWNoZWQgdmVyc2lvbi5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG5cbiAgJHNjb3BlLnZpc2libGUgPSBmYWxzZTtcbiAgJHNjb3BlLmlzQnVzeSA9IGZhbHNlO1xuICAkc2NvcGUuc2hvd0FsZXJ0ID0gZmFsc2U7XG4gICRzY29wZS5zaG93Q29uZmlybSA9IGZhbHNlO1xuXG4gICRzY29wZS5jbG9zZUFsZXJ0ID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgc2hvd05leHRBbGVydCgpO1xuICB9O1xuXG4gICRzY29wZS5jbG9zZUNvbmZpcm0gPSBjb25maXJtZWQgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG5cbiAgICB2YXIgY29uZmlybSA9IGNvbmZpcm1TdGFja1tjb25maXJtSW5kZXhdO1xuXG4gICAgaWYgKGNvbmZpcm0pIHtcbiAgICAgIGlmIChjb25maXJtZWQpIHtcbiAgICAgICAgaWYgKGNvbmZpcm0ucmVzb2x2ZSkge1xuICAgICAgICAgIGNvbmZpcm0ucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKGNvbmZpcm0ucmVqZWN0KSB7XG4gICAgICAgICAgY29uZmlybS5yZWplY3QoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHNob3dOZXh0Q29uZmlybSgpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGFsZXJ0UmVxdWVzdGVkKG1lc3NhZ2UsIHRpdGxlLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICBtZXNzYWdlID0gZ2V0TWVzc2FnZShtZXNzYWdlKTtcblxuICAgIGFsZXJ0U3RhY2sucHVzaCh7IHRpdGxlOiB0aXRsZSwgbWVzc2FnZTogbWVzc2FnZSwgcmVzb2x2ZTogcmVzb2x2ZSwgcmVqZWN0OiByZWplY3QgfSk7XG5cbiAgICBpZiAoISRzY29wZS5zaG93QWxlcnQpIHtcbiAgICAgICR0aW1lb3V0KHNob3dOZXh0QWxlcnQpO1xuICAgIH1cbiAgfVxuXG4gIERpYWxvZ01hbmFnZXIuYWxlcnRSZXF1ZXN0ZWQuYWRkKGFsZXJ0UmVxdWVzdGVkKTtcblxuICBmdW5jdGlvbiBjb25maXJtUmVxdWVzdGVkKG1lc3NhZ2UsIHJlc29sdmUsIHJlamVjdCkge1xuICAgIG1lc3NhZ2UgPSBnZXRNZXNzYWdlKG1lc3NhZ2UpO1xuXG4gICAgY29uZmlybVN0YWNrLnB1c2goeyBtZXNzYWdlOiBtZXNzYWdlLCByZXNvbHZlOiByZXNvbHZlLCByZWplY3Q6IHJlamVjdCB9KTtcblxuICAgIGlmICghJHNjb3BlLnNob3dDb25maXJtKSB7XG4gICAgICAkdGltZW91dChzaG93TmV4dENvbmZpcm0pO1xuICAgIH1cbiAgfVxuXG4gIERpYWxvZ01hbmFnZXIuY29uZmlybVJlcXVlc3RlZC5hZGQoY29uZmlybVJlcXVlc3RlZCk7XG5cbiAgZnVuY3Rpb24gam9iU3RhcnRlZCgpIHtcbiAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVWaXNpYmlsaXR5KHRydWUpO1xuICB9XG5cbiAgRGlhbG9nTWFuYWdlci5qb2JTdGFydGVkLmFkZChqb2JTdGFydGVkKTtcbiAgRGlhbG9nTWFuYWdlci5qb2JFbmRlZC5hZGQoZnVuY3Rpb24oKSB7XG4gICAgdXBkYXRlVmlzaWJpbGl0eShmYWxzZSk7XG4gIH0pO1xuXG4gIGlmIChEaWFsb2dNYW5hZ2VyLmpvYnMgPiAwKSB7XG4gICAgam9iU3RhcnRlZCgpO1xuICB9XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2ZsYXNoLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdGbGFzaEN0cmwnLFxuICBbJyR0aW1lb3V0JywgJ0ZsYXNoU3RhcnRlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdTaGVsbE1hbmFnZXInLCAoJHRpbWVvdXQsIEZsYXNoU3RhcnRlciwgTmF2aWdhdGlvbk1hbmFnZXIsIFNoZWxsTWFuYWdlcikgPT4ge1xuXG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgbGV0IHVybCA9IFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybCh7XG4gICAgICAgIHRva2VuOiBOYXZpZ2F0aW9uTWFuYWdlci5nZXRRdWVyeVBhcmFtZXRlcignbWVkaWEnKSxcbiAgICAgICAgbWltZV90eXBlOiAnYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2gnXG4gICAgICB9KTtcblxuICAgICAgRmxhc2hTdGFydGVyLnN0YXJ0KFxuICAgICAgICAnbWVkaWEtY29udGFpbmVyJyxcbiAgICAgICAgdXJsLFxuICAgICAgICBOYXZpZ2F0aW9uTWFuYWdlci5nZXRRdWVyeVBhcmFtZXRlcignd2lkdGgnKSxcbiAgICAgICAgTmF2aWdhdGlvbk1hbmFnZXIuZ2V0UXVlcnlQYXJhbWV0ZXIoJ2hlaWdodCcpXG4gICAgICApO1xuICAgIH0sIDEwMDApO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9nYWxheGllcy9hZHZlcnRpc2VtZW50LmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdHYWxheGllc0FkdmVydGlzZW1lbnRDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnQWN0aXZpdHlNb25pdG9yJywgJ0FuYWx5dGljc01vZGVsJywgJ1NoZWxsTWFuYWdlcicsICdEYXRhTWFuYWdlcicsICdEYXRhTW9kZWwnLCAnRGlhbG9nTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdDb21tYW5kRmxpcFNjcmVlbicsICdTaGVsbE1hbmFnZXInLCAnV2ViQnJvd3NlcicsICdTTkFQRW52aXJvbm1lbnQnLFxuICAoJHNjb3BlLCAkdGltZW91dCwgQWN0aXZpdHlNb25pdG9yLCBBbmFseXRpY3NNb2RlbCwgaGVsbE1hbmFnZXIsIERhdGFNYW5hZ2VyLCBEYXRhTW9kZWwsIERpYWxvZ01hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyLCBDb21tYW5kRmxpcFNjcmVlbiwgU2hlbGxNYW5hZ2VyLCBXZWJCcm93c2VyLCBTTkFQRW52aXJvbm1lbnQpID0+IHtcblxuICAkc2NvcGUudmlzaWJsZSA9IGZhbHNlO1xuXG4gICRzY29wZS5hZHZlcnRpc2VtZW50Q2xpY2sgPSBpdGVtID0+IHtcbiAgICBpZiAoQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZCAmJiAhQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9TSUdOSU5fUkVRVUlSRUQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIEFuYWx5dGljc01vZGVsLmxvZ0FkdmVydGlzZW1lbnQoe1xuICAgICAgdG9rZW46IGl0ZW0udG9rZW4sXG4gICAgICB0eXBlOiAnY2xpY2snXG4gICAgfSk7XG5cbiAgICBpZiAoaXRlbS5ocmVmKSB7XG4gICAgICBXZWJCcm93c2VyLm9wZW4oaXRlbS5ocmVmLnVybCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5hZHZlcnRpc2VtZW50SW1wcmVzc2lvbiA9IGl0ZW0gPT4ge1xuICAgIGlmIChBY3Rpdml0eU1vbml0b3IuYWN0aXZlICYmICRzY29wZS52aXNpYmxlKSB7XG4gICAgICBBbmFseXRpY3NNb2RlbC5sb2dBZHZlcnRpc2VtZW50KHtcbiAgICAgICAgdG9rZW46IGl0ZW0udG9rZW4sXG4gICAgICAgIHR5cGU6ICdpbXByZXNzaW9uJ1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5hZHZlcnRpc2VtZW50cyA9IFtdO1xuXG4gIERhdGFNb2RlbC5hZHZlcnRpc2VtZW50cygpLnRoZW4oZGF0YSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgJHNjb3BlLmFkdmVydGlzZW1lbnRzID0gZGF0YS5tYWluXG4gICAgICAgIC5tYXAoYWQgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzcmM6IFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybChhZC5zcmMsIDk3MCwgOTApLFxuICAgICAgICAgICAgaHJlZjogYWQuaHJlZixcbiAgICAgICAgICAgIHR5cGU6IFNoZWxsTWFuYWdlci5nZXRNZWRpYVR5cGUoYWQuc3JjKSxcbiAgICAgICAgICAgIHRva2VuOiBhZC50b2tlblxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbkNoYW5naW5nLmFkZChsb2NhdGlvbiA9PiB7XG4gICAgJHNjb3BlLnZpc2libGUgPSBsb2NhdGlvbi50eXBlID09PSAnaG9tZSc7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLiRhcHBseSgpKTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2dhbGF4aWVzL2NhcnQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuICAuY29udHJvbGxlcignR2FsYXhpZXNDYXJ0Q3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJyRzY2UnLCAnQ3VzdG9tZXJNYW5hZ2VyJywgJ1NoZWxsTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdPcmRlck1hbmFnZXInLCAnRGlhbG9nTWFuYWdlcicsICdDYXJ0TW9kZWwnLCAnTG9jYXRpb25Nb2RlbCcsICdDaGF0TWFuYWdlcicsXG4gICAgKCRzY29wZSwgJHRpbWVvdXQsICRzY2UsIEN1c3RvbWVyTWFuYWdlciwgU2hlbGxNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgT3JkZXJNYW5hZ2VyLCBEaWFsb2dNYW5hZ2VyLCBDYXJ0TW9kZWwsIExvY2F0aW9uTW9kZWwsIENoYXRNYW5hZ2VyKSA9PiB7XG5cbiAgICAgICRzY29wZS5TVEFURV9DQVJUID0gQ2FydE1vZGVsLlNUQVRFX0NBUlQ7XG4gICAgICAkc2NvcGUuU1RBVEVfSElTVE9SWSA9IENhcnRNb2RlbC5TVEFURV9ISVNUT1JZO1xuXG4gICAgICAkc2NvcGUuZ2V0TWVkaWFVcmwgPSAobWVkaWEsIHdpZHRoLCBoZWlnaHQsIGV4dGVuc2lvbikgPT4gU2hlbGxNYW5hZ2VyLmdldE1lZGlhVXJsKG1lZGlhLCB3aWR0aCwgaGVpZ2h0LCBleHRlbnNpb24pO1xuICAgICAgJHNjb3BlLmZvcm1hdFByaWNlID0gdmFsdWUgPT4gU2hlbGxNYW5hZ2VyLmZvcm1hdFByaWNlKHZhbHVlKTtcbiAgICAgICRzY29wZS5vcHRpb25zID0ge307XG5cbiAgICAgICRzY29wZS5jdXJyZW5jeSA9IFNoZWxsTWFuYWdlci5tb2RlbC5jdXJyZW5jeTtcbiAgICAgIFNoZWxsTWFuYWdlci5tb2RlbC5jdXJyZW5jeUNoYW5nZWQuYWRkKGN1cnJlbmN5ID0+ICR0aW1lb3V0KCgpID0+ICRzY29wZS5jdXJyZW5jeSA9IGN1cnJlbmN5KSk7XG5cbiAgICAgICRzY29wZS5zdGF0ZSA9IENhcnRNb2RlbC5jYXJ0U3RhdGU7XG4gICAgICBDYXJ0TW9kZWwuY2FydFN0YXRlQ2hhbmdlZC5hZGQoc3RhdGUgPT4gJHRpbWVvdXQoKCkgPT4gJHNjb3BlLnN0YXRlID0gc3RhdGUpKTtcblxuICAgICAgJHNjb3BlLmVkaXRhYmxlSXRlbSA9IENhcnRNb2RlbC5lZGl0YWJsZUl0ZW07XG4gICAgICBDYXJ0TW9kZWwuZWRpdGFibGVJdGVtQ2hhbmdlZC5hZGQoaXRlbSA9PiAkdGltZW91dCgoKSA9PiAkc2NvcGUuZWRpdGFibGVJdGVtID0gaXRlbSkpO1xuXG4gICAgICAkc2NvcGUuY3VycmVudE9yZGVyID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2FydDtcbiAgICAgIE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNhcnRDaGFuZ2VkLmFkZCh2YWx1ZSA9PiAkc2NvcGUuY3VycmVudE9yZGVyID0gdmFsdWUpO1xuXG4gICAgICAkc2NvcGUudG90YWxPcmRlciA9IE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNoZWNrO1xuICAgICAgT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2hlY2tDaGFuZ2VkLmFkZCh2YWx1ZSA9PiAkc2NvcGUudG90YWxPcmRlciA9IHZhbHVlKTtcblxuICAgICAgJHNjb3BlLmdpZnRTZWF0ID0gTG9jYXRpb25Nb2RlbC5nZXRTZWF0KENoYXRNYW5hZ2VyLm1vZGVsLmdpZnRTZWF0KTtcbiAgICAgIENoYXRNYW5hZ2VyLm1vZGVsLmdpZnRTZWF0Q2hhbmdlZC5hZGQodG9rZW4gPT4ge1xuICAgICAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuZ2lmdFNlYXQgPSBMb2NhdGlvbk1vZGVsLmdldFNlYXQodG9rZW4pKTtcbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuY3VzdG9tZXJOYW1lID0gQ3VzdG9tZXJNYW5hZ2VyLmN1c3RvbWVyTmFtZTtcbiAgICAgIEN1c3RvbWVyTWFuYWdlci5tb2RlbC5wcm9maWxlQ2hhbmdlZC5hZGQoKCkgPT4ge1xuICAgICAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuY3VzdG9tZXJOYW1lID0gQ3VzdG9tZXJNYW5hZ2VyLmN1c3RvbWVyTmFtZSk7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLmNoZWNrb3V0RW5hYmxlZCA9IEN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0VuYWJsZWQ7XG4gICAgICAkc2NvcGUudmlzaWJsZSA9IENhcnRNb2RlbC5pc0NhcnRPcGVuO1xuXG4gICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbkNoYW5naW5nLmFkZChsb2NhdGlvbiA9PiB7XG4gICAgICAgIGlmIChsb2NhdGlvbi50eXBlICE9PSAnY2F0ZWdvcnknKSB7XG4gICAgICAgICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSBmYWxzZTtcbiAgICAgICAgICBDYXJ0TW9kZWwuY2xvc2VFZGl0b3IoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIENhcnRNb2RlbC5pc0NhcnRPcGVuQ2hhbmdlZC5hZGQodmFsdWUgPT4ge1xuICAgICAgICAkc2NvcGUuc2hvd0NhcnQoKTtcbiAgICAgICAgJHNjb3BlLnZpc2libGUgPSB2YWx1ZTtcbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuc2VhdF9uYW1lID0gTG9jYXRpb25Nb2RlbC5zZWF0ID9cbiAgICAgICAgTG9jYXRpb25Nb2RlbC5zZWF0Lm5hbWUgOlxuICAgICAgICAnVGFibGUnO1xuXG4gICAgICBMb2NhdGlvbk1vZGVsLnNlYXRDaGFuZ2VkLmFkZChzZWF0ID0+ICRzY29wZS5zZWF0X25hbWUgPSBzZWF0ID8gc2VhdC5uYW1lIDogJ1RhYmxlJyk7XG5cbiAgICAgIHZhciByZWZyZXNoQXNzaXN0YW5jZVJlcXVlc3QgPSAoKSA9PiB7XG4gICAgICAgICRzY29wZS5yZXF1ZXN0QXNzaXN0YW5jZUF2YWlsYWJsZSA9IE9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdCA9PT0gbnVsbDtcbiAgICAgIH07XG4gICAgICB2YXIgcmVmcmVzaENsb3Nlb3V0UmVxdWVzdCA9ICgpID0+IHtcbiAgICAgICAgJHNjb3BlLnJlcXVlc3RDbG9zZW91dEF2YWlsYWJsZSA9IE9yZGVyTWFuYWdlci5tb2RlbC5jbG9zZW91dFJlcXVlc3QgPT09IG51bGw7XG4gICAgICB9O1xuXG4gICAgICBPcmRlck1hbmFnZXIubW9kZWwuYXNzaXN0YW5jZVJlcXVlc3RDaGFuZ2VkLmFkZChyZWZyZXNoQXNzaXN0YW5jZVJlcXVlc3QpO1xuICAgICAgT3JkZXJNYW5hZ2VyLm1vZGVsLmNsb3Nlb3V0UmVxdWVzdENoYW5nZWQuYWRkKHJlZnJlc2hDbG9zZW91dFJlcXVlc3QpO1xuXG4gICAgICAkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2VBdmFpbGFibGUgPSBPcmRlck1hbmFnZXIubW9kZWwuYXNzaXN0YW5jZVJlcXVlc3QgPT09IG51bGw7XG4gICAgICAkc2NvcGUucmVxdWVzdENsb3Nlb3V0QXZhaWxhYmxlID0gT3JkZXJNYW5hZ2VyLm1vZGVsLmNsb3Nlb3V0UmVxdWVzdCA9PT0gbnVsbDtcblxuICAgICAgJHNjb3BlLmdldE1vZGlmaWVycyA9IGVudHJ5ID0+IHtcbiAgICAgICAgaWYgKCFlbnRyeS5tb2RpZmllcnMpIHtcbiAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZW50cnkubW9kaWZpZXJzLnJlZHVjZSgocmVzdWx0LCBjYXRlZ29yeSkgPT4ge1xuICAgICAgICAgIGxldCBtb2RpZmllcnMgPSBjYXRlZ29yeS5tb2RpZmllcnMuZmlsdGVyKG1vZGlmaWVyID0+IG1vZGlmaWVyLmlzU2VsZWN0ZWQpO1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQobW9kaWZpZXJzKTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LCBbXSk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuY2FsY3VsYXRlUHJpY2UgPSBlbnRyeSA9PiBPcmRlck1hbmFnZXIuY2FsY3VsYXRlUHJpY2UoZW50cnkpO1xuICAgICAgJHNjb3BlLmNhbGN1bGF0ZVRvdGFsUHJpY2UgPSBlbnRyaWVzID0+IE9yZGVyTWFuYWdlci5jYWxjdWxhdGVUb3RhbFByaWNlKGVudHJpZXMpO1xuXG4gICAgICAkc2NvcGUuZWRpdEl0ZW0gPSBlbnRyeSA9PiBDYXJ0TW9kZWwub3BlbkVkaXRvcihlbnRyeSwgZmFsc2UpO1xuXG4gICAgICAkc2NvcGUudXBkYXRlTW9kaWZpZXJzID0gKGNhdGVnb3J5LCBtb2RpZmllcikgPT4ge1xuICAgICAgICBpZiAoY2F0ZWdvcnkuZGF0YS5zZWxlY3Rpb24gPT09IDEpIHtcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goY2F0ZWdvcnkubW9kaWZpZXJzLCBtID0+IG0uaXNTZWxlY3RlZCA9IChtID09PSBtb2RpZmllcikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIG1vZGlmaWVyLmlzU2VsZWN0ZWQgPSAhbW9kaWZpZXIuaXNTZWxlY3RlZDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnJlbW92ZUZyb21DYXJ0ID0gZW50cnkgPT4gJHNjb3BlLmN1cnJlbnRPcmRlciA9IE9yZGVyTWFuYWdlci5yZW1vdmVGcm9tQ2FydChlbnRyeSk7XG4gICAgICAkc2NvcGUucmVvcmRlckl0ZW0gPSBlbnRyeSA9PiAkc2NvcGUuY3VycmVudE9yZGVyID0gT3JkZXJNYW5hZ2VyLmFkZFRvQ2FydChlbnRyeS5jbG9uZSgpKTtcblxuICAgICAgJHNjb3BlLnN1Ym1pdENhcnQgPSAoKSA9PiB7XG4gICAgICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSAkc2NvcGUub3B0aW9ucy50b0dvID8gMiA6IDA7XG5cbiAgICAgICAgT3JkZXJNYW5hZ2VyLnN1Ym1pdENhcnQob3B0aW9ucykudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuXG4gICAgICAgICAgJHNjb3BlLiRhcHBseSgoKSA9PiB7XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudE9yZGVyID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2FydDtcbiAgICAgICAgICAgICRzY29wZS50b3RhbE9yZGVyID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2hlY2s7XG4gICAgICAgICAgICAkc2NvcGUub3B0aW9ucy50b0dvID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfT1JERVJfU0VOVCk7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5jbGVhckNhcnQgPSAoKSA9PiB7XG4gICAgICAgICRzY29wZS5vcHRpb25zLnRvR28gPSBmYWxzZTtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRPcmRlciA9IE9yZGVyTWFuYWdlci5jbGVhckNhcnQoKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5jbG9zZUVkaXRvciA9ICgpID0+IHtcbiAgICAgICAgQ2FydE1vZGVsLmNsb3NlRWRpdG9yKCk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuY2xvc2VDYXJ0ID0gKCkgPT4ge1xuICAgICAgICBDYXJ0TW9kZWwuaXNDYXJ0T3BlbiA9IGZhbHNlO1xuICAgICAgICBDYXJ0TW9kZWwuc3RhdGUgPSBDYXJ0TW9kZWwuU1RBVEVfQ0FSVDtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5zaG93SGlzdG9yeSA9ICgpID0+IENhcnRNb2RlbC5zdGF0ZSA9IENhcnRNb2RlbC5TVEFURV9ISVNUT1JZO1xuICAgICAgJHNjb3BlLnNob3dDYXJ0ID0gKCkgPT4gQ2FydE1vZGVsLnN0YXRlID0gQ2FydE1vZGVsLlNUQVRFX0NBUlQ7XG5cbiAgICAgICRzY29wZS5wYXlDaGVjayA9ICgpID0+IE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnY2hlY2tvdXQnIH07XG5cbiAgICAgICRzY29wZS5yZXF1ZXN0QXNzaXN0YW5jZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKCEkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2VBdmFpbGFibGUpe1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIERpYWxvZ01hbmFnZXIuY29uZmlybShBTEVSVF9UQUJMRV9BU1NJU1RBTkNFKS50aGVuKCgpID0+IHtcbiAgICAgICAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgICAgICAgT3JkZXJNYW5hZ2VyLnJlcXVlc3RBc3Npc3RhbmNlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX0FTU0lTVEFOQ0VfU0VOVCk7XG4gICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5yZXF1ZXN0Q2xvc2VvdXQgPSAoKSA9PiB7XG4gICAgICAgIGlmICghJHNjb3BlLnJlcXVlc3RDbG9zZW91dEF2YWlsYWJsZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICAgICAgT3JkZXJNYW5hZ2VyLnJlcXVlc3RDbG9zZW91dCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX0NMT1NFT1VUX1NFTlQpO1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvZ2FsYXhpZXMvY2F0ZWdvcnkuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0dhbGF4aWVzQ2F0ZWdvcnlDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnRGF0YU1hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnU2hlbGxNYW5hZ2VyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIERhdGFNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgU2hlbGxNYW5hZ2VyKSA9PiB7XG5cbiAgJHNjb3BlLmdvQmFjayA9ICgpID0+IE5hdmlnYXRpb25NYW5hZ2VyLmdvQmFjaygpO1xuXG4gIHZhciBDYXRlZ29yeUxpc3QgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByb3dzID0gdGhpcy5wcm9wcy50aWxlcy5tYXAoKHRpbGUsIGkpID0+IHtcbiAgICAgICAgdmFyIGJhY2tncm91bmQgPSBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwodGlsZS5pbWFnZSwgNDcwLCA0MTApO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFJlYWN0LkRPTS50ZCh7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICd0aWxlIHRpbGUtcmVndWxhcicsXG4gICAgICAgICAgICBrZXk6IGlcbiAgICAgICAgICB9LCBSZWFjdC5ET00uYSh7XG4gICAgICAgICAgICBvbkNsaWNrOiBlID0+IHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHRpbGUuZGVzdGluYXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBiYWNrZ3JvdW5kID8gJ3VybChcIicgKyBiYWNrZ3JvdW5kICsgJ1wiKScgOiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKG51bGwsIHRpbGUudGl0bGUpXG4gICAgICAgICAgKSlcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAucmVkdWNlKChyZXN1bHQsIHZhbHVlLCBpKSA9PiB7XG4gICAgICAgIHJlc3VsdFtpICUgMl0ucHVzaCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LCBbW10sIFtdXSlcbiAgICAgIC5tYXAoKHJvdywgaSkgPT4gUmVhY3QuRE9NLnRyKHsga2V5OiBpIH0sIHJvdykpO1xuXG4gICAgICByZXR1cm4gUmVhY3QuRE9NLnRhYmxlKHtcbiAgICAgICAgY2xhc3NOYW1lOiAndGlsZS10YWJsZSdcbiAgICAgIH0sIHJvd3MpO1xuICAgIH1cbiAgfSk7XG5cbiAgRGF0YU1hbmFnZXIuY2F0ZWdvcnlDaGFuZ2VkLmFkZChjYXRlZ29yeSA9PiB7XG4gICAgaWYgKCFjYXRlZ29yeSkge1xuICAgICAgcmV0dXJuICR0aW1lb3V0KCgpID0+ICRzY29wZS5jYXRlZ29yeSA9IG51bGwpO1xuICAgIH1cblxuICAgIHZhciBpdGVtcyA9IGNhdGVnb3J5ICYmIGNhdGVnb3J5Lml0ZW1zID8gY2F0ZWdvcnkuaXRlbXMgOiBbXSxcbiAgICAgICAgY2F0ZWdvcmllcyA9IGNhdGVnb3J5ICYmIGNhdGVnb3J5LmNhdGVnb3JpZXMgPyBjYXRlZ29yeS5jYXRlZ29yaWVzIDogW107XG5cbiAgICB2YXIgdGlsZXMgPSBjYXRlZ29yaWVzLmNvbmNhdChpdGVtcykubWFwKGl0ZW0gPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsXG4gICAgICAgIGltYWdlOiBpdGVtLmltYWdlLFxuICAgICAgICB1cmw6ICcjJyArIE5hdmlnYXRpb25NYW5hZ2VyLmdldFBhdGgoaXRlbS5kZXN0aW5hdGlvbiksXG4gICAgICAgIGRlc3RpbmF0aW9uOiBpdGVtLmRlc3RpbmF0aW9uXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS1jYXRlZ29yeS1jb250ZW50Jyk7XG5cbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgUmVhY3QucmVuZGVyKFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENhdGVnb3J5TGlzdCwgeyB0aWxlczogdGlsZXMgfSksXG4gICAgICAgIGVsZW1lbnRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmNhdGVnb3J5ID0gY2F0ZWdvcnk7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLiRhcHBseSgpKTtcbiAgfSk7XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2luZy5hZGQoZnVuY3Rpb24obG9jYXRpb24pIHtcbiAgICBpZiAobG9jYXRpb24udHlwZSA9PT0gJ2l0ZW0nKSB7XG4gICAgICAkc2NvcGUuc2hvd01vZGFsID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2hvd01vZGFsID0gZmFsc2U7XG5cbiAgICBEYXRhTWFuYWdlci5jYXRlZ29yeSA9IGxvY2F0aW9uLnR5cGUgPT09ICdjYXRlZ29yeScgPyBsb2NhdGlvbi50b2tlbiA6IHVuZGVmaW5lZDtcbiAgICAkc2NvcGUudmlzaWJsZSA9IEJvb2xlYW4oRGF0YU1hbmFnZXIuY2F0ZWdvcnkpO1xuICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS1jYXRlZ29yeS1jb250ZW50LWNvbnRhaW5lcicpO1xuICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICBjb250YWluZXIuc2Nyb2xsTGVmdCA9IDA7XG4gICAgICB9XG5cbiAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICB9KTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2dhbGF4aWVzL2NoZWNrb3V0c3BsaXQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0dhbGF4aWVzQ2hlY2tvdXRTcGxpdEN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdDdXN0b21lck1hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIEN1c3RvbWVyTWFuYWdlciwgT3JkZXJNYW5hZ2VyKSA9PiB7XG5cbiAgdmFyIG9yaWdpbmFsRGF0YTtcblxuICAvL09wZW4gZ3Vlc3QgY291bnQgZWRpdG9yXG4gICRzY29wZS5lZGl0R3Vlc3RDb3VudCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PT0gJHNjb3BlLkNIRUNLX1NQTElUX0VWRU5MWSB8fCB0eXBlID09PSAkc2NvcGUuQ0hFQ0tfU1BMSVRfQllfSVRFTVMpIHtcbiAgICAgIG9yaWdpbmFsRGF0YSA9ICRzY29wZS4kcGFyZW50LmRhdGE7XG4gICAgICAkc2NvcGUub3B0aW9ucy5ndWVzdF9jb3VudCA9ICRzY29wZS5vcHRpb25zLmd1ZXN0X2NvdW50X21pbjtcbiAgICB9XG5cbiAgICAkc2NvcGUuZ3Vlc3RFZGl0b3JUeXBlID0gdHlwZTtcbiAgfTtcblxuICAvL0Nsb3NlIGd1ZXN0IGNvdW50IGVkaXRvclxuICAkc2NvcGUuY2FuY2VsRWRpdEd1ZXN0Q291bnQgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUuZ3Vlc3RFZGl0b3JUeXBlID0gdW5kZWZpbmVkO1xuICAgIG9yaWdpbmFsRGF0YSA9IHVuZGVmaW5lZDtcbiAgfTtcblxuICAvL1NwbGl0IHRoZSBjdXJyZW50IG9yZGVyIGluIHRoZSBzZWxlY3RlZCB3YXlcbiAgJHNjb3BlLnNwbGl0Q2hlY2sgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgdmFyIGksIGRhdGEgPSBbXTtcblxuICAgIGlmICh0eXBlID09PSAkc2NvcGUuQ0hFQ0tfU1BMSVRfTk9ORSkge1xuICAgICAgZGF0YS5wdXNoKHtcbiAgICAgICAgaXRlbXM6IE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNoZWNrXG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLm9wdGlvbnMuZ3Vlc3RfY291bnQgPSAxO1xuICAgICAgJHNjb3BlLmRvbmVTcGxpdHRpbmcoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJHNjb3BlLkNIRUNLX1NQTElUX0VWRU5MWSkge1xuICAgICAgdmFyIGNoZWNrID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2hlY2ssXG4gICAgICAgICAgc3VidG90YWwgPSBPcmRlck1hbmFnZXIuY2FsY3VsYXRlVG90YWxQcmljZShjaGVjayksXG4gICAgICAgICAgdGF4ID0gT3JkZXJNYW5hZ2VyLmNhbGN1bGF0ZVRheChjaGVjayk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCAkc2NvcGUub3B0aW9ucy5ndWVzdF9jb3VudDsgaSsrKSB7XG4gICAgICAgIGRhdGEucHVzaCh7XG4gICAgICAgICAgbmFtZTogYENoZWNrIDAke2kgKyAxfWAsXG4gICAgICAgICAgc3VidG90YWw6IE1hdGgucm91bmQoKHN1YnRvdGFsIC8gJHNjb3BlLm9wdGlvbnMuZ3Vlc3RfY291bnQpICogMTAwKSAvIDEwMCxcbiAgICAgICAgICB0YXg6IE1hdGgucm91bmQoKHRheCAvICRzY29wZS5vcHRpb25zLmd1ZXN0X2NvdW50KSAqIDEwMCkgLyAxMDBcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgICRzY29wZS5kb25lU3BsaXR0aW5nKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICRzY29wZS5DSEVDS19TUExJVF9CWV9JVEVNUykge1xuICAgICAgZm9yIChpID0gMDsgaSA8ICRzY29wZS5vcHRpb25zLmd1ZXN0X2NvdW50OyBpKyspIHtcbiAgICAgICAgZGF0YS5wdXNoKHtcbiAgICAgICAgICBuYW1lOiBgQ2hlY2sgMCR7aSArIDF9YCxcbiAgICAgICAgICBpdGVtczogW11cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgICRzY29wZS5zcGxpdF9pdGVtcyA9IE9yZGVyTWFuYWdlclxuICAgICAgICAuY29weUl0ZW1zKE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNoZWNrKVxuICAgICAgICAucmVkdWNlKChyZXN1bHQsIGl0ZW0pID0+IHtcbiAgICAgICAgICB3aGlsZSAoaXRlbS5xdWFudGl0eSA+IDApIHtcbiAgICAgICAgICAgIGxldCBzdWJpdGVtID0gaXRlbS5jbG9uZSgpO1xuICAgICAgICAgICAgc3ViaXRlbS5xdWFudGl0eSA9IDE7XG4gICAgICAgICAgICByZXN1bHQucHVzaChzdWJpdGVtKTtcbiAgICAgICAgICAgIGl0ZW0ucXVhbnRpdHktLTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LCBbXSk7XG5cbiAgICAgICRzY29wZS5zcGxpdF9pdGVtcy5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jaGVjayA9IGRhdGFbMF0pO1xuICAgICAgZGF0YVswXS5pdGVtcyA9IGRhdGFbMF0uaXRlbXMuY29uY2F0KCRzY29wZS5zcGxpdF9pdGVtcyk7XG4gICAgfVxuXG4gICAgJHNjb3BlLiRwYXJlbnQuZGF0YSA9IGRhdGE7XG4gICAgJHNjb3BlLm9wdGlvbnMuY2hlY2tfc3BsaXQgPSB0eXBlO1xuICAgICRzY29wZS5ndWVzdEVkaXRvclR5cGUgPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgJHNjb3BlLmdldE1vZGlmaWVycyA9IGVudHJ5ID0+IHtcbiAgICBpZiAoIWVudHJ5Lm1vZGlmaWVycykge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHJldHVybiBlbnRyeS5tb2RpZmllcnMucmVkdWNlKChyZXN1bHQsIGNhdGVnb3J5KSA9PiB7XG4gICAgICBsZXQgbW9kaWZpZXJzID0gY2F0ZWdvcnkubW9kaWZpZXJzLmZpbHRlcihtb2RpZmllciA9PiBtb2RpZmllci5pc1NlbGVjdGVkKTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQobW9kaWZpZXJzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSwgW10pO1xuICB9O1xuXG4gICRzY29wZS5jYWxjdWxhdGVDaGVja3MgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUuJHBhcmVudC5kYXRhLmZvckVhY2goY2hlY2sgPT4ge1xuICAgICAgY2hlY2suaXRlbXMgPSAkc2NvcGUuc3BsaXRfaXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5jaGVjayA9PT0gY2hlY2spO1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5jYW5jZWxTcGxpdHRpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUuZ3Vlc3RFZGl0b3JUeXBlID0gJHNjb3BlLm9wdGlvbnMuY2hlY2tfc3BsaXQgPSB1bmRlZmluZWQ7XG4gICAgJHNjb3BlLiRwYXJlbnQuZGF0YSA9IG9yaWdpbmFsRGF0YTtcbiAgICBvcmlnaW5hbERhdGEgPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgJHNjb3BlLmRvbmVTcGxpdHRpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUuJHBhcmVudC5kYXRhID0gJHNjb3BlLiRwYXJlbnQuZGF0YS5maWx0ZXIoY2hlY2sgPT4gY2hlY2suc3VidG90YWwgPiAwIHx8IChjaGVjay5pdGVtcyAmJiBjaGVjay5pdGVtcy5sZW5ndGggPiAwKSk7XG4gICAgJHNjb3BlLm9wdGlvbnMuc3RlcCA9ICRzY29wZS5TVEVQX1RJUFBJTkc7XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2dhbGF4aWVzL2hvbWUuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0dhbGF4aWVzSG9tZUN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdEYXRhTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdTaGVsbE1hbmFnZXInLCAnU05BUExvY2F0aW9uJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIERhdGFNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgU2hlbGxNYW5hZ2VyLCBTTkFQTG9jYXRpb24pID0+IHtcblxuICB2YXIgSG9tZU1lbnUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIGxldCByb3dzID0gW10sXG4gICAgICAgICAgaG9tZSA9IHRoaXMucHJvcHMuaG9tZTtcblxuICAgICAgaWYgKEJvb2xlYW4oaG9tZS5pbnRybykpIHtcbiAgICAgICAgcm93cy5wdXNoKFJlYWN0LkRPTS50ZCh7XG4gICAgICAgICAgY2xhc3NOYW1lOiAndGlsZSB0aWxlLWluZm8nLFxuICAgICAgICAgIGtleTogJ2ludHJvJ1xuICAgICAgICB9LCBSZWFjdC5ET00uZGl2KHt9LCBbXG4gICAgICAgICAgICBSZWFjdC5ET00uaDEoeyBrZXk6ICdpbnRyby10aXRsZScgfSxcbiAgICAgICAgICAgICAgaG9tZS5pbnRyby50aXRsZSB8fCBgV2VsY29tZSB0byAke1NOQVBMb2NhdGlvbi5sb2NhdGlvbl9uYW1lfWBcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBSZWFjdC5ET00ucCh7IGtleTogJ2ludHJvLXRleHQnIH0sXG4gICAgICAgICAgICAgIGhvbWUuaW50cm8udGV4dFxuICAgICAgICAgICAgKVxuICAgICAgICBdKVxuICAgICAgICApKTtcbiAgICAgIH1cblxuICAgICAgbGV0IHRpbGVzID0gdGhpcy5wcm9wcy50aWxlcy5tYXAoKHRpbGUsIGkpID0+IHtcbiAgICAgICAgdmFyIGJhY2tncm91bmQgPSBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwodGlsZS5pbWFnZSwgNDcwLCA0MTApO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFJlYWN0LkRPTS50ZCh7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICd0aWxlIHRpbGUtcmVndWxhcicsXG4gICAgICAgICAgICBrZXk6IGlcbiAgICAgICAgICB9LCBSZWFjdC5ET00uYSh7XG4gICAgICAgICAgICBvbkNsaWNrOiBlID0+IHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHRpbGUuZGVzdGluYXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBiYWNrZ3JvdW5kID8gJ3VybChcIicgKyBiYWNrZ3JvdW5kICsgJ1wiKScgOiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKG51bGwsIHRpbGUudGl0bGUpXG4gICAgICAgICAgKSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuXG4gICAgICByb3dzID0gcm93cy5jb25jYXQodGlsZXMpXG4gICAgICAucmVkdWNlKChyZXN1bHQsIHZhbHVlKSA9PiB7XG4gICAgICAgIHJlc3VsdFswXS5wdXNoKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sIFtbXV0pXG4gICAgICAubWFwKChyb3csIGkpID0+IFJlYWN0LkRPTS50cih7IGtleTogaSB9LCByb3cpKTtcblxuICAgICAgcmV0dXJuIFJlYWN0LkRPTS50YWJsZSh7XG4gICAgICAgIGNsYXNzTmFtZTogJ3RpbGUtdGFibGUnXG4gICAgICB9LCByb3dzKTtcbiAgICB9XG4gIH0pO1xuXG4gIERhdGFNYW5hZ2VyLmhvbWVDaGFuZ2VkLmFkZChob21lID0+IHtcbiAgICBpZiAoIWhvbWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGlsZXMgPSBob21lLm1lbnVzXG4gICAgLm1hcChtZW51ID0+IHtcbiAgICAgIGxldCBkZXN0aW5hdGlvbiA9IHtcbiAgICAgICAgdHlwZTogJ21lbnUnLFxuICAgICAgICB0b2tlbjogbWVudS50b2tlblxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IG1lbnUudGl0bGUsXG4gICAgICAgIGltYWdlOiBtZW51LmltYWdlLFxuICAgICAgICB1cmw6ICcjJyArIE5hdmlnYXRpb25NYW5hZ2VyLmdldFBhdGgoZGVzdGluYXRpb24pLFxuICAgICAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb25cbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLWhvbWUtbWVudScpO1xuXG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIFJlYWN0LnJlbmRlcihcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChIb21lTWVudSwgeyB0aWxlczogdGlsZXMsIGhvbWU6IGhvbWUgfSksXG4gICAgICAgIGVsZW1lbnRcbiAgICAgICk7XG4gICAgfVxuICB9KTtcblxuICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbkNoYW5naW5nLmFkZChsb2NhdGlvbiA9PiB7XG4gICAgJHNjb3BlLnZpc2libGUgPSBCb29sZWFuKGxvY2F0aW9uLnR5cGUgPT09ICdob21lJyk7XG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLWhvbWUtbWVudS1jb250YWluZXInKTtcbiAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgY29udGFpbmVyLnNjcm9sbExlZnQgPSAwO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICBEYXRhTWFuYWdlci5ob21lID0gJHNjb3BlLnZpc2libGU7XG4gICAgfSk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9nYWxheGllcy9pdGVtLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdHYWxheGllc0l0ZW1DdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnRGF0YU1hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJywgJ1NoZWxsTWFuYWdlcicsICdXZWJCcm93c2VyJywgJ0NvbW1hbmRTdWJtaXRPcmRlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBEYXRhTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIE9yZGVyTWFuYWdlciwgU2hlbGxNYW5hZ2VyLCBXZWJCcm93c2VyLCBDb21tYW5kU3VibWl0T3JkZXIpID0+IHtcblxuICAkc2NvcGUuZ29CYWNrID0gKCkgPT4gTmF2aWdhdGlvbk1hbmFnZXIuZ29CYWNrKCk7XG5cbiAgZnVuY3Rpb24gb25DbG9zZSgpIHtcbiAgICBpZiAoTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24udHlwZSA9PT0gJ2l0ZW0nKSB7XG4gICAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuZ29CYWNrKCkpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBJdGVtRGVzY3JpcHRpb24gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlbnRyeSA9IHRoaXMucHJvcHMuZW50cnk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBSZWFjdC5ET00uZGl2KHtcbiAgICAgICAgICBjbGFzc05hbWU6ICdwYWdlLWl0ZW0taW5mbydcbiAgICAgICAgfSwgW1xuICAgICAgICAgIFJlYWN0LkRPTS5oMSh7IGtleTogMSB9LCBlbnRyeS5pdGVtLnRpdGxlIHx8ICcmbmJzcDsnKSxcbiAgICAgICAgICBSZWFjdC5ET00uaDIoeyBrZXk6IDIgfSwgJHNjb3BlLmZvcm1hdFByaWNlKGVudHJ5Lml0ZW0ub3JkZXIucHJpY2UpIHx8ICcmbmJzcDsnKSxcbiAgICAgICAgICBSZWFjdC5ET00ucCh7IGtleTogMyB9LCBlbnRyeS5pdGVtLmRlc2NyaXB0aW9uIHx8ICcmbmJzcDsnKVxuICAgICAgICBdKVxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIERhdGFNYW5hZ2VyLml0ZW1DaGFuZ2VkLmFkZChpdGVtID0+IHtcbiAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICRzY29wZS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAgICRzY29wZS5lbnRyeSA9ICRzY29wZS5lbnRyaWVzID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLnR5cGUgPSAxO1xuICAgICAgICAkc2NvcGUuc3RlcCA9IDA7XG4gICAgICAgICRzY29wZS5lbnRyeUluZGV4ID0gMDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0eXBlID0gaXRlbS50eXBlO1xuXG4gICAgaWYgKHR5cGUgPT09IDIgJiYgaXRlbS53ZWJzaXRlKSB7XG4gICAgICBXZWJCcm93c2VyXG4gICAgICAgIC5vcGVuKGl0ZW0ud2Vic2l0ZS51cmwpXG4gICAgICAgIC50aGVuKGJyb3dzZXIgPT4gYnJvd3Nlci5vbkV4aXQuYWRkT25jZShvbkNsb3NlKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09IDMgJiYgaXRlbS5mbGFzaCkge1xuICAgICAgbGV0IHVybCA9IFdlYkJyb3dzZXIuZ2V0Rmxhc2hVcmwoaXRlbS5mbGFzaC5tZWRpYS50b2tlbiwgaXRlbS5mbGFzaC53aWR0aCwgaXRlbS5mbGFzaC5oZWlnaHQpO1xuXG4gICAgICBXZWJCcm93c2VyXG4gICAgICAgIC5vcGVuKHVybClcbiAgICAgICAgLnRoZW4oYnJvd3NlciA9PiBicm93c2VyLm9uRXhpdC5hZGRPbmNlKG9uQ2xvc2UpKTtcbiAgICB9XG5cbiAgICB2YXIgZW50cnk7XG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS1pdGVtLWluZm8nKTtcblxuICAgIGlmICh0eXBlID09PSAxKSB7XG4gICAgICBlbnRyeSA9IG5ldyBhcHAuQ2FydEl0ZW0oaXRlbSwgMSk7XG5cbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIFJlYWN0LnJlbmRlcihcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEl0ZW1EZXNjcmlwdGlvbiwgeyBlbnRyeTogZW50cnkgfSksXG4gICAgICAgICAgZWxlbWVudFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLnZpc2libGUgPSB0eXBlID09PSAxO1xuICAgICRzY29wZS5lbnRyeSA9IGVudHJ5O1xuICAgICRzY29wZS50eXBlID0gdHlwZTtcbiAgICAkc2NvcGUuc3RlcCA9IDA7XG4gICAgJHNjb3BlLmVudHJ5SW5kZXggPSAwO1xuICB9KTtcblxuICAkc2NvcGUuZ2V0TWVkaWFVcmwgPSAobWVkaWEsIHcsIGgsIGV4dGVuc2lvbikgPT4gU2hlbGxNYW5hZ2VyLmdldE1lZGlhVXJsKG1lZGlhLCB3LCBoLCBleHRlbnNpb24pO1xuICAkc2NvcGUuZm9ybWF0UHJpY2UgPSB2YWx1ZSA9PiB2YWx1ZSA/IFNoZWxsTWFuYWdlci5mb3JtYXRQcmljZSh2YWx1ZSkgOiAwO1xuXG4gICRzY29wZS5uZXh0U3RlcCA9ICgpID0+IHtcbiAgICBpZiAoJHNjb3BlLnN0ZXAgPT09IDApIHtcbiAgICAgIGlmICgkc2NvcGUuZW50cnkuaGFzTW9kaWZpZXJzKSB7XG4gICAgICAgICRzY29wZS5lbnRyaWVzID0gJHNjb3BlLmVudHJ5LmNsb25lTWFueSgpO1xuICAgICAgICAkc2NvcGUuY3VycmVudEVudHJ5ID0gJHNjb3BlLmVudHJpZXNbJHNjb3BlLmVudHJ5SW5kZXggPSAwXTtcbiAgICAgICAgJHNjb3BlLnN0ZXAgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIE9yZGVyTWFuYWdlci5hZGRUb0NhcnQoJHNjb3BlLmVudHJ5KTtcbiAgICAgICAgJHNjb3BlLnN0ZXAgPSAyO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgkc2NvcGUuc3RlcCA9PT0gMSkge1xuICAgICAgaWYgKCRzY29wZS5lbnRyeUluZGV4ID09PSAkc2NvcGUuZW50cmllcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICRzY29wZS5lbnRyaWVzLmZvckVhY2goZW50cnkgPT4gT3JkZXJNYW5hZ2VyLmFkZFRvQ2FydChlbnRyeSkpO1xuICAgICAgICAkc2NvcGUuc3RlcCA9IDI7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRFbnRyeSA9ICRzY29wZS5lbnRyaWVzWysrJHNjb3BlLmVudHJ5SW5kZXhdO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAkc2NvcGUucHJldmlvdXNTdGVwID0gKCkgPT4ge1xuICAgIGlmICgkc2NvcGUuc3RlcCA9PT0gMSAmJiAkc2NvcGUuZW50cnlJbmRleCA+IDApIHtcbiAgICAgICRzY29wZS5jdXJyZW50RW50cnkgPSAkc2NvcGUuZW50cmllc1stLSRzY29wZS5lbnRyeUluZGV4XTtcbiAgICB9XG4gICAgZWxzZSBpZiAoJHNjb3BlLnN0ZXAgPT09IDApIHtcbiAgICAgICRzY29wZS5nb0JhY2soKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAkc2NvcGUuc3RlcC0tO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUudXBkYXRlTW9kaWZpZXJzID0gKGNhdGVnb3J5LCBtb2RpZmllcikgPT4ge1xuICAgIGlmIChjYXRlZ29yeS5kYXRhLnNlbGVjdGlvbiA9PT0gMSkge1xuICAgICAgYW5ndWxhci5mb3JFYWNoKGNhdGVnb3J5Lm1vZGlmaWVycywgbSA9PiBtLmlzU2VsZWN0ZWQgPSAobSA9PT0gbW9kaWZpZXIpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBtb2RpZmllci5pc1NlbGVjdGVkID0gIW1vZGlmaWVyLmlzU2VsZWN0ZWQ7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5zdWJtaXRPcmRlciA9ICgpID0+IHtcbiAgICBDb21tYW5kU3VibWl0T3JkZXIoKTtcbiAgICAkc2NvcGUuZ29CYWNrKCk7XG4gIH07XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2luZy5hZGQobG9jYXRpb24gPT4ge1xuICAgIERhdGFNYW5hZ2VyLml0ZW0gPSBsb2NhdGlvbi50eXBlID09PSAnaXRlbScgPyBsb2NhdGlvbi50b2tlbiA6IHVuZGVmaW5lZDtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuJGFwcGx5KCkpO1xuICB9KTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvZ2FsYXhpZXMvbWVudS5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignR2FsYXhpZXNNZW51Q3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0RhdGFNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ1NoZWxsTWFuYWdlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBEYXRhTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIFNoZWxsTWFuYWdlcikgPT4ge1xuXG4gICRzY29wZS5nb0JhY2sgPSAoKSA9PiBOYXZpZ2F0aW9uTWFuYWdlci5nb0JhY2soKTtcblxuICB2YXIgTWVudUxpc3QgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByb3dzID0gdGhpcy5wcm9wcy50aWxlcy5tYXAoKHRpbGUsIGkpID0+IHtcbiAgICAgICAgdmFyIGJhY2tncm91bmQgPSBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwodGlsZS5pbWFnZSwgNDcwLCA0MTApO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFJlYWN0LkRPTS50ZCh7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICd0aWxlIHRpbGUtcmVndWxhcicsXG4gICAgICAgICAgICBrZXk6IGlcbiAgICAgICAgICB9LCBSZWFjdC5ET00uYSh7XG4gICAgICAgICAgICBvbkNsaWNrOiBlID0+IHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHRpbGUuZGVzdGluYXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBiYWNrZ3JvdW5kID8gJ3VybChcIicgKyBiYWNrZ3JvdW5kICsgJ1wiKScgOiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKG51bGwsIHRpbGUudGl0bGUpXG4gICAgICAgICAgKSlcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAucmVkdWNlKChyZXN1bHQsIHZhbHVlLCBpKSA9PiB7XG4gICAgICAgIHJlc3VsdFtpICUgMl0ucHVzaCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LCBbW10sIFtdXSlcbiAgICAgIC5tYXAoKHJvdywgaSkgPT4gUmVhY3QuRE9NLnRyKHsga2V5OiBpIH0sIHJvdykpO1xuXG4gICAgICByZXR1cm4gUmVhY3QuRE9NLnRhYmxlKHtcbiAgICAgICAgY2xhc3NOYW1lOiAndGlsZS10YWJsZSdcbiAgICAgIH0sIHJvd3MpO1xuICAgIH1cbiAgfSk7XG5cbiAgRGF0YU1hbmFnZXIubWVudUNoYW5nZWQuYWRkKG1lbnUgPT4ge1xuICAgIGlmICghbWVudSkge1xuICAgICAgcmV0dXJuICR0aW1lb3V0KCgpID0+ICRzY29wZS5tZW51ID0gbnVsbCk7XG4gICAgfVxuXG4gICAgdmFyIHRpbGVzID0gbWVudS5jYXRlZ29yaWVzXG4gICAgICAubWFwKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgbGV0IGRlc3RpbmF0aW9uID0ge1xuICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsXG4gICAgICAgICAgdG9rZW46IGNhdGVnb3J5LnRva2VuXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aXRsZTogY2F0ZWdvcnkudGl0bGUsXG4gICAgICAgICAgaW1hZ2U6IGNhdGVnb3J5LmltYWdlLFxuICAgICAgICAgIHVybDogJyMnICsgTmF2aWdhdGlvbk1hbmFnZXIuZ2V0UGF0aChkZXN0aW5hdGlvbiksXG4gICAgICAgICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2UtbWVudS1jb250ZW50Jyk7XG5cbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgUmVhY3QucmVuZGVyKFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE1lbnVMaXN0LCB7IHRpbGVzOiB0aWxlcyB9KSxcbiAgICAgICAgZWxlbWVudFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAkc2NvcGUubWVudSA9IG1lbnU7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLiRhcHBseSgpKTtcbiAgfSk7XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2luZy5hZGQobG9jYXRpb24gPT4ge1xuICAgIERhdGFNYW5hZ2VyLm1lbnUgPSBsb2NhdGlvbi50eXBlID09PSAnbWVudScgPyBsb2NhdGlvbi50b2tlbiA6IHVuZGVmaW5lZDtcbiAgICAkc2NvcGUudmlzaWJsZSA9IEJvb2xlYW4oRGF0YU1hbmFnZXIubWVudSk7XG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLW1lbnUtY29udGVudC1jb250YWluZXInKTtcbiAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgY29udGFpbmVyLnNjcm9sbExlZnQgPSAwO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgfSk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9nYWxheGllcy9uYXZpZ2F0aW9uLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdHYWxheGllc05hdmlnYXRpb25DdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnQWN0aXZpdHlNb25pdG9yJywgJ0N1c3RvbWVyTWFuYWdlcicsICdBbmFseXRpY3NNb2RlbCcsICdDYXJ0TW9kZWwnLCAnU2hlbGxNYW5hZ2VyJywgJ0RhdGFNYW5hZ2VyJywgJ0RhdGFNb2RlbCcsICdEaWFsb2dNYW5hZ2VyJywgJ0xvY2F0aW9uTW9kZWwnLCAnTWFuYWdlbWVudFNlcnZpY2UnLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJywgJ0NvbW1hbmRDbG9zZVRhYmxlJywgJ0NvbW1hbmRTdWJtaXRPcmRlcicsICdDb21tYW5kRmxpcFNjcmVlbicsICdTTkFQRW52aXJvbm1lbnQnLCAnV2ViQnJvd3NlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBBY3Rpdml0eU1vbml0b3IsIEN1c3RvbWVyTWFuYWdlciwgQW5hbHl0aWNzTW9kZWwsIENhcnRNb2RlbCwgU2hlbGxNYW5hZ2VyLCBEYXRhTWFuYWdlciwgRGF0YU1vZGVsLCBEaWFsb2dNYW5hZ2VyLCBMb2NhdGlvbk1vZGVsLCBNYW5hZ2VtZW50U2VydmljZSwgTmF2aWdhdGlvbk1hbmFnZXIsIE9yZGVyTWFuYWdlciwgQ29tbWFuZENsb3NlVGFibGUsIENvbW1hbmRTdWJtaXRPcmRlciwgQ29tbWFuZEZsaXBTY3JlZW4sIFNOQVBFbnZpcm9ubWVudCwgV2ViQnJvd3NlcikgPT4ge1xuXG4gICRzY29wZS5tZW51cyA9IFtdO1xuICAkc2NvcGUuc2hvd1ZvbHVtZSA9ICRzY29wZS5zaG93QnJpZ2h0bmVzcyA9IFNOQVBFbnZpcm9ubWVudC5wbGF0Zm9ybSAhPT0gJ3dlYic7XG4gICRzY29wZS5zaG93Um90YXRlID0gU05BUEVudmlyb25tZW50LnBsYXRmb3JtICE9PSAnd2ViJztcbiAgJHNjb3BlLmFwcGxpY2F0aW9uVmVyc2lvbiA9IFNOQVBFbnZpcm9ubWVudC52ZXJzaW9uO1xuXG4gIERhdGFNb2RlbC5ob21lKCkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBsb2NhdGlvbiA9IE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uLFxuICAgICAgICBsaW1pdCA9IFNOQVBFbnZpcm9ubWVudC5wbGF0Zm9ybSA9PT0gJ2Rlc2t0b3AnID8gNCA6IDM7XG5cbiAgICAkc2NvcGUubWVudXMgPSByZXNwb25zZS5tZW51c1xuICAgICAgLmZpbHRlcihtZW51ID0+IFNOQVBFbnZpcm9ubWVudC5wbGF0Zm9ybSA9PT0gJ2Rlc2t0b3AnIHx8IG1lbnUudHlwZSAhPT0gMylcbiAgICAgIC5maWx0ZXIoKG1lbnUsIGkpID0+IGkgPCBsaW1pdClcbiAgICAgIC5tYXAobWVudSA9PiB7XG4gICAgICAgIGxldCBkZXN0aW5hdGlvbiA9IHtcbiAgICAgICAgICB0eXBlOiAnbWVudScsXG4gICAgICAgICAgdG9rZW46IG1lbnUudG9rZW5cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0b2tlbjogbWVudS50b2tlbixcbiAgICAgICAgICB0aXRsZTogbWVudS50aXRsZSxcbiAgICAgICAgICB1cmw6ICcjJyArIE5hdmlnYXRpb25NYW5hZ2VyLmdldFBhdGgoZGVzdGluYXRpb24pLFxuICAgICAgICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcbiAgICAgICAgICBzZWxlY3RlZDogbG9jYXRpb24udHlwZSA9PT0gJ21lbnUnICYmIG1lbnUudG9rZW4gPT09IGxvY2F0aW9uLnRva2VuXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgfSk7XG5cbiAgJHNjb3BlLmFkdmVydGlzZW1lbnRDbGljayA9IGl0ZW0gPT4ge1xuICAgIGlmIChpdGVtLmhyZWYpIHtcbiAgICAgIFdlYkJyb3dzZXIub3BlbihpdGVtLmhyZWYudXJsKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmN1cnJlbnRBZHZlcnRpc2VtZW50ID0gbnVsbDtcblxuICAkc2NvcGUuYWR2ZXJ0aXNlbWVudEltcHJlc3Npb24gPSBpdGVtID0+IHtcbiAgICAkc2NvcGUuY3VycmVudEFkdmVydGlzZW1lbnQgPSBpdGVtO1xuXG4gICAgaWYgKEFjdGl2aXR5TW9uaXRvci5hY3RpdmUgJiYgJHNjb3BlLm1lbnVPcGVuKSB7XG4gICAgICBBbmFseXRpY3NNb2RlbC5sb2dBZHZlcnRpc2VtZW50KHtcbiAgICAgICAgdG9rZW46IGl0ZW0udG9rZW4sXG4gICAgICAgIHR5cGU6ICdpbXByZXNzaW9uJ1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5hZHZlcnRpc2VtZW50cyA9IFtdO1xuXG4gIERhdGFNb2RlbC5hZHZlcnRpc2VtZW50cygpLnRoZW4oZGF0YSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgJHNjb3BlLmFkdmVydGlzZW1lbnRzID0gZGF0YS5taXNjXG4gICAgICAgIC5tYXAoYWQgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzcmM6IFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybChhZC5zcmMsIDMwMCwgMjUwKSxcbiAgICAgICAgICAgIGhyZWY6IGFkLmhyZWYsXG4gICAgICAgICAgICB0eXBlOiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFUeXBlKGFkLnNyYyksXG4gICAgICAgICAgICB0b2tlbjogYWQudG9rZW5cbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgJHNjb3BlLm5hdmlnYXRlSG9tZSA9ICgpID0+IHtcbiAgICBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICRzY29wZS5zZXR0aW5nc09wZW4gPSBmYWxzZTtcbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2hvbWUnIH07XG4gIH07XG5cbiAgJHNjb3BlLm5hdmlnYXRlQmFjayA9ICgpID0+IHtcbiAgICBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICRzY29wZS5zZXR0aW5nc09wZW4gPSBmYWxzZTtcbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5nb0JhY2soKTtcbiAgfTtcblxuICAkc2NvcGUucm90YXRlU2NyZWVuID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgJHNjb3BlLnNldHRpbmdzT3BlbiA9IGZhbHNlO1xuICAgIENvbW1hbmRGbGlwU2NyZWVuKCk7XG4gIH07XG5cbiAgJHNjb3BlLm9wZW5DYXJ0ID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgJHNjb3BlLnNldHRpbmdzT3BlbiA9IGZhbHNlO1xuICAgIENhcnRNb2RlbC5pc0NhcnRPcGVuID0gIUNhcnRNb2RlbC5pc0NhcnRPcGVuO1xuICB9O1xuXG4gICRzY29wZS5zZWF0TmFtZSA9IExvY2F0aW9uTW9kZWwuc2VhdCA/IExvY2F0aW9uTW9kZWwuc2VhdC5uYW1lIDogJ1RhYmxlJztcbiAgTG9jYXRpb25Nb2RlbC5zZWF0Q2hhbmdlZC5hZGQodmFsdWUgPT4gJHRpbWVvdXQoKCkgPT4gJHNjb3BlLnNlYXROYW1lID0gdmFsdWUgPyB2YWx1ZS5uYW1lIDogJ1RhYmxlJykpO1xuXG4gICRzY29wZS5yZXNldFRhYmxlID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgJHNjb3BlLnNldHRpbmdzT3BlbiA9IGZhbHNlO1xuICAgIERpYWxvZ01hbmFnZXIuY29uZmlybShBTEVSVF9UQUJMRV9SRVNFVCkudGhlbigoKSA9PiB7XG4gICAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuICAgICAgQ29tbWFuZENsb3NlVGFibGUoKS50aGVuKCgpID0+IERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYikpO1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5tZW51T3BlbiA9IGZhbHNlO1xuXG4gICRzY29wZS50b2dnbGVNZW51ID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgJHNjb3BlLm1lbnVPcGVuID0gISRzY29wZS5tZW51T3BlbjtcblxuICAgIGlmICgkc2NvcGUuY3VycmVudEFkdmVydGlzZW1lbnQgJiYgJHNjb3BlLm1lbnVPcGVuKSB7XG4gICAgICBBbmFseXRpY3NNb2RlbC5sb2dBZHZlcnRpc2VtZW50KHtcbiAgICAgICAgdG9rZW46ICRzY29wZS5jdXJyZW50QWR2ZXJ0aXNlbWVudC50b2tlbixcbiAgICAgICAgdHlwZTogJ2ltcHJlc3Npb24nXG4gICAgICB9KTtcbiAgICAgICRzY29wZS5jdXJyZW50QWR2ZXJ0aXNlbWVudCA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5zZXR0aW5nc09wZW4gPSBmYWxzZTtcblxuICAkc2NvcGUudG9nZ2xlU2V0dGluZ3MgPSAoKSA9PiB7XG4gICAgQWN0aXZpdHlNb25pdG9yLmFjdGl2aXR5RGV0ZWN0ZWQoKTtcbiAgICAkc2NvcGUuc2V0dGluZ3NPcGVuID0gISRzY29wZS5zZXR0aW5nc09wZW47XG4gIH07XG5cbiAgJHNjb3BlLmVsZW1lbnRzID0gU2hlbGxNYW5hZ2VyLm1vZGVsLmVsZW1lbnRzO1xuICBTaGVsbE1hbmFnZXIubW9kZWwuZWxlbWVudHNDaGFuZ2VkLmFkZCh2YWx1ZSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmVsZW1lbnRzID0gdmFsdWUpO1xuICB9KTtcblxuICAkc2NvcGUuY2FydENvdW50ID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2FydC5sZW5ndGg7XG4gIE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNhcnRDaGFuZ2VkLmFkZChjYXJ0ID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuY2FydENvdW50ID0gY2FydC5sZW5ndGgpO1xuICB9KTtcblxuICAkc2NvcGUuY2hlY2tvdXRFbmFibGVkID0gQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZDtcblxuICAkc2NvcGUudG90YWxPcmRlciA9IE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNoZWNrO1xuICBPcmRlck1hbmFnZXIubW9kZWwub3JkZXJDaGVja0NoYW5nZWQuYWRkKHZhbHVlID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUudG90YWxPcmRlciA9IHZhbHVlKTtcbiAgfSk7XG5cbiAgJHNjb3BlLnJlcXVlc3RBc3Npc3RhbmNlID0gKCkgPT4ge1xuICAgIGlmICghJHNjb3BlLnJlcXVlc3RBc3Npc3RhbmNlQXZhaWxhYmxlKXtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICRzY29wZS5zZXR0aW5nc09wZW4gPSBmYWxzZTtcblxuICAgIERpYWxvZ01hbmFnZXIuY29uZmlybShBTEVSVF9UQUJMRV9BU1NJU1RBTkNFKS50aGVuKCgpID0+IHtcbiAgICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICAgIE9yZGVyTWFuYWdlci5yZXF1ZXN0QXNzaXN0YW5jZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfQVNTSVNUQU5DRV9TRU5UKTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgcmVmcmVzaEFzc2lzdGFuY2VSZXF1ZXN0ID0gKCkgPT4ge1xuICAgICRzY29wZS5yZXF1ZXN0QXNzaXN0YW5jZUF2YWlsYWJsZSA9ICFCb29sZWFuKE9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdCk7XG4gIH07XG4gIE9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdENoYW5nZWQuYWRkKHJlZnJlc2hBc3Npc3RhbmNlUmVxdWVzdCk7XG4gIHJlZnJlc2hBc3Npc3RhbmNlUmVxdWVzdCgpO1xuXG4gICRzY29wZS5zdWJtaXRPcmRlciA9ICgpID0+IHtcbiAgICBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICRzY29wZS5zZXR0aW5nc09wZW4gPSBmYWxzZTtcblxuICAgIENvbW1hbmRTdWJtaXRPcmRlcigpO1xuICB9O1xuXG4gICRzY29wZS52aWV3T3JkZXIgPSAoKSA9PiB7XG4gICAgQWN0aXZpdHlNb25pdG9yLmFjdGl2aXR5RGV0ZWN0ZWQoKTtcbiAgICAkc2NvcGUuc2V0dGluZ3NPcGVuID0gZmFsc2U7XG5cbiAgICBpZiAoQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZCAmJiAhQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9TSUdOSU5fUkVRVUlSRUQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIENhcnRNb2RlbC5jYXJ0U3RhdGUgPSBDYXJ0TW9kZWwuU1RBVEVfQ0FSVDtcbiAgICBDYXJ0TW9kZWwuaXNDYXJ0T3BlbiA9IHRydWU7XG4gIH07XG5cbiAgJHNjb3BlLnBheUJpbGwgPSAoKSA9PiB7XG4gICAgQWN0aXZpdHlNb25pdG9yLmFjdGl2aXR5RGV0ZWN0ZWQoKTtcbiAgICAkc2NvcGUuc2V0dGluZ3NPcGVuID0gZmFsc2U7XG5cbiAgICBpZiAoQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZCAmJiAhQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9TSUdOSU5fUkVRVUlSRUQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIENhcnRNb2RlbC5jYXJ0U3RhdGUgPSBDYXJ0TW9kZWwuU1RBVEVfSElTVE9SWTtcbiAgICBDYXJ0TW9kZWwuaXNDYXJ0T3BlbiA9IHRydWU7XG4gIH07XG5cbiAgJHNjb3BlLmN1c3RvbWVyTmFtZSA9IEN1c3RvbWVyTWFuYWdlci5jdXN0b21lck5hbWUgfHwgJ0d1ZXN0JztcbiAgQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLnByb2ZpbGVDaGFuZ2VkLmFkZCgoKSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmN1c3RvbWVyTmFtZSA9IEN1c3RvbWVyTWFuYWdlci5jdXN0b21lck5hbWUgfHwgJ0d1ZXN0Jyk7XG4gIH0pO1xuXG4gICRzY29wZS5zZXR0aW5ncyA9IHtcbiAgICBkaXNwbGF5QnJpZ2h0bmVzczogMTAwLFxuICAgIHNvdW5kVm9sdW1lOiAxMDBcbiAgfTtcblxuICBpZiAoJHNjb3BlLnNob3dWb2x1bWUpIHtcbiAgICBNYW5hZ2VtZW50U2VydmljZS5nZXRTb3VuZFZvbHVtZSgpLnRoZW4oXG4gICAgICB2YWx1ZSA9PiAkdGltZW91dCgoKSA9PiB7XG4gICAgICAgICRzY29wZS5zZXR0aW5ncy5zb3VuZFZvbHVtZSA9IHZhbHVlO1xuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ3NldHRpbmdzLnNvdW5kVm9sdW1lJywgKHZhbHVlLCBvbGQpID0+IHtcbiAgICAgICAgICBpZiAoIXZhbHVlIHx8IHZhbHVlID09PSBvbGQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YWx1ZSA9IHBhcnNlSW50KHZhbHVlKTtcblxuICAgICAgICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgICAgICAgTWFuYWdlbWVudFNlcnZpY2Uuc2V0U291bmRWb2x1bWUodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pLFxuICAgICAgZSA9PiB7IH1cbiAgICApO1xuICB9XG5cbiAgaWYgKCRzY29wZS5zaG93QnJpZ2h0bmVzcykge1xuICAgIE1hbmFnZW1lbnRTZXJ2aWNlLmdldERpc3BsYXlCcmlnaHRuZXNzKCkudGhlbihcbiAgICAgIHZhbHVlID0+ICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgJHNjb3BlLnNldHRpbmdzLmRpc3BsYXlCcmlnaHRuZXNzID0gdmFsdWU7XG5cbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnc2V0dGluZ3MuZGlzcGxheUJyaWdodG5lc3MnLCAodmFsdWUsIG9sZCkgPT4ge1xuICAgICAgICAgIGlmICghdmFsdWUgfHwgdmFsdWUgPT09IG9sZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhbHVlID0gcGFyc2VJbnQodmFsdWUpO1xuXG4gICAgICAgICAgQWN0aXZpdHlNb25pdG9yLmFjdGl2aXR5RGV0ZWN0ZWQoKTtcbiAgICAgICAgICBNYW5hZ2VtZW50U2VydmljZS5zZXREaXNwbGF5QnJpZ2h0bmVzcyh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSksXG4gICAgICBlID0+IHsgfVxuICAgICk7XG4gIH1cblxuICAkc2NvcGUubmF2aWdhdGUgPSBkZXN0aW5hdGlvbiA9PiBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IGRlc3RpbmF0aW9uO1xuXG4gIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uQ2hhbmdpbmcuYWRkKGxvY2F0aW9uID0+IHtcbiAgICAkc2NvcGUudmlzaWJsZSA9IGxvY2F0aW9uLnR5cGUgIT09ICdzaWduaW4nO1xuICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS4kYXBwbHkoKSk7XG4gIH0pO1xuXG4gIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uQ2hhbmdlZC5hZGQobG9jYXRpb24gPT4ge1xuICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChsb2NhdGlvbi50eXBlICE9PSAnY2F0ZWdvcnknICYmIGxvY2F0aW9uLnR5cGUgIT09ICdpdGVtJykge1xuICAgICAgICAkc2NvcGUubWVudXMuZm9yRWFjaChtZW51ID0+IHtcbiAgICAgICAgICBtZW51LnNlbGVjdGVkID0gKGxvY2F0aW9uLnR5cGUgPT09ICdtZW51JyAmJiBtZW51LnRva2VuID09PSBsb2NhdGlvbi50b2tlbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUubWVudU9wZW4gPSBmYWxzZTtcbiAgICAgICRzY29wZS5zZXR0aW5nc09wZW4gPSBmYWxzZTtcbiAgICB9KTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL21haW5hdXguanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ01haW5BdXhDdHJsJywgWyckc2NvcGUnLCAnQ29tbWFuZFN0YXJ0dXAnLCBmdW5jdGlvbigkc2NvcGUsIENvbW1hbmRTdGFydHVwKSB7XG4gIENvbW1hbmRTdGFydHVwKCk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL21haW5zbmFwLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdNYWluU25hcEN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdDdXN0b21lck1hbmFnZXInLCAnQWN0aXZpdHlNb25pdG9yJywgJ0NoYXRNYW5hZ2VyJywgJ1NoZWxsTWFuYWdlcicsICdEYXRhTWFuYWdlcicsICdEaWFsb2dNYW5hZ2VyJywgJ09yZGVyTWFuYWdlcicsICdMb2NhdGlvbk1vZGVsJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ1NvZnR3YXJlTWFuYWdlcicsICdTTkFQTG9jYXRpb24nLCAnQ29tbWFuZFN0YXJ0dXAnLFxuICAoJHNjb3BlLCAkdGltZW91dCwgQ3VzdG9tZXJNYW5hZ2VyLCBBY3Rpdml0eU1vbml0b3IsIENoYXRNYW5hZ2VyLCBTaGVsbE1hbmFnZXIsIERhdGFNYW5hZ2VyLCBEaWFsb2dNYW5hZ2VyLCBPcmRlck1hbmFnZXIsIExvY2F0aW9uTW9kZWwsIE5hdmlnYXRpb25NYW5hZ2VyLCBTb2Z0d2FyZU1hbmFnZXIsIFNOQVBMb2NhdGlvbiwgQ29tbWFuZFN0YXJ0dXApID0+IHtcblxuICBDb21tYW5kU3RhcnR1cCgpO1xuXG4gICRzY29wZS50b3VjaCA9ICgpID0+IEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG5cbiAgT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyUmVxdWVzdENoYW5nZWQuYWRkKGl0ZW0gPT4ge1xuICAgIGlmICghaXRlbSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpdGVtLnByb21pc2UudGhlbigoKSA9PiBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfT1JERVJfUkVDRUlWRUQpKTtcbiAgfSk7XG5cbiAgT3JkZXJNYW5hZ2VyLm1vZGVsLmFzc2lzdGFuY2VSZXF1ZXN0Q2hhbmdlZC5hZGQoaXRlbSA9PiB7XG4gICAgaWYgKCFpdGVtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGl0ZW0ucHJvbWlzZS50aGVuKCgpID0+IERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9BU1NJU1RBTkNFX1JFQ0VJVkVEKSk7XG4gIH0pO1xuXG4gIE9yZGVyTWFuYWdlci5tb2RlbC5jbG9zZW91dFJlcXVlc3RDaGFuZ2VkLmFkZChpdGVtID0+IHtcbiAgICBpZiAoIWl0ZW0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaXRlbS5wcm9taXNlLnRoZW4oKCkgPT4gRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX0NMT1NFT1VUX1JFQ0VJVkVEKSk7XG4gIH0pO1xuXG4gIENoYXRNYW5hZ2VyLm1vZGVsLmNoYXRSZXF1ZXN0UmVjZWl2ZWQuYWRkKHRva2VuID0+IHtcbiAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oQ2hhdE1hbmFnZXIuZ2V0RGV2aWNlTmFtZSh0b2tlbikgKyAnIHdvdWxkIGxpa2UgdG8gY2hhdCB3aXRoIHlvdS4nKS50aGVuKCgpID0+IHtcbiAgICAgIENoYXRNYW5hZ2VyLmFwcHJvdmVEZXZpY2UodG9rZW4pO1xuICAgICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdjaGF0JyB9O1xuICAgIH0sICgpID0+IENoYXRNYW5hZ2VyLmRlY2xpbmVEZXZpY2UodG9rZW4pKTtcbiAgfSk7XG5cbiAgQ2hhdE1hbmFnZXIubW9kZWwuZ2lmdFJlcXVlc3RSZWNlaXZlZC5hZGQoKHRva2VuLCBkZXNjcmlwdGlvbikgPT4ge1xuICAgIERpYWxvZ01hbmFnZXIuY29uZmlybShDaGF0TWFuYWdlci5nZXREZXZpY2VOYW1lKHRva2VuKSArICcgd291bGQgbGlrZSB0byBnaWZ0IHlvdSBhICcgKyBkZXNjcmlwdGlvbikudGhlbigoKSA9PiB7XG4gICAgICBDaGF0TWFuYWdlci5hY2NlcHRHaWZ0KHRva2VuKTtcbiAgICB9LCAoKSA9PiBDaGF0TWFuYWdlci5kZWNsaW5lR2lmdCh0b2tlbikpO1xuICB9KTtcblxuICBDaGF0TWFuYWdlci5tb2RlbC5tZXNzYWdlUmVjZWl2ZWQuYWRkKG1lc3NhZ2UgPT4ge1xuICAgIHZhciBkZXZpY2UgPSBMb2NhdGlvbk1vZGVsLmdldERldmljZShtZXNzYWdlLmRldmljZSk7XG5cbiAgICBpZiAoIWRldmljZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChtZXNzYWdlLnN0YXR1cyA9PT0gQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX1JFUVVFU1RfREVDTElORUQpIHtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoJ0NoYXQgd2l0aCAnICsgQ2hhdE1hbmFnZXIuZ2V0RGV2aWNlTmFtZShkZXZpY2UudG9rZW4pICsgJyB3YXMgZGVjbGluZWQuICcgK1xuICAgICAgJ1RvIHN0b3AgcmVjaWV2aW5nIGNoYXQgcmVxdWVzdHMsIG9wZW4gdGhlIGNoYXQgc2NyZWVuIGFuZCB0b3VjaCB0aGUgXCJDaGF0IG9uL29mZlwiIGJ1dHRvbi4nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobWVzc2FnZS5zdGF0dXMgPT09IENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuQ0hBVF9SRVFVRVNUX0FDQ0VQVEVEKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KCdZb3VyIGNoYXQgcmVxdWVzdCB0byAnICsgQ2hhdE1hbmFnZXIuZ2V0RGV2aWNlTmFtZShkZXZpY2UudG9rZW4pICsgJyB3YXMgYWNjZXB0ZWQuJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1lc3NhZ2Uuc3RhdHVzID09PSBDaGF0TWFuYWdlci5NRVNTQUdFX1NUQVRVU0VTLkdJRlRfUkVRVUVTVF9BQ0NFUFRFRCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChDaGF0TWFuYWdlci5nZXREZXZpY2VOYW1lKGRldmljZS50b2tlbikgKyAnIGhhcyBhY2NlcHRlZCB5b3VyIGdpZnQuIFRoZSBpdGVtIHdpbGwgYmUgYWRkZWQgdG8geW91ciBjaGVjay4nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobWVzc2FnZS5zdGF0dXMgPT09IENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuR0lGVF9SRVFVRVNUX0RFQ0xJTkVEKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KENoYXRNYW5hZ2VyLmdldERldmljZU5hbWUoZGV2aWNlLnRva2VuKSArICcgaGFzIGRlY2xpbmVkIHlvdXIgZ2lmdC4gVGhlIGl0ZW0gd2lsbCBOT1QgYmUgYWRkZWQgdG8geW91ciBjaGVjay4nKTtcbiAgICB9XG5cbiAgICBpZiAoTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24udHlwZSA9PT0gJ2NoYXQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG1lc3NhZ2Uuc3RhdHVzID09PSBDaGF0TWFuYWdlci5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfQ0xPU0VEKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLm5vdGlmaWNhdGlvbihDaGF0TWFuYWdlci5nZXREZXZpY2VOYW1lKGRldmljZS50b2tlbikgKyAnIGhhcyBjbG9zZWQgdGhlIGNoYXQnKTtcbiAgICB9XG4gICAgZWxzZSBpZighbWVzc2FnZS5zdGF0dXMgJiYgbWVzc2FnZS50b19kZXZpY2UpIHtcbiAgICAgIERpYWxvZ01hbmFnZXIubm90aWZpY2F0aW9uKCdOZXcgbWVzc2FnZSBmcm9tICcgKyBDaGF0TWFuYWdlci5nZXREZXZpY2VOYW1lKGRldmljZS50b2tlbikpO1xuICAgIH1cbiAgfSk7XG5cbiAgQ2hhdE1hbmFnZXIubW9kZWwuZ2lmdFJlYWR5LmFkZCgoKSA9PiB7XG4gICAgQ2hhdE1hbmFnZXIuc2VuZEdpZnQoT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2FydCk7XG4gICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdjaGF0JyB9O1xuICB9KTtcblxuICBDaGF0TWFuYWdlci5tb2RlbC5naWZ0QWNjZXB0ZWQuYWRkKHN0YXR1cyA9PiB7XG4gICAgaWYgKCFzdGF0dXMgfHwgIUNoYXRNYW5hZ2VyLm1vZGVsLmdpZnREZXZpY2UpIHtcbiAgICAgIENoYXRNYW5hZ2VyLm1vZGVsLmdpZnRTZWF0ID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgICBPcmRlck1hbmFnZXIuc3VibWl0Q2FydCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2NoYXQnIH07XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuXG4gICAgICAgIENoYXRNYW5hZ2VyLmVuZEdpZnQoKTtcbiAgICAgICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdjaGF0JyB9O1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvbm90aWZpY2F0aW9uLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdOb3RpZmljYXRpb25DdHJsJywgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnRGlhbG9nTWFuYWdlcicsIGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQsIERpYWxvZ01hbmFnZXIpIHtcbiAgdmFyIHRpbWVyO1xuXG4gICRzY29wZS5tZXNzYWdlcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZpc2liaWxpdHkoaXNWaXNpYmxlKSB7XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUudmlzaWJsZSA9IGlzVmlzaWJsZTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhpZGVOZXh0KCkge1xuICAgIHZhciBtZXNzYWdlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCAkc2NvcGUubWVzc2FnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG1lc3NhZ2VzLnB1c2goJHNjb3BlLm1lc3NhZ2VzW2ldKTtcbiAgICB9XG5cbiAgICAkc2NvcGUubWVzc2FnZXMgPSBtZXNzYWdlcztcblxuICAgIGlmICgkc2NvcGUubWVzc2FnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB1cGRhdGVWaXNpYmlsaXR5KGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aW1lciA9ICR0aW1lb3V0KGhpZGVOZXh0LCA0MDAwKTtcbiAgfVxuXG4gICRzY29wZS52aXNpYmxlID0gZmFsc2U7XG5cbiAgRGlhbG9nTWFuYWdlci5ub3RpZmljYXRpb25SZXF1ZXN0ZWQuYWRkKGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5tZXNzYWdlcy5wdXNoKHsgdGV4dDogbWVzc2FnZSB9KTtcbiAgICB9KTtcblxuICAgIHVwZGF0ZVZpc2liaWxpdHkodHJ1ZSk7XG5cbiAgICBpZiAodGltZXIpIHtcbiAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lcik7XG4gICAgfVxuXG4gICAgdGltZXIgPSAkdGltZW91dChoaWRlTmV4dCwgNDAwMCk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9yZXNldC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignUmVzZXRDdHJsJyxcbiAgWyckc2NvcGUnLCAnQ29tbWFuZFJlc2V0JywgJ0RpYWxvZ01hbmFnZXInLCAnTWFuYWdlbWVudFNlcnZpY2UnLCAnU05BUEVudmlyb25tZW50JyxcbiAgKCRzY29wZSwgQ29tbWFuZFJlc2V0LCBEaWFsb2dNYW5hZ2VyLCBNYW5hZ2VtZW50U2VydmljZSwgU05BUEVudmlyb25tZW50KSA9PiB7XG5cbiAgJHNjb3BlLnZlcnNpb24gPSBTTkFQRW52aXJvbm1lbnQudmVyc2lvbjtcblxuICBDb21tYW5kUmVzZXQoKS50aGVuKCgpID0+IHtcbiAgICBNYW5hZ2VtZW50U2VydmljZS5sb2FkU3RhcnR1cCgpO1xuICB9LCAoKSA9PiB7XG4gICAgTWFuYWdlbWVudFNlcnZpY2UubG9hZFN0YXJ0dXAoKTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL3NjcmVlbnNhdmVyLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdTY3JlZW5zYXZlckN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdTaGVsbE1hbmFnZXInLCAnQWN0aXZpdHlNb25pdG9yJywgJ0RhdGFNb2RlbCcsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBTaGVsbE1hbmFnZXIsIEFjdGl2aXR5TW9uaXRvciwgRGF0YU1vZGVsKSA9PiB7XG4gICAgXG4gICRzY29wZS52aXNpYmxlID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gc2hvd0ltYWdlcyh2YWx1ZXMpIHtcbiAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5pbWFnZXMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNyYzogU2hlbGxNYW5hZ2VyLmdldE1lZGlhVXJsKGl0ZW0ubWVkaWEsIDE5MjAsIDEwODAsICdqcGcnKSxcbiAgICAgICAgICB0eXBlOiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFUeXBlKGl0ZW0ubWVkaWEpXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNob3dJbWFnZXMoU2hlbGxNYW5hZ2VyLm1vZGVsLnNjcmVlbnNhdmVycyk7XG4gIFNoZWxsTWFuYWdlci5tb2RlbC5zY3JlZW5zYXZlcnNDaGFuZ2VkLmFkZChzaG93SW1hZ2VzKTtcblxuICBBY3Rpdml0eU1vbml0b3IuYWN0aXZlQ2hhbmdlZC5hZGQodmFsdWUgPT4ge1xuICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICRzY29wZS52aXNpYmxlID0gdmFsdWUgPT09IGZhbHNlICYmICgkc2NvcGUuaW1hZ2VzICYmICRzY29wZS5pbWFnZXMubGVuZ3RoID4gMCk7XG4gICAgfSk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9zaWduaW4uanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ1NpZ25JbkN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdDb21tYW5kQ3VzdG9tZXJMb2dpbicsICdDb21tYW5kQ3VzdG9tZXJHdWVzdExvZ2luJywgJ0NvbW1hbmRDdXN0b21lclNvY2lhbExvZ2luJywgJ0NvbW1hbmRDdXN0b21lclNpZ251cCcsICdDdXN0b21lck1hbmFnZXInLCAnRGlhbG9nTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdTZXNzaW9uTWFuYWdlcicsICdTTkFQTG9jYXRpb24nLCAnV2ViQnJvd3NlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBDb21tYW5kQ3VzdG9tZXJMb2dpbiwgQ29tbWFuZEN1c3RvbWVyR3Vlc3RMb2dpbiwgQ29tbWFuZEN1c3RvbWVyU29jaWFsTG9naW4sIENvbW1hbmRDdXN0b21lclNpZ251cCwgQ3VzdG9tZXJNYW5hZ2VyLCBEaWFsb2dNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgU2Vzc2lvbk1hbmFnZXIsIFNOQVBMb2NhdGlvbiwgV2ViQnJvd3NlcikgPT4ge1xuXG4gIHZhciBTVEVQX1NQTEFTSCA9IDEsXG4gICAgICBTVEVQX0xPR0lOID0gMixcbiAgICAgIFNURVBfUkVHSVNUUkFUSU9OID0gMyxcbiAgICAgIFNURVBfR1VFU1RTID0gNCxcbiAgICAgIFNURVBfRVZFTlQgPSA1LFxuICAgICAgU1RFUF9SRVNFVCA9IDYsXG4gICAgICBTVEVQX1NPQ0lBTCA9IDc7XG5cbiAgJHNjb3BlLlNURVBfU1BMQVNIID0gU1RFUF9TUExBU0g7XG4gICRzY29wZS5TVEVQX0xPR0lOID0gU1RFUF9MT0dJTjtcbiAgJHNjb3BlLlNURVBfUkVHSVNUUkFUSU9OID0gU1RFUF9SRUdJU1RSQVRJT047XG4gICRzY29wZS5TVEVQX0dVRVNUUyA9IFNURVBfR1VFU1RTO1xuICAkc2NvcGUuU1RFUF9FVkVOVCA9IFNURVBfRVZFTlQ7XG4gICRzY29wZS5TVEVQX1JFU0VUID0gU1RFUF9SRVNFVDtcbiAgJHNjb3BlLlNURVBfU09DSUFMID0gU1RFUF9TT0NJQUw7XG5cbiAgJHNjb3BlLmxvY2F0aW9uTmFtZSA9IFNOQVBMb2NhdGlvbi5sb2NhdGlvbl9uYW1lO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBQdWJsaWMgbWV0aG9kc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgTG9naW5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5sb2dpbiA9ICgpID0+IHtcbiAgICAkc2NvcGUuY3JlZGVudGlhbHMgPSB7fTtcbiAgICAkc2NvcGUuc3RlcCA9IFNURVBfTE9HSU47XG4gIH07XG5cbiAgJHNjb3BlLmd1ZXN0TG9naW4gPSAoKSA9PiB7XG4gICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcblxuICAgIENvbW1hbmRDdXN0b21lckd1ZXN0TG9naW4oKS50aGVuKCgpID0+IHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuc3RlcCA9IFNURVBfR1VFU1RTKTtcbiAgICB9LCAoKSA9PiB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLmRvTG9naW4gPSAoY3JlZGVudGlhbHMpID0+IHtcbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgJHNjb3BlLmNyZWRlbnRpYWxzLnVzZXJuYW1lID0gJHNjb3BlLmNyZWRlbnRpYWxzLmVtYWlsO1xuXG4gICAgQ29tbWFuZEN1c3RvbWVyTG9naW4oJHNjb3BlLmNyZWRlbnRpYWxzKS50aGVuKCgpID0+IHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuc3RlcCA9IFNURVBfR1VFU1RTKTtcbiAgICB9LCAoKSA9PiB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9HRU5FUklDX0VSUk9SKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIFNvY2lhbCBsb2dpblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLmxvZ2luRmFjZWJvb2sgPSAoKSA9PiB7XG4gICAgc29jaWFsQnVzeSgpO1xuICAgIENvbW1hbmRDdXN0b21lclNvY2lhbExvZ2luLmZhY2Vib29rKCkudGhlbihzb2NpYWxMb2dpbiwgc29jaWFsRXJyb3IpO1xuICB9O1xuXG4gICRzY29wZS5sb2dpblR3aXR0ZXIgPSAoKSA9PiB7XG4gICAgc29jaWFsQnVzeSgpO1xuICAgIENvbW1hbmRDdXN0b21lclNvY2lhbExvZ2luLnR3aXR0ZXIoKS50aGVuKHNvY2lhbExvZ2luLCBzb2NpYWxFcnJvcik7XG4gIH07XG5cbiAgJHNjb3BlLmxvZ2luR29vZ2xlID0gKCkgPT4ge1xuICAgIHNvY2lhbEJ1c3koKTtcbiAgICBDb21tYW5kQ3VzdG9tZXJTb2NpYWxMb2dpbi5nb29nbGVwbHVzKCkudGhlbihzb2NpYWxMb2dpbiwgc29jaWFsRXJyb3IpO1xuICB9O1xuXG4gICRzY29wZS5sb2dpblNvY2lhbENhbmNlbCA9ICgpID0+IHtcbiAgICBzb2NpYWxCdXN5RW5kKCk7XG4gIH07XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBSZWdpc3RyYXRpb25cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5yZWdpc3RlciA9ICgpID0+IHtcbiAgICAkc2NvcGUucmVnaXN0cmF0aW9uID0ge307XG4gICAgJHNjb3BlLnN0ZXAgPSBTVEVQX1JFR0lTVFJBVElPTjtcbiAgfTtcblxuICAkc2NvcGUuZG9SZWdpc3RyYXRpb24gPSAoKSA9PiB7XG4gICAgJHNjb3BlLnJlZ2lzdHJhdGlvbi51c2VybmFtZSA9ICRzY29wZS5yZWdpc3RyYXRpb24uZW1haWw7XG5cbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgQ29tbWFuZEN1c3RvbWVyU2lnbnVwKCRzY29wZS5yZWdpc3RyYXRpb24pLnRoZW4oKCkgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS5zdGVwID0gU1RFUF9HVUVTVFMpO1xuICAgIH0sICgpID0+IHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIEd1ZXN0IGNvdW50XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUuc2Vzc2lvbiA9IHtcbiAgICBndWVzdENvdW50OiAxLFxuICAgIHNwZWNpYWw6IGZhbHNlXG4gIH07XG5cbiAgJHNjb3BlLnN1Ym1pdEd1ZXN0Q291bnQgPSAoKSA9PiB7XG4gICAgaWYgKCRzY29wZS5zZXNzaW9uLmd1ZXN0Q291bnQgPiAxKSB7XG4gICAgICBTZXNzaW9uTWFuYWdlci5ndWVzdENvdW50ID0gJHNjb3BlLnNlc3Npb24uZ3Vlc3RDb3VudDtcbiAgICAgICRzY29wZS5zdGVwID0gU1RFUF9FVkVOVDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBlbmRTaWduSW4oKTtcbiAgICB9XG4gIH07XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBFdmVudFxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLnN1Ym1pdFNwZWNpYWxFdmVudCA9ICh2YWx1ZSkgPT4ge1xuICAgICRzY29wZS5zZXNzaW9uLnNwZWNpYWwgPSBTZXNzaW9uTWFuYWdlci5zcGVjaWFsRXZlbnQgPSBCb29sZWFuKHZhbHVlKTtcbiAgICBlbmRTaWduSW4oKTtcbiAgfTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIFJlc2V0IHBhc3N3b3JkXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUucmVzZXRQYXNzd29yZCA9ICgpID0+IHtcbiAgICAkc2NvcGUucGFzc3dvcmRyZXNldCA9IHt9O1xuICAgICRzY29wZS5zdGVwID0gU1RFUF9SRVNFVDtcbiAgfTtcblxuICAkc2NvcGUucGFzc3dvcmRSZXNldFN1Ym1pdCA9ICgpID0+IHtcbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgQ3VzdG9tZXJNYW5hZ2VyLnJlc2V0UGFzc3dvcmQoJHNjb3BlLnBhc3N3b3JkcmVzZXQpLnRoZW4oKCkgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICRzY29wZS5wYXNzd29yZFJlc2V0ID0gZmFsc2U7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1BBU1NXT1JEX1JFU0VUX0NPTVBMRVRFKTtcbiAgICB9LCAoKSA9PiB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLnBhc3N3b3JkUmVzZXRDYW5jZWwgPSAoKSA9PiB7XG4gICAgJHNjb3BlLnN0ZXAgPSBTVEVQX1NQTEFTSDtcbiAgfTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHJpdmF0ZSBtZXRob2RzXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgZnVuY3Rpb24gc29jaWFsTG9naW4oKSB7XG4gICAgc29jaWFsQnVzeUVuZCgpO1xuICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS5zdGVwID0gU1RFUF9HVUVTVFMpO1xuICB9XG5cbiAgZnVuY3Rpb24gc29jaWFsRXJyb3IoZSkge1xuICAgIHNvY2lhbEJ1c3lFbmQoKTtcblxuICAgIGlmIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9HRU5FUklDX0VSUk9SKTtcbiAgICB9XG4gIH1cblxuICB2YXIgc29jaWFsU3RlcDtcblxuICBmdW5jdGlvbiBzb2NpYWxCdXN5KCkge1xuICAgIHNvY2lhbFN0ZXAgPSAkc2NvcGUuc3RlcDtcbiAgICAkc2NvcGUuc3RlcCA9IFNURVBfU09DSUFMO1xuICB9XG5cbiAgZnVuY3Rpb24gc29jaWFsQnVzeUVuZCgpIHtcbiAgICBpZiAoc29jaWFsU3RlcCkge1xuICAgICAgJHNjb3BlLnN0ZXAgPSBzb2NpYWxTdGVwO1xuICAgICAgc29jaWFsU3RlcCA9IHVuZGVmaW5lZDtcblxuICAgICAgV2ViQnJvd3Nlci5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZFNpZ25JbigpIHtcbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2hvbWUnIH07XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgU3RhdGVcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUuJHdhdGNoQXNQcm9wZXJ0eSgnc3RlcCcpXG4gICAgLnNraXBEdXBsaWNhdGVzKClcbiAgICAuc3Vic2NyaWJlKHZhbHVlID0+IHtcbiAgICAgIGlmICghdmFsdWUudmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RlcCA9IHZhbHVlLnZhbHVlKCk7XG5cbiAgICAgIGlmIChzdGVwID09PSAkc2NvcGUuU1RFUF9HVUVTVFMpIHtcbiAgICAgICAgJHNjb3BlLnN1Ym1pdEd1ZXN0Q291bnQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgU3RhcnR1cFxuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIGlmICghQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZCB8fCBDdXN0b21lck1hbmFnZXIubW9kZWwuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgcmV0dXJuIGVuZFNpZ25JbigpO1xuICB9XG5cbiAgJHNjb3BlLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgJHNjb3BlLnN0ZXAgPSBTVEVQX1NQTEFTSDtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvc3RhcnR1cC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignU3RhcnR1cEN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdDb21tYW5kQm9vdCcsICdDb21tYW5kVXBkYXRlQ2FjaGUnLCAnRGlhbG9nTWFuYWdlcicsICdMb2NhdGlvbk1vZGVsJywgJ01hbmFnZW1lbnRTZXJ2aWNlJywgJ1NOQVBFbnZpcm9ubWVudCcsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBDb21tYW5kQm9vdCwgQ29tbWFuZFVwZGF0ZUNhY2hlLCBEaWFsb2dNYW5hZ2VyLCBMb2NhdGlvbk1vZGVsLCBNYW5hZ2VtZW50U2VydmljZSwgU05BUEVudmlyb25tZW50KSA9PiB7XG5cbiAgJHNjb3BlLnZlcnNpb24gPSBTTkFQRW52aXJvbm1lbnQudmVyc2lvbjtcbiAgJHNjb3BlLnN0ZXAgPSAwO1xuXG4gIGZ1bmN0aW9uIHN0ZXAxKCkge1xuICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS5zdGVwID0gMSk7XG5cbiAgICBDb21tYW5kQm9vdCgpLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgIHN0ZXAyKCk7XG4gICAgfSwgZSA9PiB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX0VSUk9SX1NUQVJUVVApLnRoZW4oKCkgPT4gc3RlcDEoKSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzdGVwMigpIHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuc3RlcCA9IDIpO1xuXG4gICAgQ29tbWFuZFVwZGF0ZUNhY2hlKCkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgaWYgKHJlc3VsdCA9PT0gJ29ic29sZXRlJykge1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1dBUk5JTkdfQ0FDSEVfT0JTT0xFVEUpLnRoZW4oKCkgPT4gZmluaXNoZWQoKSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZmluaXNoZWQoKTtcbiAgICAgIH1cbiAgICB9LCBlID0+IHtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfRVJST1JfQ0FDSEVfVVBEQVRFKS50aGVuKCgpID0+IHN0ZXAyKCkpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoZWQoKSB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLnN0ZXAgPSAwKTtcblxuICAgIE1hbmFnZW1lbnRTZXJ2aWNlLmxvYWRBcHBsaWNhdGlvbihMb2NhdGlvbk1vZGVsLmxvY2F0aW9uKTtcbiAgfVxuXG4gICR0aW1lb3V0KCgpID0+IHN0ZXAxKCksIDEwMDApO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9zdXJ2ZXkuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ1N1cnZleUN0cmwnLCBbJyRzY29wZScsICckdGltZW91dCcsICdBbmFseXRpY3NNb2RlbCcsICdDdXN0b21lck1hbmFnZXInLCAnQ3VzdG9tZXJNb2RlbCcsICdEaWFsb2dNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ09yZGVyTWFuYWdlcicsICdTdXJ2ZXlNYW5hZ2VyJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwgQW5hbHl0aWNzTW9kZWwsIEN1c3RvbWVyTWFuYWdlciwgQ3VzdG9tZXJNb2RlbCwgRGlhbG9nTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIE9yZGVyTWFuYWdlciwgU3VydmV5TWFuYWdlcikge1xuXG4gIGlmICghU3VydmV5TWFuYWdlci5tb2RlbC5pc0VuYWJsZWQgfHwgIVN1cnZleU1hbmFnZXIubW9kZWwuZmVlZGJhY2tTdXJ2ZXkgfHwgU3VydmV5TWFuYWdlci5tb2RlbC5mZWVkYmFja1N1cnZleUNvbXBsZXRlKSB7XG4gICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdob21lJyB9O1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBQcm9wZXJ0aWVzXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLmNvbW1lbnQgPSAnJztcbiAgJHNjb3BlLmVtYWlsID0gJyc7XG4gICRzY29wZS5oYWRfcHJvYmxlbXMgPSBmYWxzZTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIFBhZ2VzXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUucGFnZXMgPSBbXTtcbiAgdmFyIHBhZ2VzID0gJHNjb3BlLiR3YXRjaEFzUHJvcGVydHkoJ3BhZ2VzJyk7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBJbmRleFxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLnBhZ2VJbmRleCA9IC0xO1xuICB2YXIgcGFnZUluZGV4ID0gJHNjb3BlLiR3YXRjaEFzUHJvcGVydHkoJ3BhZ2VJbmRleCcpO1xuICBwYWdlSW5kZXguY2hhbmdlcygpXG4gICAgLnN1YnNjcmliZShmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5wYWdlID0gJHNjb3BlLnBhZ2VJbmRleCA+IC0xID8gJHNjb3BlLnBhZ2VzWyRzY29wZS5wYWdlSW5kZXhdIDogeyBxdWVzdGlvbnM6IFtdIH07XG5cbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUucGFnZS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICBpZiAoaXRlbS50eXBlICE9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJCgnI3JhdGUtJyArIGl0ZW0udG9rZW4pLnJhdGVpdCh7XG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBtYXg6IDUsXG4gICAgICAgICAgICBzdGVwOiAxLFxuICAgICAgICAgICAgcmVzZXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGJhY2tpbmdmbGQ6ICcjcmFuZ2UtJyArIGl0ZW0udG9rZW5cbiAgICAgICAgICB9KS5iaW5kKCdyYXRlZCcsIGZ1bmN0aW9uKGV2ZW50LCB2YWx1ZSkge1xuICAgICAgICAgICAgaXRlbS5mZWVkYmFjayA9IHZhbHVlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgQ291bnRcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5wYWdlQ291bnQgPSAwO1xuICBwYWdlcy5jaGFuZ2VzKClcbiAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLnBhZ2VDb3VudCA9ICRzY29wZS5wYWdlcy5sZW5ndGg7XG4gICAgfSk7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFByaXZhdGUgbWV0aG9kc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIHZhciBnZW5lcmF0ZVBhc3N3b3JkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlbmd0aCA9IDgsXG4gICAgICAgIGNoYXJzZXQgPSAnYWJjZGVmZ2hrbnBxcnN0dXZ3eHl6QUJDREVGR0hLTU5QUVJTVFVWV1hZWjIzNDU2Nzg5JyxcbiAgICAgICAgcmVzdWx0ID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDAsIG4gPSBjaGFyc2V0Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHQgKz0gY2hhcnNldC5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbikpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHZhciBzdWJtaXRGZWVkYmFjayA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5wYWdlcy5yZWR1Y2UoKGFuc3dlcnMsIHBhZ2UpID0+IHtcbiAgICAgIHJldHVybiBwYWdlLnJlZHVjZSgoYW5zd2VycywgcXVlc3Rpb24pID0+IHtcbiAgICAgICAgbGV0IHZhbHVlID0gcGFyc2VJbnQocXVlc3Rpb24uZmVlZGJhY2spO1xuXG4gICAgICAgIGlmICh2YWx1ZSA+IDApIHtcbiAgICAgICAgICBhbnN3ZXJzLnB1c2goe1xuICAgICAgICAgICAgc3VydmV5OiBTdXJ2ZXlNYW5hZ2VyLm1vZGVsLmZlZWRiYWNrU3VydmV5LnRva2VuLFxuICAgICAgICAgICAgcXVlc3Rpb246IHF1ZXN0aW9uLnRva2VuLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYW5zd2VycztcbiAgICAgIH0sIGFuc3dlcnMpO1xuICAgIH0sIFtdKVxuICAgIC5mb3JFYWNoKGFuc3dlciA9PiBBbmFseXRpY3NNb2RlbC5sb2dBbnN3ZXIoYW5zd2VyKSk7XG5cbiAgICBpZiAoJHNjb3BlLmNvbW1lbnQgJiYgJHNjb3BlLmNvbW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgQW5hbHl0aWNzTW9kZWwubG9nQ29tbWVudCh7XG4gICAgICAgIHR5cGU6ICdmZWVkYmFjaycsXG4gICAgICAgIHRleHQ6ICRzY29wZS5jb21tZW50XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBTdXJ2ZXlNYW5hZ2VyLm1vZGVsLmZlZWRiYWNrU3VydmV5Q29tcGxldGUgPSB0cnVlO1xuXG4gICAgaWYgKCRzY29wZS5oYWRfcHJvYmxlbXMgJiYgIU9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdCkge1xuICAgICAgT3JkZXJNYW5hZ2VyLnJlcXVlc3RBc3Npc3RhbmNlKCk7XG4gICAgfVxuXG4gICAgaWYgKEN1c3RvbWVyTW9kZWwuaXNHdWVzdCAmJiAkc2NvcGUuZW1haWwgJiYgJHNjb3BlLmVtYWlsLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG4gICAgICB2YXIgcGFzc3dvcmQgPSBnZW5lcmF0ZVBhc3N3b3JkKCk7XG5cbiAgICAgIEN1c3RvbWVyTWFuYWdlci5sb2dpbih7XG4gICAgICAgIGVtYWlsOiAkc2NvcGUuZW1haWwsXG4gICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgfSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgQ3VzdG9tZXJNYW5hZ2VyLmxvZ2luKHtcbiAgICAgICAgICBsb2dpbjogJHNjb3BlLmVtYWlsLFxuICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICAgICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdob21lJyB9O1xuICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnaG9tZScgfTtcbiAgICAgICAgfSk7XG4gICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdob21lJyB9O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdob21lJyB9O1xuICAgIH1cbiAgfTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHVibGljIG1ldGhvZHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUucHJldmlvdXNQYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCRzY29wZS5wYWdlSW5kZXggPiAwKSB7XG4gICAgICAkc2NvcGUucGFnZUluZGV4LS07XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5uZXh0UGFnZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICgkc2NvcGUucGFnZUluZGV4IDwgJHNjb3BlLnBhZ2VDb3VudCAtIDEpIHtcbiAgICAgICRzY29wZS5wYWdlSW5kZXgrKztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAkc2NvcGUubmV4dFN0ZXAoKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLm5leHRTdGVwID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKEN1c3RvbWVyTW9kZWwuaXNHdWVzdCAmJiAkc2NvcGUuc3RlcCA8IDMpIHtcbiAgICAgICRzY29wZS5zdGVwKys7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFDdXN0b21lck1vZGVsLmlzR3Vlc3QgJiYgJHNjb3BlLnN0ZXAgPCAyKSB7XG4gICAgICAkc2NvcGUuc3RlcCsrO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHN1Ym1pdEZlZWRiYWNrKCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5zdWJtaXRQcm9ibGVtID0gZnVuY3Rpb24oc3RhdHVzKSB7XG4gICAgJHNjb3BlLmhhZF9wcm9ibGVtcyA9IEJvb2xlYW4oc3RhdHVzKTtcbiAgICAkc2NvcGUubmV4dFN0ZXAoKTtcbiAgfTtcblxuICAkc2NvcGUuZXhpdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICgkc2NvcGUuc3RlcCA+IDApIHtcbiAgICAgIHN1Ym1pdEZlZWRiYWNrKCk7XG4gICAgfVxuXG4gICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdob21lJyB9O1xuICB9O1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBTdGFydHVwXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgKGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYWdlO1xuXG4gICAgJHNjb3BlLmhhc19lbWFpbCA9IEN1c3RvbWVyTW9kZWwuaGFzQ3JlZGVudGlhbHM7XG5cbiAgICBmdW5jdGlvbiBidWlsZFN1cnZleSgpIHtcbiAgICAgIFN1cnZleU1hbmFnZXIubW9kZWwuZmVlZGJhY2tTdXJ2ZXkucXVlc3Rpb25zLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpZiAoaXRlbS50eXBlICE9PSAxKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFwYWdlIHx8IHBhZ2UubGVuZ3RoID4gNCkge1xuICAgICAgICAgIHBhZ2UgPSBbXTtcbiAgICAgICAgICAkc2NvcGUucGFnZXMucHVzaChwYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0ZW0uZmVlZGJhY2sgPSAwO1xuICAgICAgICBwYWdlLnB1c2goaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoU3VydmV5TWFuYWdlci5tb2RlbC5pc0VuYWJsZWQgJiYgU3VydmV5TWFuYWdlci5tb2RlbC5mZWVkYmFja1N1cnZleSkge1xuICAgICAgYnVpbGRTdXJ2ZXkoKTtcbiAgICB9XG5cbiAgICBTdXJ2ZXlNYW5hZ2VyLm1vZGVsLmZlZWRiYWNrU3VydmV5Q2hhbmdlZC5hZGQoKCkgPT4gYnVpbGRTdXJ2ZXkoKSk7XG5cbiAgICAkc2NvcGUucGFnZUluZGV4ID0gMDtcbiAgICAkc2NvcGUuc3RlcCA9IDA7XG4gIH0pKCk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL3dlYi5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignV2ViQ3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0FjdGl2aXR5TW9uaXRvcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdXZWJCcm93c2VyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIEFjdGl2aXR5TW9uaXRvciwgTmF2aWdhdGlvbk1hbmFnZXIsIFdlYkJyb3dzZXIpID0+IHtcblxuICAkc2NvcGUuY2xvc2UgPSAoKSA9PiBXZWJCcm93c2VyLmNsb3NlKCk7XG4gICRzY29wZS51cmwgPSAnJztcblxuICBXZWJCcm93c2VyLm9uT3BlbmVkLmFkZChyZWZlcmVuY2UgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5lbmFibGVkID0gZmFsc2U7XG5cbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAkc2NvcGUuYnJvd3NlclVybCA9IFdlYkJyb3dzZXIuaXNQcml2YXRlVXJsKHJlZmVyZW5jZS51cmwpID8gJycgOiByZWZlcmVuY2UudXJsO1xuICAgICAgJHNjb3BlLnR5cGUgPSByZWZlcmVuY2UudHlwZTtcbiAgICAgICRzY29wZS52aXNpYmxlID0gdHJ1ZTtcblxuICAgICAgc3dpdGNoIChyZWZlcmVuY2UudHlwZSkge1xuICAgICAgICBjYXNlICdpZnJhbWUnOlxuICAgICAgICAgIHJlZmVyZW5jZS5hdHRhY2goZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2Utd2ViLWlmcmFtZScpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnd2Vidmlldyc6XG4gICAgICAgICAgcmVmZXJlbmNlLmF0dGFjaChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS13ZWItd2VidmlldycpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlZmVyZW5jZS5vbk5hdmlnYXRlZC5hZGQodXJsID0+ICR0aW1lb3V0KCgpID0+ICRzY29wZS5icm93c2VyVXJsID0gV2ViQnJvd3Nlci5pc1ByaXZhdGVVcmwodXJsKSA/ICcnIDogdXJsKSk7XG4gIH0pO1xuXG4gIFdlYkJyb3dzZXIub25DbG9zZWQuYWRkKCgpID0+IHtcbiAgICBBY3Rpdml0eU1vbml0b3IuZW5hYmxlZCA9IHRydWU7XG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgJHNjb3BlLnVybCA9ICcnO1xuICAgICAgJHNjb3BlLnZpc2libGUgPSBmYWxzZTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2luZy5hZGQobG9jYXRpb24gPT4ge1xuICAgIFdlYkJyb3dzZXIuY2xvc2UoKTtcbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAkc2NvcGUud2lkZSA9IGxvY2F0aW9uLnR5cGUgIT09ICdob21lJyAmJiBsb2NhdGlvbi50eXBlICE9PSAnc2lnbmluJztcbiAgICAgICRzY29wZS5mdWxsc2NyZWVuID0gbG9jYXRpb24udHlwZSA9PT0gJ3NpZ25pbic7XG4gICAgfSk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9kaXJlY3RpdmVzL19iYXNlLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmRpcmVjdGl2ZXMnLCBbJ2FuZ3VsYXItYmFjb24nXSk7XG5cbi8vc3JjL2pzL2RpcmVjdGl2ZXMvZW1haWwuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuZGlyZWN0aXZlcycpXG4uZGlyZWN0aXZlKCdlbWFpbCcsXG4gIFsnJHRpbWVvdXQnLCAnU2hlbGxNYW5hZ2VyJyxcbiAgKCR0aW1lb3V0LCBTaGVsbE1hbmFnZXIpID0+IHtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHNjb3BlOiB7XG4gICAgICBkaXNhYmxlZDogJz0/JyxcbiAgICAgIG5vc3VibWl0OiAnQCcsXG4gICAgICBuZ01vZGVsOiAnPScsXG4gICAgICBwbGFjZWhvbGRlcjogJ0AnXG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogU2hlbGxNYW5hZ2VyLmdldFBhcnRpYWxVcmwoJ2lucHV0LWVtYWlsJylcbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvZGlyZWN0aXZlcy9nYWxsZXJ5LmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmRpcmVjdGl2ZXMnKVxuLmRpcmVjdGl2ZSgnZ2FsbGVyeScsIFtcbiAgJ0FjdGl2aXR5TW9uaXRvcicsICdTaGVsbE1hbmFnZXInLCAnJHRpbWVvdXQnLFxuICAoQWN0aXZpdHlNb25pdG9yLCBTaGVsbE1hbmFnZXIsICR0aW1lb3V0KSA9PiB7XG5cbiAgdmFyIHNsaWRlcixcbiAgICAgIHNldHRpbmdzID0ge1xuICAgICAgICBtb2RlOiAnZmFkZScsXG4gICAgICAgIHdyYXBwZXJDbGFzczogJ3Bob3RvLWdhbGxlcnknXG4gICAgICB9O1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXBsYWNlOiBmYWxzZSxcbiAgICBzY29wZToge1xuICAgICAgaW1hZ2VzOiAnPScsXG4gICAgICBpbWFnZXdpZHRoIDogJz0/JyxcbiAgICAgIGltYWdlaGVpZ2h0OiAnPT8nXG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogU2hlbGxNYW5hZ2VyLmdldFBhcnRpYWxVcmwoJ2dhbGxlcnknKSxcbiAgICBsaW5rOiAoc2NvcGUsIGVsZW0sIGF0dHJzKSA9PiB7XG4gICAgICBlbGVtLnJlYWR5KCgpID0+IHtcbiAgICAgICAgc2xpZGVyID0gJCgnLmJ4c2xpZGVyJywgZWxlbSkuYnhTbGlkZXIoc2V0dGluZ3MpO1xuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLiR3YXRjaCgnaW1hZ2VzJywgKCkgPT4ge1xuICAgICAgICBzY29wZS5tZWRpYXMgPSAoc2NvcGUuaW1hZ2VzIHx8IFtdKS5tYXAoaW1hZ2UgPT4gU2hlbGxNYW5hZ2VyLmdldE1lZGlhVXJsKGltYWdlLCBhdHRycy5pbWFnZXdpZHRoLCBhdHRycy5pbWFnZWhlaWdodCkpO1xuICAgICAgICBzZXR0aW5ncy5wYWdlciA9IHNjb3BlLm1lZGlhcy5sZW5ndGggPiAxO1xuICAgICAgICAkdGltZW91dCgoKSA9PiBzbGlkZXIucmVsb2FkU2xpZGVyKHNldHRpbmdzKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2RpcmVjdGl2ZXMvb25pZnJhbWVsb2FkLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmRpcmVjdGl2ZXMnKVxuLmRpcmVjdGl2ZSgnb25JZnJhbWVMb2FkJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBzY29wZToge1xuICAgICAgY2FsbGJhY2s6ICcmb25JZnJhbWVMb2FkJ1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICBlbGVtZW50LmJpbmQoJ2xvYWQnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgKHNjb3BlLmNhbGxiYWNrKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHNjb3BlLmNhbGxiYWNrKHsgZXZlbnQ6IGUgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xuXG4vL3NyYy9qcy9kaXJlY3RpdmVzL29ua2V5ZG93bi5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5kaXJlY3RpdmVzJylcbi5kaXJlY3RpdmUoJ29uS2V5ZG93bicsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG4gICAgICB2YXIgZnVuY3Rpb25Ub0NhbGwgPSBzY29wZS4kZXZhbChhdHRycy5vbktleWRvd24pO1xuICAgICAgZWxlbS5vbigna2V5ZG93bicsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBmdW5jdGlvblRvQ2FsbChlLndoaWNoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xuXG4vL3NyYy9qcy9kaXJlY3RpdmVzL3Bhc3N3b3JkLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmRpcmVjdGl2ZXMnKVxuLmRpcmVjdGl2ZSgncGFzc3dvcmQnLFxuICBbJyR0aW1lb3V0JywgJ1NoZWxsTWFuYWdlcicsXG4gICgkdGltZW91dCwgU2hlbGxNYW5hZ2VyKSA9PiB7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICBzY29wZToge1xuICAgICAgZGlzYWJsZWQ6ICc9PycsXG4gICAgICBuZ01vZGVsOiAnPScsXG4gICAgICBwbGFjZWhvbGRlcjogJ0AnXG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogU2hlbGxNYW5hZ2VyLmdldFBhcnRpYWxVcmwoJ2lucHV0LXBhc3N3b3JkJylcbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvZGlyZWN0aXZlcy9xdWFudGl0eS5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5kaXJlY3RpdmVzJylcbi5kaXJlY3RpdmUoJ3F1YW50aXR5JyxcbiAgWyckdGltZW91dCcsICdTaGVsbE1hbmFnZXInLFxuICAoJHRpbWVvdXQsIFNoZWxsTWFuYWdlcikgPT4ge1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7XG4gICAgICBxdWFudGl0eTogJz0nLFxuICAgICAgbWluOiAnPScsXG4gICAgICBtYXg6ICc9J1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtKSB7XG4gICAgICBzY29wZS5taW4gPSBzY29wZS5taW4gfHwgMTtcbiAgICAgIHNjb3BlLm1heCA9IHNjb3BlLm1heCB8fCA5O1xuICAgICAgc2NvcGUuZGF0YSA9IHtcbiAgICAgICAgbWluOiBzY29wZS5taW4sXG4gICAgICAgIG1heDogc2NvcGUubWF4LFxuICAgICAgICBxdWFudGl0eTogcGFyc2VJbnQoc2NvcGUucXVhbnRpdHkpXG4gICAgICB9O1xuXG4gICAgICBzY29wZS5kZWNyZWFzZSA9ICgpID0+IHtcbiAgICAgICAgc2NvcGUucXVhbnRpdHkgPSBzY29wZS5kYXRhLnF1YW50aXR5ID0gc2NvcGUuZGF0YS5xdWFudGl0eSA+IHNjb3BlLmRhdGEubWluID9cbiAgICAgICAgICBzY29wZS5kYXRhLnF1YW50aXR5IC0gMSA6XG4gICAgICAgICAgc2NvcGUuZGF0YS5taW47XG4gICAgICB9O1xuXG4gICAgICBzY29wZS5pbmNyZWFzZSA9ICgpID0+IHtcbiAgICAgICAgc2NvcGUucXVhbnRpdHkgPSBzY29wZS5kYXRhLnF1YW50aXR5ID0gc2NvcGUuZGF0YS5xdWFudGl0eSA8IHNjb3BlLmRhdGEubWF4ID9cbiAgICAgICAgICBzY29wZS5kYXRhLnF1YW50aXR5ICsgMSA6XG4gICAgICAgICAgc2NvcGUuZGF0YS5tYXg7XG4gICAgICB9O1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6IFNoZWxsTWFuYWdlci5nZXRQYXJ0aWFsVXJsKCdpbnB1dC1xdWFudGl0eScpXG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2RpcmVjdGl2ZXMvc2Nyb2xsZXIuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuZGlyZWN0aXZlcycpXG4uZGlyZWN0aXZlKCdzY3JvbGxlcicsIFsnQWN0aXZpdHlNb25pdG9yJywgJ1NOQVBFbnZpcm9ubWVudCcsIGZ1bmN0aW9uIChBY3Rpdml0eU1vbml0b3IsIFNOQVBFbnZpcm9ubWVudCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQycsXG4gICAgcmVwbGFjZTogZmFsc2UsXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtKSB7XG4gICAgICBpZiAoU05BUEVudmlyb25tZW50LnBsYXRmb3JtID09PSAnZGVza3RvcCcpIHtcbiAgICAgICAgJChlbGVtKS5raW5ldGljKHtcbiAgICAgICAgICB5OiBmYWxzZSxcbiAgICBcdFx0ICBmaWx0ZXJUYXJnZXQ6IGZ1bmN0aW9uKHRhcmdldCwgZSl7XG4gICAgICAgICAgICBpZiAoIS9kb3dufHN0YXJ0fGNsaWNrLy50ZXN0KGUudHlwZSkpe1xuICAgICAgICAgICAgICByZXR1cm4gISgvYXxpbWcvaS50ZXN0KHRhcmdldC50YWdOYW1lKSk7XG4gICAgICAgICAgICB9XG4gICAgXHRcdCAgfSxcbiAgICBcdFx0ICBzdG9wcGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9kaXJlY3RpdmVzL3Njcm9sbGdsdWUuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuZGlyZWN0aXZlcycpXG4uZGlyZWN0aXZlKCdzY3JvbGxnbHVlJywgWyckcGFyc2UnLCBmdW5jdGlvbiAoJHBhcnNlKSB7XG4gIGZ1bmN0aW9uIHVuYm91bmRTdGF0ZShpbml0VmFsdWUpe1xuICAgIHZhciBhY3RpdmF0ZWQgPSBpbml0VmFsdWU7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldFZhbHVlOiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gYWN0aXZhdGVkO1xuICAgICAgfSxcbiAgICAgIHNldFZhbHVlOiBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgIGFjdGl2YXRlZCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBvbmVXYXlCaW5kaW5nU3RhdGUoZ2V0dGVyLCBzY29wZSl7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldFZhbHVlOiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gZ2V0dGVyKHNjb3BlKTtcbiAgICAgIH0sXG4gICAgICBzZXRWYWx1ZTogZnVuY3Rpb24oKXt9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHR3b1dheUJpbmRpbmdTdGF0ZShnZXR0ZXIsIHNldHRlciwgc2NvcGUpe1xuICAgIHJldHVybiB7XG4gICAgICBnZXRWYWx1ZTogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIGdldHRlcihzY29wZSk7XG4gICAgICB9LFxuICAgICAgc2V0VmFsdWU6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgaWYodmFsdWUgIT09IGdldHRlcihzY29wZSkpe1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2V0dGVyKHNjb3BlLCB2YWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQWN0aXZhdGlvblN0YXRlKGF0dHIsIHNjb3BlKXtcbiAgICBpZihhdHRyICE9PSBcIlwiKXtcbiAgICAgIHZhciBnZXR0ZXIgPSAkcGFyc2UoYXR0cik7XG4gICAgICBpZihnZXR0ZXIuYXNzaWduICE9PSB1bmRlZmluZWQpe1xuICAgICAgICByZXR1cm4gdHdvV2F5QmluZGluZ1N0YXRlKGdldHRlciwgZ2V0dGVyLmFzc2lnbiwgc2NvcGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG9uZVdheUJpbmRpbmdTdGF0ZShnZXR0ZXIsIHNjb3BlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuYm91bmRTdGF0ZSh0cnVlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHByaW9yaXR5OiAxLFxuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsICRlbCwgYXR0cnMpe1xuICAgICAgdmFyIGVsID0gJGVsWzBdLFxuICAgICAgYWN0aXZhdGlvblN0YXRlID0gY3JlYXRlQWN0aXZhdGlvblN0YXRlKGF0dHJzLnNjcm9sbGdsdWUsIHNjb3BlKTtcblxuICAgICAgZnVuY3Rpb24gc2Nyb2xsVG9Cb3R0b20oKXtcbiAgICAgICAgZWwuc2Nyb2xsVG9wID0gZWwuc2Nyb2xsSGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvblNjb3BlQ2hhbmdlcygpe1xuICAgICAgICBpZihhY3RpdmF0aW9uU3RhdGUuZ2V0VmFsdWUoKSAmJiAhc2hvdWxkQWN0aXZhdGVBdXRvU2Nyb2xsKCkpe1xuICAgICAgICAgIHNjcm9sbFRvQm90dG9tKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2hvdWxkQWN0aXZhdGVBdXRvU2Nyb2xsKCl7XG4gICAgICAgIHJldHVybiBlbC5zY3JvbGxUb3AgKyBlbC5jbGllbnRIZWlnaHQgKyAxID49IGVsLnNjcm9sbEhlaWdodDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25TY3JvbGwoKXtcbiAgICAgICAgYWN0aXZhdGlvblN0YXRlLnNldFZhbHVlKHNob3VsZEFjdGl2YXRlQXV0b1Njcm9sbCgpKTtcbiAgICAgIH1cblxuICAgICAgc2NvcGUuJHdhdGNoKG9uU2NvcGVDaGFuZ2VzKTtcbiAgICAgICRlbC5iaW5kKCdzY3JvbGwnLCBvblNjcm9sbCk7XG4gICAgfVxuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9kaXJlY3RpdmVzL3NsaWRlci5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5kaXJlY3RpdmVzJylcbi5kaXJlY3RpdmUoJ3NsaWRlcicsXG4gIFsnJHRpbWVvdXQnLCAnU2hlbGxNYW5hZ2VyJyxcbiAgKCR0aW1lb3V0LCBTaGVsbE1hbmFnZXIpID0+IHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0FFJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7XG4gICAgICBzb3VyY2U6ICc9JyxcbiAgICAgIHNsaWRlY2xpY2s6ICc9JyxcbiAgICAgIHNsaWRlc2hvdzogJz0nLFxuICAgICAgdGltZW91dDogJz0nXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW0pIHtcbiAgICAgIHZhciB0aW1lb3V0ID0gc2NvcGUudGltZW91dCB8fCA1MDAwO1xuICAgICAgc2NvcGUuc291cmNlID0gc2NvcGUuc291cmNlIHx8IFtdO1xuICAgICAgc2NvcGUuY3VycmVudEluZGV4ID0gLTE7XG5cbiAgICAgIHZhciBjaGFuZ2VJbWFnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoc2NvcGUuc291cmNlLmxlbmd0aCA9PT0gMCB8fCBzY29wZS5kaXNhYmxlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lcik7XG5cbiAgICAgICAgc2NvcGUuc291cmNlLmZvckVhY2goZnVuY3Rpb24oZW50cnksIGkpe1xuICAgICAgICAgIGVudHJ5LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGVudHJ5ID0gc2NvcGUuc291cmNlW3Njb3BlLmN1cnJlbnRJbmRleF07XG4gICAgICAgIGVudHJ5LnZpc2libGUgPSB0cnVlO1xuXG4gICAgICAgIGlmIChzY29wZS5zbGlkZXNob3cpIHtcbiAgICAgICAgICBzY29wZS5zbGlkZXNob3coZW50cnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVudHJ5LnR5cGUgPT09ICd2aWRlbycpIHtcbiAgICAgICAgICB2YXIgdiA9ICQoJ3ZpZGVvJywgZWxlbSk7XG4gICAgICAgICAgdi5hdHRyKCdzcmMnLCBlbnRyeS5zcmMpO1xuICAgICAgICAgIHZhciB2aWRlbyA9IHYuZ2V0KDApO1xuXG4gICAgICAgICAgaWYgKCF2aWRlbykge1xuICAgICAgICAgICAgdGltZXIgPSAkdGltZW91dChzbGlkZXJGdW5jLCAzMDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBvblZpZGVvRW5kZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgb25WaWRlb0VuZGVkLCBmYWxzZSk7XG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHsgc2NvcGUubmV4dCgpOyB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIG9uVmlkZW9FcnJvciA9IGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uVmlkZW9FcnJvciwgZmFsc2UpO1xuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7IHNjb3BlLm5leHQoKTsgfSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgb25WaWRlb0VuZGVkLCBmYWxzZSk7XG4gICAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvblZpZGVvRXJyb3IsIGZhbHNlKTtcblxuICAgICAgICAgIHRyeVxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZpZGVvLmxvYWQoKTtcbiAgICAgICAgICAgIHZpZGVvLnBsYXkoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2F0Y2goZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIHBsYXkgdmlkZW86ICcgKyBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdGltZXIgPSAkdGltZW91dChzbGlkZXJGdW5jLCB0aW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoc2NvcGUuY3VycmVudEluZGV4IDwgc2NvcGUuc291cmNlLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBzY29wZS5jdXJyZW50SW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzY29wZS5jdXJyZW50SW5kZXggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hhbmdlSW1hZ2UoKTtcbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLnByZXYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHNjb3BlLmN1cnJlbnRJbmRleCA+IDApIHtcbiAgICAgICAgICBzY29wZS5jdXJyZW50SW5kZXgtLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzY29wZS5jdXJyZW50SW5kZXggPSBzY29wZS5zb3VyY2UubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY2hhbmdlSW1hZ2UoKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciB0aW1lcjtcblxuICAgICAgdmFyIHNsaWRlckZ1bmMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHNjb3BlLnNvdXJjZS5sZW5ndGggPT09IDAgfHwgc2NvcGUuZGlzYWJsZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS5uZXh0KCk7XG4gICAgICB9O1xuXG4gICAgICBzY29wZS4kd2F0Y2goJ3NvdXJjZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHNjb3BlLmN1cnJlbnRJbmRleCA9IC0xO1xuICAgICAgICBzbGlkZXJGdW5jKCk7XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCdkaXNhYmxlZCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgIHNjb3BlLmN1cnJlbnRJbmRleCA9IC0xO1xuICAgICAgICBzbGlkZXJGdW5jKCk7XG4gICAgICB9KTtcblxuICAgICAgc2xpZGVyRnVuYygpO1xuXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lcik7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiBTaGVsbE1hbmFnZXIuZ2V0UGFydGlhbFVybCgnc2xpZGVyJylcbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvZGlyZWN0aXZlcy9zd2l0Y2guanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuZGlyZWN0aXZlcycpXG4uZGlyZWN0aXZlKCdzd2l0Y2gnLFxuICBbJyR0aW1lb3V0JywgJ1NoZWxsTWFuYWdlcicsXG4gICgkdGltZW91dCwgU2hlbGxNYW5hZ2VyKSA9PiB7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHtcbiAgICAgIGRpc2FibGVkOiAnPT8nLFxuICAgICAgc2VsZWN0ZWQ6ICc9PydcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbSkge1xuICAgICAgc2NvcGUuZGlzYWJsZWQgPSBCb29sZWFuKHNjb3BlLmRpc2FibGVkKTtcbiAgICAgIHNjb3BlLnNlbGVjdGVkID0gQm9vbGVhbihzY29wZS5zZWxlY3RlZCk7XG4gICAgICBzY29wZS5kYXRhID0ge1xuICAgICAgICBkaXNhYmxlZDogQm9vbGVhbihzY29wZS5kaXNhYmxlZCksXG4gICAgICAgIHNlbGVjdGVkOiBCb29sZWFuKHNjb3BlLnNlbGVjdGVkKSxcbiAgICAgICAgY2hhbmdlZDogZmFsc2VcbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLnRvZ2dsZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHNjb3BlLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuc2VsZWN0ZWQgPSBzY29wZS5kYXRhLnNlbGVjdGVkID0gIXNjb3BlLmRhdGEuc2VsZWN0ZWQ7XG4gICAgICAgIHNjb3BlLmRhdGEuY2hhbmdlZCA9IHRydWU7XG4gICAgICB9O1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6IFNoZWxsTWFuYWdlci5nZXRQYXJ0aWFsVXJsKCdpbnB1dC1zd2l0Y2gnKVxuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9kaXJlY3RpdmVzL3RleHRpbnB1dC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5kaXJlY3RpdmVzJylcbi5kaXJlY3RpdmUoJ3RleHRpbnB1dCcsXG4gIFsnJHRpbWVvdXQnLCAnU2hlbGxNYW5hZ2VyJyxcbiAgKCR0aW1lb3V0LCBTaGVsbE1hbmFnZXIpID0+IHtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHNjb3BlOiB7XG4gICAgICBkaXNhYmxlZDogJz0/JyxcbiAgICAgIG5nTW9kZWw6ICc9JyxcbiAgICAgIHBsYWNlaG9sZGVyOiAnQCdcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiBTaGVsbE1hbmFnZXIuZ2V0UGFydGlhbFVybCgnaW5wdXQtdGV4dCcpXG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2ZpbHRlcnMvX2Jhc2UuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuZmlsdGVycycsIFtdKTtcblxuLy9zcmMvanMvZmlsdGVycy9wYXJ0aWFsLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmZpbHRlcnMnKVxuLmZpbHRlcigncGFydGlhbCcsIFsnU2hlbGxNYW5hZ2VyJywgKFNoZWxsTWFuYWdlcikgPT4ge1xuICByZXR1cm4gKG5hbWUpID0+IFNoZWxsTWFuYWdlci5nZXRQYXJ0aWFsVXJsKG5hbWUpO1xufV0pO1xuXG4vL3NyYy9qcy9maWx0ZXJzL3RodW1ibmFpbC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5maWx0ZXJzJylcbi5maWx0ZXIoJ3RodW1ibmFpbCcsIFsnU2hlbGxNYW5hZ2VyJywgU2hlbGxNYW5hZ2VyID0+IHtcbiAgcmV0dXJuIChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKSA9PiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwobWVkaWEsIHdpZHRoLCBoZWlnaHQsIGV4dGVuc2lvbik7XG59XSk7XG5cbi8vc3JjL2pzL2ZpbHRlcnMvdHJ1c3R1cmwuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuZmlsdGVycycpXG4uZmlsdGVyKCd0cnVzdFVybCcsIFsnJHNjZScsIGZ1bmN0aW9uKCRzY2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHJldHVybiAkc2NlLnRydXN0QXNSZXNvdXJjZVVybCh2YWwpO1xuICAgIH07XG59XSk7XG5cbi8vc3JjL2pzL3NlcnZpY2VzLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLnNlcnZpY2VzJywgWyduZ1Jlc291cmNlJywgJ1NOQVAuY29uZmlncyddKVxuXG4gIC5mYWN0b3J5KCdGbGFzaFN0YXJ0ZXInLCBbJ0xvZ2dlcicsICdTTkFQSG9zdHMnLCAoTG9nZ2VyLCBTTkFQSG9zdHMpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5GbGFzaFN0YXJ0ZXIoTG9nZ2VyLCBTTkFQSG9zdHMpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ0xvZ2dlcicsIFsnU05BUEVudmlyb25tZW50JywgKFNOQVBFbnZpcm9ubWVudCkgPT4ge1xuICAgIHZhciBsb2dnZXJzID0gW1xuICAgICAgbmV3IGFwcC5Mb2c0SnNMb2dnZXIoKVxuICAgIF07XG5cbiAgICBzd2l0Y2ggKFNOQVBFbnZpcm9ubWVudC5wbGF0Zm9ybSkge1xuICAgICAgY2FzZSAnZGVza3RvcCc6XG4gICAgICAgIGxvZ2dlcnMucHVzaChuZXcgYXBwLkVsZWN0cm9uTG9nZ2VyKCkpO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IGFwcC5Db21wb3NpdGVMb2dnZXIobG9nZ2Vycyk7XG4gIH1dKVxuICAuZmFjdG9yeSgnJGV4Y2VwdGlvbkhhbmRsZXInLCBbJ0xvZ2dlcicsIChMb2dnZXIpID0+IHtcbiAgICByZXR1cm4gKGV4Y2VwdGlvbiwgY2F1c2UpID0+IHtcbiAgICAgIExvZ2dlci5mYXRhbChleGNlcHRpb24uc3RhY2ssIGNhdXNlLCBleGNlcHRpb24pO1xuICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgIH07XG4gIH1dKVxuXG4gIC8vU2VydmljZXNcblxuICAuZmFjdG9yeSgnQ2FyZFJlYWRlcicsIFsnTWFuYWdlbWVudFNlcnZpY2UnLCAnU05BUEVudmlyb25tZW50JywgKE1hbmFnZW1lbnRTZXJ2aWNlLCBTTkFQRW52aXJvbm1lbnQpID0+IHtcbiAgICB2YXIgcmVhZGVyO1xuXG4gICAgc3dpdGNoIChTTkFQRW52aXJvbm1lbnQucGxhdGZvcm0pIHtcbiAgICAgIGNhc2UgJ21vYmlsZSc6XG4gICAgICAgIHJlYWRlciA9IG5ldyBhcHAuQ29yZG92YUNhcmRSZWFkZXIoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZWFkZXIgPSBuZXcgYXBwLkNhcmRSZWFkZXIoTWFuYWdlbWVudFNlcnZpY2UpO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICB3aW5kb3cuU25hcENhcmRSZWFkZXIgPSByZWFkZXI7XG5cbiAgICByZXR1cm4gcmVhZGVyO1xuICB9XSlcbiAgLmZhY3RvcnkoJ0R0c0FwaScsIFsnU05BUEhvc3RzJywgJ1Nlc3Npb25Nb2RlbCcsIChTTkFQSG9zdHMsIFNlc3Npb25Nb2RlbCkgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkJhY2tlbmRBcGkoU05BUEhvc3RzLCBTZXNzaW9uTW9kZWwpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ01hbmFnZW1lbnRTZXJ2aWNlJywgWydTTkFQRW52aXJvbm1lbnQnLCAoU05BUEVudmlyb25tZW50KSA9PiB7XG4gICAgc3dpdGNoIChTTkFQRW52aXJvbm1lbnQucGxhdGZvcm0pIHtcbiAgICAgIGNhc2UgJ2Rlc2t0b3AnOlxuICAgICAgICByZXR1cm4gbmV3IGFwcC5FbGVjdHJvbk1hbmFnZW1lbnRTZXJ2aWNlKCk7XG4gICAgICBjYXNlICdtb2JpbGUnOlxuICAgICAgICByZXR1cm4gbmV3IGFwcC5Db3Jkb3ZhTWFuYWdlbWVudFNlcnZpY2UoKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBuZXcgYXBwLkdlbmVyaWNNYW5hZ2VtZW50U2VydmljZSgpO1xuICAgIH1cbiAgfV0pXG4gIC5mYWN0b3J5KCdTb2NrZXRDbGllbnQnLCBbJ1Nlc3Npb25Nb2RlbCcsICdTTkFQSG9zdHMnLCAnTG9nZ2VyJywgKFNlc3Npb25Nb2RlbCwgU05BUEhvc3RzLCBMb2dnZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5Tb2NrZXRDbGllbnQoU2Vzc2lvbk1vZGVsLCBTTkFQSG9zdHMsIExvZ2dlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnVGVsZW1ldHJ5U2VydmljZScsIFsnJHJlc291cmNlJywgKCRyZXNvdXJjZSkgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLlRlbGVtZXRyeVNlcnZpY2UoJHJlc291cmNlKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdXZWJCcm93c2VyJywgWydBbmFseXRpY3NNb2RlbCcsICdNYW5hZ2VtZW50U2VydmljZScsICdTTkFQRW52aXJvbm1lbnQnLCAnU05BUEhvc3RzJywgKEFuYWx5dGljc01vZGVsLCBNYW5hZ2VtZW50U2VydmljZSwgU05BUEVudmlyb25tZW50LCBTTkFQSG9zdHMpID0+IHtcbiAgICB3aW5kb3cuU25hcFdlYkJyb3dzZXIgPSBuZXcgYXBwLldlYkJyb3dzZXIoQW5hbHl0aWNzTW9kZWwsIE1hbmFnZW1lbnRTZXJ2aWNlLCBTTkFQRW52aXJvbm1lbnQsIFNOQVBIb3N0cyk7XG4gICAgcmV0dXJuIHdpbmRvdy5TbmFwV2ViQnJvd3NlcjtcbiAgfV0pXG5cbiAgLy9Nb2RlbHNcblxuICAuZmFjdG9yeSgnQW5hbHl0aWNzTW9kZWwnLCBbJ1N0b3JhZ2VQcm92aWRlcicsICdIZWF0TWFwJywgJ0xvZ2dlcicsIChTdG9yYWdlUHJvdmlkZXIsIEhlYXRNYXAsIExvZ2dlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkFuYWx5dGljc01vZGVsKFN0b3JhZ2VQcm92aWRlciwgSGVhdE1hcCwgTG9nZ2VyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdDYXJ0TW9kZWwnLCAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuQ2FydE1vZGVsKCk7XG4gIH0pXG4gIC5mYWN0b3J5KCdDaGF0TW9kZWwnLCBbJ1NOQVBMb2NhdGlvbicsICdTTkFQRW52aXJvbm1lbnQnLCAnU3RvcmFnZVByb3ZpZGVyJywgKFNOQVBMb2NhdGlvbiwgU05BUEVudmlyb25tZW50LCBTdG9yYWdlUHJvdmlkZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5DaGF0TW9kZWwoU05BUExvY2F0aW9uLCBTTkFQRW52aXJvbm1lbnQsIFN0b3JhZ2VQcm92aWRlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnQ3VzdG9tZXJNb2RlbCcsIFsnU05BUExvY2F0aW9uJywgJ1N0b3JhZ2VQcm92aWRlcicsIChTTkFQTG9jYXRpb24sIFN0b3JhZ2VQcm92aWRlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkN1c3RvbWVyTW9kZWwoU05BUExvY2F0aW9uLCBTdG9yYWdlUHJvdmlkZXIpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ0RhdGFNb2RlbCcsIFsnU05BUExvY2F0aW9uJywgJ0R0c0FwaScsICdTdG9yYWdlUHJvdmlkZXInLCAoU05BUExvY2F0aW9uLCBEdHNBcGksIFN0b3JhZ2VQcm92aWRlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkRhdGFNb2RlbChTTkFQTG9jYXRpb24sIER0c0FwaSwgU3RvcmFnZVByb3ZpZGVyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdIZWF0TWFwJywgKCkgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkhlYXRNYXAoZG9jdW1lbnQuYm9keSk7XG4gIH0pXG4gIC5mYWN0b3J5KCdMb2NhdGlvbk1vZGVsJywgWydEdHNBcGknLCAnU05BUEVudmlyb25tZW50JywgJ1NOQVBMb2NhdGlvbicsICdTdG9yYWdlUHJvdmlkZXInLCAoRHRzQXBpLCBTTkFQRW52aXJvbm1lbnQsIFNOQVBMb2NhdGlvbiwgU3RvcmFnZVByb3ZpZGVyKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuTG9jYXRpb25Nb2RlbChEdHNBcGksIFNOQVBFbnZpcm9ubWVudCwgU05BUExvY2F0aW9uLCBTdG9yYWdlUHJvdmlkZXIpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ09yZGVyTW9kZWwnLCBbJ1N0b3JhZ2VQcm92aWRlcicsIChTdG9yYWdlUHJvdmlkZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5PcmRlck1vZGVsKFN0b3JhZ2VQcm92aWRlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnU2hlbGxNb2RlbCcsICgpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5TaGVsbE1vZGVsKCk7XG4gIH0pXG4gIC5mYWN0b3J5KCdTdXJ2ZXlNb2RlbCcsIFsnU05BUExvY2F0aW9uJywgJ1N0b3JhZ2VQcm92aWRlcicsIChTTkFQTG9jYXRpb24sIFN0b3JhZ2VQcm92aWRlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLlN1cnZleU1vZGVsKFNOQVBMb2NhdGlvbiwgU3RvcmFnZVByb3ZpZGVyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdTZXNzaW9uTW9kZWwnLCBbJ1N0b3JhZ2VQcm92aWRlcicsIChTdG9yYWdlUHJvdmlkZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5TZXNzaW9uTW9kZWwoU3RvcmFnZVByb3ZpZGVyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdTdG9yYWdlUHJvdmlkZXInLCBbJ0xvZ2dlcicsICdTTkFQRW52aXJvbm1lbnQnLCAoTG9nZ2VyLCBTTkFQRW52aXJvbm1lbnQpID0+ICB7XG4gICAgcmV0dXJuIChpZCkgPT4ge1xuICAgICAgc3dpdGNoIChTTkFQRW52aXJvbm1lbnQucGxhdGZvcm0pIHtcbiAgICAgICAgY2FzZSAnbW9iaWxlJzpcbiAgICAgICAgICByZXR1cm4gbmV3IGFwcC5Db3Jkb3ZhTG9jYWxTdG9yYWdlU3RvcmUoaWQsIExvZ2dlcik7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIG5ldyBhcHAuTG9jYWxTdG9yYWdlU3RvcmUoaWQpO1xuICAgICAgfVxuICAgIH07XG4gIH1dKVxuXG4gIC8vTWFuYWdlcnNcblxuICAuZmFjdG9yeSgnQWN0aXZpdHlNb25pdG9yJywgWyckcm9vdFNjb3BlJywgJyR0aW1lb3V0JywgJ1NOQVBFbnZpcm9ubWVudCcsICgkcm9vdFNjb3BlLCAkdGltZW91dCwgU05BUEVudmlyb25tZW50KSA9PiB7XG4gICAgdmFyIG1vbml0b3IgPSBuZXcgYXBwLkFjdGl2aXR5TW9uaXRvcigkcm9vdFNjb3BlLCAkdGltZW91dCk7XG4gICAgbW9uaXRvci50aW1lb3V0ID0gMzAwMDA7XG5cbiAgICBpZiAoU05BUEVudmlyb25tZW50LmRlYnVnKSB7XG4gICAgICBtb25pdG9yLnRpbWVvdXQgKj0gOTAwMDtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9uaXRvcjtcbiAgfV0pXG4gIC5mYWN0b3J5KCdBbmFseXRpY3NNYW5hZ2VyJywgWydUZWxlbWV0cnlTZXJ2aWNlJywgJ0FuYWx5dGljc01vZGVsJywgJ0xvZ2dlcicsIChUZWxlbWV0cnlTZXJ2aWNlLCBBbmFseXRpY3NNb2RlbCwgTG9nZ2VyKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuQW5hbHl0aWNzTWFuYWdlcihUZWxlbWV0cnlTZXJ2aWNlLCBBbmFseXRpY3NNb2RlbCwgTG9nZ2VyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdBdXRoZW50aWNhdGlvbk1hbmFnZXInLCBbJ0R0c0FwaScsICdTZXNzaW9uTW9kZWwnLCAnU05BUEVudmlyb25tZW50JywgJ1dlYkJyb3dzZXInLCAnTG9nZ2VyJywgKER0c0FwaSwgU2Vzc2lvbk1vZGVsLCBTTkFQRW52aXJvbm1lbnQsIFdlYkJyb3dzZXIsIExvZ2dlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkF1dGhlbnRpY2F0aW9uTWFuYWdlcihEdHNBcGksIFNlc3Npb25Nb2RlbCwgU05BUEVudmlyb25tZW50LCBXZWJCcm93c2VyLCBMb2dnZXIpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ0N1c3RvbWVyTWFuYWdlcicsIFsnRHRzQXBpJywgJ0N1c3RvbWVyTW9kZWwnLCAnU2Vzc2lvbk1vZGVsJywgJ0xvZ2dlcicsICdTTkFQRW52aXJvbm1lbnQnLCAoRHRzQXBpLCBDdXN0b21lck1vZGVsLCBTZXNzaW9uTW9kZWwsIExvZ2dlciwgU05BUEVudmlyb25tZW50KSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuQ3VzdG9tZXJNYW5hZ2VyKER0c0FwaSwgQ3VzdG9tZXJNb2RlbCwgU2Vzc2lvbk1vZGVsLCBMb2dnZXIsIFNOQVBFbnZpcm9ubWVudCk7XG4gIH1dKVxuICAuZmFjdG9yeSgnQ2hhdE1hbmFnZXInLCBbJ0FuYWx5dGljc01vZGVsJywgJ0NoYXRNb2RlbCcsICdDdXN0b21lck1vZGVsJywgJ0xvY2F0aW9uTW9kZWwnLCAnU29ja2V0Q2xpZW50JywgJ0xvZ2dlcicsIChBbmFseXRpY3NNb2RlbCwgQ2hhdE1vZGVsLCBDdXN0b21lck1vZGVsLCBMb2NhdGlvbk1vZGVsLCBTb2NrZXRDbGllbnQsIExvZ2dlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkNoYXRNYW5hZ2VyKEFuYWx5dGljc01vZGVsLCBDaGF0TW9kZWwsIEN1c3RvbWVyTW9kZWwsIExvY2F0aW9uTW9kZWwsIFNvY2tldENsaWVudCwgTG9nZ2VyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdEYXRhTWFuYWdlcicsIFsnRGF0YU1vZGVsJywgJ0xvZ2dlcicsICdTTkFQRW52aXJvbm1lbnQnLCAnU05BUExvY2F0aW9uJywgKERhdGFNb2RlbCwgTG9nZ2VyLCBTTkFQRW52aXJvbm1lbnQsIFNOQVBMb2NhdGlvbikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkRhdGFNYW5hZ2VyKERhdGFNb2RlbCwgTG9nZ2VyLCBTTkFQRW52aXJvbm1lbnQsIFNOQVBMb2NhdGlvbik7XG4gIH1dKVxuICAuZmFjdG9yeSgnRGlhbG9nTWFuYWdlcicsIFsnTG9nZ2VyJywgKExvZ2dlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkRpYWxvZ01hbmFnZXIoTG9nZ2VyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdMb2NhdGlvbk1hbmFnZXInLCBbJ0RhdGFNb2RlbCcsICdEdHNBcGknLCAnTG9jYXRpb25Nb2RlbCcsICdMb2dnZXInLCAoRGF0YU1vZGVsLCBEdHNBcGksIExvY2F0aW9uTW9kZWwsIExvZ2dlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkxvY2F0aW9uTWFuYWdlcihEYXRhTW9kZWwsIER0c0FwaSwgTG9jYXRpb25Nb2RlbCwgTG9nZ2VyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdOYXZpZ2F0aW9uTWFuYWdlcicsIFsnJHJvb3RTY29wZScsICckbG9jYXRpb24nLCAnJHdpbmRvdycsICdBbmFseXRpY3NNb2RlbCcsICdMb2dnZXInLCAoJHJvb3RTY29wZSwgJGxvY2F0aW9uLCAkd2luZG93LCBBbmFseXRpY3NNb2RlbCwgTG9nZ2VyKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuTmF2aWdhdGlvbk1hbmFnZXIoJHJvb3RTY29wZSwgJGxvY2F0aW9uLCAkd2luZG93LCBBbmFseXRpY3NNb2RlbCwgTG9nZ2VyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdPcmRlck1hbmFnZXInLCBbJ0NoYXRNb2RlbCcsICdDdXN0b21lck1vZGVsJywgJ0R0c0FwaScsICdPcmRlck1vZGVsJywgJ0xvZ2dlcicsIChDaGF0TW9kZWwsIEN1c3RvbWVyTW9kZWwsIER0c0FwaSwgT3JkZXJNb2RlbCwgTG9nZ2VyKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuT3JkZXJNYW5hZ2VyKENoYXRNb2RlbCwgQ3VzdG9tZXJNb2RlbCwgRHRzQXBpLCBPcmRlck1vZGVsLCBMb2dnZXIpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ1Nlc3Npb25NYW5hZ2VyJywgWydTTkFQRW52aXJvbm1lbnQnLCAnQW5hbHl0aWNzTW9kZWwnLCAnQ3VzdG9tZXJNb2RlbCcsICdMb2NhdGlvbk1vZGVsJywgJ09yZGVyTW9kZWwnLCAnU3VydmV5TW9kZWwnLCAnU3RvcmFnZVByb3ZpZGVyJywgJ0xvZ2dlcicsIChTTkFQRW52aXJvbm1lbnQsIEFuYWx5dGljc01vZGVsLCBDdXN0b21lck1vZGVsLCBMb2NhdGlvbk1vZGVsLCBPcmRlck1vZGVsLCBTdXJ2ZXlNb2RlbCwgU3RvcmFnZVByb3ZpZGVyLCBMb2dnZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5TZXNzaW9uTWFuYWdlcihTTkFQRW52aXJvbm1lbnQsIEFuYWx5dGljc01vZGVsLCBDdXN0b21lck1vZGVsLCBMb2NhdGlvbk1vZGVsLCBPcmRlck1vZGVsLCBTdXJ2ZXlNb2RlbCwgU3RvcmFnZVByb3ZpZGVyLCBMb2dnZXIpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ1NoZWxsTWFuYWdlcicsIFsnRGF0YU1vZGVsJywgJ0xvY2F0aW9uTW9kZWwnLCAnU2hlbGxNb2RlbCcsICdTTkFQTG9jYXRpb24nLCAnU05BUEVudmlyb25tZW50JywgJ1NOQVBIb3N0cycsICdMb2dnZXInLCAoRGF0YU1vZGVsLCBMb2NhdGlvbk1vZGVsLCBTaGVsbE1vZGVsLCBTTkFQTG9jYXRpb24sIFNOQVBFbnZpcm9ubWVudCwgU05BUEhvc3RzLCBMb2dnZXIpID0+IHtcbiAgICBsZXQgbWFuYWdlciA9IG5ldyBhcHAuU2hlbGxNYW5hZ2VyKERhdGFNb2RlbCwgTG9jYXRpb25Nb2RlbCwgU2hlbGxNb2RlbCwgU05BUExvY2F0aW9uLCBTTkFQRW52aXJvbm1lbnQsIFNOQVBIb3N0cywgTG9nZ2VyKTtcblxuICAgIERhdGFNb2RlbC5fZ2V0TWVkaWFVcmwgPSAobWVkaWEsIHdpZHRoLCBoZWlnaHQsIGV4dGVuc2lvbikgPT4gbWFuYWdlci5nZXRNZWRpYVVybChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKTsgLy9Ub0RvOiByZWZhY3RvclxuXG4gICAgcmV0dXJuIG1hbmFnZXI7XG4gIH1dKVxuICAuZmFjdG9yeSgnU29jaWFsTWFuYWdlcicsIFsnU05BUEVudmlyb25tZW50JywgJ0R0c0FwaScsICdXZWJCcm93c2VyJywgJ0xvZ2dlcicsIChTTkFQRW52aXJvbm1lbnQsIER0c0FwaSwgV2ViQnJvd3NlciwgTG9nZ2VyKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuU29jaWFsTWFuYWdlcihTTkFQRW52aXJvbm1lbnQsIER0c0FwaSwgV2ViQnJvd3NlciwgTG9nZ2VyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdTb2Z0d2FyZU1hbmFnZXInLCBbJ1NOQVBFbnZpcm9ubWVudCcsIChTTkFQRW52aXJvbm1lbnQpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5Tb2Z0d2FyZU1hbmFnZXIoU05BUEVudmlyb25tZW50KTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdTdXJ2ZXlNYW5hZ2VyJywgWydEYXRhTW9kZWwnLCAnU3VydmV5TW9kZWwnLCAnTG9nZ2VyJywgKERhdGFNb2RlbCwgU3VydmV5TW9kZWwsIExvZ2dlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLlN1cnZleU1hbmFnZXIoRGF0YU1vZGVsLCBTdXJ2ZXlNb2RlbCwgTG9nZ2VyKTtcbiAgfV0pO1xuIl19
