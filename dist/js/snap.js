//src/js/shared/_base.js

'use strict';

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

window.app = {};

var ALERT_REQUEST_SUBMIT_ERROR = 1,
    ALERT_REQUEST_ASSISTANCE_SENT = 10,
    ALERT_REQUEST_ASSISTANCE_RECEIVED = 11,
    ALERT_REQUEST_CLOSEOUT_SENT = 20,
    ALERT_REQUEST_CLOSEOUT_RECEIVED = 21,
    ALERT_REQUEST_ORDER_SENT = 30,
    ALERT_REQUEST_ORDER_RECEIVED = 31,
    ALERT_SIGNIN_REQUIRED = 40,
    ALERT_TABLE_RESET = 50,
    ALERT_TABLE_ASSISTANCE = 51,
    ALERT_TABLE_CLOSEOUT = 52,
    ALERT_GENERIC_ERROR = 100,
    ALERT_DELET_CARD = 200,
    ALERT_PASSWORD_RESET_COMPLETE = 210,
    ALERT_SOFTWARE_OUTDATED = 220,
    ALERT_CARDREADER_ERROR = 310,
    ALERT_ERROR_NO_SEAT = 410,
    ALERT_ERROR_STARTUP = 510;

//src/js/shared/domain/analyticsdata.js

window.app.AnalyticsData = (function () {
  function AnalyticsData(name, storageProvider, defaultValue) {
    _classCallCheck(this, AnalyticsData);

    this._defaultValue = defaultValue || function () {
      return [];
    };
    this._name = name;
    this._data = this._defaultValue();
    this._store = storageProvider('snap_analytics_' + name);
  }

  _createClass(AnalyticsData, [{
    key: 'initialize',
    value: function initialize() {
      var self = this;
      return this._store.read().then(function (data) {
        return self._data = data || self._data;
      });
    }
  }, {
    key: 'push',
    value: function push(item) {
      this._data.push(item);
      this.store();
    }
  }, {
    key: 'reset',
    value: function reset() {
      this._data = this._defaultValue();
      return this.store();
    }
  }, {
    key: 'store',
    value: function store() {
      return this._store.write(this._data);
    }
  }, {
    key: 'name',
    get: function get() {
      return this._name;
    }
  }, {
    key: 'data',
    get: function get() {
      return this._data;
    },
    set: function set(value) {
      this._data = value;
      this.store();
    }
  }, {
    key: 'length',
    get: function get() {
      return this._data.length;
    }
  }, {
    key: 'last',
    get: function get() {
      return this._data[this.length - 1];
    }
  }]);

  return AnalyticsData;
})();

//src/js/shared/domain/cartitem.js

window.app.CartItem = (function () {
  function CartItem(item, quantity, name, modifiers, request) {
    _classCallCheck(this, CartItem);

    this.item = item;
    this.quantity = quantity;
    this.name = name;
    this.request = request;

    if (!this.hasModifiers) {
      this.modifiers = [];
    } else if (!modifiers) {
      this.modifiers = item.modifiers.map(function (category) {
        return new app.CartModifierCategory(category, category.items.map(function (modifier) {
          return new app.CartModifier(modifier);
        }));
      });
    } else {
      this.modifiers = modifiers;
    }
  }

  _createClass(CartItem, [{
    key: 'clone',
    value: function clone(count) {
      return new app.CartItem(this.item, this.quantity, this.name, this.modifiers.map(function (category) {
        return category.clone();
      }), this.request);
    }
  }, {
    key: 'cloneMany',
    value: function cloneMany(count) {
      count = count || this.quantity;
      var result = [];

      for (var i = 0; i < count; i++) {
        result.push(new app.CartItem(this.item, 1, this.name, this.modifiers.map(function (category) {
          return category.clone();
        }), this.request));
      }

      return result;
    }
  }, {
    key: 'restore',
    value: function restore(data) {
      return new app.CartItem(data.item, data.quantity, data.name, data.modifiers.map(app.CartModifierCategory.prototype.restore), data.request);
    }
  }, {
    key: 'hasModifiers',
    get: function get() {
      return this.item.modifiers !== null && this.item.modifiers.length > 0;
    }
  }, {
    key: 'selectedModifiers',
    get: function get() {
      return this.modifiers.reduce(function (previousCategory, category, i, array) {
        return array.concat(category.items.filter(function (modifier) {
          return modifier.isSelected;
        }));
      }, []);
    }
  }]);

  return CartItem;
})();

//src/js/shared/domain/cartmodifier.js

(function () {

  //------------------------------------------------------------------------
  //
  //  CartModifier
  //
  //------------------------------------------------------------------------

  var CartModifier = function CartModifier(data, isSelected) {
    this.data = data;
    this.isSelected = isSelected || false;
  };

  CartModifier.prototype.clone = function () {
    return new app.CartModifier(this.data, this.isSelected);
  };

  CartModifier.prototype.restore = function (data) {
    return new app.CartModifier(data.data, data.isSelected);
  };

  window.app.CartModifier = CartModifier;

  //------------------------------------------------------------------------
  //
  //  CartModifierCategory
  //
  //------------------------------------------------------------------------

  var CartModifierCategory = function CartModifierCategory(data, modifiers) {
    this.data = data;
    this.modifiers = modifiers;
  };

  CartModifierCategory.prototype.clone = function () {
    var modifiers = this.modifiers.map(function (modifier) {
      return modifier.clone();
    });
    return new app.CartModifierCategory(this.data, modifiers);
  };

  CartModifierCategory.prototype.restore = function (data) {
    return new app.CartModifierCategory(data.data, data.modifiers.map(CartModifier.prototype.restore));
  };

  window.app.CartModifierCategory = CartModifierCategory;
})();

//src/js/shared/domain/requestwatcher.js

window.app.RequestWatcher = (function () {
  function RequestWatcher(ticket, DtsApi) {
    _classCallCheck(this, RequestWatcher);

    this._token = ticket.token;
    this._remote = DtsApi;

    this.POLLING_INTERVAL = 5000;

    this.REQUEST_STATUS_PENDING = 1;
    this.REQUEST_STATUS_RECEIVED = 2;
    this.REQUEST_STATUS_ACCEPTED = 3;
    this.REQUEST_STATUS_EXPIRED = 255;

    var self = this;
    this._promise = new Promise(function (resolve, reject) {
      self._statusUpdateResolve = resolve;
      self._statusUpdateReject = reject;
    });

    this._ticket = { status: 0 };
    this._watchStatus();
  }

  _createClass(RequestWatcher, [{
    key: 'dispose',
    value: function dispose() {
      if (this._timeoutId) {
        window.clearTimeout(this._timeoutId);
      }

      if (this._ticket.status < this.REQUEST_STATUS_ACCEPTED) {
        this._statusUpdateReject();
      }
    }
  }, {
    key: '_watchStatus',
    value: function _watchStatus() {
      var self = this;

      if (self._timeoutId) {
        window.clearTimeout(self._timeoutId);
      }

      var onTimeout = function onTimeout() {
        self._remote.waiter.getStatus(self._token).then(function (response) {
          self._setTicket(response);
          self._watchStatus();
        }, function () {
          self._watchStatus();
        });
      };

      if (self._ticket.status === self.REQUEST_STATUS_ACCEPTED) {
        self._statusUpdateResolve();
      } else if (self._ticket.status !== self.REQUEST_STATUS_EXPIRED) {
        self._timeoutId = window.setTimeout(onTimeout, this.POLLING_INTERVAL);
      }
    }
  }, {
    key: '_setTicket',
    value: function _setTicket(value) {
      var self = this;

      if (self._ticket.status === value.status) {
        return;
      }

      self._ticket = value;
      self._watchStatus();
    }
  }, {
    key: 'token',
    get: function get() {
      return this._token;
    }
  }, {
    key: 'ticket',
    get: function get() {
      return this._ticket;
    }
  }, {
    key: 'promise',
    get: function get() {
      return this._promise;
    }
  }]);

  return RequestWatcher;
})();

//src/js/shared/domain/webbrowserreference.js

window.app.WebBrowserReference = (function () {
  function WebBrowserReference(type, initialUrl) {
    var _this = this;

    _classCallCheck(this, WebBrowserReference);

    this.type = type;
    this._initialUrl = this._url = initialUrl;

    this.onNavigated = new signals.Signal();
    this.onExit = new signals.Signal();

    this.onNavigated.add(function (url) {
      return _this._url = url;
    });
  }

  _createClass(WebBrowserReference, [{
    key: 'attach',
    value: function attach(reference) {
      if (this._reference) {
        throw new Error('Web browser reference is already attached.');
      }

      this._reference = reference;
    }
  }, {
    key: 'navigate',
    value: function navigate(url) {
      this.onNavigated.dispatch(url);
    }
  }, {
    key: 'exit',
    value: function exit() {
      this.onExit.dispatch();

      this.onNavigated.dispose();
      this.onExit.dispose();
    }
  }, {
    key: 'url',
    get: function get() {
      return this._url;
    }
  }]);

  return WebBrowserReference;
})();

window.app.IframeWebBrowserReference = (function (_app$WebBrowserReference) {
  _inherits(IframeWebBrowserReference, _app$WebBrowserReference);

  function IframeWebBrowserReference(initialUrl) {
    _classCallCheck(this, IframeWebBrowserReference);

    _get(Object.getPrototypeOf(IframeWebBrowserReference.prototype), 'constructor', this).call(this, 'iframe', initialUrl);
  }

  _createClass(IframeWebBrowserReference, [{
    key: 'attach',
    value: function attach(reference) {
      _get(Object.getPrototypeOf(IframeWebBrowserReference.prototype), 'attach', this).call(this, reference);

      var self = this;

      function onLoad(e) {
        self.onNavigated.dispatch(e.url);
      }

      this._onLoad = onLoad;

      this._reference.addEventListener('loadstart', this._onLoad);

      this._reference.src = this._initialUrl;
    }
  }, {
    key: 'exit',
    value: function exit() {
      _get(Object.getPrototypeOf(IframeWebBrowserReference.prototype), 'exit', this).call(this);

      if (this._reference) {
        this._reference.removeEventListener('loadstart', this._onLoad);

        this._reference.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';
      }

      this._reference = null;
    }
  }]);

  return IframeWebBrowserReference;
})(app.WebBrowserReference);

window.app.WebViewBrowserReference = (function (_app$WebBrowserReference2) {
  _inherits(WebViewBrowserReference, _app$WebBrowserReference2);

  function WebViewBrowserReference(initialUrl) {
    _classCallCheck(this, WebViewBrowserReference);

    _get(Object.getPrototypeOf(WebViewBrowserReference.prototype), 'constructor', this).call(this, 'webview', initialUrl);
  }

  _createClass(WebViewBrowserReference, [{
    key: 'attach',
    value: function attach(reference) {
      _get(Object.getPrototypeOf(WebViewBrowserReference.prototype), 'attach', this).call(this, reference);

      var self = this;

      function onLoad(e) {
        self.onNavigated.dispatch(self._reference.getUrl());
      }

      this._onLoad = onLoad;

      this._reference.addEventListener('did-stop-loading', this._onLoad);

      this._reference.src = this._initialUrl;
    }
  }, {
    key: 'exit',
    value: function exit() {
      _get(Object.getPrototypeOf(WebViewBrowserReference.prototype), 'exit', this).call(this);

      if (this._reference) {
        this._reference.removeEventListener('did-stop-loading', this._onLoad);

        this._reference.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';
      }

      this._reference = null;
    }
  }]);

  return WebViewBrowserReference;
})(app.WebBrowserReference);

window.app.CordovaWebBrowserReference = (function (_app$WebBrowserReference3) {
  _inherits(CordovaWebBrowserReference, _app$WebBrowserReference3);

  function CordovaWebBrowserReference(initialUrl) {
    _classCallCheck(this, CordovaWebBrowserReference);

    _get(Object.getPrototypeOf(CordovaWebBrowserReference.prototype), 'constructor', this).call(this, 'external', initialUrl);
  }

  _createClass(CordovaWebBrowserReference, [{
    key: 'attach',
    value: function attach(reference) {
      _get(Object.getPrototypeOf(CordovaWebBrowserReference.prototype), 'attach', this).call(this, reference);

      var self = this;

      function onLoadStart(e) {
        self.onNavigated.dispatch(e.url);
      }

      function onExit() {
        self.exit();
      }

      this._onLoadStart = onLoadStart;
      this._onExit = onExit;

      this._reference.addEventListener('loadstart', this._onLoadStart);
      this._reference.addEventListener('exit', this._onExit);

      this.onNavigated.dispatch(this._initialUrl);
    }
  }, {
    key: 'exit',
    value: function exit() {
      _get(Object.getPrototypeOf(CordovaWebBrowserReference.prototype), 'exit', this).call(this);

      if (this._reference) {
        this._reference.removeEventListener('loadstart', this._onLoadStart);
        this._reference.removeEventListener('exit', this._onExit);

        this._reference.close();
      }

      this._reference = null;
    }
  }]);

  return CordovaWebBrowserReference;
})(app.WebBrowserReference);

//src/js/shared/managers/abstractmanager.js

window.app.AbstractManager = (function () {
  function AbstractManager(Logger) {
    _classCallCheck(this, AbstractManager);

    this._Logger = Logger;
  }

  _createClass(AbstractManager, [{
    key: 'initialize',
    value: function initialize() {
      this._Logger.debug('Initializing ' + this.constructor.name + '...');

      return Promise.resolve();
    }
  }, {
    key: 'reset',
    value: function reset() {
      this._Logger.debug('Resetting ' + this.constructor.name + '...');
    }
  }]);

  return AbstractManager;
})();

//src/js/shared/managers/activitymonitor.js

(function () {

  var ActivityMonitor = function ActivityMonitor($rootScope, $timeout) {
    this.$$rootScope = $rootScope;
    this.$$timeout = $timeout;
    this._timeout = 10000;

    this._activeChanged = new signals.Signal();
    this.enabled = true;

    var self = this;

    this.$$rootScope.$on('$locationChangeSuccess', function () {
      if (self.enabled) {
        self.activityDetected();
      }
    });

    this.activityDetected();
  };

  ActivityMonitor.prototype = {};

  Object.defineProperty(ActivityMonitor.prototype, 'timeout', {
    get: function get() {
      return this._timeout;
    },
    set: function set(value) {
      if (value > 0) {
        this._timeout = value;
        this.activityDetected();
      }
    }
  });

  Object.defineProperty(ActivityMonitor.prototype, 'enabled', {
    get: function get() {
      return this._enabled;
    },
    set: function set(value) {
      this._enabled = value;
    }
  });

  Object.defineProperty(ActivityMonitor.prototype, 'active', {
    get: function get() {
      return this._timer !== null;
    }
  });

  Object.defineProperty(ActivityMonitor.prototype, 'activeChanged', {
    get: function get() {
      return this._activeChanged;
    }
  });

  ActivityMonitor.prototype.activityDetected = function () {
    var changed;

    if (this._timer) {
      this.$$timeout.cancel(this._timer);
    } else if (this._timer === null) {
      changed = true;
    }

    var self = this;

    var onTimeout = function onTimeout() {
      self._timer = null;

      self.$$rootScope.$apply(function () {
        if (self.enabled) {
          self.activeChanged.dispatch(self.active);
        }
      });
    };

    this._timer = this.$$timeout(onTimeout, this._timeout);

    if (changed && this.enabled) {
      this.activeChanged.dispatch(this.active);
    }
  };

  window.app.ActivityMonitor = ActivityMonitor;
})();

//src/js/shared/managers/analyticsmanager.js

window.app.AnalyticsManager = (function (_app$AbstractManager) {
  _inherits(AnalyticsManager, _app$AbstractManager);

  function AnalyticsManager(TelemetryService, AnalyticsModel, Logger) {
    _classCallCheck(this, AnalyticsManager);

    _get(Object.getPrototypeOf(AnalyticsManager.prototype), 'constructor', this).call(this, Logger);
    this._TelemetryService = TelemetryService;
    this._AnalyticsModel = AnalyticsModel;
  }

  _createClass(AnalyticsManager, [{
    key: 'initialize',
    value: function initialize() {
      _get(Object.getPrototypeOf(AnalyticsManager.prototype), 'initialize', this).call(this);

      return this.model.initialize();
    }
  }, {
    key: 'reset',
    value: function reset() {
      _get(Object.getPrototypeOf(AnalyticsManager.prototype), 'reset', this).call(this);

      return this.model.reset();
    }
  }, {
    key: 'submit',
    value: function submit() {
      this._Logger.debug('Submitting analytics data with ' + (this.model.sessions.length + ' seat sessions, ') + (this.model.answers.length + ' answers, ') + (this.model.chats.length + ' chats, ') + (this.model.comments.length + ' comments, ') + (this.model.clicks.length + ' clicks, ') + (this.model.pages.length + ' pages, ') + (this.model.advertisements.length + ' advertisements and ') + (this.model.urls.length + ' URLs.'));

      return this.reset();

      /*var self = this;
      return new Promise((resolve, reject) => {
        self._TelemetryService.submitTelemetry({
          sessions: self.model.sessions.data,
          advertisements: self.model.advertisements.data,
          answers: self.model.answers.data,
          chats: self.model.chats.data,
          comments: self.model.comments.data,
          clicks: self.model.clicks.data,
          pages: self.model.pages.data,
          urls: self.model.urls.data
        }).then(() => {
          self.model.reset();
          resolve();
        }, e => {
          self._Logger.warn(`Unable to submit analytics data: ${e.message}`);
          reject(e);
        });
      });*/
    }
  }, {
    key: 'model',
    get: function get() {
      return this._AnalyticsModel;
    }
  }]);

  return AnalyticsManager;
})(app.AbstractManager);

//src/js/shared/managers/authenticationmanager.js

window.app.AuthenticationManager = (function (_app$AbstractManager2) {
  _inherits(AuthenticationManager, _app$AbstractManager2);

  /* global moment */

  function AuthenticationManager(BackendApi, SessionModel, SNAPEnvironment, WebBrowser, Logger) {
    _classCallCheck(this, AuthenticationManager);

    _get(Object.getPrototypeOf(AuthenticationManager.prototype), 'constructor', this).call(this, Logger);

    this._BackendApi = BackendApi;
    this._SessionModel = SessionModel;
    this._SNAPEnvironment = SNAPEnvironment;
    this._WebBrowser = WebBrowser;
  }

  _createClass(AuthenticationManager, [{
    key: 'validate',
    value: function validate() {
      var _this2 = this;

      var model = this._SessionModel;

      this._Logger.debug('Validating access token...');

      return new Promise(function (resolve, reject) {
        model.initialize().then(function () {
          var token = model.apiToken;

          if (!token || !_this2._validateToken(token)) {
            _this2._Logger.debug('Authorization is not valid.');
            resolve(false);
          } else {
            _this2._Logger.debug('Validating authorization session...');

            _this2._BackendApi.oauth2.getSession().then(function (session) {
              session = URI('?' + session).query(true); //ToDo: remove this hack

              if (session && session.valid === 'true') {
                _this2._Logger.debug('Authorization is valid.', session);
                resolve(true);
              } else {
                _this2._Logger.debug('Authorization is not valid or expired.', session);
                resolve(false);
              }
            }, function (e) {
              _this2._Logger.debug('Unable to validate authorization.', e);
              resolve(null);
            });
          }
        }, function (e) {
          _this2._Logger.debug('Error validating authorization.', e);
          resolve(null);
        });
      });
    }
  }, {
    key: 'authorize',
    value: function authorize() {
      var _this3 = this;

      this._Logger.debug('Authorizing API access...');

      var self = this;
      return new Promise(function (resolve, reject) {
        _this3._SessionModel.clear().then(function () {
          var application = _this3._SNAPEnvironment.main_application,
              authUrl = _this3._BackendApi.oauth2.getTokenAuthorizeUrl(application.client_id, application.callback_url, application.scope);

          _this3._WebBrowser.open(authUrl).then(function (browser) {
            var complete = false;

            function handleCallback(url) {
              if (url.indexOf(application.callback_url) !== 0) {
                return;
              }

              complete = true;
              browser.exit();

              var callbackResponse = url.split('#')[1],
                  responseParameters = callbackResponse.split('&'),
                  parameterMap = [];

              for (var i = 0; i < responseParameters.length; i++) {
                parameterMap[responseParameters[i].split('=')[0]] = responseParameters[i].split('=')[1];
              }

              if (parameterMap.access_token !== undefined && parameterMap.access_token !== null) {
                var token = {
                  access_token: parameterMap.access_token,
                  expires_in: parameterMap.expires_in
                };

                self._Logger.debug('New access token issued.', token);

                self._SessionModel.apiToken = token;

                return resolve();
              }

              self._Logger.debug('Problem issuing new access token.', parameterMap);
              reject('Problem authenticating: ' + url);
            }

            browser.onNavigated.add(function (url) {
              return handleCallback(url);
            });

            browser.onExit.add(function () {
              if (complete) {
                return;
              }

              reject('Canceled');
            });
          }, reject);
        }, reject);
      });
    }
  }, {
    key: 'customerLoginRegular',
    value: function customerLoginRegular(credentials) {
      var _this4 = this;

      return new Promise(function (resolve, reject) {
        var application = _this4._SNAPEnvironment.customer_application;
        _this4._BackendApi.oauth2.getTokenWithCredentials(application.client_id, credentials.login, credentials.password).then(function (result) {
          if (!result) {
            return reject();
          }

          result = JSON.parse(result); //ToDo: fix

          if (result.error || !result.access_token) {
            return reject(result.error);
          }

          var session = {
            access_token: result.access_token
          };

          if (result.expires_in) {
            session.expires = moment().add(result.expires_in, 'seconds').unix();
          }

          _this4._SessionModel.customerToken = session;

          resolve();
        }, reject);
      });
    }
  }, {
    key: 'customerLoginSocial',
    value: function customerLoginSocial(token) {
      var _this5 = this;

      return new Promise(function (resolve, reject) {
        var session = {
          access_token: token.access_token
        };

        if (token.expires_in) {
          session.expires = moment().add(token.expires_in, 'seconds').unix();
        }

        _this5._SessionModel.customerToken = session;

        resolve();
      });
    }
  }, {
    key: '_validateToken',
    value: function _validateToken(token) {
      if (!token || !token.access_token) {
        return false;
      }

      if (token.expires) {
        var expires = moment.unix(token.expires);

        if (expires.isBefore(moment())) {
          return false;
        }
      }

      return true;
    }
  }]);

  return AuthenticationManager;
})(app.AbstractManager);

//src/js/shared/managers/chatmanager.js

window.app.ChatManager = (function (_app$AbstractManager3) {
  _inherits(ChatManager, _app$AbstractManager3);

  /* global moment, signals */

  function ChatManager(AnalyticsModel, ChatModel, CustomerModel, LocationModel, SocketClient, Logger) {
    _classCallCheck(this, ChatManager);

    _get(Object.getPrototypeOf(ChatManager.prototype), 'constructor', this).call(this, Logger);

    var self = this;

    this.MESSAGE_TYPES = {
      LOCATION: 'location',
      DEVICE: 'device'
    };
    this.MESSAGE_STATUSES = {
      CHAT_REQUEST: 'chat_request',
      CHAT_REQUEST_ACCEPTED: 'chat_request_accepted',
      CHAT_REQUEST_DECLINED: 'chat_request_declined',
      GIFT_REQUEST: 'gift_request',
      GIFT_REQUEST_ACCEPTED: 'gift_request_accepted',
      GIFT_REQUEST_DECLINED: 'gift_request_declined',
      CHAT_CLOSED: 'chat_closed'
    };
    this.OPERATIONS = {
      CHAT_MESSAGE: 'chat_message',
      STATUS_REQUEST: 'status_request',
      STATUS_UPDATE: 'status_update'
    };
    this.ROOMS = {
      LOCATION: 'location_',
      DEVICE: 'device_'
    };

    this._AnalyticsModel = AnalyticsModel;
    this._ChatModel = ChatModel;
    this._CustomerModel = CustomerModel;
    this._LocationModel = LocationModel;
    this._SocketClient = SocketClient;

    this._ChatModel.isEnabledChanged.add(function () {
      return self._sendStatusUpdate();
    });
    this._ChatModel.isPresentChanged.add(function () {
      return self._sendStatusUpdate();
    });
    this._CustomerModel.profileChanged.add(function () {
      return self._sendStatusUpdate();
    });
    this._LocationModel.seatChanged.add(function () {
      return self._sendStatusUpdate();
    });

    this._SocketClient.isConnectedChanged.add(function (isConnected) {
      self.model.isConnected = isConnected;
      self._sendStatusUpdate();
      self._sendStatusRequest();
    });

    this._SocketClient.subscribe(this.ROOMS.LOCATION + this._LocationModel.location.token, function (message) {
      switch (message.operation) {
        case self.OPERATIONS.CHAT_MESSAGE:
          self._onMessage(message);
          break;
        case self.OPERATIONS.STATUS_REQUEST:
          self._onStatusRequest(message);
          break;
        case self.OPERATIONS.STATUS_UPDATE:
          self._onStatusUpdate(message);
          break;
      }
    });

    this._SocketClient.subscribe(this.ROOMS.DEVICE + this._LocationModel.device, function (message) {
      switch (message.operation) {
        case self.OPERATIONS.CHAT_MESSAGE:
          self._onMessage(message);
          break;
        case self.OPERATIONS.STATUS_UPDATE:
          self._onStatusUpdate(message);
          break;
      }
    });
  }

  _createClass(ChatManager, [{
    key: 'reset',
    value: function reset() {
      _get(Object.getPrototypeOf(ChatManager.prototype), 'reset', this).call(this);

      this.model.reset();

      return Promise.resolve();
    }

    //-----------------------------------------------
    //    Messaging
    //-----------------------------------------------

  }, {
    key: 'sendMessage',
    value: function sendMessage(message) {
      message.device = this._LocationModel.device;
      message.operation = this.OPERATIONS.CHAT_MESSAGE;
      message.type = message.to_device ? this.MESSAGE_TYPES.DEVICE : this.MESSAGE_TYPES.LOCATION;

      this._addMessageID(message);
      this.model.addHistory(message);

      var topic = this._getTopic(message);

      this._SocketClient.send(topic, message);
      this._AnalyticsModel.logChat(message);
    }
  }, {
    key: 'approveDevice',
    value: function approveDevice(token) {
      var device = this._LocationModel.getDevice(token);

      this.model.setLastRead(token, moment().unix());

      if (this.model.isPendingDevice(device)) {
        this.model.removePendingDevice(device);

        this.sendMessage({
          status: this.MESSAGE_STATUSES.CHAT_REQUEST_ACCEPTED,
          to_device: device.token
        });
      } else {
        this.sendMessage({
          status: this.MESSAGE_STATUSES.CHAT_REQUEST,
          to_device: device.token
        });
      }

      if (!this.model.isActiveDevice(device)) {
        this.model.addActiveDevice(device);
      }
    }
  }, {
    key: 'declineDevice',
    value: function declineDevice(token) {
      var device = this._LocationModel.getDevice(token);

      if (this.model.isActiveDevice(device)) {
        this.model.removeActiveDevice(device);

        this.sendMessage({
          status: this.MESSAGE_STATUSES.CHAT_CLOSED,
          to_device: device.token
        });
      } else {
        this.sendMessage({
          status: this.MESSAGE_STATUSES.CHAT_REQUEST_DECLINED,
          to_device: device.token
        });
      }
    }
  }, {
    key: 'getMessageName',
    value: function getMessageName(message) {
      if (this._LocationModel.device === message.device) {
        return 'Me';
      }

      return message.username || this.getDeviceName(message.device);
    }
  }, {
    key: 'getDeviceName',
    value: function getDeviceName(token) {
      var device = this._LocationModel.getDevice(token);

      if (device) {
        if (this._LocationModel.device === device.token) {
          return 'Me';
        }

        if (device.username) {
          return device.username;
        }

        for (var p in this._LocationModel.seats) {
          if (this._LocationModel.seats[p].token === device.seat) {
            return this._LocationModel.seats[p].name;
          }
        }
      }

      return 'Guest';
    }

    //-----------------------------------------------
    //    Notifications
    //-----------------------------------------------

  }, {
    key: 'checkIfUnread',
    value: function checkIfUnread(device_token, message) {
      var lastRead = this.model.getLastRead(device_token);

      if (!lastRead) {
        return false;
      }

      if (message) {
        return moment.unix(message.received).isAfter(moment.unix(lastRead));
      }

      return this.getUnreadCount(device_token) > 0;
    }
  }, {
    key: 'getUnreadCount',
    value: function getUnreadCount(device_token) {
      var lastRead = this.model.getLastRead(device_token);

      if (!lastRead) {
        return 0;
      }

      var self = this,
          fromDate = moment.unix(lastRead);

      return this.model.history.filter(function (message) {
        return message.type === self.MESSAGE_TYPES.DEVICE && message.device === device_token;
      }).filter(function (message) {
        return moment.unix(message.received).isAfter(fromDate);
      }).length;
    }
  }, {
    key: 'markAsRead',
    value: function markAsRead(device_token) {
      this.model.setLastRead(device_token, moment().unix());
    }

    //-----------------------------------------------
    //    Gifts
    //-----------------------------------------------

  }, {
    key: 'sendGift',
    value: function sendGift(items) {
      if (!this.model.giftDevice) {
        return;
      }

      this.sendMessage({
        status: this.MESSAGE_STATUSES.GIFT_REQUEST,
        to_device: this.model.giftDevice,
        text: items.reduce(function (result, item) {
          if (result !== '') {
            result += ', ';
          }
          result += item.item.title;
          return result;
        }, '')
      });
    }
  }, {
    key: 'acceptGift',
    value: function acceptGift(device) {
      this.sendMessage({
        status: this.MESSAGE_STATUSES.GIFT_REQUEST_ACCEPTED,
        to_device: device.token
      });
    }
  }, {
    key: 'declineGift',
    value: function declineGift(device) {
      this.sendMessage({
        status: this.MESSAGE_STATUSES.GIFT_REQUEST_DECLINED,
        to_device: device.token
      });
    }
  }, {
    key: 'startGift',
    value: function startGift(device_token) {
      var device = this._LocationModel.getDevice(device_token);

      this.model.giftDevice = device_token;
      this.model.giftSeat = device.seat;
    }
  }, {
    key: 'endGift',
    value: function endGift() {
      this.model.giftDevice = null;
      this.model.giftSeat = null;
    }

    //------------------------------------------------------------------------
    //
    //  Private methods
    //
    //------------------------------------------------------------------------

  }, {
    key: '_onMessage',
    value: function _onMessage(message) {
      if (!message.id) {
        return;
      }

      if (this.model.history.filter(function (msg) {
        return msg.id === message.id;
      }).length > 0) {
        return;
      }

      message.received = moment().unix();

      var device = this._LocationModel.getDevice(message.device),
          giftDevice = this.model.giftDevice,
          seat = this._LocationModel.seat.token;

      if (!device) {
        return;
      }

      if (message.status === this.MESSAGE_STATUSES.CHAT_REQUEST && !this.model.isPendingDevice(device) && !this.model.isActiveDevice(device)) {
        this.model.addPendingDevice(device);
        this.model.chatRequestReceived.dispatch(device.token);
      }

      if (message.status === this.MESSAGE_STATUSES.GIFT_REQUEST && this.model.isActiveDevice(device)) {
        this.model.giftRequestReceived.dispatch(device, message.text);
      }

      if (message.to_device) {
        if (message.status === this.MESSAGE_STATUSES.GIFT_REQUEST_ACCEPTED) {
          if (giftDevice && giftDevice === message.device) {
            this.model.giftAccepted.dispatch(true);
            this.model.giftDevice = null;
          }
        } else if (message.status === this.MESSAGE_STATUSES.GIFT_REQUEST_DECLINED) {
          if (giftDevice && giftDevice === message.device) {
            this.model.giftAccepted.dispatch(false);
            this.model.giftDevice = null;
          }
        } else if (message.status === this.MESSAGE_STATUSES.CHAT_REQUEST_DECLINED) {
          this.declineDevice(device);
        }
      }

      if (message.operation === this.OPERATIONS.CHAT_MESSAGE) {
        message.username = this.getDeviceName(device);
        this.model.addHistory(message);
      }

      this.model.messageReceived.dispatch(message);
    }
  }, {
    key: '_onStatusRequest',
    value: function _onStatusRequest(message) {
      if (message.device === this._LocationModel.device) {
        return;
      }

      this._sendStatusUpdate(message.device);
    }
  }, {
    key: '_onStatusUpdate',
    value: function _onStatusUpdate(message) {
      if (message.device === this._LocationModel.device) {
        return;
      }

      var device = this._LocationModel.getDevice(message.device);

      if (!device) {
        device = {
          token: message.device
        };

        this._LocationModel.addDevice(device);
      }

      if (!message.is_available && device.is_available) {
        var _history = {
          operation: this.OPERATIONS.CHAT_MESSAGE,
          type: this.MESSAGE_TYPES.DEVICE,
          device: device.token,
          status: this.MESSAGE_STATUSES.CHAT_CLOSED,
          to_device: this._LocationModel.device
        };
        this._addMessageID(_history);
        this.model.addHistory(_history);
      }

      device.is_available = Boolean(message.is_available);
      device.is_present = Boolean(message.is_present);
      device.seat = message.seat;
      device.username = message.username;

      this._LocationModel.devicesChanged.dispatch(this._LocationModel.devices);
    }
  }, {
    key: '_sendStatusRequest',
    value: function _sendStatusRequest() {
      if (!this.model.isConnected) {
        return;
      }

      var message = {
        operation: this.OPERATIONS.STATUS_REQUEST,
        device: this._LocationModel.device
      };

      this._SocketClient.send(this._getTopic(message), message);
    }
  }, {
    key: '_sendStatusUpdate',
    value: function _sendStatusUpdate(device) {
      if (!this.model.isConnected) {
        return;
      }

      var profile = this._CustomerModel.profile,
          username = undefined;

      if (profile && profile.first_name) {
        username = profile.first_name + ' ' + profile.last_name;
      }

      var message = {
        operation: this.OPERATIONS.STATUS_UPDATE,
        to_device: device,
        device: this._LocationModel.device,
        seat: this._LocationModel.seat.token,
        is_available: this.model.isEnabled,
        is_present: this.model.isPresent,
        username: username
      };

      this._SocketClient.send(this._getTopic(message), message);
    }
  }, {
    key: '_getTopic',
    value: function _getTopic(message) {
      return message.to_device ? this.ROOMS.DEVICE + message.to_device : this.ROOMS.LOCATION + this._LocationModel.location.token;
    }
  }, {
    key: '_addMessageID',
    value: function _addMessageID(message) {
      message.id = message.id || 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        var r = Math.random() * 16 | 0,
            v = c === 'x' ? r : r & 0x3 | 0x8;
        return v.toString(16);
      });
    }
  }, {
    key: 'model',
    get: function get() {
      return this._ChatModel;
    }
  }]);

  return ChatManager;
})(app.AbstractManager);

//src/js/shared/managers/customermanager.js

window.app.CustomerManager = (function (_app$AbstractManager4) {
  _inherits(CustomerManager, _app$AbstractManager4);

  function CustomerManager(DtsApi, CustomerModel, SessionModel, Logger, SNAPEnvironment) {
    _classCallCheck(this, CustomerManager);

    _get(Object.getPrototypeOf(CustomerManager.prototype), 'constructor', this).call(this, Logger);

    this._DtsApi = DtsApi;
    this._CustomerModel = CustomerModel;
    this._SessionModel = SessionModel;
    this._customerAppId = SNAPEnvironment.customer_application.client_id;
  }

  _createClass(CustomerManager, [{
    key: 'reset',
    value: function reset() {
      _get(Object.getPrototypeOf(CustomerManager.prototype), 'reset', this).call(this);

      return this.logout();
    }
  }, {
    key: 'logout',
    value: function logout() {
      var self = this;
      return new Promise(function (resolve) {
        self._SessionModel.customerToken = null;
        self._CustomerModel.profile = null;
        resolve();
      });
    }
  }, {
    key: 'guestLogin',
    value: function guestLogin() {
      var self = this;
      return new Promise(function (resolve) {
        self._CustomerModel.profile = 'guest';
        resolve();
      });
    }
  }, {
    key: 'login',
    value: function login() {
      return this._loadProfile();
    }
  }, {
    key: 'loginSocial',
    value: function loginSocial() {
      return this._loadProfile();
    }
  }, {
    key: 'signUp',
    value: function signUp(registration) {
      var self = this;
      return new Promise(function (resolve, reject) {
        registration.client_id = self._customerAppId;
        self._DtsApi.customer.signUp(registration).then(function () {
          self.login({
            login: registration.username,
            password: registration.password
          }).then(resolve, reject);
        }, reject);
      });
    }
  }, {
    key: 'updateProfile',
    value: function updateProfile(profile) {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._DtsApi.customer.updateProfile(profile).then(function () {
          self._CustomerModel.profile = profile;
          resolve();
        }, reject);
      });
    }
  }, {
    key: 'changePassword',
    value: function changePassword(request) {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._DtsApi.customer.changePassword(request).then(function () {
          self.login({
            login: self._CustomerModel.email,
            password: request.new_password
          }).then(resolve, reject);
        }, reject);
      });
    }
  }, {
    key: 'resetPassword',
    value: function resetPassword(request) {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._DtsApi.customer.resetPassword(request).then(function () {
          resolve();
        }, reject);
      });
    }
  }, {
    key: '_loadProfile',
    value: function _loadProfile() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._DtsApi.customer.getProfile().then(function (profile) {
          self._CustomerModel.profile = profile;
          resolve();
        }, reject);
      });
    }
  }, {
    key: 'model',
    get: function get() {
      return this._CustomerModel;
    }
  }, {
    key: 'customerName',
    get: function get() {
      if (this.model.isEnabled && this.model.isAuthenticated && !this.model.isGuest) {
        var name = '';

        if (this.model.profile.first_name) {
          name += this.model.profile.first_name;
        }

        if (this.model.profile.last_name) {
          name += ' ' + this.model.profile.last_name;
        }

        return name;
      }

      return null;
    }
  }]);

  return CustomerManager;
})(app.AbstractManager);

//src/js/shared/managers/datamanager.js

window.app.DataManager = (function (_app$AbstractManager5) {
  _inherits(DataManager, _app$AbstractManager5);

  /* global signals */

  function DataManager(DataModel, Logger, SNAPEnvironment) {
    _classCallCheck(this, DataManager);

    _get(Object.getPrototypeOf(DataManager.prototype), 'constructor', this).call(this, Logger);

    this._DataModel = DataModel;
    this._SNAPEnvironment = SNAPEnvironment;

    this.homeChanged = new signals.Signal();
    this.menuChanged = new signals.Signal();
    this.categoryChanged = new signals.Signal();
    this.itemChanged = new signals.Signal();

    this._CACHEABLE_MEDIA_KINDS = [11, 41, 51, 58, 61];
  }

  _createClass(DataManager, [{
    key: 'initialize',
    value: function initialize() {
      _get(Object.getPrototypeOf(DataManager.prototype), 'initialize', this).call(this);

      var self = this;
      this._cache = {
        menu: {},
        category: {},
        item: {},
        media: {}
      };

      return this.model.digest().then(function (digest) {
        var menuSets = (digest.menu_sets || []).map(function (menu) {
          return new Promise(function (resolve, reject) {
            self.model.menu(menu.token).then(function (data) {
              return self._cache.menu[menu.token] = self._filterMenu(data);
            }).then(resolve, resolve);
          });
        });

        var menuCategories = (digest.menu_categories || []).map(function (category) {
          return new Promise(function (resolve, reject) {
            self.model.category(category.token).then(function (data) {
              return self._cache.category[category.token] = self._filterCategory(data);
            }).then(resolve, resolve);
          });
        });

        var menuItems = (digest.menu_items || []).map(function (item) {
          return new Promise(function (resolve, reject) {
            self.model.item(item.token).then(function (data) {
              return self._cache.item[item.token] = data;
            }).then(resolve, resolve);
          });
        });

        var medias = (digest.media || []).filter(function (media) {
          return self._CACHEABLE_MEDIA_KINDS.indexOf(media.kind) !== -1;
        }).map(function (media) {
          var width, height;

          switch (media.kind) {
            case 11:
              width = 1920;
              height = 1080;
              break;
            case 41:
            case 51:
              width = 370;
              height = 370;
              break;
            case 58:
              width = 600;
              height = 600;
              break;
            case 61:
              width = 100;
              height = 100;
              break;
          }

          media.width = width;
          media.height = height;

          return media;
        }).map(function (media) {
          return new Promise(function (resolve, reject) {
            self.model.media(media).then(function (img) {
              return self._cache.media[media.token] = img;
            }).then(resolve, resolve);
          });
        });

        self._Logger.debug('Digest contains ' + menuSets.length + ' menus, ' + (menuCategories.length + ' categories, ') + (menuItems.length + ' items and ') + (medias.length + ' files.'));

        var tasks = [].concat(menuSets).concat(menuCategories).concat(menuItems);

        Promise.all(tasks).then(function () {
          Promise.all(medias);
        });
      });
    }
  }, {
    key: 'reset',
    value: function reset() {
      _get(Object.getPrototypeOf(DataManager.prototype), 'reset', this).call(this);

      return this.model.clear();
    }
  }, {
    key: '_cached',
    value: function _cached(group, id) {
      if (!this._cache) {
        return null;
      }

      if (id && this._cache[group] && this._cache[group][id]) {
        return this._cache[group][id];
      } else if (!id && this._cache[group]) {
        return this._cache[group];
      }

      return null;
    }
  }, {
    key: '_filterHome',
    value: function _filterHome(data) {
      var self = this;
      data.menus = data.menus.filter(function (menu) {
        return self._SNAPEnvironment.platform === 'desktop' || menu.type !== 3;
      });

      return data;
    }
  }, {
    key: '_filterMenu',
    value: function _filterMenu(data) {
      return data;
    }
  }, {
    key: '_filterCategory',
    value: function _filterCategory(data) {
      var self = this;
      data.items = data.items.filter(function (item) {
        return self._SNAPEnvironment.platform === 'desktop' || item.type !== 3;
      });

      return data;
    }
  }, {
    key: 'model',
    get: function get() {
      return this._DataModel;
    }
  }, {
    key: 'home',
    get: function get() {
      return this._home;
    },
    set: function set(value) {
      if (this._home === value) {
        return;
      }

      if (value) {
        var self = this;
        this._home = value;
        this.model.home().then(function (home) {
          if (self._home) {
            home = self._filterHome(home);
            self.homeChanged.dispatch(home);
          }
        });
      } else {
        this._home = undefined;
        this.homeChanged.dispatch(undefined);
      }
    }
  }, {
    key: 'menu',
    get: function get() {
      return this._menu;
    },
    set: function set(value) {
      if (this._menu === value) {
        return;
      }

      if (value) {
        var self = this;
        this._menu = value;

        var data = this._cached('menu', value);

        if (data) {
          return this.menuChanged.dispatch(data);
        }

        this.model.menu(value).then(function (menu) {
          if (self._menu) {
            menu = self._filterMenu(menu);
            self.menuChanged.dispatch(menu);
          }
        });
      } else {
        this._menu = undefined;
        this.menuChanged.dispatch(undefined);
      }
    }
  }, {
    key: 'category',
    get: function get() {
      return this._category;
    },
    set: function set(value) {
      if (this._category === value) {
        return;
      }

      if (value) {
        var self = this;
        this._category = value;

        var data = this._cached('category', value);

        if (data) {
          return this.categoryChanged.dispatch(data);
        }

        this.model.category(value).then(function (category) {
          if (self._category) {
            category = self._filterCategory(category);
            self.categoryChanged.dispatch(category);
          }
        });
      } else {
        this._category = undefined;
        this.categoryChanged.dispatch(undefined);
      }
    }
  }, {
    key: 'item',
    get: function get() {
      return this._item;
    },
    set: function set(value) {
      if (this._item === value) {
        return;
      }

      if (value) {
        var self = this;
        this._item = value;

        var data = this._cached('item', value);

        if (data) {
          return this.itemChanged.dispatch(data);
        }

        this.model.item(value).then(function (item) {
          if (self._item) {
            self.itemChanged.dispatch(item);
          }
        });
      } else {
        this._item = undefined;
        this.itemChanged.dispatch(undefined);
      }
    }
  }]);

  return DataManager;
})(app.AbstractManager);

//src/js/shared/managers/dialogmanager.js

window.app.DialogManager = (function (_app$AbstractManager6) {
  _inherits(DialogManager, _app$AbstractManager6);

  function DialogManager(Logger) {
    _classCallCheck(this, DialogManager);

    _get(Object.getPrototypeOf(DialogManager.prototype), 'constructor', this).call(this, Logger);

    this.alertRequested = new signals.Signal();
    this.notificationRequested = new signals.Signal();
    this.confirmRequested = new signals.Signal();
    this.jobStarted = new signals.Signal();
    this.jobEnded = new signals.Signal();
    this._jobs = 0;
  }

  _createClass(DialogManager, [{
    key: 'alert',
    value: function alert(message, title) {
      var self = this;
      return new Promise(function (resolve, reject) {
        self.alertRequested.dispatch(message, title, resolve, reject);
      });
    }
  }, {
    key: 'notification',
    value: function notification(message) {
      this.notificationRequested.dispatch(message);
    }
  }, {
    key: 'confirm',
    value: function confirm(message) {
      var self = this;
      return new Promise(function (resolve, reject) {
        self.confirmRequested.dispatch(message, resolve, reject);
      });
    }
  }, {
    key: 'startJob',
    value: function startJob() {
      this._jobs++;

      if (this._jobs === 1) {
        this.jobStarted.dispatch();
      }

      return this._jobs;
    }
  }, {
    key: 'endJob',
    value: function endJob(id) {
      this._jobs--;

      if (this._jobs === 0) {
        this.jobEnded.dispatch();
      }
    }
  }, {
    key: 'jobs',
    get: function get() {
      return this._jobs;
    }
  }]);

  return DialogManager;
})(app.AbstractManager);

//src/js/shared/managers/locationmanager.js

window.app.LocationManager = (function (_app$AbstractManager7) {
  _inherits(LocationManager, _app$AbstractManager7);

  function LocationManager(DataModel, DtsApi, LocationModel, Logger) {
    _classCallCheck(this, LocationManager);

    _get(Object.getPrototypeOf(LocationManager.prototype), 'constructor', this).call(this, Logger);

    this._DataModel = DataModel;
    this._DtsApi = DtsApi;
    this._LocationModel = LocationModel;
  }

  _createClass(LocationManager, [{
    key: 'loadConfig',
    value: function loadConfig() {
      var self = this,
          model = self._LocationModel;

      return new Promise(function (resolve, reject) {
        function loadConfig() {
          self._Logger.debug('Loading location config...');

          model.fetch('location').then(function (location) {
            self._Logger.debug('New \'' + location.location_name + '\' location config loaded.');
            resolve(location);
          }, function (e) {
            if (!model.location) {
              return reject(e);
            }

            self._Logger.debug('Fallback to stored location \'' + model.location.location_name + '\'.');
            resolve(model.location);
          });
        }

        model.initialize().then(function () {
          self._Logger.debug('Loading device info...');

          model.fetch('device').then(function (device) {
            self._Logger.debug('New device loaded: token=' + device.token + ';location=' + device.location_token);
            loadConfig();
          }, function (e) {
            if (!model.device) {
              return reject(e);
            }

            self._Logger.debug('Fallback to stored device: token=' + model.device.token + ';location=' + model.device.location_token);
            loadConfig();
          });
        }, reject);
      });
    }
  }, {
    key: 'loadSeats',
    value: function loadSeats() {
      var self = this,
          model = self._LocationModel;

      return new Promise(function (resolve, reject) {
        function loadSeat() {
          self._Logger.debug('Loading current seat info...');

          model.fetch('seat').then(function (seat) {
            self._Logger.debug('New seat data loaded for #' + seat.token + '.');
            resolve(seat);
          }, function (e) {
            if (!model.seat) {
              return reject(e);
            }

            self._Logger.debug('Fallback to stored seat #' + model.seat.token + '.');
            resolve(model.seat);
          });
        }

        model.initialize().then(function () {
          self._Logger.debug('Loading location seats...');

          model.fetch('seats').then(function (seats) {
            self._Logger.debug('Location seats loaded (' + seats.length + ').');
            loadSeat();
          }, function (e) {
            if (!model.seats) {
              return reject(e);
            }

            self._Logger.debug('Fallback to stored seats (' + model.seats.length + ').');
            loadSeat();
          });
        }, reject);
      });
    }
  }, {
    key: 'model',
    get: function get() {
      return this._LocationModel;
    }
  }]);

  return LocationManager;
})(app.AbstractManager);

//src/js/shared/managers/navigationmanager.js

window.app.NavigationManager = (function (_app$AbstractManager8) {
  _inherits(NavigationManager, _app$AbstractManager8);

  /* global signals */

  function NavigationManager($rootScope, $location, $window, AnalyticsModel, Logger) {
    var _this6 = this;

    _classCallCheck(this, NavigationManager);

    _get(Object.getPrototypeOf(NavigationManager.prototype), 'constructor', this).call(this, Logger);

    this.$$location = $location;
    this.$$window = $window;
    this._AnalyticsModel = AnalyticsModel;

    this.locationChanging = new signals.Signal();
    this.locationChanged = new signals.Signal();

    $rootScope.$on('$locationChangeSuccess', function () {
      var path = _this6.$$location.path();

      if (path !== _this6._path) {
        _this6._path = path;
        _this6._location = _this6.getLocation(path);
        _this6.locationChanging.dispatch(_this6.location);
      }

      _this6.locationChanged.dispatch(_this6.location);
    });

    this.locationChanged.add(function (location) {
      return _this6._AnalyticsModel.logNavigation(location);
    });
  }

  _createClass(NavigationManager, [{
    key: 'getPath',
    value: function getPath(location) {
      if (!location) {
        return null;
      }

      if (location.token) {
        return '/' + location.type + '/' + location.token;
      } else if (location.url) {
        return '/' + location.type + '/' + encodeURIComponent(location.url);
      }

      if (location.type === 'home') {
        return '/';
      }

      return '/' + location.type;
    }
  }, {
    key: 'getLocation',
    value: function getLocation(path) {
      var match = /\/(\w+)?(\/(.+))?/.exec(path);

      if (match && match.length > 1) {
        var type = match[1];
        var param = match[3];

        if (param !== undefined) {
          switch (type) {
            case 'url':
              return { type: type, url: decodeURIComponent(param) };

            default:
              return { type: type, token: param };
          }
        }

        if (!type) {
          type = 'home';
        }

        return { type: type };
      }

      return {};
    }
  }, {
    key: 'goBack',
    value: function goBack() {
      if (this.location.type !== 'home' && this.location.type !== 'signin') {
        this.$$window.history.back();
      }
    }
  }, {
    key: 'getQueryParameter',
    value: function getQueryParameter(name) {
      var regex = new RegExp(name + "=([^&#]*)"),
          results = regex.exec(window.location.hash);
      return results === null ? undefined : decodeURIComponent(results[1].replace(/\+/g, " "));
    }
  }, {
    key: 'path',
    get: function get() {
      return this._path;
    },
    set: function set(value) {
      var i = value.indexOf('#'),
          path = i !== -1 ? value.substring(i + 1) : value;

      this.location = this.getLocation(path);
    }
  }, {
    key: 'location',
    get: function get() {
      return this._location;
    },
    set: function set(value) {
      if (this._location === value) {
        return;
      } else if (this.location.type === value.type && this.location.token === value.token) {
        return;
      }

      this._location = value;
      this.locationChanging.dispatch(this.location);

      this._path = this.getPath(this.location);
      this.$$location.path(this._path);
    }
  }]);

  return NavigationManager;
})(app.AbstractManager);

//src/js/shared/managers/ordermanager.js

window.app.OrderManager = (function (_app$AbstractManager9) {
  _inherits(OrderManager, _app$AbstractManager9);

  function OrderManager(ChatModel, CustomerModel, DtsApi, OrderModel, Logger) {
    var _this7 = this;

    _classCallCheck(this, OrderManager);

    _get(Object.getPrototypeOf(OrderManager.prototype), 'constructor', this).call(this, Logger);

    this._DtsApi = DtsApi;
    this._ChatModel = ChatModel;
    this._CustomerModel = CustomerModel;
    this._OrderModel = OrderModel;

    this._ChatModel.giftSeatChanged.add(function (giftSeat) {
      if (_this7.model.orderCartStash.length === 0) {
        _this7.model.orderCartStash = _this7.model.orderCart;
        _this7.model.orderCart = [];
      }

      if (!giftSeat) {
        _this7.model.orderCart = _this7.model.orderCartStash;
      }
    });
  }

  _createClass(OrderManager, [{
    key: 'reset',
    value: function reset() {
      var _this8 = this;

      _get(Object.getPrototypeOf(OrderManager.prototype), 'reset', this).call(this);

      return new Promise(function (resolve) {
        _this8.model.clearWatcher(_this8.model.REQUEST_KIND_ORDER);
        _this8.model.clearWatcher(_this8.model.REQUEST_KIND_ASSISTANCE);
        _this8.model.clearWatcher(_this8.model.REQUEST_KIND_CLOSEOUT);

        _this8.clearCart();
        _this8.clearCheck();
        _this8.model.orderTicket = {};

        resolve();
      });
    }

    //-----------------------------------------------
    //    Cart and checks
    //-----------------------------------------------

  }, {
    key: 'addToCart',
    value: function addToCart(item) {
      this.model.orderCart.push(item);
      this.model.orderCartChanged.dispatch(this.model.orderCart);

      if (this._ChatModel.giftSeat) {
        this._ChatModel.giftReady.dispatch();
      }

      return this.model.orderCart;
    }
  }, {
    key: 'removeFromCart',
    value: function removeFromCart(item) {
      this.model.orderCart = this.model.orderCart.filter(function (entry) {
        return entry !== item;
      });
      return this.model.orderCart;
    }
  }, {
    key: 'clearCart',
    value: function clearCart() {
      this.model.orderCart = [];
      this.model.orderCartStash = [];

      this._ChatModel.giftSeat = null;
    }
  }, {
    key: 'clearCheck',
    value: function clearCheck(items) {
      var result = [];

      if (items) {
        result = this.model.orderCheck;

        items.forEach(function (item) {
          for (var i = 0; i < result.length; i++) {
            if (result[i].request === item.request) {
              result[i].quantity -= item.quantity;
              break;
            }
          }
        });

        result = result.filter(function (item) {
          return item.quantity > 0;
        });
      }

      this.model.orderCheck = result;
    }
  }, {
    key: 'submitCart',
    value: function submitCart(options) {
      if (this.model.orderCart.length === 0) {
        return;
      }

      options = options || 0;

      if (this._ChatModel.giftSeat) {
        options |= 4;
      }

      var self = this;

      var request = {
        kind: this.model.REQUEST_KIND_ORDER,
        items: this.model.orderCart.map(function (entry) {
          return {
            token: entry.item.order.token,
            quantity: entry.quantity,
            modifiers: entry.modifiers.reduce(function (result, category) {
              return result.concat(category.modifiers.reduce(function (result, modifier) {
                if (modifier.isSelected) {
                  result.push(modifier.data.token);
                }
                return result;
              }, []));
            }, []),
            note: entry.name || ''
          };
        }),
        ticket_token: self.model.orderTicket.token,
        seat_token: self._ChatModel.giftSeat,
        options: options
      };

      return new Promise(function (resolve, reject) {
        self._DtsApi.waiter.placeOrder(request).then(function (response) {
          if (response.item_tokens) {
            for (var i = 0; i < response.item_tokens.length; i++) {
              self.model.orderCart[i].request = response.item_tokens[i];
            }
          }

          self.model.orderTicket = { token: response.ticket_token };

          self.model.orderCheck = self.model.orderCheck.concat(self.model.orderCart);
          self.clearCart();

          self._ChatModel.giftSeat = null;

          var watcher = self._createWatcher(self.model.REQUEST_KIND_ORDER, response);
          resolve(watcher);
        }, reject);
      });
    }
  }, {
    key: 'requestCloseout',
    value: function requestCloseout() {
      var self = this;
      var request = {
        kind: this.model.REQUEST_KIND_CLOSEOUT,
        ticket_token: this.model.orderTicket.token
      };

      return this._DtsApi.waiter.placeRequest(request).then(function (response) {
        self.model.orderTicket = { token: response.ticket_token };
        return self._createWatcher(self.model.REQUEST_KIND_CLOSEOUT, response);
      });
    }
  }, {
    key: 'requestAssistance',
    value: function requestAssistance() {
      var self = this;
      var request = {
        kind: this.model.REQUEST_KIND_ASSISTANCE,
        ticket_token: this.model.orderTicket.token
      };

      return this._DtsApi.waiter.placeRequest(request).then(function (response) {
        self._saveTicket(response);
        return self._createWatcher(self.model.REQUEST_KIND_ASSISTANCE, response);
      });
    }
  }, {
    key: 'copyItems',
    value: function copyItems(items) {
      return items.slice(0).map(function (item) {
        return item.clone();
      });
    }
  }, {
    key: 'calculatePrice',
    value: function calculatePrice(entry) {
      var modifiers = entry.modifiers.reduce(function (total, category) {
        return total + category.modifiers.reduce(function (total, modifier) {
          return total + (modifier.isSelected && modifier.data.price > 0 ? modifier.data.price : 0);
        }, 0);
      }, 0);

      return entry.quantity * (modifiers + entry.item.order.price);
    }
  }, {
    key: 'calculateTotalPrice',
    value: function calculateTotalPrice(entries) {
      return entries ? entries.reduce(function (total, entry) {
        return total + OrderManager.prototype.calculatePrice(entry);
      }, 0) : 0;
    }
  }, {
    key: 'calculateTax',
    value: function calculateTax(entries) {
      return this.calculateTotalPrice(entries) * this.model.tax;
    }
  }, {
    key: 'uploadSignature',
    value: function uploadSignature(data) {
      return this._DtsApi.upload.uploadTemp(data, 'image/png', 'signature.png').then(function (response) {
        return response.token;
      });
    }
  }, {
    key: 'generatePaymentToken',
    value: function generatePaymentToken() {
      var self = this;

      if (this._CustomerModel.isAuthenticated && !this._CustomerModel.isGuest) {
        return this._DtsApi.customer.initializePayment().then(function (response) {
          self._savePaymentToken(response);
        });
      }

      return this._DtsApi.waiter.initializePayment().then(function (response) {
        self._savePaymentToken(response);
      });
    }
  }, {
    key: 'payOrder',
    value: function payOrder(request) {
      request.ticket_token = this.model.orderTicket.token;
      request.payment_token = this.model.orderTicket.payment_token;
      return this._DtsApi.waiter.submitCheckoutPayment(request);
    }
  }, {
    key: 'requestReceipt',
    value: function requestReceipt(request) {
      request.ticket_token = this.model.orderTicket.token;
      return this._DtsApi.waiter.requestReceipt(request);
    }
  }, {
    key: '_saveTicket',
    value: function _saveTicket(response) {
      this.model.orderTicket = {
        token: response.ticket_token,
        payment_token: this.model.orderTicket.payment_token
      };
    }
  }, {
    key: '_savePaymentToken',
    value: function _savePaymentToken(response) {
      this.model.orderTicket = {
        token: this.model.orderTicket.token,
        payment_token: response.token
      };
    }
  }, {
    key: '_createWatcher',
    value: function _createWatcher(kind, ticket) {
      var watcher = new app.RequestWatcher(ticket, this._DtsApi);
      this.model.addWatcher(kind, watcher);

      return watcher;
    }
  }, {
    key: 'model',
    get: function get() {
      return this._OrderModel;
    }
  }]);

  return OrderManager;
})(app.AbstractManager);

//src/js/shared/managers/sessionmanager.js

window.app.SessionManager = (function (_app$AbstractManager10) {
  _inherits(SessionManager, _app$AbstractManager10);

  function SessionManager(SNAPEnvironment, AnalyticsModel, CustomerModel, LocationModel, OrderModel, SurveyModel, storageProvider, Logger) {
    var _this9 = this;

    _classCallCheck(this, SessionManager);

    _get(Object.getPrototypeOf(SessionManager.prototype), 'constructor', this).call(this, Logger);

    var self = this;

    this.sessionStarted = new signals.Signal();
    this.sessionEnded = new signals.Signal();

    this._SNAPEnvironment = SNAPEnvironment;
    this._AnalyticsModel = AnalyticsModel;
    this._CustomerModel = CustomerModel;
    this._LocationModel = LocationModel;
    this._OrderModel = OrderModel;
    this._SurveyModel = SurveyModel;

    this._store = storageProvider('snap_seat_session');

    this._CustomerModel.profileChanged.add(function (customer) {
      if (!self._session || !customer) {
        return;
      }

      self._session.customer = customer.token;
      self._store.write(_this9._session);
    });

    this._LocationModel.seatChanged.add(function (seat) {
      if (!self._session || !seat) {
        return;
      }

      self._session.seat = seat.token;
      self._store.write(_this9._session);
    });

    this._OrderModel.orderTicketChanged.add(function (ticket) {
      if (!self._session || !ticket || !ticket.token) {
        return;
      }

      self._session.ticket = ticket.token;
      self._store.write(_this9._session);
    });
  }

  _createClass(SessionManager, [{
    key: 'initialize',
    value: function initialize() {
      _get(Object.getPrototypeOf(SessionManager.prototype), 'initialize', this).call(this);

      var self = this;
      return new Promise(function (resolve, reject) {
        self._store.read().then(function (data) {
          self._session = data;

          if (!data) {
            self._startSession();
          }

          resolve();
        }, reject);
      });
    }
  }, {
    key: 'reset',
    value: function reset() {
      _get(Object.getPrototypeOf(SessionManager.prototype), 'reset', this).call(this);

      return this._store.clear();
    }
  }, {
    key: 'endSession',
    value: function endSession() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._store.read().then(function (s) {
          self._session = null;

          if (s) {
            self._Logger.debug('Seat session ' + s.id + ' ended.');

            s.ended = new Date();
            self._AnalyticsModel.logSession(s);
            self.sessionEnded.dispatch(s);
          }

          self._store.clear().then(resolve, reject);
        }, reject);
      });
    }
  }, {
    key: '_startSession',
    value: function _startSession() {
      var seat = this._LocationModel.seat;

      this._session = {
        id: this._generateID(),
        seat: seat ? seat.token : undefined,
        platform: this._SNAPEnvironment.platform,
        started: new Date()
      };

      this._Logger.debug('Seat session ' + this._session.id + ' started.');

      this._store.write(this._session);
      this.sessionStarted.dispatch(this._session);
    }
  }, {
    key: '_generateID',
    value: function _generateID() {
      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        var r = Math.random() * 16 | 0,
            v = c === 'x' ? r : r & 0x3 | 0x8;
        return v.toString(16);
      });
    }
  }, {
    key: 'session',
    get: function get() {
      return this._session;
    }
  }, {
    key: 'guestCount',
    get: function get() {
      return this._session.guest_count || 1;
    },
    set: function set(value) {
      if (this._session.guest_count === value) {
        return;
      }

      this._session.guest_count = value;
      this._store.write(this._session);
    }
  }, {
    key: 'specialEvent',
    get: function get() {
      return this._session.special_event;
    },
    set: function set(value) {
      if (this._session.special_event === value) {
        return;
      }

      this._session.special_event = value;
      this._store.write(this._session);
    }
  }]);

  return SessionManager;
})(app.AbstractManager);

//src/js/shared/managers/shellmanager.js

window.app.ShellManager = (function (_app$AbstractManager11) {
  _inherits(ShellManager, _app$AbstractManager11);

  function ShellManager(DataModel, LocationModel, ShellModel, SNAPLocation, Environment, Hosts, Logger) {
    var _this10 = this;

    _classCallCheck(this, ShellManager);

    _get(Object.getPrototypeOf(ShellManager.prototype), 'constructor', this).call(this, Logger);

    this._DataModel = DataModel;
    this._LocationModel = LocationModel;
    this._ShellModel = ShellModel;
    this._SNAPLocation = SNAPLocation;
    this._Environment = Environment;
    this._Hosts = Hosts;

    this.locale = this._LocationModel.location.locale;
    this._LocationModel.locationChanged.add(function (location) {
      _this10.locale = location.locale;
    });
  }

  _createClass(ShellManager, [{
    key: 'initialize',
    value: function initialize() {
      _get(Object.getPrototypeOf(ShellManager.prototype), 'initialize', this).call(this);

      var self = this;

      var taskBackgrounds = this._DataModel.backgrounds().then(function (response) {
        self._ShellModel.backgrounds = response.main.map(function (item) {
          return {
            media: item.src
          };
        });

        self._ShellModel.screensavers = response.screensaver.map(function (item) {
          return {
            media: item.src
          };
        });

        self._ShellModel.pageBackgrounds = response.pages.map(function (item) {
          return {
            media: item.background.src,
            destination: item.destination
          };
        });
      });

      var taskElements = this._DataModel.elements().then(function (response) {
        var layout = self._SNAPLocation.theme.layout;

        var elements = {};

        switch (layout) {
          case 'classic':
            elements = {
              'button_home': self.getAssetUrl('images/button-home.png'),
              'button_back': self.getAssetUrl('images/button-back.png'),
              'button_cart': self.getAssetUrl('images/button-cart.png'),
              'button_rotate': self.getAssetUrl('images/button-rotate.png'),
              'button_waiter': self.getAssetUrl('images/button-assistance.png'),
              'button_check': self.getAssetUrl('images/button-closeout.png'),
              'button_survey': self.getAssetUrl('images/button-survey.png'),
              'button_chat': self.getAssetUrl('images/button-chat.png')
            };
            break;
          case 'galaxies':
            elements = {
              'button_back': self.getAssetUrl('images/button-back.png'),
              'button_rotate': self.getAssetUrl('images/button-rotate.png'),
              'button_settings': self.getAssetUrl('images/button-settings.png'),
              'location_logo': self.getAssetUrl('images/button-logo.png')
            };
            break;
        }

        for (var i = 0; i < response.elements.length; i++) {
          var element = response.elements[i];
          elements[element.slot] = element.src;
        }

        self._ShellModel.elements = elements;
      });

      return Promise.all([taskBackgrounds, taskElements]);
    }
  }, {
    key: 'formatPrice',
    value: function formatPrice(price) {
      return this._ShellModel.priceFormat.replace(/{(\d+)}/g, function () {
        return price.toFixed(2);
      });
    }
  }, {
    key: 'getPageBackgrounds',
    value: function getPageBackgrounds(location) {
      return this._ShellModel.pageBackgrounds.filter(function (item) {
        return item.destination.type === location.type && (item.destination.token === location.token && location.token || item.destination.url === location.url && location.url);
      });
    }
  }, {
    key: 'getAssetUrl',
    value: function getAssetUrl(file) {
      var path = this._getPath(this._Hosts['static']);

      return path + 'assets/' + this._SNAPLocation.theme.layout + '/' + file;
    }
  }, {
    key: 'getPartialUrl',
    value: function getPartialUrl(name) {
      return this.getAssetUrl('partials/' + name + '.html');
    }
  }, {
    key: 'getMediaUrl',
    value: function getMediaUrl(media, width, height, extension) {
      if (!media) {
        return null;
      }

      var path = this._getPath(this._Hosts.media);

      if (typeof media === 'string' || media instanceof String) {
        if (media.indexOf('/') === -1 && media.indexOf('.') === -1) {
          extension = extension || 'jpg';
          return path + 'media/' + media + '_' + width + '_' + height + '.' + extension;
        }

        return media;
      }

      if (!media.token) {
        return media;
      }

      var type = this.getMediaType(media);
      var url = path + 'media/' + media.token;

      if (!type) {
        return null;
      } else if (type === 'video') {
        url += '.webm';
      } else if (type === 'flash') {
        url += '.swf';
      } else if (type === 'image') {
        if (width && height) {
          url += '_' + width + '_' + height;
        }

        if (extension) {
          url += '.' + extension;
        } else {
          if (!media || !media.mime_type) {
            return undefined;
          }
          switch (media.mime_type) {
            case 'image/png':
              url += '.png';
              break;
            default:
              url += '.jpg';
              break;
          }
        }
      }

      return url;
    }
  }, {
    key: 'getMediaType',
    value: function getMediaType(media) {
      if (!media || !media.mime_type) {
        return undefined;
      }

      if (media.mime_type.substring(0, 5) === 'image') {
        return 'image';
      } else if (media.mime_type.substring(0, 5) === 'video') {
        return 'video';
      } else if (media.mime_type === 'application/x-shockwave-flash') {
        return 'flash';
      }

      return undefined;
    }
  }, {
    key: '_getPath',
    value: function _getPath(res) {
      var path = '';

      if (res.protocol) {
        path += res.profocol + '://';
      } else if (res.secure) {
        path += 'https://';
      } else if (res.secure === false) {
        path += 'http://';
      }

      if (res.host) {
        if (!res.protocol && path === '') {
          path += '//';
        }
        path += res.host;
      }

      if (res.path) {
        path += res.path;
      }

      if (path.length > 0 && !path.endsWith('/')) {
        path += '/';
      }

      return path;
    }
  }, {
    key: 'locale',
    get: function get() {
      return this._locale;
    },
    set: function set(value) {
      if (this._locale === value) {
        return;
      }
      this._locale = value;

      var format = '{0}',
          currency = '';

      switch (this._locale) {
        case 'ro_MD':
          format = '{0} Lei';
          currency = '';
          break;
        case 'zh_MO':
          format = 'MOP$ {0}';
          currency = '';
          break;
        case 'en_US':
          format = '${0}';
          currency = 'USD';
          break;
      }

      this._ShellModel.priceFormat = format;
      this._ShellModel.currency = currency;
    }
  }, {
    key: 'model',
    get: function get() {
      return this._ShellModel;
    }
  }, {
    key: 'tileStyle',
    get: function get() {
      var style = 'tile';

      switch (this._SNAPLocation.theme.tiles_style) {
        case 'regular':
          style += ' tile-regular';
          break;
      }
      //style += ' tile-regular';
      return style;
    }
  }, {
    key: 'predicateEven',
    get: function get() {
      var index = 0;
      return function () {
        return index++ % 2 === 1;
      };
    }
  }, {
    key: 'predicateOdd',
    get: function get() {
      var index = 0;
      return function () {
        return index++ % 2 === 0;
      };
    }
  }]);

  return ShellManager;
})(app.AbstractManager);

//src/js/shared/managers/socialmanager.js

(function () {

  /* global URI */

  //------------------------------------------------------------------------
  //
  //  SocialManager
  //
  //------------------------------------------------------------------------

  var SocialManager = function SocialManager(SNAPEnvironment, DtsApi, WebBrowser, Logger) {
    this._SNAPEnvironment = SNAPEnvironment;
    this._DtsApi = DtsApi;
    this._WebBrowser = WebBrowser;
    this._Logger = Logger;
  };

  window.app.SocialManager = SocialManager;

  //-----------------------------------------------
  //    Login
  //-----------------------------------------------

  SocialManager.prototype.loginFacebook = function () {
    var self = this,
        facebookApp = this._SNAPEnvironment.facebook_application,
        customerApp = this._SNAPEnvironment.customer_application;

    return new Promise(function (resolve, reject) {
      function dispose() {
        self._WebBrowser.onNavigated.remove(onNavigated);
        self._WebBrowser.close();
      }

      var _reject = reject,
          _resolve = resolve;
      reject = function (e) {
        self._Logger.debug('Unable to login with Facebook: ' + e);
        dispose();
        _reject(e);
      };
      resolve = function (data) {
        self._Logger.debug('Facebook login complete.');
        dispose();
        _resolve(data);
      };

      function onNavigated(url) {
        if (url.indexOf(facebookApp.redirect_url) === 0) {
          var facebookAuth = URI('?' + URI(url).fragment()).search(true);

          if (facebookAuth.error || !facebookAuth.access_token) {
            self._Logger.debug('Facebook callback error: ' + facebookAuth.error);
            return reject(facebookAuth.error);
          }

          self._Logger.debug('Facebook callback received.');

          self._DtsApi.customer.signUpFacebook({
            access_token: facebookAuth.access_token,
            client_id: customerApp.client_id
          }).then(function (ticket) {
            self._Logger.debug('Facebook signin complete.');

            var url = self._DtsApi.oauth2.getAuthConfirmUrl(ticket.ticket_id, {
              client_id: customerApp.client_id,
              response_type: 'token',
              redirect_uri: customerApp.callback_url
            });

            self._WebBrowser.open(url);
          }, reject);
        } else if (url.indexOf(customerApp.callback_url) === 0) {
          var customerAuth = URI('?' + URI(url).fragment()).search(true);

          if (customerAuth.error || !customerAuth.access_token) {
            self._Logger.debug('Facebook customer callback error: ' + customerAuth.error);
            return reject(customerAuth.error);
          }

          self._Logger.debug('Facebook customer login complete.');

          resolve(customerAuth);
        }
      }

      self._WebBrowser.onNavigated.add(onNavigated);

      self._Logger.debug('Logging in with Facebook.');

      var url = URI('https://www.facebook.com/dialog/oauth').addSearch('client_id', facebookApp.client_id).addSearch('redirect_uri', facebookApp.redirect_url).addSearch('response_type', 'token').addSearch('scope', 'public_profile,email').toString();

      self._WebBrowser.open(url);
    });
  };

  SocialManager.prototype.loginGooglePlus = function () {
    var self = this,
        googleplusApp = this._SNAPEnvironment.googleplus_application,
        customerApp = this._SNAPEnvironment.customer_application;

    return new Promise(function (resolve, reject) {
      var state = self._generateToken();

      function dispose() {
        self._WebBrowser.onNavigated.remove(onNavigated);
        self._WebBrowser.close();
      }

      var _reject = reject,
          _resolve = resolve;
      reject = function (e) {
        self._Logger.debug('Unable to login with Google: ' + e);
        dispose();
        _reject(e);
      };
      resolve = function (data) {
        self._Logger.debug('Google login complete.');
        dispose();
        _resolve(data);
      };

      function onNavigated(url) {
        if (url.indexOf(googleplusApp.redirect_url) === 0) {
          var googleplusAuth = URI(url).search(true);

          if (googleplusAuth.error || !googleplusAuth.code || googleplusAuth.state !== state) {
            self._Logger.debug('Google callback error: ' + googleplusAuth.error);
            return reject(googleplusAuth.error);
          }

          self._Logger.debug('Google callback received.');

          self._DtsApi.customer.signUpGooglePlus({
            code: googleplusAuth.code,
            client_id: customerApp.client_id
          }).then(function (ticket) {
            self._Logger.debug('Google signin complete.');

            var url = self._DtsApi.oauth2.getAuthConfirmUrl(ticket.ticket_id, {
              client_id: customerApp.client_id,
              response_type: 'token',
              redirect_uri: customerApp.callback_url
            });

            self._WebBrowser.open(url);
          }, reject);
        } else if (url.indexOf(customerApp.callback_url) === 0) {
          var customerAuth = URI('?' + URI(url).fragment()).search(true);

          if (customerAuth.error || !customerAuth.access_token) {
            self._Logger.debug('Google customer callback error: ' + customerAuth.error);
            return reject(customerAuth.error);
          }

          self._Logger.debug('Google customer login complete.');

          resolve(customerAuth);
        }
      }

      self._WebBrowser.onNavigated.add(onNavigated);

      self._Logger.debug('Logging in with Google.');

      var url = URI('https://accounts.google.com/o/oauth2/auth').addSearch('client_id', googleplusApp.client_id).addSearch('redirect_uri', googleplusApp.redirect_url).addSearch('response_type', 'code').addSearch('scope', 'https://www.googleapis.com/auth/plus.login email').addSearch('access_type', 'offline').addSearch('state', state).toString();

      self._WebBrowser.open(url);
    });
  };

  SocialManager.prototype.loginTwitter = function () {
    var self = this,
        twitterApp = this._SNAPEnvironment.twitter_application,
        customerApp = this._SNAPEnvironment.customer_application;

    return new Promise(function (resolve, reject) {
      var tokenSecret;

      function dispose() {
        self._WebBrowser.onNavigated.remove(onNavigated);
        self._WebBrowser.close();
      }

      var _reject = reject,
          _resolve = resolve;
      reject = function (e) {
        self._Logger.debug('Unable to login with Twitter: ' + e);
        dispose();
        _reject(e);
      };
      resolve = function (data) {
        self._Logger.debug('Twitter login complete.');
        dispose();
        _resolve(data);
      };

      function onNavigated(url) {
        if (url.indexOf(twitterApp.redirect_url) === 0) {
          var twitterAuth = URI(url).search(true);

          if (twitterAuth.error || !twitterAuth.oauth_verifier) {
            self._Logger.debug('Twitter callback error: ' + twitterAuth.error);
            return reject(twitterAuth.error);
          }

          self._Logger.debug('Twitter callback received.');

          self._DtsApi.customer.signUpTwitter({
            client_id: customerApp.client_id,
            request_token: twitterAuth.oauth_token,
            request_token_secret: tokenSecret,
            request_token_verifier: twitterAuth.oauth_verifier
          }).then(function (ticket) {
            self._Logger.debug('Twitter signin complete.');

            var url = self._DtsApi.oauth2.getAuthConfirmUrl(ticket.ticket_id, {
              client_id: customerApp.client_id,
              response_type: 'token',
              redirect_uri: customerApp.callback_url
            });

            self._WebBrowser.open(url);
          }, reject);
        } else if (url.indexOf(customerApp.callback_url) === 0) {
          var customerAuth = URI('?' + URI(url).fragment()).search(true);

          if (customerAuth.error || !customerAuth.access_token) {
            self._Logger.debug('Twitter customer callback error: ' + customerAuth.error);
            return reject(customerAuth.error);
          }

          self._Logger.debug('Twitter customer login complete.');

          resolve(customerAuth);
        }
      }

      self._WebBrowser.onNavigated.add(onNavigated);

      self._Logger.debug('Logging in with Twitter.');

      self._DtsApi.customer.signUpTwitterRequestToken({
        oauth_callback: twitterApp.redirect_url
      }).then(function (token) {
        var url = URI('https://api.twitter.com/oauth/authenticate').addSearch('oauth_token', token.oauth_token).addSearch('force_login', 'true').toString();

        self._Logger.debug('Twitter request token received.');

        tokenSecret = token.oauth_token_secret;
        self._WebBrowser.open(url);
      }, reject);
    });
  };

  //-----------------------------------------------
  //    Helpers
  //-----------------------------------------------

  SocialManager.prototype._generateToken = function () {
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
      var r = Math.random() * 16 | 0,
          v = c === 'x' ? r : r & 0x3 | 0x8;
      return v.toString(16);
    });
  };
})();

//src/js/shared/managers/softwaremanager.js

(function () {

  //------------------------------------------------------------------------
  //
  //  SoftwareManager
  //
  //------------------------------------------------------------------------

  var SoftwareManager = function SoftwareManager(SNAPEnvironment) {
    this._SNAPEnvironment = SNAPEnvironment;
  };

  window.app.SoftwareManager = SoftwareManager;

  Object.defineProperty(SoftwareManager.prototype, 'currentVersion', {
    get: function get() {
      var pattern = /(SNAP)\/([0-9.]+)/,
          match = pattern.exec(navigator.userAgent);

      if (!match) {
        return '8.8.8.8';
      }

      return match[1];
    }
  });

  Object.defineProperty(SoftwareManager.prototype, 'requiredVersion', {
    get: function get() {
      return this._SNAPEnvironment.requirements[this._SNAPEnvironment.platform];
    }
  });

  Object.defineProperty(SoftwareManager.prototype, 'updateRequired', {
    get: function get() {
      return this._versionCompare(this.currentVersion, this.requiredVersion) === -1;
    }
  });

  SoftwareManager.prototype._versionCompare = function (v1, v2, options) {
    if (!v1 || !v2) {
      return 0;
    }

    var lexicographical = options && options.lexicographical,
        zeroExtend = options && options.zeroExtend,
        v1parts = v1.split('.'),
        v2parts = v2.split('.');

    function isValidPart(x) {
      return (lexicographical ? /^\d+[A-Za-z]*$/ : /^\d+$/).test(x);
    }

    if (!v1parts.every(isValidPart) || !v2parts.every(isValidPart)) {
      return NaN;
    }

    if (zeroExtend) {
      while (v1parts.length < v2parts.length) {
        v1parts.push('0');
      }
      while (v2parts.length < v1parts.length) {
        v2parts.push('0');
      }
    }

    if (!lexicographical) {
      v1parts = v1parts.map(Number);
      v2parts = v2parts.map(Number);
    }

    for (var i = 0; i < v1parts.length; ++i) {
      if (v2parts.length === i) {
        return 1;
      }

      if (v1parts[i] === v2parts[i]) {
        continue;
      } else if (v1parts[i] > v2parts[i]) {
        return 1;
      } else {
        return -1;
      }
    }

    if (v1parts.length !== v2parts.length) {
      return -1;
    }

    return 0;
  };
})();

//src/js/shared/managers/surveymanager.js

window.app.SurveyManager = (function (_app$AbstractManager12) {
  _inherits(SurveyManager, _app$AbstractManager12);

  function SurveyManager(DataModel, SurveyModel, Logger) {
    _classCallCheck(this, SurveyManager);

    _get(Object.getPrototypeOf(SurveyManager.prototype), 'constructor', this).call(this, Logger);

    this._DataModel = DataModel;
    this._SurveyModel = SurveyModel;
  }

  _createClass(SurveyManager, [{
    key: 'initialize',
    value: function initialize() {
      var _this11 = this;

      _get(Object.getPrototypeOf(SurveyManager.prototype), 'initialize', this).call(this);

      if (this.model.isEnabled) {
        this._DataModel.surveys().then(function (data) {
          _this11.model.feedbackSurvey = data.surveys[0];
        });
      }

      return Promise.resolve();
    }
  }, {
    key: 'reset',
    value: function reset() {
      var _this12 = this;

      _get(Object.getPrototypeOf(SurveyManager.prototype), 'reset', this).call(this);

      return new Promise(function (resolve, reject) {
        if (_this12.model.isEnabled) {
          _this12.model.feedbackSurveyComplete = false;
        }

        resolve();
      });
    }
  }, {
    key: 'model',
    get: function get() {
      return this._SurveyModel;
    }
  }]);

  return SurveyManager;
})(app.AbstractManager);

//src/js/shared/model/abstractmodel.js

window.app.AbstractModel = (function () {
  /* global signals */

  function AbstractModel(storageProvider) {
    _classCallCheck(this, AbstractModel);

    this._storageProvider = storageProvider;
    this._properties = {};
  }

  _createClass(AbstractModel, [{
    key: '_defineProperty',
    value: function _defineProperty(name, storeName, defaultValue, providerFunction) {
      var self = this,
          property = this._properties[name] = { name: '_' + name };

      if (storeName) {
        property.store = this._storageProvider(storeName);
      }

      if (providerFunction) {
        property.provider = providerFunction;
      }

      this[name + 'Changed'] = property.signal = new signals.Signal();

      Object.defineProperty(this, name, {
        get: function get() {
          return self[property.name] || defaultValue;
        },
        set: function set(value) {
          if (value === self[property.name]) {
            return;
          }

          self[property.name] = value;

          if (property.store) {
            property.store.write(value).then(function () {
              property.signal.dispatch(value);
            });
          }
        }
      });
    }
  }, {
    key: '_initProperty',
    value: function _initProperty(name) {
      var self = this,
          property = this._properties[name];

      if (!property) {
        throw new Error('Property \'' + name + '\' not found.');
      }

      if (property.initialized) {
        throw new Error('Property \'' + name + '\' is already initialized.');
      }

      if (!property.store) {
        property.initialized = true;
        return Promise.resolve();
      }

      return property.store.read().then(function (value) {
        property.initialized = true;
        self[property.name] = value;
        property.signal.dispatch(value);
      });
    }
  }, {
    key: 'initialize',
    value: function initialize() {
      var _this13 = this;

      return Promise.all(Object.keys(this._properties).filter(function (key) {
        return !_this13._properties[key].initialized;
      }).map(function (key) {
        return _this13._initProperty(key);
      }));
    }
  }, {
    key: 'fetch',
    value: function fetch(propertyName) {
      var property = this._properties[propertyName];

      if (!property) {
        throw new Error('Property \'' + propertyName + '\' not found.');
      }

      if (!property.provider) {
        throw new Error('Property \'' + propertyName + '\' has no provider.');
      }

      var self = this;
      return property.provider().then(function (value) {
        self[propertyName] = value;
        return value;
      });
    }
  }, {
    key: 'fetchAll',
    value: function fetchAll() {
      var _this14 = this;

      return Promise.all(Object.keys(this._properties).filter(function (key) {
        return _this14._properties[key].provider;
      }).map(function (key) {
        return _this14.fetch(key);
      }));
    }
  }, {
    key: 'clear',
    value: function clear() {
      var _this15 = this;

      return Promise.all(Object.keys(this._properties).filter(function (key) {
        return _this15._properties[key].store;
      }).map(function (key) {
        return _this15._properties[key].store.clear();
      }));
    }
  }, {
    key: '_propertyChanged',
    value: function _propertyChanged(name) {
      var property = this._properties[name];

      property.signal.dispatch(this[property.name]);

      if (property.store) {
        property.store.write(this[property.name]);
      }
    }
  }]);

  return AbstractModel;
})();

//src/js/shared/model/analyticsmodel.js

window.app.AnalyticsModel = (function () {
  function AnalyticsModel(storageProvider, heatmap, Logger) {
    _classCallCheck(this, AnalyticsModel);

    var self = this;
    this._data = [new app.AnalyticsData('sessions', storageProvider), new app.AnalyticsData('advertisements', storageProvider), new app.AnalyticsData('answers', storageProvider), new app.AnalyticsData('chats', storageProvider), new app.AnalyticsData('comments', storageProvider), new app.AnalyticsData('clicks', storageProvider), new app.AnalyticsData('pages', storageProvider), new app.AnalyticsData('urls', storageProvider)].reduce(function (result, item) {
      result[item.name] = item;
      return result;
    }, {});

    heatmap.clicked.add(function (click) {
      self._logClick(click);
    });

    this._Logger = Logger;
  }

  _createClass(AnalyticsModel, [{
    key: 'initialize',
    value: function initialize() {
      return Q.allSettled(this._datas.map(function (d) {
        return d.initialize();
      }));
    }
  }, {
    key: 'logSession',
    value: function logSession(session) {
      this._data.sessions.push(session);
    }
  }, {
    key: 'logNavigation',
    value: function logNavigation(destination) {
      this._data.pages.push({
        time: new Date(),
        destination: destination
      });

      this._data.clicks.store();
    }
  }, {
    key: 'logAdvertisement',
    value: function logAdvertisement(advertisement) {
      this._data.advertisements.push({
        time: new Date(),
        advertisement: advertisement
      });
    }
  }, {
    key: 'logAnswer',
    value: function logAnswer(answer) {
      this._data.answers.push({
        time: new Date(),
        answer: answer
      });
    }
  }, {
    key: 'logChat',
    value: function logChat(chat) {
      this._data.chats.push({
        time: new Date(),
        chat: chat
      });
    }
  }, {
    key: 'logComment',
    value: function logComment(comment) {
      this._data.comments.push({
        time: new Date(),
        comment: comment
      });
    }
  }, {
    key: 'logUrl',
    value: function logUrl(url) {
      this._data.urls.push({
        time: new Date(),
        url: url
      });
    }
  }, {
    key: 'reset',
    value: function reset() {
      return Q.allSettled(this._datas.map(function (d) {
        return d.reset();
      }));
    }
  }, {
    key: '_logClick',
    value: function _logClick(click) {
      click.time = new Date();
      this._data.clicks.data.push(click);
    }
  }, {
    key: 'sessions',
    get: function get() {
      return this._data.sessions;
    }
  }, {
    key: 'pages',
    get: function get() {
      return this._data.pages;
    }
  }, {
    key: 'advertisements',
    get: function get() {
      return this._data.advertisements;
    }
  }, {
    key: 'answers',
    get: function get() {
      return this._data.answers;
    }
  }, {
    key: 'chats',
    get: function get() {
      return this._data.chats;
    }
  }, {
    key: 'comments',
    get: function get() {
      return this._data.comments;
    }
  }, {
    key: 'urls',
    get: function get() {
      return this._data.urls;
    }
  }, {
    key: 'clicks',
    get: function get() {
      this._data.clicks.store();

      return this._data.clicks;
    }
  }, {
    key: '_datas',
    get: function get() {
      var _this16 = this;

      return Object.keys(this._data).map(function (x) {
        return _this16._data[x];
      });
    }
  }]);

  return AnalyticsModel;
})();

//src/js/shared/model/cartmodel.js

window.app.CartModel = (function () {
  function CartModel() {
    _classCallCheck(this, CartModel);

    this.STATE_CART = 'cart';
    this.STATE_HISTORY = 'history';

    this._isCartOpen = false;
    this.isCartOpenChanged = new signals.Signal();
    this._cartState = this.STATE_CART;
    this.cartStateChanged = new signals.Signal();
    this._editableItem = null;
    this.editableItemChanged = new signals.Signal();
  }

  _createClass(CartModel, [{
    key: 'openEditor',
    value: function openEditor(item, isNew) {
      if (this._editableItem === item) {
        return;
      }
      this._editableItemNew = isNew || false;
      this._editableItem = item;
      this.editableItemChanged.dispatch(item);
    }
  }, {
    key: 'closeEditor',
    value: function closeEditor() {
      this._editableItemNew = false;
      this._editableItem = null;
      this.editableItemChanged.dispatch(null);
    }
  }, {
    key: 'isCartOpen',
    get: function get() {
      return this._isCartOpen;
    },
    set: function set(value) {
      if (this._isCartOpen === value) {
        return;
      }
      this._isCartOpen = value;
      this.isCartOpenChanged.dispatch(value);
    }
  }, {
    key: 'cartState',
    get: function get() {
      return this._cartState;
    },
    set: function set(value) {
      if (this._cartState === value) {
        return;
      }
      this._cartState = value;
      this.cartStateChanged.dispatch(value);
    }
  }, {
    key: 'editableItem',
    get: function get() {
      return this._editableItem;
    }
  }, {
    key: 'editableItemNew',
    get: function get() {
      return this._editableItemNew;
    }
  }]);

  return CartModel;
})();

//src/js/shared/model/chatmodel.js

window.app.ChatModel = (function () {
  /* global signals */

  function ChatModel(SNAPLocation, SNAPEnvironment, storageProvider) {
    _classCallCheck(this, ChatModel);

    var self = this;

    this._preferencesStore = storageProvider('snap_chat_preferences');
    this._historyStore = storageProvider('snap_chat_history');

    this.isConnectedChanged = new signals.Signal();
    this.isEnabledChanged = new signals.Signal();
    this.isPresentChanged = new signals.Signal();

    this.activeDevicesChanged = new signals.Signal();
    this.pendingDevicesChanged = new signals.Signal();
    this.chatRequestReceived = new signals.Signal();

    this.historyChanged = new signals.Signal();
    this.messageReceived = new signals.Signal();

    this.giftRequestReceived = new signals.Signal();
    this.giftAccepted = new signals.Signal();

    this._giftSeat = null;
    this.giftSeatChanged = new signals.Signal();

    this._giftDevice = null;
    this.giftDeviceChanged = new signals.Signal();

    this.giftReady = new signals.Signal();
    this.giftAccepted = new signals.Signal();

    this._isEnabled = SNAPLocation.chat;
    this._pendingDevices = [];
    this._activeDevices = [];
    this._lastReads = {};

    this._preferencesStore.read().then(function (prefs) {
      if (!prefs) {
        return;
      }

      self._isEnabled = Boolean(prefs.is_enabled);

      self._activeDevices = prefs.active_devices || [];
      self._pendingDevices = prefs.pending_devices || [];
      self._lastReads = prefs.last_reads || {};
    });

    this._historyStore.read().then(function (history) {
      self._history = history || [];
    });
  }

  _createClass(ChatModel, [{
    key: 'isActiveDevice',
    value: function isActiveDevice(device) {
      return this.activeDevices.indexOf(device.token || device) !== -1;
    }
  }, {
    key: 'isPendingDevice',
    value: function isPendingDevice(device) {
      return this.pendingDevices.indexOf(device.token || device) !== -1;
    }
  }, {
    key: 'addActiveDevice',
    value: function addActiveDevice(device) {
      this._activeDevices.push(device.token || device);
      this.activeDevices = this._activeDevices;
    }
  }, {
    key: 'addPendingDevice',
    value: function addPendingDevice(device) {
      this._pendingDevices.push(device.token || device);
      this.pendingDevices = this._pendingDevices;
    }
  }, {
    key: 'removeActiveDevice',
    value: function removeActiveDevice(device) {
      var index = this.activeDevices.indexOf(device.token || device);
      this._activeDevices.splice(index, 1);
      this.activeDevices = this._activeDevices;
    }
  }, {
    key: 'removePendingDevice',
    value: function removePendingDevice(device) {
      var index = this.pendingDevices.indexOf(device.token || device);
      this._pendingDevices.splice(index, 1);
      this.pendingDevices = this._pendingDevices;
    }
  }, {
    key: 'addHistory',
    value: function addHistory(message) {
      this._history.push(message);
      this.history = this._history;
    }
  }, {
    key: 'getLastRead',
    value: function getLastRead(device) {
      var token = device.token || device;
      return this._lastReads[token] || null;
    }
  }, {
    key: 'setLastRead',
    value: function setLastRead(device, value) {
      var token = device.token || device;
      this._lastReads[token] = value;
      this._updatePreferences();
    }
  }, {
    key: 'save',
    value: function save() {
      this._updateHistory();
      this._updatePreferences();
    }
  }, {
    key: 'reset',
    value: function reset() {
      this._isConnected = this._isEnabled = this._isPresent = false;
      this._history = [];
      this._activeDevices = [];
      this._pendingDevices = [];

      this._historyStore.clear();
      this._preferencesStore.clear();
    }
  }, {
    key: '_updateHistory',
    value: function _updateHistory() {
      this._historyStore.write(this.history);
    }
  }, {
    key: '_updatePreferences',
    value: function _updatePreferences() {
      this._preferencesStore.write({
        is_enabled: this.isEnabled,
        active_devices: this.activeDevices,
        pending_devices: this.pendingDevices,
        last_reads: this._lastReads
      });
    }
  }, {
    key: 'isConnected',
    get: function get() {
      return this._isConnected;
    },
    set: function set(value) {
      if (this._isConnected === value) {
        return;
      }

      this._isConnected = Boolean(value);
      this.isConnectedChanged.dispatch(this._isConnected);
    }
  }, {
    key: 'isEnabled',
    get: function get() {
      return this._isEnabled;
    },
    set: function set(value) {
      if (this._isEnabled === value) {
        return;
      }

      this._isEnabled = Boolean(value);
      this.isEnabledChanged.dispatch(this._isEnabled);

      this._updatePreferences();
    }
  }, {
    key: 'isPresent',
    get: function get() {
      return this._isPresent;
    },
    set: function set(value) {
      if (this._isPresent === value) {
        return;
      }

      this._isPresent = Boolean(value);
      this.isPresentChanged.dispatch(this._isPresent);
    }
  }, {
    key: 'giftDevice',
    get: function get() {
      return this._giftDevice;
    },
    set: function set(value) {
      if (this._giftDevice === value) {
        return;
      }

      this._giftDevice = value;
      this.giftDeviceChanged.dispatch(this._giftDevice);
    }
  }, {
    key: 'giftSeat',
    get: function get() {
      return this._giftSeat;
    },
    set: function set(value) {
      if (this._giftSeat === value) {
        return;
      }

      this._giftSeat = value;
      this.giftSeatChanged.dispatch(this._giftSeat);
    }
  }, {
    key: 'pendingDevices',
    get: function get() {
      return this._pendingDevices;
    },
    set: function set(value) {
      this._pendingDevices = value || [];
      this.pendingDevicesChanged.dispatch(this.pendingDevices);
    }
  }, {
    key: 'activeDevices',
    get: function get() {
      return this._activeDevices;
    },
    set: function set(value) {
      this._activeDevices = value || [];
      this.activeDevicesChanged.dispatch(this.activeDevices);
    }
  }, {
    key: 'history',
    get: function get() {
      return this._history;
    },
    set: function set(value) {
      this._history = value || [];

      this.historyChanged.dispatch(this._history);
      this._updateHistory();
    }
  }]);

  return ChatModel;
})();

//src/js/shared/model/customermodel.js

window.app.CustomerModel = (function () {
  /* global signals */

  function CustomerModel(Config, storageProvider) {
    _classCallCheck(this, CustomerModel);

    var self = this;

    this._accountStore = storageProvider('snap_customer');

    this._profile = null;

    this._isGuest = false;
    this._isEnabled = Boolean(Config.accounts);

    this.profileChanged = new signals.Signal();

    this._accountStore.read().then(function (account) {
      self._isGuest = account && account.is_guest;

      if (!account || account.is_guest) {
        self._profile = null;
      } else {
        self._profile = account.profile;
      }

      self.profileChanged.dispatch(self._profile);
    });
  }

  _createClass(CustomerModel, [{
    key: 'isEnabled',
    get: function get() {
      return Boolean(this._isEnabled);
    }
  }, {
    key: 'isAuthenticated',
    get: function get() {
      return this.isEnabled && (Boolean(this.profile) || this.isGuest);
    }
  }, {
    key: 'isGuest',
    get: function get() {
      return this.isEnabled && Boolean(this._isGuest);
    }
  }, {
    key: 'hasCredentials',
    get: function get() {
      return Boolean(this.isAuthenticated && !this.isGuest && this.profile.type === 1);
    }
  }, {
    key: 'profile',
    get: function get() {
      return this._profile;
    },
    set: function set(value) {
      var self = this;
      this._profile = value || null;
      this._isGuest = value === 'guest';

      if (!value) {
        this._accountStore.clear().then(function () {
          self._isGuest = false;
          self.profileChanged.dispatch(self._profile);
          self.session = null;
        });
      } else {
        this._accountStore.write({
          profile: this._profile,
          is_guest: this._isGuest
        }).then(function () {
          self.profileChanged.dispatch(self._profile);

          if (!value || self._isGuest) {
            self.session = null;
          }
        });
      }
    }
  }]);

  return CustomerModel;
})();

//src/js/shared/model/datamodel.js

window.app.DataModel = (function () {
  function DataModel(config, service, storageProvider) {
    _classCallCheck(this, DataModel);

    this._config = config;
    this._service = service;
    this._cache = {};
    this._storageProvider = storageProvider;
  }

  _createClass(DataModel, [{
    key: 'clear',
    value: function clear() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._cache = {};
        resolve();
      });
    }
  }, {
    key: 'digest',
    value: function digest() {
      return this._service.snap.getDigest(this._config.location);
    }
  }, {
    key: 'home',
    value: function home() {
      return this._getSnapData('home', 'getMenus');
    }
  }, {
    key: 'advertisements',
    value: function advertisements() {
      return this._getSnapData('advertisements', 'getAdvertisements');
    }
  }, {
    key: 'backgrounds',
    value: function backgrounds() {
      return this._getSnapData('backgrounds', 'getBackgrounds');
    }
  }, {
    key: 'elements',
    value: function elements() {
      return this._getSnapData('elements', 'getElements');
    }
  }, {
    key: 'menu',
    value: function menu(id) {
      return this._getSnapData('menu', 'getMenu', id);
    }
  }, {
    key: 'category',
    value: function category(id) {
      return this._getSnapData('category', 'getMenuCategory', id);
    }
  }, {
    key: 'item',
    value: function item(id) {
      return this._getSnapData('item', 'getMenuItem', id);
    }
  }, {
    key: 'surveys',
    value: function surveys() {
      return this._getSnapData('surveys', 'getSurveys');
    }
  }, {
    key: 'seats',
    value: function seats() {
      var self = this;
      return this._cached('seats') || this._service.location.getSeats().then(function (data) {
        data = data || [];
        self._store(data, 'seats');
        return data;
      });
    }
  }, {
    key: 'media',
    value: function media(_media) {
      var self = this,
          token = _media.token + '_' + _media.width + '_' + _media.height;
      return this._cached('media', token) || new Promise(function (resolve, reject) {
        if (_media.width && _media.height) {
          var img = new Image();
          img.onload = function () {
            return resolve(img);
          };
          img.onerror = function (e) {
            return reject(e);
          };
          img.src = self._getMediaUrl(_media, _media.width, _media.height, _media.extension);

          self._store(img, 'media', token);

          if (img.complete) {
            resolve(img);
          }
        } else {
          reject('Missing image dimensions');
        }
      });
    }
  }, {
    key: '_getSnapData',
    value: function _getSnapData(name, method, id) {
      var _this17 = this;

      var cached = this._cached(name, id);

      if (cached) {
        return Promise.resolve(cached);
      }

      if (navigator.onLine === false) {
        var stored = this._stored(name, id);

        if (stored) {
          return Promise.resolve(stored);
        } else {
          return Promise.reject('Data is not available: /' + name + '/' + id);
        }
      }

      return this._service.snap[method](this._config.location, id).then(function (data) {
        data = data || [];
        _this17._store(data, name, id);
        return data;
      });
    }
  }, {
    key: '_cached',
    value: function _cached(group, id) {
      if (id && this._cache[group] && this._cache[group][id]) {
        return Promise.resolve(this._cache[group][id]);
      } else if (!id && this._cache[group]) {
        return Promise.resolve(this._cache[group]);
      }

      return null;
    }
  }, {
    key: '_stored',
    value: function _stored(group, id) {
      var storage = this._getStorage(group, id);

      return storage.readSync();
    }
  }, {
    key: '_store',
    value: function _store(data, group, id) {
      if (id) {
        if (!this._cache[group]) {
          this._cache[group] = {};
        }

        this._cache[group][id] = data;
      } else {
        this._cache[group] = data;
      }

      if (group !== 'media') {
        var storage = this._getStorage(group, id);
        storage.write(data);
      }
    }
  }, {
    key: '_getStorage',
    value: function _getStorage(group, id) {
      if (id) {
        return this._storageProvider('snap_cache_' + group + '_' + id);
      }

      return this._storageProvider('snap_cache_' + group);
    }
  }, {
    key: '_getMediaUrl',
    value: function _getMediaUrl() {}
  }]);

  return DataModel;
})();

//src/js/shared/model/locationmodel.js

window.app.LocationModel = (function (_app$AbstractModel) {
  _inherits(LocationModel, _app$AbstractModel);

  function LocationModel(DtsApi, SNAPEnvironment, SNAPLocation, storageProvider) {
    _classCallCheck(this, LocationModel);

    _get(Object.getPrototypeOf(LocationModel.prototype), 'constructor', this).call(this, storageProvider);

    var self = this;

    this._defineProperty('device', 'snap_device', null, function () {
      return DtsApi.hardware.getCurrentDevice();
    });
    this._defineProperty('devices', undefined, []);
    this._defineProperty('seat', 'snap_seat', null, function () {
      return DtsApi.location.getCurrentSeat();
    });
    this._defineProperty('seats', 'snap_seats', [], function () {
      return DtsApi.location.getSeats();
    });
    this._defineProperty('location', 'snap_location', SNAPLocation, function () {
      if (!self.device) {
        return Promise.reject('Device data is missing.');
      }

      return DtsApi.snap.getConfig(self.device.location_token);
    });

    this.initialize();
  }

  _createClass(LocationModel, [{
    key: 'addDevice',
    value: function addDevice(device) {
      this.devices.push(device);
      this._propertyChanged('device');
    }
  }, {
    key: 'getSeat',
    value: function getSeat(token) {
      return this.seats.filter(function (seat) {
        return seat.token === token;
      })[0] || null;
    }
  }, {
    key: 'getDevice',
    value: function getDevice(device) {
      return this.devices.filter(function (d) {
        return (device.token || device) === d.token;
      })[0] || null;
    }
  }]);

  return LocationModel;
})(app.AbstractModel);

//src/js/shared/model/ordermodel.js

window.app.OrderModel = (function () {
  /* global signals */

  function OrderModel(storageProvider) {
    _classCallCheck(this, OrderModel);

    var self = this;

    this.REQUEST_KIND_ORDER = 1;
    this.REQUEST_KIND_ASSISTANCE = 2;
    this.REQUEST_KIND_CLOSEOUT = 3;

    this.priceFormat = '{0}';
    this.tax = 0;

    this._orderCart = [];
    this._orderCartStash = [];
    this._orderCheck = [];
    this._orderTicket = {};

    this._requestWatchers = {};

    //-----------------------------------------------
    //    Signals
    //-----------------------------------------------

    this.orderCartChanged = new signals.Signal();
    this.orderCartStashChanged = new signals.Signal();
    this.orderCheckChanged = new signals.Signal();
    this.orderTicketChanged = new signals.Signal();
    this.orderRequestChanged = new signals.Signal();
    this.assistanceRequestChanged = new signals.Signal();
    this.closeoutRequestChanged = new signals.Signal();

    //-----------------------------------------------
    //    Initialization
    //-----------------------------------------------

    function prepareCartData(items) {
      return items;
    }

    function restoreCartData(items) {
      return items.map ? items.map(app.CartItem.prototype.restore) : [];
    }

    this._orderCartStorage = storageProvider('snap_order_cart');
    this._orderCartStorage.read().then(function (value) {
      self.orderCart = restoreCartData(value || []);
      self.orderCartChanged.dispatch(self.orderCart);
      self.orderCartChanged.add(function (items) {
        self._orderCartStorage.write(prepareCartData(items));
      });
    });

    this._orderCartStashStorage = storageProvider('snap_order_cart_stash');
    this._orderCartStashStorage.read().then(function (value) {
      self.orderCartStash = restoreCartData(value || []);
      self.orderCartStashChanged.dispatch(self.orderCartStash);
      self.orderCartStashChanged.add(function (items) {
        self._orderCartStashStorage.write(prepareCartData(items));
      });
    });

    this._orderCheckStorage = storageProvider('snap_order_check');
    this._orderCheckStorage.read().then(function (value) {
      self.orderCheck = restoreCartData(value || []);
      self.orderCheckChanged.dispatch(self.orderCheck);
      self.orderCheckChanged.add(function (items) {
        self._orderCheckStorage.write(prepareCartData(items));
      });
    });

    this._orderTicketStorage = storageProvider('snap_order_ticket');
    this._orderTicketStorage.read().then(function (value) {
      self.orderTicket = value || {};
      self.orderTicketChanged.dispatch(self.orderTicket);
      self.orderTicketChanged.add(function (data) {
        self._orderTicketStorage.write(data);
      });
    });
  }

  //------------------------------------------------------------------------
  //
  //  Properties
  //
  //------------------------------------------------------------------------

  _createClass(OrderModel, [{
    key: 'getWatcher',

    //------------------------------------------------------------------------
    //
    //  Public methods
    //
    //------------------------------------------------------------------------

    //-----------------------------------------------
    //    Request watchers
    //-----------------------------------------------

    value: function getWatcher(kind) {
      return this._requestWatchers[kind] || null;
    }
  }, {
    key: 'addWatcher',
    value: function addWatcher(kind, watcher) {
      this.clearWatcher(kind);

      var self = this;
      watcher.promise.then(function () {
        if (self.getWatcher(kind) !== watcher) {
          return;
        }
        self.clearWatcher(kind);
      });

      this._requestWatchers[kind] = watcher;
      this._notifyChange(kind);
    }
  }, {
    key: 'clearWatcher',
    value: function clearWatcher(kind) {
      var watcher = this.getWatcher(kind);

      if (watcher) {
        watcher.dispose();
      }

      delete this._requestWatchers[kind];
      this._notifyChange(kind);
    }

    //------------------------------------------------------------------------
    //
    //  Private methods
    //
    //------------------------------------------------------------------------

  }, {
    key: '_notifyChange',
    value: function _notifyChange(kind) {
      var signal;

      switch (kind) {
        case this.REQUEST_KIND_ORDER:
          signal = this.orderRequestChanged;
          break;
        case this.REQUEST_KIND_ASSISTANCE:
          signal = this.assistanceRequestChanged;
          break;
        case this.REQUEST_KIND_CLOSEOUT:
          signal = this.closeoutRequestChanged;
          break;
      }

      if (signal) {
        signal.dispatch(this.getWatcher(kind));
      }
    }
  }, {
    key: 'orderCart',
    get: function get() {
      return this._orderCart;
    },
    set: function set(value) {
      this._orderCart = value || [];
      this.orderCartChanged.dispatch(this.orderCart);
    }
  }, {
    key: 'orderCartStash',
    get: function get() {
      return this._orderCartStash;
    },
    set: function set(value) {
      this._orderCartStash = value || [];
      this.orderCartStashChanged.dispatch(this.orderCartStash);
    }
  }, {
    key: 'orderCheck',
    get: function get() {
      return this._orderCheck;
    },
    set: function set(value) {
      this._orderCheck = value || [];
      this.orderCheckChanged.dispatch(this.orderCheck);
    }
  }, {
    key: 'orderTicket',
    get: function get() {
      return this._orderTicket;
    },
    set: function set(value) {
      this._orderTicket = value || {};
      this.orderTicketChanged.dispatch(this.orderTicket);
    }
  }, {
    key: 'orderRequest',
    get: function get() {
      return this.getWatcher(this.REQUEST_KIND_ORDER);
    }
  }, {
    key: 'assistanceRequest',
    get: function get() {
      return this.getWatcher(this.REQUEST_KIND_ASSISTANCE);
    }
  }, {
    key: 'closeoutRequest',
    get: function get() {
      return this.getWatcher(this.REQUEST_KIND_CLOSEOUT);
    }
  }]);

  return OrderModel;
})();

//src/js/shared/model/sessionmodel.js

window.app.SessionModel = (function (_app$AbstractModel2) {
  _inherits(SessionModel, _app$AbstractModel2);

  function SessionModel(storageProvider) {
    _classCallCheck(this, SessionModel);

    _get(Object.getPrototypeOf(SessionModel.prototype), 'constructor', this).call(this, storageProvider);

    this._defineProperty('apiToken', 'snap_accesstoken');
    this._defineProperty('customerToken', 'snap_customer_accesstoken');

    this.initialize();
  }

  return SessionModel;
})(app.AbstractModel);

//src/js/shared/model/shellmodel.js

window.app.ShellModel = (function () {
  /* global signals */

  function ShellModel() {
    _classCallCheck(this, ShellModel);

    this._backgrounds = [];
    this.backgroundsChanged = new signals.Signal();
    this._screensavers = [];
    this.screensaversChanged = new signals.Signal();
    this._pageBackgrounds = [];
    this.pageBackgroundsChanged = new signals.Signal();
    this._elements = [];
    this.elementsChanged = new signals.Signal();
    this._priceFormat = '{0}';
    this.priceFormatChanged = new signals.Signal();
    this._currency = '';
    this.currencyChanged = new signals.Signal();
  }

  _createClass(ShellModel, [{
    key: 'backgrounds',
    get: function get() {
      return this._backgrounds;
    },
    set: function set(value) {
      this._backgrounds = value;
      this.backgroundsChanged.dispatch(value);
    }
  }, {
    key: 'screensavers',
    get: function get() {
      return this._screensavers;
    },
    set: function set(value) {
      this._screensavers = value;
      this.screensaversChanged.dispatch(value);
    }
  }, {
    key: 'pageBackgrounds',
    get: function get() {
      return this._pageBackgrounds;
    },
    set: function set(value) {
      this._pageBackgrounds = value;
      this.pageBackgroundsChanged.dispatch(value);
    }
  }, {
    key: 'elements',
    get: function get() {
      return this._elements;
    },
    set: function set(value) {
      this._elements = value;
      this.elementsChanged.dispatch(value);
    }
  }, {
    key: 'priceFormat',
    get: function get() {
      return this._priceFormat;
    },
    set: function set(value) {
      this._priceFormat = value;
      this.priceFormatChanged.dispatch(value);
    }
  }, {
    key: 'currency',
    get: function get() {
      return this._currency;
    },
    set: function set(value) {
      this._currency = value;
      this.currencyChanged.dispatch(value);
    }
  }]);

  return ShellModel;
})();

//src/js/shared/model/surveymodel.js

window.app.SurveyModel = (function () {
  /* global signals */

  function SurveyModel(SNAPLocation, storageProvider) {
    _classCallCheck(this, SurveyModel);

    var self = this;

    this._isEnabled = Boolean(SNAPLocation.surveys);
    this._surveys = {};

    this._store = storageProvider('snap_survey');

    this._feedbackSurvey = null;
    this.feedbackSurveyChanged = new signals.Signal();

    this.surveyCompleted = new signals.Signal();

    this._store.read().then(function (value) {
      self._surveys = value || self._surveys;
    });
  }

  _createClass(SurveyModel, [{
    key: 'isEnabled',
    get: function get() {
      return Boolean(this._isEnabled);
    }
  }, {
    key: 'feedbackSurvey',
    get: function get() {
      return this._feedbackSurvey;
    },
    set: function set(value) {
      this._feedbackSurvey = value;
      this.feedbackSurveyChanged.dispatch(this._feedbackSurvey);
    }
  }, {
    key: 'feedbackSurveyComplete',
    get: function get() {
      return Boolean(this._surveys.feedback);
    },
    set: function set(value) {
      this._surveys.feedback = Boolean(value);
      this._store.write(this._surveys);

      this.surveyCompleted.dispatch(this.feedbackSurvey);
    }
  }]);

  return SurveyModel;
})();

//src/js/shared/persistence/store.cordova.js

window.app.CordovaLocalStorageStore = (function () {
  function CordovaLocalStorageStore(id, Logger) {
    _classCallCheck(this, CordovaLocalStorageStore);

    this._id = id;
    this._Logger = Logger;

    if (!localStorage) {
      throw Error('Cordova not found.');
    }
  }

  _createClass(CordovaLocalStorageStore, [{
    key: 'clear',
    value: function clear() {
      try {
        localStorage.removeItem(this._id);
        return Promise.resolve();
      } catch (e) {
        this._Logger.warn('Unable to clear store #' + this._id + ': ' + e.message);
        return Promise.reject(e);
      }
    }
  }, {
    key: 'read',
    value: function read() {
      try {
        var value = JSON.parse(localStorage.getItem(this._id));
        return Promise.resolve(value);
      } catch (e) {
        this._Logger.warn('Unable to read from store #' + this._id + ': ' + e.message);
        return Promise.reject(e);
      }
    }
  }, {
    key: 'readSync',
    value: function readSync() {
      try {
        var value = JSON.parse(localStorage.getItem(this._id));
        return value;
      } catch (e) {
        this._Logger.warn('Unable to read from store #' + this._id + ': ' + e.message);
        return undefined;
      }
    }
  }, {
    key: 'write',
    value: function write(value) {
      try {
        localStorage.setItem(this._id, JSON.stringify(value));
        return Promise.resolve();
      } catch (e) {
        this._Logger.warn('Unable to write to store #' + this._id + ': ' + e.message);
        return Promise.reject(e);
      }
    }
  }]);

  return CordovaLocalStorageStore;
})();

//src/js/shared/persistence/store.inmemory.js

window.app.InMemoryStore = (function () {
  function InMemoryStore() {
    _classCallCheck(this, InMemoryStore);

    this._storage = null;
  }

  _createClass(InMemoryStore, [{
    key: 'clear',
    value: function clear() {
      this._storage = undefined;
      return Promise.resolve();
    }
  }, {
    key: 'read',
    value: function read() {
      return Promise.resolve(this._storage);
    }
  }, {
    key: 'readSync',
    value: function readSync() {
      return this._storage;
    }
  }, {
    key: 'write',
    value: function write(value) {
      this._storage = value;
      return Promise.resolve();
    }
  }]);

  return InMemoryStore;
})();

//src/js/shared/persistence/store.localstorage.js

window.app.LocalStorageStore = (function () {
  function LocalStorageStore(id) {
    _classCallCheck(this, LocalStorageStore);

    this._id = id;

    if (!store) {
      throw Error('Store.js not found.');
    }
  }

  _createClass(LocalStorageStore, [{
    key: 'clear',
    value: function clear() {
      try {
        store.remove(this._id);
        return Promise.resolve();
      } catch (e) {
        return Promise.reject(e);
      }
    }
  }, {
    key: 'read',
    value: function read() {
      try {
        var value = store.get(this._id);
        return Promise.resolve(value);
      } catch (e) {
        return Promise.reject(e);
      }
    }
  }, {
    key: 'readSync',
    value: function readSync() {
      try {
        return store.get(this._id);
      } catch (e) {
        return undefined;
      }
    }
  }, {
    key: 'write',
    value: function write(value) {
      try {
        store.set(this._id, value);
        return Promise.resolve();
      } catch (e) {
        return Promise.reject(e);
      }
    }
  }]);

  return LocalStorageStore;
})();

//src/js/shared/service/backendapi.js

window.app.BackendApi = function BackendApi(Hosts, SessionModel) {
  _classCallCheck(this, BackendApi);

  this._SessionModel = SessionModel;

  var self = this;

  function businessTokenProvider() {
    if (!self._SessionModel.apiToken) {
      return Promise.reject();
    }

    return Promise.resolve(self._SessionModel.apiToken.access_token);
  }

  function customerTokenProvider() {
    if (!self._SessionModel.customerToken) {
      return Promise.reject();
    }

    return Promise.resolve(self._SessionModel.customerToken.access_token);
  }

  for (var key in DtsApiClient) {
    var config = {
      host: {
        domain: Hosts.api.host,
        secure: Hosts.api.secure === 'true'
      }
    };

    var provider = businessTokenProvider;

    if (key === 'snap') {
      config.host.domain = Hosts.content.host;
    } else if (key === 'customer') {
      provider = customerTokenProvider;
    }

    this[key] = new DtsApiClient[key](config, provider);
  }
};

//src/js/shared/service/cardreader.cordova.js

window.app.CordovaCardReader = (function () {
  /* global signals */

  function CordovaCardReader() {
    _classCallCheck(this, CordovaCardReader);

    this.onReceived = new signals.Signal();
    this.onError = new signals.Signal();

    if (!window.IDTech) {
      throw new Error('Card reader is not available.');
    }
  }

  _createClass(CordovaCardReader, [{
    key: 'received',
    value: function received(card) {
      this.onReceived.dispatch(card);
    }
  }, {
    key: 'error',
    value: function error(e) {
      this.onError.dispatch(e);
    }
  }, {
    key: 'start',
    value: function start() {
      var _this18 = this;

      if (!this._active) {
        this._active = true;

        window.IDTech.startCardReader(function (data) {
          return _this18._onReceived(data);
        }, function (e) {
          return _this18._onError(e);
        });
      }
    }
  }, {
    key: 'stop',
    value: function stop() {
      if (this._active) {
        this._active = false;

        window.IDTech.stopCardReader(function () {}, function (e) {});
      }
    }
  }, {
    key: '_onReceived',
    value: function _onReceived(data) {
      if (!this._active) {
        return;
      }

      this.received({
        data: data
      });
    }
  }, {
    key: '_onError',
    value: function _onError(data) {
      if (!this._active) {
        return;
      }

      this.error({
        cause: parseInt(data) || 2
      });
    }
  }]);

  return CordovaCardReader;
})();

//src/js/shared/service/cardreader.generic.js

(function () {

  /* global signals */

  //------------------------------------------------------------------------
  //
  //  CardReader
  //
  //------------------------------------------------------------------------

  var CardReader = function CardReader(ManagementService) {
    this._ManagementService = ManagementService;
    this.onReceived = new signals.Signal();
    this.onError = new signals.Signal();
  };

  CardReader.prototype.received = function (card) {
    this.onReceived.dispatch(card);
  };

  CardReader.prototype.error = function (e) {
    this.onError.dispatch(e);
  };

  CardReader.prototype.start = function () {
    var _this19 = this;

    if (!this._active) {
      this._ManagementService.startCardReader().then(function (data) {
        _this19.received(data);
      }, function (e) {
        _this19.error(e);
      });
      this._active = true;
    }
  };

  CardReader.prototype.stop = function () {
    if (this._active) {
      this._ManagementService.stopCardReader();
      this._active = false;
    }
  };

  window.app.CardReader = CardReader;
})();

//src/js/shared/service/managementservice.cordova.js

window.app.CordovaManagementService = (function () {
  function CordovaManagementService() {
    _classCallCheck(this, CordovaManagementService);

    if (!window.cordova) {
      throw new Error('Cordova is not available.');
    }

    if (window.screen) {
      this._orientation = window.screen.orientation;
    }
  }

  _createClass(CordovaManagementService, [{
    key: 'loadReset',
    value: function loadReset() {
      return new Promise(function () {
        return window.open('reset.html', '_self');
      });
    }
  }, {
    key: 'loadStartup',
    value: function loadStartup() {
      return new Promise(function () {
        return window.open('startup.html', '_self');
      });
    }
  }, {
    key: 'loadApplication',
    value: function loadApplication(location) {
      return new Promise(function () {
        return window.open('snap_' + location.theme.layout + '.html', '_self');
      });
    }
  }, {
    key: 'rotateScreen',
    value: function rotateScreen() {
      if (!window.screen || !this._orientation) {
        return Promise.resolve();
      }

      var self = this;
      return new Promise(function (resolve) {
        var orientation;
        switch (self._orientation.type) {
          case 'landscape':
          case 'landscape-primary':
            orientation = 'landscape-secondary';
            break;
          case 'landscape-secondary':
            orientation = 'landscape-primary';
            break;
          default:
            orientation = 'landscape-primary';
            break;
        }

        window.screen.lockOrientation(orientation);
        resolve();
      });
    }
  }, {
    key: 'openBrowser',
    value: function openBrowser(url) {
      return new Promise(function (resolve) {
        var settings = {
          location: 'yes',
          clearcache: 'yes',
          clearsessioncache: 'yes',
          zoom: 'no',
          hardwareback: 'no'
        };

        var ref = new app.CordovaWebBrowserReference(url);
        ref.attach(window.open(url, '_blank', Object.keys(settings).map(function (x) {
          return x + '=' + settings[x];
        }).join(',')));

        resolve(ref);
      });
    }
  }, {
    key: 'closeBrowser',
    value: function closeBrowser(reference) {
      return new Promise(function (resolve) {
        reference.exit();
        resolve();
      });
    }
  }, {
    key: 'getSoundVolume',
    value: function getSoundVolume() {
      if (!window.volume) {
        return Promise.resolve(100);
      }

      return new Promise(function (resolve, reject) {
        window.volume.getVolume(resolve, reject);
      });
    }
  }, {
    key: 'setSoundVolume',
    value: function setSoundVolume(value) {
      if (!(value >= 0 && value <= 100)) {
        return Promise.reject('Invalid value: ' + value);
      }

      if (!window.volume) {
        return Promise.resolve();
      }

      return new Promise(function (resolve, reject) {
        window.volume.setVolume(value, resolve, reject);
      });
    }
  }, {
    key: 'getDisplayBrightness',
    value: function getDisplayBrightness() {
      if (!window.brightness) {
        return Promise.resolve(100);
      }

      return new Promise(function (resolve, reject) {
        window.brightness.getBrightness(function (value) {
          if (value < 0) {
            return resolve(50);
          }

          value = parseInt(value * 100);
          value = Math.min(100, value);
          value = Math.max(0, value);

          resolve(value);
        }, reject);
      });
    }
  }, {
    key: 'setDisplayBrightness',
    value: function setDisplayBrightness(value) {
      if (!(value >= 0 && value <= 100)) {
        return Promise.reject('Invalid value: ' + value);
      }

      if (!window.brightness) {
        return Promise.resolve();
      }

      return new Promise(function (resolve, reject) {
        window.brightness.setBrightness(value / 100, function () {
          return resolve();
        }, reject);
      });
    }
  }, {
    key: 'startCardReader',
    value: function startCardReader() {
      return new Promise(function (resolve, reject) {
        IDTech.startCardReader(resolve, reject);
      });
    }
  }, {
    key: 'stopCardReader',
    value: function stopCardReader() {
      return new Promise(function (resolve, reject) {
        IDTech.stopCardReader(resolve, reject);
      });
    }
  }]);

  return CordovaManagementService;
})();

//src/js/shared/service/managementservice.electron.js

window.app.ElectronManagementService = (function () {
  function ElectronManagementService() {
    _classCallCheck(this, ElectronManagementService);

    if (!require) {
      throw new Error('Node.js context not found.');
    }

    this._ipc = require('ipc');

    if (!this._ipc) {
      throw new Error('IPC module not found.');
    }
  }

  _createClass(ElectronManagementService, [{
    key: 'loadReset',
    value: function loadReset() {
      return new Promise(function () {
        return window.location.assign('reset.html');
      });
    }
  }, {
    key: 'loadStartup',
    value: function loadStartup() {
      return new Promise(function () {
        return window.location.assign('startup.html');
      });
    }
  }, {
    key: 'loadApplication',
    value: function loadApplication(location) {
      return new Promise(function () {
        return window.location.assign('snap_' + location.theme.layout + '.html');
      });
    }
  }, {
    key: 'openBrowser',
    value: function openBrowser(url) {
      return Promise.resolve(new app.WebViewBrowserReference(url));
    }
  }, {
    key: 'closeBrowser',
    value: function closeBrowser(reference) {
      return new Promise(function (resolve) {
        reference.exit();
        resolve();
      });
    }
  }, {
    key: 'rotateScreen',
    value: function rotateScreen() {
      var _this20 = this;

      return new Promise(function (resolve) {
        _this20._ipc.send('rotate-screen');
        resolve();
      });
    }
  }, {
    key: 'getSoundVolume',
    value: function getSoundVolume() {
      var _this21 = this;

      return new Promise(function (resolve) {
        _this21._ipc.on('get-sound-volume-result', function (value) {
          resolve(parseFloat(value) * 100);
        });
        _this21._ipc.send('get-sound-volume');
      });
    }
  }, {
    key: 'setSoundVolume',
    value: function setSoundVolume() {
      var _this22 = this;

      if (!(value >= 0 && value <= 100)) {
        return Promise.reject('Invalid value: ' + value);
      }

      return new Promise(function (resolve) {
        _this22._ipc.send('set-sound-volume', value * 0.01);
        resolve();
      });
    }
  }, {
    key: 'getDisplayBrightness',
    value: function getDisplayBrightness() {
      var _this23 = this;

      return new Promise(function (resolve) {
        _this23._ipc.on('get-display-brightness-result', function (value) {
          resolve(parseFloat(value) * 100);
        });
        _this23._ipc.send('get-display-brightness');
      });
    }
  }, {
    key: 'setDisplayBrightness',
    value: function setDisplayBrightness(value) {
      var _this24 = this;

      if (!(value >= 0 && value <= 100)) {
        return Promise.reject('Invalid value: ' + value);
      }

      return new Promise(function (resolve) {
        _this24._ipc.send('set-display-brightness', value * 0.01);
        resolve();
      });
    }
  }, {
    key: 'startCardReader',
    value: function startCardReader() {
      var _this25 = this;

      return new Promise(function (resolve, reject) {
        _this25._ipc.on('card-reader-result', function (data) {
          resolve(data);
        });
        _this25._ipc.on('card-reader-error', function () {
          reject();
        });
        _this25._ipc.send('start-card-reader');
      });
    }
  }, {
    key: 'stopCardReader',
    value: function stopCardReader() {
      var _this26 = this;

      return new Promise(function (resolve) {
        _this26._ipc.send('stop-card-reader');
        resolve();
      });
    }
  }]);

  return ElectronManagementService;
})();

//src/js/shared/service/managementservice.generic.js

window.app.GenericManagementService = (function () {
  function GenericManagementService() {
    _classCallCheck(this, GenericManagementService);
  }

  _createClass(GenericManagementService, [{
    key: 'loadReset',
    value: function loadReset() {
      return new Promise(function () {
        return window.location.assign('reset.html');
      });
    }
  }, {
    key: 'loadStartup',
    value: function loadStartup() {
      return new Promise(function () {
        return window.location.assign('startup.html');
      });
    }
  }, {
    key: 'loadApplication',
    value: function loadApplication(location) {
      return new Promise(function () {
        return window.location.assign('snap_' + location.theme.layout + '.html');
      });
    }
  }, {
    key: 'openBrowser',
    value: function openBrowser(url) {
      return Promise.resolve(new app.IframeWebBrowserReference(url));
    }
  }, {
    key: 'closeBrowser',
    value: function closeBrowser(reference) {
      return new Promise(function (resolve) {
        reference.exit();
        resolve();
      });
    }
  }, {
    key: 'rotateScreen',
    value: function rotateScreen() {
      return Promise.reject();
    }
  }, {
    key: 'getSoundVolume',
    value: function getSoundVolume() {
      return Promise.reject();
    }
  }, {
    key: 'setSoundVolume',
    value: function setSoundVolume() {
      return Promise.reject();
    }
  }, {
    key: 'getDisplayBrightness',
    value: function getDisplayBrightness() {
      return Promise.reject();
    }
  }, {
    key: 'setDisplayBrightness',
    value: function setDisplayBrightness() {
      return Promise.reject();
    }
  }, {
    key: 'startCardReader',
    value: function startCardReader() {
      return Promise.reject();
    }
  }, {
    key: 'stopCardReader',
    value: function stopCardReader() {
      return Promise.reject();
    }
  }]);

  return GenericManagementService;
})();

//src/js/shared/service/socketclient.js

window.app.SocketClient = (function () {
  function SocketClient(SessionModel, Hosts, Logger) {
    _classCallCheck(this, SocketClient);

    var self = this;

    this._SessionModel = SessionModel;
    this._Logger = Logger;

    this.isConnectedChanged = new signals.Signal();

    this._channels = {};
    this._isConnected = false;

    this._socket = socketCluster.connect({
      hostname: Hosts.socket.host,
      path: Hosts.socket.path,
      port: Hosts.socket.port,
      secure: Hosts.socket.secure
    });
    this._socket.on('connect', function (status) {
      self._Logger.debug('Socket connected.');
      self._authenticate();
    });
    this._socket.on('disconnect', function () {
      self._Logger.debug('Socket disconnected.');
      self._isConnected = false;
      self.isConnectedChanged.dispatch(self.isConnected);
    });
  }

  _createClass(SocketClient, [{
    key: 'subscribe',
    value: function subscribe(topic, handler) {
      this._getChannel(topic).watch(handler);
    }
  }, {
    key: 'send',
    value: function send(topic, data) {
      this._getChannel(topic).publish(data);
    }
  }, {
    key: '_getChannel',
    value: function _getChannel(topic) {
      return this._channels[topic] || (this._channels[topic] = this._socket.subscribe(topic));
    }
  }, {
    key: '_authenticate',
    value: function _authenticate() {
      var self = this;
      self._socket.emit('authenticate', {
        access_token: self._SessionModel.apiToken
      }, function (err) {
        if (err) {
          self._Logger.warn('Unable to authenticate socket: ' + err.message);
          return;
        }

        self._isConnected = true;
        self.isConnectedChanged.dispatch(self.isConnected);
      });
    }
  }, {
    key: 'isConnected',
    get: function get() {
      return this._isConnected;
    }
  }]);

  return SocketClient;
})();

//src/js/shared/service/telemetryservice.js

window.app.TelemetryService = (function () {
  function TelemetryService($resource) {
    _classCallCheck(this, TelemetryService);

    this._api = {
      'submitTelemetry': $resource('/snap/telemetry', {}, { query: { method: 'POST' } }),
      'submitLogs': $resource('/snap/logs', {}, { query: { method: 'POST' } })
    };
  }

  _createClass(TelemetryService, [{
    key: 'submitTelemetry',
    value: function submitTelemetry(data) {
      return this._api.submitTelemetry.query(data).$promise;
    }
  }, {
    key: 'submitLogs',
    value: function submitLogs(data) {
      return this._api.submitLogs.query(data).$promise;
    }
  }]);

  return TelemetryService;
})();

//src/js/shared/service/webbrowser.js

window.app.WebBrowser = (function () {
  /* global signals, URI */

  function WebBrowser(AnalyticsModel, ManagementService, SNAPEnvironment, SNAPHosts) {
    _classCallCheck(this, WebBrowser);

    this._AnalyticsModel = AnalyticsModel;
    this._ManagementService = ManagementService;
    this._SNAPEnvironment = SNAPEnvironment;

    this._localHosts = Object.keys(SNAPHosts).map(function (p) {
      return SNAPHosts[p].host;
    }).filter(function (h) {
      return Boolean(h);
    });
    this._localHosts.push('localhost');

    this.onOpened = new signals.Signal();
    this.onClosed = new signals.Signal();
    this.onNavigated = new signals.Signal();

    this._browser = null;
  }

  _createClass(WebBrowser, [{
    key: 'open',
    value: function open(url) {
      var _this27 = this;

      if (this._browser) {
        this._browser.navigate(url);
        return Promise.resolve(this._browser);
      }

      return new Promise(function (resolve, reject) {
        _this27._ManagementService.openBrowser(url).then(function (browser) {
          _this27._browser = browser;
          _this27.onOpened.dispatch(_this27._browser);

          _this27._browser.onNavigated.add(function (url) {
            _this27.onNavigated.dispatch(url);

            var host = URI(url).hostname();

            if (_this27._localHosts.indexOf(host) === -1) {
              _this27._AnalyticsModel.logUrl(url);
            }
          });

          _this27._browser.onExit.addOnce(function () {
            _this27.onClosed.dispatch();
            _this27._browser = null;
          });

          resolve(browser);
        }, reject);
      });
    }
  }, {
    key: 'close',
    value: function close() {
      var _this28 = this;

      if (!this._browser) {
        return Promise.resolve();
      }

      return this._ManagementService.closeBrowser(this._browser).then(function () {
        _this28._browser = null;
        _this28.onClosed.dispatch();
      });
    }
  }, {
    key: 'getFlashUrl',
    value: function getFlashUrl(url, width, height) {
      return 'flash.html#media=' + encodeURIComponent(url) + ('&width=' + encodeURIComponent(width)) + ('&height=' + encodeURIComponent(height));
    }
  }, {
    key: 'isPrivateUrl',
    value: function isPrivateUrl(url) {
      return !url.startsWith('http') || this._localHosts.indexOf(URI(url).hostname()) !== -1;
    }
  }]);

  return WebBrowser;
})();

//src/js/shared/workers/flashstarter.js

window.app.FlashStarter = (function () {
  /* global swfobject */

  function FlashStarter(Logger, SNAPHosts) {
    _classCallCheck(this, FlashStarter);

    this._Logger = Logger;
    this._SNAPHosts = SNAPHosts;
  }

  _createClass(FlashStarter, [{
    key: 'start',
    value: function start(containerId, url, width, height) {
      var flashvars = {},
          params = {
        menu: 'false',
        wmode: 'direct',
        allowFullScreen: 'false'
      },
          attributes = {
        id: containerId,
        name: containerId
      },
          self = this;

      swfobject.embedSWF(url, containerId, width, height, '16.0.0', 'expressInstall.swf', flashvars, params, attributes, function (res) {
        if (res.success !== true) {
          self._Logger.warn('Unable to start Flash in container #' + containerId + ': ' + url + ' ' + width + '/' + height);
        }
      });
    }
  }]);

  return FlashStarter;
})();

//src/js/shared/workers/heatmap.js

window.app.HeatMap = (function () {
  function HeatMap(element) {
    _classCallCheck(this, HeatMap);

    var self = this;

    this._listener = function (e) {
      self._onClick(e);
    };

    this._element = element;
    this._element.addEventListener('click', this._listener);

    this.clicked = new signals.Signal();
  }

  _createClass(HeatMap, [{
    key: 'dispose',
    value: function dispose() {
      this._element.removeEventListener('click', this._listener);
    }
  }, {
    key: '_onClick',
    value: function _onClick(e) {
      var data = {
        x: e.layerX / this._element.clientWidth,
        y: e.layerY / this._element.clientHeight
      };

      if (data.x < 0 || data.y < 0 || data.x > 1 || data.y > 1) {
        return;
      }

      this.clicked.dispatch(data);
    }
  }]);

  return HeatMap;
})();

//src/js/shared/workers/logger.js

window.app.Logger = (function () {
  function _class(SNAPEnvironment) {
    _classCallCheck(this, _class);

    this._SNAPEnvironment = SNAPEnvironment;
    this._log = log4javascript.getLogger();

    var ajaxAppender = new log4javascript.AjaxAppender('/snap/log');
    ajaxAppender.setWaitForResponse(true);
    ajaxAppender.setLayout(new log4javascript.JsonLayout());
    ajaxAppender.setThreshold(log4javascript.Level.ERROR);

    this._log.addAppender(ajaxAppender);
    this._log.addAppender(new log4javascript.BrowserConsoleAppender());
  }

  _createClass(_class, [{
    key: 'debug',
    value: function debug() {
      var _log;

      (_log = this._log).debug.apply(_log, arguments);
    }
  }, {
    key: 'info',
    value: function info() {
      var _log2;

      (_log2 = this._log).info.apply(_log2, arguments);
    }
  }, {
    key: 'warn',
    value: function warn() {
      var _log3;

      (_log3 = this._log).warn.apply(_log3, arguments);
    }
  }, {
    key: 'error',
    value: function error() {
      var _log4;

      (_log4 = this._log).error.apply(_log4, arguments);
    }
  }, {
    key: 'fatal',
    value: function fatal() {
      var _log5;

      (_log5 = this._log).fatal.apply(_log5, arguments);
    }
  }]);

  return _class;
})();

//src/js/apps.js

//------------------------------------------------------------------------
//
//  ApplicationBootstraper
//
//------------------------------------------------------------------------

window.app.ApplicationBootstraper = (function () {
  function ApplicationBootstraper(name, options) {
    _classCallCheck(this, ApplicationBootstraper);

    this.name = name;
    this.options = options || {};

    this.hosts = {
      api: { 'host': 'api2.managesnap.com', 'secure': true },
      content: { 'host': 'content.managesnap.com', 'secure': false },
      media: { 'host': 'content.managesnap.com', 'secure': false },
      'static': { 'path': this.options.static_path || '/' },
      socket: { 'host': 'web-dev.managesnap.com', 'secure': true, 'port': 8080, 'path': '/socket/' },
      games: { 'host': 'static.managesnap.com' }
    };

    this.environment = {
      debug: this.options.debug || false,
      platform: this.options.platform || 'web',
      version: SNAP_VERSION || '0.0.0',
      main_application: { 'client_id': 'd67610b1c91044d8abd55cbda6c619f0', 'callback_url': 'https://api2.managesnap.com/callback/api', 'scope': '' },
      customer_application: { 'client_id': '91381a86b3b444fd876df80b22d7fa6e' },
      facebook_application: { 'client_id': '349729518545313', 'redirect_url': 'https://web.managesnap.com/callback/facebook' },
      googleplus_application: { 'client_id': '678998250941-1dmebp4ksni9tsjth45tsht8l7cl1mrn.apps.googleusercontent.com', 'redirect_url': 'https://web.managesnap.com/callback/googleplus' },
      twitter_application: { 'consumer_key': 'yQ8XJ15PmaPOi4L5DJPikGCI0', 'redirect_url': 'https://web.managesnap.com/callback/twitter' }
    };

    this.dependencies = ['ngRoute', 'ngAnimate', 'ngTouch', 'ngSanitize', 'SNAP.configs', 'SNAP.controllers', 'SNAP.directives', 'SNAP.filters', 'SNAP.services'];
  }

  //-----------------------------------------------
  //    Public methods
  //-----------------------------------------------

  _createClass(ApplicationBootstraper, [{
    key: 'configure',
    value: function configure() {
      var _this29 = this;

      //FastClick.attach(document.body);

      return new Promise(function (resolve, reject) {
        if (_this29.options.access_token) {
          _this29._getStore('snap_accesstoken').write(_this29.options.access_token);
        }

        var store = _this29._getStore('snap_location');

        _this29._getStore('snap_location').read().then(function (config) {
          _this29.location = config || null;

          if (!_this29.location && _this29.options.location) {
            _this29._getStore('snap_location').write(_this29.options.location);
          }

          angular.module('SNAP.configs', []).constant('SNAPLocation', _this29.location).constant('SNAPEnvironment', _this29.environment).constant('SNAPHosts', _this29.hosts);

          if (_this29.hosts['static'].host) {
            $sceDelegateProvider.resourceUrlWhitelist(['self', new RegExp('.*' + _this29.hosts['static'].host + '.*')]);
          }

          var app = angular.module(_this29.name, _this29.dependencies);

          resolve(app);
        }, reject);
      });
    }
  }, {
    key: 'run',
    value: function run() {
      angular.bootstrap(document, [this.name]);
    }

    //-----------------------------------------------
    //    Helper methods
    //-----------------------------------------------

  }, {
    key: '_getPartialUrl',
    value: function _getPartialUrl(name) {
      if (!this.hosts) {
        throw new Error('Missing hosts configuration.');
      }

      if (!this.location) {
        throw new Error('Missing location configuration.');
      }

      var path = this.hosts['static'].host ? '//' + this.hosts['static'].host + this.hosts['static'].path : '' + this.hosts['static'].path;

      return path + 'assets/' + this.location.theme.layout + '/partials/' + name + '.html';
    }
  }, {
    key: '_getStore',
    value: function _getStore(id) {
      switch (this.environment.platform) {
        case 'mobile':
          return new app.CordovaLocalStorageStore(id);
        default:
          return new app.LocalStorageStore(id);
      }
    }
  }]);

  return ApplicationBootstraper;
})();

//------------------------------------------------------------------------
//
//  SnapApplicationBootstraper
//
//------------------------------------------------------------------------

window.app.SnapApplicationBootstraper = (function (_app$ApplicationBootstraper) {
  _inherits(SnapApplicationBootstraper, _app$ApplicationBootstraper);

  function SnapApplicationBootstraper(options) {
    _classCallCheck(this, SnapApplicationBootstraper);

    _get(Object.getPrototypeOf(SnapApplicationBootstraper.prototype), 'constructor', this).call(this, 'SNAPApplication', options);
  }

  _createClass(SnapApplicationBootstraper, [{
    key: 'configure',
    value: function configure() {
      var _this30 = this;

      return _get(Object.getPrototypeOf(SnapApplicationBootstraper.prototype), 'configure', this).call(this).then(function (app) {
        return app.config(['$locationProvider', '$routeProvider', '$sceDelegateProvider', function ($locationProvider, $routeProvider, $sceDelegateProvider) {

          $locationProvider.html5Mode(false);

          $routeProvider.when('/', { template: ' ', controller: 'HomeBaseCtrl' });
          $routeProvider.when('/menu/:token', { template: ' ', controller: 'MenuBaseCtrl' });
          $routeProvider.when('/category/:token', { template: ' ', controller: 'CategoryBaseCtrl' });
          $routeProvider.when('/item/:token', { template: ' ', controller: 'ItemBaseCtrl' });
          $routeProvider.when('/checkout', { templateUrl: _this30._getPartialUrl('checkout'), controller: 'CheckoutCtrl' });
          $routeProvider.when('/signin', { templateUrl: _this30._getPartialUrl('signin'), controller: 'SignInCtrl' });
          $routeProvider.when('/account', { templateUrl: _this30._getPartialUrl('account'), controller: 'AccountCtrl' });
          $routeProvider.when('/chat', { templateUrl: _this30._getPartialUrl('chat'), controller: 'ChatCtrl' });
          $routeProvider.when('/chatmap', { templateUrl: _this30._getPartialUrl('chatmap'), controller: 'ChatMapCtrl' });
          $routeProvider.when('/survey', { templateUrl: _this30._getPartialUrl('survey'), controller: 'SurveyCtrl' });
          $routeProvider.otherwise({ redirectTo: '/' });
        }]);
      });
    }
  }]);

  return SnapApplicationBootstraper;
})(app.ApplicationBootstraper);

//------------------------------------------------------------------------
//
//  StartupApplicationBootstraper
//
//------------------------------------------------------------------------

window.app.StartupApplicationBootstraper = (function (_app$ApplicationBootstraper2) {
  _inherits(StartupApplicationBootstraper, _app$ApplicationBootstraper2);

  function StartupApplicationBootstraper(options) {
    _classCallCheck(this, StartupApplicationBootstraper);

    _get(Object.getPrototypeOf(StartupApplicationBootstraper.prototype), 'constructor', this).call(this, 'SNAPStartup', options);
  }

  return StartupApplicationBootstraper;
})(app.ApplicationBootstraper);

//------------------------------------------------------------------------
//
//  ResetApplicationBootstraper
//
//------------------------------------------------------------------------

window.app.ResetApplicationBootstraper = (function (_app$ApplicationBootstraper3) {
  _inherits(ResetApplicationBootstraper, _app$ApplicationBootstraper3);

  function ResetApplicationBootstraper(options) {
    _classCallCheck(this, ResetApplicationBootstraper);

    _get(Object.getPrototypeOf(ResetApplicationBootstraper.prototype), 'constructor', this).call(this, 'SNAPReset', options);
  }

  return ResetApplicationBootstraper;
})(app.ApplicationBootstraper);

//------------------------------------------------------------------------
//
//  FlashApplicationBootstraper
//
//------------------------------------------------------------------------

window.app.FlashApplicationBootstraper = (function (_app$ApplicationBootstraper4) {
  _inherits(FlashApplicationBootstraper, _app$ApplicationBootstraper4);

  function FlashApplicationBootstraper(options) {
    _classCallCheck(this, FlashApplicationBootstraper);

    _get(Object.getPrototypeOf(FlashApplicationBootstraper.prototype), 'constructor', this).call(this, 'SNAPFlash', options);
  }

  return FlashApplicationBootstraper;
})(app.ApplicationBootstraper);

//------------------------------------------------------------------------
//
//  SnapAuxiliaresApplicationBootstraper
//
//------------------------------------------------------------------------

window.app.SnapAuxiliaresApplicationBootstraper = (function (_app$ApplicationBootstraper5) {
  _inherits(SnapAuxiliaresApplicationBootstraper, _app$ApplicationBootstraper5);

  function SnapAuxiliaresApplicationBootstraper(options) {
    _classCallCheck(this, SnapAuxiliaresApplicationBootstraper);

    _get(Object.getPrototypeOf(SnapAuxiliaresApplicationBootstraper.prototype), 'constructor', this).call(this, 'SNAPAuxiliares', options);
  }

  _createClass(SnapAuxiliaresApplicationBootstraper, [{
    key: 'configure',
    value: function configure() {
      var _this31 = this;

      return _get(Object.getPrototypeOf(SnapAuxiliaresApplicationBootstraper.prototype), 'configure', this).call(this).then(function (app) {
        return app.config(['$locationProvider', '$routeProvider', function ($locationProvider, $routeProvider) {

          $locationProvider.html5Mode(false);

          $routeProvider.when('/', { templateUrl: _this31._getPartialUrl('chatroom'), controller: 'ChatRoomCtrl' });
          $routeProvider.otherwise({ redirectTo: '/' });
        }]);
      });
    }
  }]);

  return SnapAuxiliaresApplicationBootstraper;
})(app.ApplicationBootstraper);

//src/js/controllers/_base.js

angular.module('SNAP.controllers', ['angular-bacon']);

//src/js/controllers/account.js

angular.module('SNAP.controllers').controller('AccountCtrl', ['$scope', 'CustomerManager', 'DialogManager', 'NavigationManager', function ($scope, CustomerManager, DialogManager, NavigationManager) {

  if (!CustomerManager.model.isEnabled || !CustomerManager.model.isAuthenticated) {
    NavigationManager.location = { type: 'home' };
    return;
  }

  //------------------------------------------------------------------------
  //
  //  Constants
  //
  //------------------------------------------------------------------------

  //------------------------------------------------------------------------
  //
  //  Properties
  //
  //------------------------------------------------------------------------

  //-----------------------------------------------
  //    Profile
  //-----------------------------------------------

  $scope.profile = CustomerManager.model.profile;
  $scope.canChangePassword = CustomerManager.model.hasCredentials;
  var profile = $scope.$watchAsProperty('profile');

  CustomerManager.model.profileChanged.add(function (value) {
    $scope.profile = value;
    $scope.canChangePassword = CustomerManager.model.hasCredentials;
    $scope.canChangeEmail = CustomerManager.model.hasCredentials;
  });

  //-----------------------------------------------
  //    Splash screen
  //-----------------------------------------------

  $scope.editProfile = function () {
    $scope.profileedit = angular.copy($scope.profile);
    $scope.showProfileEdit = true;
  };

  $scope.editPassword = function () {
    $scope.passwordedit = {
      old_password: '',
      new_password: ''
    };
    $scope.showProfileEdit = false;
    $scope.showPasswordEdit = true;
  };

  $scope.editPayment = function () {
    $scope.showPaymentEdit = true;
  };

  //-----------------------------------------------
  //    Profile edit screen
  //-----------------------------------------------

  $scope.profileEditSubmit = function () {
    var job = DialogManager.startJob();

    CustomerManager.updateProfile($scope.profileedit).then(function () {
      DialogManager.endJob(job);
      $scope.showProfileEdit = false;
    }, function (e) {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  $scope.profileEditCancel = function () {
    $scope.showProfileEdit = false;
  };

  //-----------------------------------------------
  //    Password edit screen
  //-----------------------------------------------

  $scope.passwordEditSubmit = function () {
    var job = DialogManager.startJob();

    CustomerManager.changePassword($scope.passwordedit).then(function () {
      DialogManager.endJob(job);
      $scope.showPasswordEdit = false;
    }, function (e) {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  $scope.passwordEditCancel = function () {
    $scope.showPasswordEdit = false;
  };
}]);

//src/js/controllers/background.js

angular.module('SNAP.controllers').controller('BackgroundCtrl', ['$scope', '$timeout', 'ShellManager', 'NavigationManager', function ($scope, $timeout, ShellManager, NavigationManager) {

  function showImages(values) {
    $timeout(function () {
      $scope.images = values.map(function (item) {
        return {
          src: ShellManager.getMediaUrl(item.media, 1920, 1080, 'jpg'),
          type: ShellManager.getMediaType(item.media)
        };
      });
    });
  }

  var backgrounds = ShellManager.model.backgrounds,
      pageBackgrounds = null;

  showImages(backgrounds);
  ShellManager.model.backgroundsChanged.add(function (value) {
    backgrounds = value;
    showImages(backgrounds);
  });

  NavigationManager.locationChanged.add(function (location) {
    var newPageBackgrounds = ShellManager.getPageBackgrounds(location);

    if (newPageBackgrounds.length > 0) {
      pageBackgrounds = newPageBackgrounds;
      showImages(pageBackgrounds);
      return;
    }

    if (pageBackgrounds) {
      switch (location.type) {
        case 'menu':
        case 'category':
        case 'item':
          return;
      }
    }

    pageBackgrounds = null;
    showImages(backgrounds);
  });
}]);

//src/js/controllers/cart.js

angular.module('SNAP.controllers').controller('CartCtrl', ['$scope', '$timeout', '$sce', 'CustomerManager', 'ShellManager', 'NavigationManager', 'OrderManager', 'DialogManager', 'CartModel', 'LocationModel', 'ChatManager', function ($scope, $timeout, $sce, CustomerManager, ShellManager, NavigationManager, OrderManager, DialogManager, CartModel, LocationModel, ChatManager) {

  $scope.getMediaUrl = function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
  $scope.formatPrice = function (value) {
    return ShellManager.formatPrice(value);
  };
  $scope.options = {};

  $scope.state = CartModel.cartState;
  CartModel.cartStateChanged.add(function (state) {
    return $timeout(function () {
      return $scope.state = state;
    });
  });

  $scope.currentOrder = OrderManager.model.orderCart;
  OrderManager.model.orderCartChanged.add(function (value) {
    return $scope.currentOrder = value;
  });

  $scope.totalOrder = OrderManager.model.orderCheck;
  OrderManager.model.orderCheckChanged.add(function (value) {
    return $scope.totalOrder = value;
  });

  $scope.giftSeat = LocationModel.getSeat(ChatManager.model.giftSeat);
  ChatManager.model.giftSeatChanged.add(function (token) {
    $timeout(function () {
      return $scope.giftSeat = LocationModel.getSeat(token);
    });
  });

  $scope.requestAssistanceAvailable = true;
  $scope.requestCloseoutAvailable = true;
  $scope.checkoutEnabled = CustomerManager.model.isEnabled;
  $scope.toGoOrder = false;
  $scope.visible = CartModel.isCartOpen;

  NavigationManager.locationChanging.add(function (location) {
    if (location.type !== 'category') {
      CartModel.isCartOpen = false;
    }
  });

  CartModel.isCartOpenChanged.add(function (value) {
    $scope.showCart();
    $scope.visible = value;
  });

  $scope.seat_name = LocationModel.seat ? LocationModel.seat.name : 'Table';

  LocationModel.seatChanged.add(function (seat) {
    return $scope.seat_name = seat ? seat.name : 'Table';
  });

  var refreshAssistanceRequest = function refreshAssistanceRequest() {
    $scope.requestAssistanceAvailable = OrderManager.model.assistanceRequest === null;
  };
  var refreshCloseoutRequest = function refreshCloseoutRequest() {
    $scope.requestCloseoutAvailable = OrderManager.model.closeoutRequest === null;
  };

  OrderManager.model.assistanceRequestChanged.add(refreshAssistanceRequest);
  OrderManager.model.closeoutRequestChanged.add(refreshCloseoutRequest);
  refreshAssistanceRequest();
  refreshCloseoutRequest();

  $scope.calculateDescription = function (entry) {
    var result = entry.name || entry.item.title;

    result += entry.modifiers.reduce(function (output, category) {
      return output + category.modifiers.reduce(function (output, modifier) {
        return output + (modifier.isSelected ? '<br/>- ' + modifier.data.title : '');
      }, '');
    }, '');

    return $sce.trustAsHtml(result);
  };

  $scope.calculatePrice = function (entry) {
    return OrderManager.calculatePrice(entry);
  };
  $scope.calculateTotalPrice = function (entries) {
    return OrderManager.calculateTotalPrice(entries);
  };

  $scope.editItem = function (entry) {
    return CartModel.openEditor(entry, false);
  };
  $scope.removeFromCart = function (entry) {
    return $scope.currentOrder = OrderManager.removeFromCart(entry);
  };
  $scope.reorderItem = function (entry) {
    return $scope.currentOrder = OrderManager.addToCart(entry.clone());
  };

  $scope.submitCart = function () {
    var job = DialogManager.startJob();

    var options = $scope.options.to_go_order ? 2 : 0;

    OrderManager.submitCart(options).then(function () {
      DialogManager.endJob(job);

      $scope.$apply(function () {
        $scope.currentOrder = OrderManager.model.orderCart;
        $scope.totalOrder = OrderManager.model.orderCheck;
        $scope.toGoOrder = false;
      });

      DialogManager.alert(ALERT_REQUEST_ORDER_SENT);
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  $scope.clearCart = function () {
    $scope.toGoOrder = false;
    $scope.currentOrder = OrderManager.clearCart();
  };

  $scope.closeCart = function () {
    CartModel.isCartOpen = false;
    $scope.showCart();
  };

  $scope.showHistory = function () {
    return CartModel.cartState = CartModel.STATE_HISTORY;
  };
  $scope.showCart = function () {
    return CartModel.cartState = CartModel.STATE_CART;
  };

  $scope.payCheck = function () {
    return NavigationManager.location = { type: 'checkout' };
  };

  $scope.requestAssistance = function () {
    if (!$scope.requestAssistanceAvailable) {
      return;
    }

    DialogManager.confirm(ALERT_TABLE_ASSISTANCE).then(function () {
      var job = DialogManager.startJob();

      OrderManager.requestAssistance().then(function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_ASSISTANCE_SENT);
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
      });
    });
  };

  $scope.requestCloseout = function () {
    if (!$scope.requestCloseoutAvailable) {
      return;
    }

    var job = DialogManager.startJob();

    OrderManager.requestCloseout().then(function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_CLOSEOUT_SENT);
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };
}]);

//src/js/controllers/category.js

angular.module('SNAP.controllers').controller('CategoryBaseCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', function ($scope, $timeout, DataManager, NavigationManager) {}]);

angular.module('SNAP.controllers').controller('CategoryCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', 'SNAPEnvironment', 'ShellManager', function ($scope, $timeout, DataManager, NavigationManager, SNAPEnvironment, ShellManager) {

  var CategoryList = React.createClass({
    displayName: 'CategoryList',

    render: function render() {
      var tileClassName = ShellManager.tileStyle;
      var rows = this.props.tiles.map(function (tile, i) {
        return React.DOM.td({
          className: tileClassName,
          key: i
        }, React.DOM.a({
          onClick: function onClick(e) {
            e.preventDefault();
            NavigationManager.location = tile.destination;
          },
          style: {
            backgroundImage: 'url(' + ShellManager.getMediaUrl(tile.image, 370, 370) + ')'
          }
        }, React.DOM.span(null, tile.title)));
      }).reduce(function (result, value, i) {
        result[i % 2].push(value);
        return result;
      }, [[], []]).map(function (row, i) {
        return React.DOM.tr({ key: i }, row);
      });

      return React.DOM.table({ className: 'tile-table' }, rows);
    }
  });

  NavigationManager.locationChanging.add(function (location) {
    DataManager.category = location.type === 'category' ? location.token : undefined;
    $scope.visible = Boolean(DataManager.category);
    $timeout(function () {
      $scope.$apply();
    });
  });

  DataManager.categoryChanged.add(function (data) {
    if (!data) {
      return;
    }

    var tiles,
        categories = data.categories || [];
    tiles = data.items || [];
    tiles = categories.concat(tiles);

    if (SNAPEnvironment.platform !== 'desktop') {
      tiles = tiles.filter(function (tile) {
        return tile.type !== 3;
      });
    }

    tiles.forEach(function (tile) {
      tile.url = '#' + NavigationManager.getPath(tile.destination);
    });

    React.render(React.createElement(CategoryList, { tiles: tiles }), document.getElementById('content-category'));
  });
}]);

//src/js/controllers/chat.js

angular.module('SNAP.controllers').controller('ChatCtrl', ['$scope', '$timeout', 'CustomerManager', 'ChatManager', 'DialogManager', 'NavigationManager', 'LocationModel', 'ShellManager', 'SNAPLocation', function ($scope, $timeout, CustomerManager, ChatManager, DialogManager, NavigationManager, LocationModel, ShellManager, SNAPLocation) {

  if (!SNAPLocation.chat) {
    NavigationManager.location = { type: 'home' };
    return;
  }

  $scope.locationName = SNAPLocation.location_name;

  $scope.getPartialUrl = function (name) {
    return ShellManager.getPartialUrl(name);
  };

  $scope.chatEnabled = ChatManager.model.isEnabled;
  ChatManager.model.isEnabledChanged.add(function (value) {
    $timeout(function () {
      return $scope.chatEnabled = value;
    });
  });

  $scope.activeDevices = ChatManager.model.activeDevices;
  ChatManager.model.activeDevicesChanged.add(function (value) {
    $timeout(function () {
      return $scope.activeDevices = value;
    });
  });

  $scope.giftSeat = LocationModel.getSeat(ChatManager.model.giftSeat);
  ChatManager.model.giftSeatChanged.add(function (token) {
    $timeout(function () {
      return $scope.giftSeat = LocationModel.getSeat(token);
    });
  });

  $scope.giftDevice = ChatManager.model.giftDevice;
  ChatManager.model.giftDeviceChanged.add(function (value) {
    $timeout(function () {
      return $scope.giftDevice = value;
    });
  });

  $scope.toggleChat = function () {
    ChatManager.model.isEnabled = !ChatManager.model.isEnabled;
  };

  $scope.openMap = function () {
    NavigationManager.location = { type: 'chatmap' };
  };

  $scope.getDeviceName = function (device_token) {
    return ChatManager.getDeviceName(device_token);
  };

  $scope.getSeatNumber = function (device_token) {
    var device = LocationModel.getDevice(device_token);

    for (var p in LocationModel.seats) {
      if (LocationModel.seats[p].token === device.seat) {
        var match = LocationModel.seats[p].name.match(/\d+/);
        return match ? match[0] || '' : '';
      }
    }

    return '';
  };

  $scope.closeChat = function (device_token) {
    DialogManager.confirm('Are you sure you would like to close the chat with ' + $scope.getDeviceName(device_token) + '?').then(function () {
      ChatManager.declineDevice(device_token);
    });
  };

  $scope.getUnreadCount = function (device_token) {
    return ChatManager.getUnreadCount(device_token);
  };

  $scope.sendGift = function (device_token) {
    var device = LocationModel.getDevice(device_token),
        seat = LocationModel.getSeat(device.seat);

    if (!seat) {
      return;
    }

    DialogManager.confirm('Are you sure that you want to send a gift to ' + seat.name + '?').then(function () {
      ChatManager.startGift(device_token);
      NavigationManager.location = { type: 'home' };
    });
  };

  $scope.cancelGift = function () {
    return ChatManager.endGift();
  };

  ChatManager.isPresent = true;

  var watchLocation = true;

  $scope.$on('$locationChangeStart', function () {
    if (watchLocation) {
      ChatManager.model.isPresent = false;
      watchLocation = false;
    }
  });
}]);

//src/js/controllers/chatbox.js

angular.module('SNAP.controllers').controller('ChatBoxCtrl', ['$scope', '$timeout', '$attrs', 'ChatManager', 'LocationModel', function ($scope, $timeout, $attrs, ChatManager, LocationModel) {
  var to_device = $scope.device,
      type = to_device ? ChatManager.MESSAGE_TYPES.DEVICE : ChatManager.MESSAGE_TYPES.LOCATION;

  var device = to_device ? LocationModel.getDevice(to_device) : null;

  $scope.readonly = Boolean($attrs.readonly);
  $scope.chat = {};
  $scope.messages = [];

  function showMessages() {
    $timeout(function () {
      $scope.messages = ChatManager.model.history.filter(function (message) {
        return message.type === type && (message.device === to_device || message.to_device === to_device);
      });
    });
  }

  $scope.chatEnabled = ChatManager.model.isEnabled;
  ChatManager.model.isEnabledChanged.add(function (value) {
    $timeout(function () {
      return $scope.chatEnabled = value;
    });
  });

  $scope.isConnected = ChatManager.model.isConnected;
  ChatManager.model.isConnectedChanged.add(function (value) {
    $timeout(function () {
      return $scope.isConnected = value;
    });
  });

  $scope.sendMessage = function () {
    if (!$scope.isConnected || !$scope.chat.message) {
      return;
    }

    var message = {
      type: type,
      to_device: to_device,
      text: $scope.chat.message
    };

    ChatManager.sendMessage(message);

    $scope.chat.message = '';
  };

  $scope.getFromName = function (message) {
    return ChatManager.getMessageName(message);
  };

  $scope.getStatusText = function (message) {
    if (message.to_device === to_device) {
      switch (message.status) {
        case ChatManager.MESSAGE_STATUSES.CHAT_REQUEST:
          return 'You have requested to chat with ' + ChatManager.getDeviceName(message.to_device);
        case ChatManager.MESSAGE_STATUSES.CHAT_REQUEST_ACCEPTED:
          return 'Accepted chat request';
        case ChatManager.MESSAGE_STATUSES.CHAT_REQUEST_DECLINED:
          return 'Declined chat request';
        case ChatManager.MESSAGE_STATUSES.CHAT_CLOSED:
          return 'Closed the chat';
        case ChatManager.MESSAGE_STATUSES.GIFT_REQUEST:
          return 'Gift request sent';
        case ChatManager.MESSAGE_STATUSES.GIFT_REQUEST_ACCEPTED:
          return 'Accepted a gift';
        case ChatManager.MESSAGE_STATUSES.GIFT_REQUEST_DECLINED:
          return 'Declined a gift';
      }
    } else if (message.device === to_device) {
      switch (message.status) {
        case ChatManager.MESSAGE_STATUSES.CHAT_REQUEST:
          return $scope.getFromName(message) + ' would like to chat with you';
        case ChatManager.MESSAGE_STATUSES.CHAT_REQUEST_ACCEPTED:
          return 'Accepted chat request';
        case ChatManager.MESSAGE_STATUSES.CHAT_REQUEST_DECLINED:
          return 'Declined chat request';
        case ChatManager.MESSAGE_STATUSES.CHAT_CLOSED:
          return 'Closed the chat';
        case ChatManager.MESSAGE_STATUSES.GIFT_REQUEST:
          return 'Would like to send you a gift';
        case ChatManager.MESSAGE_STATUSES.GIFT_REQUEST_ACCEPTED:
          return 'Accepted a gift';
        case ChatManager.MESSAGE_STATUSES.GIFT_REQUEST_DECLINED:
          return 'Declined a gift';
      }
    }
  };

  $scope.isUnread = function (message) {
    if (message.to_device === to_device) {
      return false;
    }

    return ChatManager.checkIfUnread(to_device, message);
  };

  $scope.markAsRead = function () {
    if (!to_device) {
      return;
    }

    ChatManager.markAsRead(to_device);
  };

  $scope.onKeydown = function (keycode) {
    if (keycode === 13) {
      $timeout(function () {
        $scope.sendMessage();
      });
    }
  };

  LocationModel.devicesChanged.add(showMessages);
  LocationModel.seatsChanged.add(showMessages);
  ChatManager.model.historyChanged.add(showMessages);
  showMessages();
}]);

//src/js/controllers/chatmap.js

angular.module('SNAP.controllers').controller('ChatMapCtrl', ['$scope', '$timeout', 'ChatManager', 'ShellManager', 'DialogManager', 'NavigationManager', 'LocationModel', function ($scope, $timeout, ChatManager, ShellManager, DialogManager, NavigationManager, LocationModel) {

  $scope.seats = [];

  $scope.mapImage = ShellManager.model.elements.location_map;
  ShellManager.model.elementsChanged.add(function () {
    $timeout(function () {
      return $scope.mapImage = ShellManager.model.elements.location_map;
    });
  });

  function buildMap() {
    if (!LocationModel.seat) {
      return;
    }

    $timeout(function () {
      $scope.seats = LocationModel.seats.filter(function (seat) {
        return seat.token !== LocationModel.seat.token;
      }).map(function (seat) {
        var devices = LocationModel.devices.filter(function (device) {
          return device.seat === seat.token;
        }).map(function (device) {
          return {
            token: device.token,
            seat: device.seat,
            is_available: device.is_available,
            username: device.username
          };
        });

        return {
          token: seat.token,
          name: seat.name,
          devices: devices,
          map_position_x: seat.map_position_x,
          map_position_y: seat.map_position_y,
          is_available: devices.filter(function (device) {
            return device.is_available;
          }).length > 0
        };
      });
    });
  }

  LocationModel.devicesChanged.add(buildMap);
  LocationModel.seatsChanged.add(buildMap);
  LocationModel.seatChanged.add(buildMap);
  buildMap();

  $scope.chooseSeat = function (seat) {
    var device = seat.devices[0];

    if (!seat.is_available || !device) {
      var deviceName = device && device.username ? device.username : seat.name;
      DialogManager.alert(deviceName + ' is unavailable for chat');
      return;
    }

    ChatManager.approveDevice(device.token);
    $scope.exitMap();
  };

  $scope.exitMap = function () {
    NavigationManager.location = { type: 'chat' };
  };
}]);

//src/js/controllers/chatroom.js

angular.module('SNAP.controllers').controller('ChatRoomCtrl', ['$scope', '$timeout', 'ChatManager', 'NavigationManager', 'ShellManager', 'SNAPLocation', function ($scope, $timeout, ChatManager, NavigationManager, ShellManager, SNAPLocation) {

  if (!SNAPLocation.chat) {
    NavigationManager.location = { type: 'home' };
    return;
  }

  $scope.locationName = SNAPLocation.location_name;

  $scope.getPartialUrl = function (name) {
    return ShellManager.getPartialUrl(name);
  };
}]);

//src/js/controllers/checkout.js

angular.module('SNAP.controllers').controller('CheckoutCtrl', ['$scope', '$timeout', 'CustomerManager', 'OrderManager', 'DialogManager', 'NavigationManager', 'SessionManager', 'ShellManager', 'LocationModel', 'SurveyManager', function ($scope, $timeout, CustomerManager, OrderManager, DialogManager, NavigationManager, SessionManager, ShellManager, LocationModel, SurveyManager) {

  //------------------------------------------------------------------------
  //
  //  Constants
  //
  //------------------------------------------------------------------------

  //-----------------------------------------------
  //    Check split type
  //-----------------------------------------------

  $scope.CHECK_SPLIT_NONE = 0;
  $scope.CHECK_SPLIT_BY_ITEMS = 1;
  $scope.CHECK_SPLIT_EVENLY = 2;

  //-----------------------------------------------
  //    Payment method
  //-----------------------------------------------

  $scope.PAYMENT_METHOD_CARD = 1;
  $scope.PAYMENT_METHOD_CASH = 2;
  $scope.PAYMENT_METHOD_PAYPAL = 3;

  //-----------------------------------------------
  //    Receipt method
  //-----------------------------------------------

  $scope.RECEIPT_METHOD_NONE = 0;
  $scope.RECEIPT_METHOD_EMAIL = 1;
  $scope.RECEIPT_METHOD_SMS = 2;
  $scope.RECEIPT_METHOD_PRINT = 3;

  //-----------------------------------------------
  //    Checkout step
  //-----------------------------------------------

  $scope.STEP_CHECK_SPLIT = 0;
  $scope.STEP_PAYMENT = 1;
  $scope.STEP_TIPPING = 2;
  $scope.STEP_SIGNATURE = 3;
  $scope.STEP_RECEIPT = 4;
  $scope.STEP_COMPLETE = 5;

  //------------------------------------------------------------------------
  //
  //  Properties
  //
  //------------------------------------------------------------------------

  $scope.options = {};
  $scope.data = [{
    items: OrderManager.model.orderCheck
  }];

  //-----------------------------------------------
  //    Check
  //-----------------------------------------------

  //Checks data
  var data = $scope.$watchAsProperty('data');
  data.changes().subscribe(function (value) {
    if (value.value) {
      var data = value.value();
      $scope.options.count = data.length;
    }

    $scope.options.index = 0;
  });

  //Minimum number of guests
  $scope.options.guest_count_min = 2;

  //Maximum number of guests
  $scope.options.guest_count_max = 9; /*Math.max(
                                      SessionManager.guestCount,
                                      OrderManager.model.orderCheck.reduce((i, item) => i + item.quantity, 0)
                                      );*/

  //Number of guests
  $scope.options.guest_count = SessionManager.guestCount;

  //Check split mode
  $scope.options.check_split = $scope.CHECK_SPLIT_NONE;

  //Check index
  $scope.options.index = 0;
  var index = $scope.$watchAsProperty('options.index');
  Bacon.combineAsArray(index, data).subscribe(function () {
    $scope.current = $scope.data[$scope.options.index];

    if (CustomerManager.model.isAuthenticated && !CustomerManager.model.isGuest) {
      $scope.current.receipt_phone = $scope.current.receipt_phone || CustomerManager.model.profile.phone;
      $scope.current.receipt_email = CustomerManager.model.hasCredentials ? CustomerManager.model.profile.email : $scope.current.receipt_email;
    }

    if ($scope.current.items) {
      $scope.current.subtotal = OrderManager.calculateTotalPrice($scope.current.items);
      $scope.current.tax = OrderManager.calculateTax($scope.current.items);
    }

    if (!$scope.current.tip) {
      $scope.current.tip = 0;
    }

    $scope.checkName = $scope.current.name && $scope.options.step !== $scope.STEP_CHECK_SPLIT ? $scope.current.name : CustomerManager.customerName + ' Bill';
  });

  //-----------------------------------------------
  //    Navigation
  //-----------------------------------------------

  //Current step
  $scope.options.step = $scope.options.guest_count_max > 1 ? $scope.STEP_CHECK_SPLIT : $scope.STEP_TIPPING;
  var step = $scope.$watchAsProperty('options.step');
  step.skipDuplicates().subscribe(function (value) {
    if (!value.value) {
      return;
    }

    var step = value.value();

    if (step === $scope.STEP_COMPLETE) {
      startNextCheck();
    }
  });

  //-----------------------------------------------
  //    Misc
  //-----------------------------------------------

  //Seat name
  $scope.options.seat = LocationModel.seat ? LocationModel.seat.name : 'Table';
  LocationModel.seatChanged.add(function (seat) {
    $scope.options.seat = seat ? seat.name : 'Table';
  });

  $scope.currency = ShellManager.model.currency;
  ShellManager.model.currencyChanged.add(function (currency) {
    return $timeout(function () {
      return $scope.currency = currency;
    });
  });

  $scope.checkName = null;

  //------------------------------------------------------------------------
  //
  //  Private methods
  //
  //------------------------------------------------------------------------

  //Proceed with the next check
  function startNextCheck() {
    var check = $scope.current;

    if ($scope.options.index === $scope.options.count - 1) {
      OrderManager.clearCheck();
      NavigationManager.location = {
        type: SurveyManager.model.isEnabled ? 'survey' : 'home'
      };
      return;
    }

    $timeout(function () {
      $scope.options.index++;
      $scope.options.step = $scope.STEP_TIPPING;
    });
  }

  //------------------------------------------------------------------------
  //
  //  Public methods
  //
  //------------------------------------------------------------------------

  $scope.getPartialUrl = function (name) {
    return ShellManager.getPartialUrl(name);
  };

  //Calculate a cart item title
  $scope.calculateTitle = function (entry) {
    return entry.name || entry.item.title;
  };

  //Calculate a cart item price
  $scope.calculatePrice = function (entry) {
    return OrderManager.calculatePrice(entry);
  };

  //Calculate cart items price
  $scope.calculateTotalPrice = function (entries) {
    return OrderManager.calculateTotalPrice(entries);
  };

  //Output a formatted price string
  $scope.formatPrice = function (value) {
    return ShellManager.formatPrice(value || 0);
  };

  //------------------------------------------------------------------------
  //
  //  Startup
  //
  //------------------------------------------------------------------------

  if (!CustomerManager.model.isAuthenticated) {
    NavigationManager.location = { type: 'signin' };
    return;
  }

  $scope.initialized = true;
}]);

//src/js/controllers/checkoutpayment.js

angular.module('SNAP.controllers').controller('CheckoutPaymentCtrl', ['$scope', '$timeout', 'CustomerModel', 'CardReader', 'DialogManager', 'OrderManager', 'Logger', 'SNAPEnvironment', function ($scope, $timeout, CustomerModel, CardReader, DialogManager, OrderManager, Logger, SNAPEnvironment) {

  CardReader.onReceived.add(function (data) {
    Logger.debug('Card reader result: ' + JSON.stringify(data));
    var card = {
      number: data.card_number,
      month: data.expiration_month,
      year: data.expiration_year,
      data: data.data
    };

    CardReader.stop();
    cardDataReceived(card);
  });

  CardReader.onError.add(function (e) {
    Logger.debug('Card reader error: ' + JSON.stringify(e));
    DialogManager.alert(ALERT_CARDREADER_ERROR).then(function () {
      $timeout(function () {
        return $scope.payCardCancel();
      });
    });
  });

  $scope.$on('$locationChangeStart', function () {
    CardReader.stop();
  });

  //Generate a payment token
  function generatePaymentToken() {
    var job = DialogManager.startJob();

    OrderManager.generatePaymentToken().then(function () {
      DialogManager.endJob(job);
    }, function (e) {
      Logger.debug('Payment token generation error: ' + JSON.stringify(e));
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  }

  //Called when a card data is received
  function cardDataReceived(card) {
    $timeout(function () {
      if ($scope.current.items) {
        OrderManager.clearCheck($scope.current.items);
      }
      $scope.current.card_data = card.data;
      $scope.options.step = $scope.STEP_SIGNATURE;
    });
  }

  $scope.canPayCard = SNAPEnvironment.platform !== 'web';

  //Choose to pay with a credit card
  $scope.payCard = function () {
    $scope.current.payment_method = $scope.PAYMENT_METHOD_CARD;
    CardReader.start();
  };

  $scope.payCardCancel = function () {
    $scope.current.payment_method = undefined;
    CardReader.stop();
  };

  //Choose to pay with cash
  $scope.payCash = function () {
    $scope.current.payment_method = $scope.PAYMENT_METHOD_CASH;

    if (OrderManager.model.closeoutRequest !== null) {
      DialogManager.alert(ALERT_REQUEST_CLOSEOUT_SENT);
      $timeout(function () {
        if ($scope.current.items) {
          OrderManager.clearCheck($scope.current.items);
        }
        $scope.options.step = $scope.STEP_COMPLETE;
      });
      return;
    }

    var job = DialogManager.startJob();

    OrderManager.requestCloseout().then(function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_CLOSEOUT_SENT);
      $timeout(function () {
        if ($scope.current.items) {
          OrderManager.clearCheck($scope.current.items);
        }
        $scope.options.step = $scope.STEP_COMPLETE;
      });
    }, function (e) {
      Logger.debug('Request closeout error: ' + JSON.stringify(e));
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  generatePaymentToken();
}]);

//src/js/controllers/checkoutreceipt.js

angular.module('SNAP.controllers').controller('CheckoutReceiptCtrl', ['$scope', '$timeout', 'DialogManager', 'OrderManager', function ($scope, $timeout, DialogManager, OrderManager) {

  $scope.emailEditorOpen = false;

  //Choose to have no receipt
  $scope.receiptNone = function () {
    $scope.current.receipt_method = $scope.RECEIPT_METHOD_NONE;
    $scope.options.step = $scope.STEP_COMPLETE;
  };

  //Choose to receive a receipt by e-mail
  $scope.receiptEmail = function () {
    if (!$scope.current.receipt_email) {
      return;
    }

    $scope.current.receipt_method = $scope.RECEIPT_METHOD_EMAIL;
    requestReceipt();
  };

  //Choose to receive a receipt by sms
  $scope.receiptSms = function () {
    if (!$scope.current.receipt_phone) {
      return;
    }

    $scope.current.receipt_phone = $scope.RECEIPT_METHOD_SMS;
    requestReceipt();
  };

  //Choose to receive a printed receipt
  $scope.receiptPrint = function () {
    $scope.current.receipt_method = $scope.RECEIPT_METHOD_PRINT;
    requestReceipt();
  };

  //Open an e-mail editor
  $scope.receiptEditEmail = function () {
    $scope.emailEditorOpen = true;
  };

  function requestReceipt() {
    var item = $scope.current;

    var request = {
      checkout_token: item.checkout_token,
      receipt_method: item.receipt_method
    };

    if (item.receipt_method === $scope.RECEIPT_METHOD_EMAIL) {
      request.receipt_email = item.receipt_email;
    } else if (item.receipt_method === $scope.RECEIPT_METHOD_SMS) {
      request.receipt_phone = item.receipt_phone;
    }

    var job = DialogManager.startJob();

    OrderManager.requestReceipt(request).then(function () {
      DialogManager.endJob(job);

      $timeout(function () {
        $scope.options.step = $scope.STEP_COMPLETE;
        $scope.emailEditorOpen = false;
      });
    }, function (e) {
      $timeout(function () {
        $scope.emailEditorOpen = false;
      });

      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  }
}]);

//src/js/controllers/checkoutsignature.js

angular.module('SNAP.controllers').controller('CheckoutSignatureCtrl', ['$scope', '$timeout', 'DialogManager', 'OrderManager', 'Logger', function ($scope, $timeout, DialogManager, OrderManager, Logger) {

  //Clear the current signature
  var resetSignature = function resetSignature() {
    $timeout(function () {
      $scope.current.signature_token = undefined;

      var signature = $('#checkout-signature-input');
      signature.empty();
      signature.jSignature('init', {
        'color': '#000',
        'background-color': '#fff',
        'decor-color': '#fff',
        'width': '100%',
        'height': '200px'
      });
    }, 300);
  };

  //Submit the current signature input
  $scope.signatureSubmit = function () {
    var signature = $('#checkout-signature-input');

    if (signature.jSignature('getData', 'native').length === 0) {
      return;
    }

    var job = DialogManager.startJob();
    var sig = signature.jSignature('getData', 'image');

    OrderManager.uploadSignature(sig[1]).then(function (token) {
      DialogManager.endJob(job);

      $timeout(function () {
        $scope.current.signature_token = token;
        completeCheckout();
      });
    }, function (e) {
      Logger.debug('Signature upload error: ' + JSON.stringify(e));
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  //Cancel the current signature input
  $scope.signatureCancel = function () {
    resetSignature();
  };

  //Complete the checkout
  function completeCheckout() {
    var item = $scope.current;
    var job = DialogManager.startJob();

    var request = {
      amount_subtotal: item.subtotal,
      amount_tax: item.tax,
      amount_tip: item.tip,
      card_data: item.card_data,
      signature_token: item.signature_token,
      order_tokens: item.items !== null ? item.items.reduce(function (result, item) {
        for (var i = 0; i < item.quantity; i++) {
          result.push(item.request);
        }

        return result;
      }, []) : null
    };

    OrderManager.payOrder(request).then(function (result) {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_CLOSEOUT_SENT);

      $timeout(function () {
        $scope.current.checkout_token = result.token;
        $scope.options.step = $scope.STEP_RECEIPT;
      });
    }, function (e) {
      Logger.debug('Order payment error: ' + JSON.stringify(e));
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  }

  var step = $scope.$watchAsProperty('options.step');
  step.skipDuplicates().subscribe(function (value) {
    if (!value.value || value.value() !== $scope.STEP_SIGNATURE) {
      return;
    }

    resetSignature();
  });
}]);

//src/js/controllers/checkoutsplit.js

angular.module('SNAP.controllers').controller('CheckoutSplitCtrl', ['$scope', '$timeout', 'OrderManager', function ($scope, $timeout, OrderManager) {

  //Split the current order in the selected way
  $scope.splitCheck = function (type) {
    var i,
        data = [];

    if (type === $scope.CHECK_SPLIT_NONE) {
      data.push({
        items: OrderManager.model.orderCheck
      });

      $scope.options.guest_count = 1;
      $scope.options.step = $scope.STEP_TIPPING;
    } else if (type === $scope.CHECK_SPLIT_EVENLY) {
      var check = OrderManager.model.orderCheck,
          subtotal = OrderManager.calculateTotalPrice(check),
          tax = OrderManager.calculateTax(check);

      for (i = 0; i < $scope.options.guest_count; i++) {
        data.push({
          subtotal: Math.round(subtotal / $scope.options.guest_count * 100) / 100,
          tax: Math.round(tax / $scope.options.guest_count * 100) / 100
        });
      }

      $scope.options.step = $scope.STEP_TIPPING;
    } else if (type === $scope.CHECK_SPLIT_BY_ITEMS) {
      for (i = 0; i < $scope.options.guest_count; i++) {
        data.push({
          items: []
        });
      }

      $scope.split_items = OrderManager.copyItems(OrderManager.model.orderCheck);
    }

    $scope.$parent.data = data;
    $scope.options.check_split = type;
  };

  //Move an item to the current check
  $scope.addToCheck = function (entry) {
    $scope.split_items = $scope.split_items.map(function (item) {
      if (item.request !== entry.request) {
        return item;
      }

      if (item.quantity > 1) {
        item.quantity--;
        return item.clone();
      }

      return null;
    }).filter(function (item) {
      return item !== null;
    });

    var exists = false;

    $scope.current.items = $scope.current.items.map(function (item) {
      if (item.request === entry.request) {
        exists = true;
        item.quantity++;
        return item.clone();
      }

      return item;
    });

    if (!exists) {
      var clone = entry.clone();
      clone.quantity = 1;

      $scope.current.items.push(clone);
    }
  };

  //Remove an item from the current check
  $scope.removeFromCheck = function (entry) {
    $scope.current.items = $scope.current.items.map(function (item) {
      if (item.request !== entry.request) {
        return item;
      }

      if (item.quantity > 1) {
        item.quantity--;
        return item.clone();
      }

      return null;
    }).filter(function (item) {
      return item !== null;
    });

    var exists = false;

    $scope.split_items = $scope.split_items.map(function (item) {
      if (item.request === entry.request) {
        exists = true;
        item.quantity++;
        return item.clone();
      }

      return item;
    });

    if (!exists) {
      var clone = entry.clone();
      clone.quantity = 1;

      $scope.split_items.push(clone);
    }
  };

  //Move all available items to the current check
  $scope.addAllToCheck = function () {
    $scope.split_items.forEach($scope.addToCheck);

    $scope.split_items.forEach(function (item) {
      $scope.current.items.forEach(function (newitem) {
        if (newitem.request === item.request) {
          newitem.quantity += item.quantity;
        }
      });
    });

    $scope.split_items = [];
  };

  //Remove all items from the current check
  $scope.removeAllFromCheck = function () {
    $scope.current.items.forEach($scope.removeFromCheck);

    $scope.current.items.forEach(function (item) {
      $scope.split_items.forEach(function (newitem) {
        if (newitem.request === item.request) {
          newitem.quantity += item.quantity;
        }
      });
    });

    $scope.current.items = [];
  };

  //Proceed with the next check splitting
  $scope.splitNextCheck = function () {
    if ($scope.options.index < $scope.options.count - 1 && $scope.split_items.length > 0) {
      $scope.options.index++;
      return;
    }

    if ($scope.split_items.length > 0) {
      $scope.addAllToCheck();
    }

    $timeout(function () {
      $scope.$parent.data = $scope.$parent.data.filter(function (check) {
        return check.items.length > 0;
      });

      $scope.options.step = $scope.STEP_TIPPING;
    });
  };

  var step = $scope.$watchAsProperty('options.step');
  step.skipDuplicates().subscribe(function (value) {
    if (!value.value || value.value() !== $scope.STEP_CHECK_SPLIT) {
      return;
    }

    $timeout(function () {
      $scope.options.check_split = $scope.CHECK_SPLIT_NONE;
    });
  });
}]);

//src/js/controllers/checkouttip.js

angular.module('SNAP.controllers').controller('CheckoutTipCtrl', ['$scope', '$timeout', 'OrderManager', function ($scope, $timeout, OrderManager) {

  $scope.tipEditorOpen = false;
  $scope.data = {
    tipAmount: 0.0
  };

  //Add a tip
  $scope.addTip = function (amount) {
    if (amount >= 0) {
      $scope.data.tipAmount = amount;
      $scope.current.tip = Math.round($scope.current.subtotal * amount * 100) / 100;
    }
  };

  //Apply the selected tip amount and proceed further
  $scope.applyTip = function () {
    $scope.options.step = $scope.STEP_PAYMENT;
    $scope.tipEditorOpen = false;
  };

  //Edit tip amount
  $scope.editTip = function () {
    $scope.tipEditorOpen = true;
    $scope.addTip(0.2);
  };

  //Edit tip amount
  $scope.cancelEditTip = function () {
    $scope.tipEditorOpen = false;
    $scope.addTip(0.0);
  };

  $scope.$watchAsProperty('data.tipAmount').skipDuplicates().subscribe(function (value) {
    if (!value.value) {
      return;
    }

    var amount = parseFloat(value.value());

    if (amount >= 0) {
      $scope.addTip(amount);
    }
  });
}]);

//src/js/controllers/commands/boot.js

angular.module('SNAP.controllers').factory('CommandBoot', ['AuthenticationManager', 'LocationManager', function (AuthenticationManager, LocationManager) {

  function loadLocation() {
    return LocationManager.loadConfig().then(function () {
      return LocationManager.loadSeats();
    });
  }

  return function () {
    return AuthenticationManager.validate().then(function (authorized) {
      if (authorized === false) {
        return AuthenticationManager.authorize().then(function () {
          return loadLocation();
        });
      }

      return loadLocation();
    });
  };
}]);

//src/js/controllers/commands/closetable.js

angular.module('SNAP.controllers').factory('CommandCloseTable', ['ManagementService', function (ManagementService) {

  return function () {
    return ManagementService.loadReset();
  };
}]);

//src/js/controllers/commands/customerguestlogin.js

angular.module('SNAP.controllers').factory('CommandCustomerGuestLogin', ['AuthenticationManager', 'CustomerManager', function (AuthenticationManager, CustomerManager) {

  return function () {
    return CustomerManager.guestLogin();
  };
}]);

//src/js/controllers/commands/customerlogin.js

angular.module('SNAP.controllers').factory('CommandCustomerLogin', ['AuthenticationManager', 'CustomerManager', function (AuthenticationManager, CustomerManager) {

  return function (credentials) {
    return AuthenticationManager.customerLoginRegular(credentials).then(function () {
      return CustomerManager.login(credentials);
    });
  };
}]);

//src/js/controllers/commands/customersignup.js

angular.module('SNAP.controllers').factory('CommandCustomerSignup', ['AuthenticationManager', 'CustomerManager', function (AuthenticationManager, CustomerManager) {

  return function (registration) {
    return CustomerManager.signUp(registration).then(function () {
      var credentials = {
        login: registration.username,
        password: registration.password
      };

      return AuthenticationManager.customerLoginRegular(credentials).then(function () {
        return CustomerManager.login(credentials);
      });
    });
  };
}]);

//src/js/controllers/commands/customersociallogin.js

angular.module('SNAP.controllers').factory('CommandCustomerSocialLogin', ['AuthenticationManager', 'CustomerManager', 'SocialManager', function (AuthenticationManager, CustomerManager, SocialManager) {

  function doLogin(auth) {
    return AuthenticationManager.customerLoginSocial(auth).then(function () {
      return CustomerManager.loginSocial(auth);
    });
  }

  return {
    facebook: function facebook() {
      return SocialManager.loginFacebook().then(doLogin);
    },
    googleplus: function googleplus() {
      return SocialManager.loginGooglePlus().then(doLogin);
    },
    twitter: function twitter() {
      return SocialManager.loginTwitter().then(doLogin);
    }
  };
}]);

//src/js/controllers/commands/flipscreen.js

angular.module('SNAP.controllers').factory('CommandFlipScreen', ['ManagementService', function (ManagementService) {
  return function () {
    ManagementService.rotateScreen();
  };
}]);

//src/js/controllers/commands/reset.js

angular.module('SNAP.controllers').factory('CommandReset', ['AnalyticsManager', 'ChatManager', 'CustomerManager', 'OrderManager', 'SessionManager', 'SurveyManager', 'ManagementService', 'Logger', function (AnalyticsManager, ChatManager, CustomerManager, OrderManager, SessionManager, SurveyManager, ManagementService, Logger) {

  return function () {
    return new Promise(function (resolve, reject) {
      Q.all([AnalyticsManager.initialize(), SessionManager.initialize()]).then(function () {
        SessionManager.endSession().then(function () {
          Q.allSettled([AnalyticsManager.submit(), OrderManager.reset(), SurveyManager.reset(), CustomerManager.reset(), ChatManager.reset()]).spread(function () {
            Logger.debug('Reset completed successfully.');
          }, function (e) {
            Logger.warn('Unable to reset properly: ' + e);
          }).then(resolve, reject);
        }, reject);
      }, reject);
    });
  };
}]);

//src/js/controllers/commands/startup.js

angular.module('SNAP.controllers').factory('CommandStartup', ['Logger', 'AnalyticsManager', 'ChatManager', 'ShellManager', 'CustomerManager', 'DataManager', 'NavigationManager', 'SessionManager', 'SurveyManager', 'SNAPLocation', function (Logger, AnalyticsManager, ChatManager, ShellManager, CustomerManager, DataManager, NavigationManager, SessionManager, SurveyManager, SNAPLocation) {

  return function () {
    return new Promise(function (result, reject) {
      Q.allSettled([AnalyticsManager.initialize(), ChatManager.initialize(), CustomerManager.initialize(), NavigationManager.initialize(), ShellManager.initialize(), SessionManager.initialize(), SurveyManager.initialize()]).then(function () {
        if (CustomerManager.model.isEnabled) {
          if (!CustomerManager.model.isAuthenticated) {
            NavigationManager.location = { type: 'signin' };
          }
        } else {
          CustomerManager.guestLogin();
        }

        DataManager.initialize();
      }, reject);
    });
  };
}]);

//src/js/controllers/commands/submitorder.js

angular.module('SNAP.controllers').factory('CommandSubmitOrder', ['DialogManager', 'LocationModel', 'OrderManager', function (DialogManager, LocationModel, OrderManager) {

  return function (options) {
    if (!LocationModel.seat || !LocationModel.seat.token) {
      DialogManager.alert(ALERT_ERROR_NO_SEAT);
      return;
    }

    var job = DialogManager.startJob();

    options = options || 0;

    OrderManager.submitCart(options).then(function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_ORDER_SENT);
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };
}]);

//src/js/controllers/dialog.js

angular.module('SNAP.controllers').controller('DialogCtrl', ['$scope', '$timeout', 'ActivityMonitor', 'DialogManager', function ($scope, $timeout, ActivityMonitor, DialogManager) {

  var alertStack = [],
      confirmStack = [];
  var alertIndex = -1,
      confirmIndex = -1;
  var alertTimer;

  function updateVisibility(isBusy, showAlert, showConfirm) {
    $timeout(function () {
      $scope.isBusy = isBusy !== undefined ? isBusy : $scope.isBusy;
      $scope.showAlert = showAlert !== undefined ? showAlert : $scope.showAlert;
      $scope.showConfirm = showConfirm !== undefined ? showConfirm : $scope.showConfirm;
      $scope.visible = $scope.isBusy || $scope.showAlert || $scope.showConfirm;
    });
  }

  function showNextAlert() {
    if (alertTimer) {
      $timeout.cancel(alertTimer);
    }

    var alert = alertStack[alertIndex];

    if (alert && alert.resolve) {
      alert.resolve();
    }

    alertIndex++;

    if (alertIndex === alertStack.length) {
      updateVisibility(undefined, false);
      alertStack = [];
      alertIndex = -1;
      return;
    }

    $timeout(function () {
      $scope.alertTitle = alertStack[alertIndex].title;
      $scope.alertText = alertStack[alertIndex].message;
      updateVisibility(undefined, true);
    });

    alertTimer = $timeout(showNextAlert, 10000);
  }

  function showNextConfirm() {
    confirmIndex++;

    if (confirmIndex === confirmStack.length) {
      updateVisibility(undefined, undefined, false);
      confirmStack = [];
      confirmIndex = -1;
      return;
    }

    $timeout(function () {
      $scope.confirmText = confirmStack[confirmIndex].message;
      updateVisibility(undefined, undefined, true);
    });
  }

  function getMessage(message) {
    if (typeof message !== 'string') {
      switch (message) {
        case ALERT_GENERIC_ERROR:
          message = "Oops! My bits are fiddled. Our request system has been disconnected. Please notify a server.";
          break;
        case ALERT_REQUEST_SUBMIT_ERROR:
          message = "Oops! My bits are fiddled. Our request system has been disconnected. Please notify a server.";
          break;
        case ALERT_REQUEST_ASSISTANCE_SENT:
          message = "Call Server request was sent successfully.";
          break;
        case ALERT_REQUEST_ASSISTANCE_RECEIVED:
          message = "Your request for server assistance has been seen, and accepted.";
          break;
        case ALERT_REQUEST_CLOSEOUT_SENT:
          message = "Request check request was sent successfully.";
          break;
        case ALERT_REQUEST_CLOSEOUT_RECEIVED:
          message = "Your check request has been seen, and accepted.";
          break;
        case ALERT_REQUEST_ORDER_SENT:
          message = "Order sent! You will be notified when your waiter accepts the order.";
          break;
        case ALERT_REQUEST_ORDER_RECEIVED:
          message = "Your order has been successfully accepted.";
          break;
        case ALERT_SIGNIN_REQUIRED:
          message = "You must be logged into SNAP to access this page.";
          break;
        case ALERT_TABLE_ASSISTANCE:
          message = "Are you sure you want to call the waiter?";
          break;
        case ALERT_TABLE_CLOSEOUT:
          message = "Are you sure you want to request your check?";
          break;
        case ALERT_TABLE_RESET:
          message = "Are you sure you want to reset?";
          break;
        case ALERT_DELET_CARD:
          message = "Are you sure you want to remove this payment method?";
          break;
        case ALERT_PASSWORD_RESET_COMPLETE:
          message = "A link to change your password has been emailed.";
          break;
        case ALERT_SOFTWARE_OUTDATED:
          message = "A software update is available. Please restart the application.";
          break;
        case ALERT_CARDREADER_ERROR:
          message = "Unable to read the card data. Please try again.";
          break;
        case ALERT_ERROR_NO_SEAT:
          message = "Device is not assigned to any table.";
          break;
        case ALERT_ERROR_STARTUP:
          message = "Unable to start the application.";
          break;
      }
    }

    return message;
  }

  $scope.visible = false;
  $scope.isBusy = false;
  $scope.showAlert = false;
  $scope.showConfirm = false;

  $scope.closeAlert = function () {
    ActivityMonitor.activityDetected();
    showNextAlert();
  };

  $scope.closeConfirm = function (confirmed) {
    ActivityMonitor.activityDetected();

    var confirm = confirmStack[confirmIndex];

    if (confirm) {
      if (confirmed) {
        if (confirm.resolve) {
          confirm.resolve();
        }
      } else {
        if (confirm.reject) {
          confirm.reject();
        }
      }
    }

    showNextConfirm();
  };

  function alertRequested(message, title, resolve, reject) {
    message = getMessage(message);

    alertStack.push({ title: title, message: message, resolve: resolve, reject: reject });

    if (!$scope.showAlert) {
      $timeout(showNextAlert);
    }
  }

  DialogManager.alertRequested.add(alertRequested);

  function confirmRequested(message, resolve, reject) {
    message = getMessage(message);

    confirmStack.push({ message: message, resolve: resolve, reject: reject });

    if (!$scope.showConfirm) {
      $timeout(showNextConfirm);
    }
  }

  DialogManager.confirmRequested.add(confirmRequested);

  function jobStarted() {
    if (document.activeElement && document.activeElement !== document.body) {
      document.activeElement.blur();
    }

    updateVisibility(true);
  }

  DialogManager.jobStarted.add(jobStarted);
  DialogManager.jobEnded.add(function () {
    updateVisibility(false);
  });

  if (DialogManager.jobs > 0) {
    jobStarted();
  }
}]);

//src/js/controllers/flash.js

angular.module('SNAP.controllers').controller('FlashCtrl', ['$timeout', 'FlashStarter', 'NavigationManager', 'ShellManager', function ($timeout, FlashStarter, NavigationManager, ShellManager) {

  $timeout(function () {
    var url = ShellManager.getMediaUrl({
      token: NavigationManager.getQueryParameter('media'),
      mime_type: 'application/x-shockwave-flash'
    });

    FlashStarter.start('media-container', url, NavigationManager.getQueryParameter('width'), NavigationManager.getQueryParameter('height'));
  }, 1000);
}]);

//src/js/controllers/galaxies/advertisement.js

angular.module('SNAP.controllers').controller('GalaxiesAdvertisementCtrl', ['$scope', '$timeout', 'ActivityMonitor', 'AnalyticsModel', 'ShellManager', 'DataManager', 'DataModel', 'DialogManager', 'NavigationManager', 'CommandFlipScreen', 'ShellManager', 'WebBrowser', 'SNAPEnvironment', function ($scope, $timeout, ActivityMonitor, AnalyticsModel, hellManager, DataManager, DataModel, DialogManager, NavigationManager, CommandFlipScreen, ShellManager, WebBrowser, SNAPEnvironment) {

  $scope.visible = false;

  $scope.advertisementClick = function (item) {
    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    AnalyticsModel.logAdvertisement({
      token: item.token,
      type: 'click'
    });

    if (item.href) {
      WebBrowser.open(item.href.url);
    }
  };

  $scope.advertisementImpression = function (item) {
    if (ActivityMonitor.active && $scope.visible) {
      AnalyticsModel.logAdvertisement({
        token: item.token,
        type: 'impression'
      });
    }
  };

  $scope.advertisements = [];

  DataModel.advertisements().then(function (data) {
    $timeout(function () {
      $scope.advertisements = data.main.map(function (ad) {
        return {
          src: ShellManager.getMediaUrl(ad.src, 970, 90),
          href: ad.href,
          type: ShellManager.getMediaType(ad.src),
          token: ad.token
        };
      });
    });
  });

  NavigationManager.locationChanging.add(function (location) {
    $scope.visible = location.type === 'home';
    $timeout(function () {
      return $scope.$apply();
    });
  });
}]);

//src/js/controllers/galaxies/cart.js

angular.module('SNAP.controllers').controller('GalaxiesCartCtrl', ['$scope', '$timeout', '$sce', 'CustomerManager', 'ShellManager', 'NavigationManager', 'OrderManager', 'DialogManager', 'CartModel', 'LocationModel', 'ChatManager', function ($scope, $timeout, $sce, CustomerManager, ShellManager, NavigationManager, OrderManager, DialogManager, CartModel, LocationModel, ChatManager) {

  $scope.STATE_CART = CartModel.STATE_CART;
  $scope.STATE_HISTORY = CartModel.STATE_HISTORY;

  $scope.getMediaUrl = function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
  $scope.formatPrice = function (value) {
    return ShellManager.formatPrice(value);
  };
  $scope.options = {};

  $scope.currency = ShellManager.model.currency;
  ShellManager.model.currencyChanged.add(function (currency) {
    return $timeout(function () {
      return $scope.currency = currency;
    });
  });

  $scope.state = CartModel.cartState;
  CartModel.cartStateChanged.add(function (state) {
    return $timeout(function () {
      return $scope.state = state;
    });
  });

  $scope.editableItem = CartModel.editableItem;
  CartModel.editableItemChanged.add(function (item) {
    return $timeout(function () {
      return $scope.editableItem = item;
    });
  });

  $scope.currentOrder = OrderManager.model.orderCart;
  OrderManager.model.orderCartChanged.add(function (value) {
    return $scope.currentOrder = value;
  });

  $scope.totalOrder = OrderManager.model.orderCheck;
  OrderManager.model.orderCheckChanged.add(function (value) {
    return $scope.totalOrder = value;
  });

  $scope.giftSeat = LocationModel.getSeat(ChatManager.model.giftSeat);
  ChatManager.model.giftSeatChanged.add(function (token) {
    $timeout(function () {
      return $scope.giftSeat = LocationModel.getSeat(token);
    });
  });

  $scope.customerName = CustomerManager.customerName;
  CustomerManager.model.profileChanged.add(function () {
    $timeout(function () {
      return $scope.customerName = CustomerManager.customerName;
    });
  });

  $scope.checkoutEnabled = CustomerManager.model.isEnabled;
  $scope.visible = CartModel.isCartOpen;

  NavigationManager.locationChanging.add(function (location) {
    if (location.type !== 'category') {
      CartModel.isCartOpen = false;
      CartModel.closeEditor();
    }
  });

  CartModel.isCartOpenChanged.add(function (value) {
    $scope.showCart();
    $scope.visible = value;
  });

  $scope.seat_name = LocationModel.seat ? LocationModel.seat.name : 'Table';

  LocationModel.seatChanged.add(function (seat) {
    return $scope.seat_name = seat ? seat.name : 'Table';
  });

  var refreshAssistanceRequest = function refreshAssistanceRequest() {
    $scope.requestAssistanceAvailable = OrderManager.model.assistanceRequest === null;
  };
  var refreshCloseoutRequest = function refreshCloseoutRequest() {
    $scope.requestCloseoutAvailable = OrderManager.model.closeoutRequest === null;
  };

  OrderManager.model.assistanceRequestChanged.add(refreshAssistanceRequest);
  OrderManager.model.closeoutRequestChanged.add(refreshCloseoutRequest);

  $scope.requestAssistanceAvailable = OrderManager.model.assistanceRequest === null;
  $scope.requestCloseoutAvailable = OrderManager.model.closeoutRequest === null;

  $scope.getModifiers = function (entry) {
    if (!entry.modifiers) {
      return [];
    }

    return entry.modifiers.reduce(function (result, category) {
      var modifiers = category.modifiers.filter(function (modifier) {
        return modifier.isSelected;
      });
      result = result.concat(modifiers);
      return result;
    }, []);
  };

  $scope.calculatePrice = function (entry) {
    return OrderManager.calculatePrice(entry);
  };
  $scope.calculateTotalPrice = function (entries) {
    return OrderManager.calculateTotalPrice(entries);
  };

  $scope.editItem = function (entry) {
    return CartModel.openEditor(entry, false);
  };

  $scope.updateModifiers = function (category, modifier) {
    if (category.data.selection === 1) {
      angular.forEach(category.modifiers, function (m) {
        return m.isSelected = m === modifier;
      });
    } else {
      modifier.isSelected = !modifier.isSelected;
    }
  };

  $scope.removeFromCart = function (entry) {
    return $scope.currentOrder = OrderManager.removeFromCart(entry);
  };
  $scope.reorderItem = function (entry) {
    return $scope.currentOrder = OrderManager.addToCart(entry.clone());
  };

  $scope.submitCart = function () {
    var job = DialogManager.startJob();

    var options = $scope.options.toGo ? 2 : 0;

    OrderManager.submitCart(options).then(function () {
      DialogManager.endJob(job);

      $scope.$apply(function () {
        $scope.currentOrder = OrderManager.model.orderCart;
        $scope.totalOrder = OrderManager.model.orderCheck;
        $scope.options.toGo = false;
      });

      DialogManager.alert(ALERT_REQUEST_ORDER_SENT);
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  $scope.clearCart = function () {
    $scope.options.toGo = false;
    $scope.currentOrder = OrderManager.clearCart();
  };

  $scope.closeEditor = function () {
    CartModel.closeEditor();
  };

  $scope.closeCart = function () {
    CartModel.isCartOpen = false;
    CartModel.state = CartModel.STATE_CART;
  };

  $scope.showHistory = function () {
    return CartModel.state = CartModel.STATE_HISTORY;
  };
  $scope.showCart = function () {
    return CartModel.state = CartModel.STATE_CART;
  };

  $scope.payCheck = function () {
    return NavigationManager.location = { type: 'checkout' };
  };

  $scope.requestAssistance = function () {
    if (!$scope.requestAssistanceAvailable) {
      return;
    }

    DialogManager.confirm(ALERT_TABLE_ASSISTANCE).then(function () {
      var job = DialogManager.startJob();

      OrderManager.requestAssistance().then(function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_ASSISTANCE_SENT);
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
      });
    });
  };

  $scope.requestCloseout = function () {
    if (!$scope.requestCloseoutAvailable) {
      return;
    }

    var job = DialogManager.startJob();

    OrderManager.requestCloseout().then(function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_CLOSEOUT_SENT);
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };
}]);

//src/js/controllers/galaxies/category.js

angular.module('SNAP.controllers').controller('GalaxiesCategoryCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', 'ShellManager', function ($scope, $timeout, DataManager, NavigationManager, ShellManager) {

  $scope.goBack = function () {
    return NavigationManager.goBack();
  };

  var CategoryList = React.createClass({
    displayName: 'CategoryList',

    render: function render() {
      var rows = this.props.tiles.map(function (tile, i) {
        var background = ShellManager.getMediaUrl(tile.image, 470, 410);
        return React.DOM.td({
          className: 'tile tile-regular',
          key: i
        }, React.DOM.a({
          onClick: function onClick(e) {
            e.preventDefault();
            NavigationManager.location = tile.destination;
          },
          style: {
            backgroundImage: background ? 'url("' + background + '")' : null
          }
        }, React.DOM.span(null, tile.title)));
      }).reduce(function (result, value, i) {
        result[i % 2].push(value);
        return result;
      }, [[], []]).map(function (row, i) {
        return React.DOM.tr({ key: i }, row);
      });

      return React.DOM.table({
        className: 'tile-table'
      }, rows);
    }
  });

  DataManager.categoryChanged.add(function (category) {
    if (!category) {
      return $timeout(function () {
        return $scope.category = null;
      });
    }

    var items = category && category.items ? category.items : [],
        categories = category && category.categories ? category.categories : [];

    var tiles = categories.concat(items).map(function (item) {
      return {
        title: item.title,
        image: item.image,
        url: '#' + NavigationManager.getPath(item.destination),
        destination: item.destination
      };
    });

    var element = document.getElementById('page-category-content');

    if (element) {
      React.render(React.createElement(CategoryList, { tiles: tiles }), element);
    }

    $scope.category = category;
    $timeout(function () {
      return $scope.$apply();
    });
  });

  NavigationManager.locationChanging.add(function (location) {
    if (location.type === 'item') {
      $scope.showModal = true;
      return;
    }

    $scope.showModal = false;

    DataManager.category = location.type === 'category' ? location.token : undefined;
    $scope.visible = Boolean(DataManager.category);
    $timeout(function () {
      var container = document.getElementById('page-category-content-container');
      if (container) {
        container.scrollLeft = 0;
      }

      $scope.$apply();
    });
  });
}]);

//src/js/controllers/galaxies/checkoutsplit.js

angular.module('SNAP.controllers').controller('GalaxiesCheckoutSplitCtrl', ['$scope', '$timeout', 'CustomerManager', 'OrderManager', function ($scope, $timeout, CustomerManager, OrderManager) {

  var originalData;

  //Open guest count editor
  $scope.editGuestCount = function (type) {
    if (type === $scope.CHECK_SPLIT_EVENLY || type === $scope.CHECK_SPLIT_BY_ITEMS) {
      originalData = $scope.$parent.data;
      $scope.options.guest_count = $scope.options.guest_count_min;
    }

    $scope.guestEditorType = type;
  };

  //Close guest count editor
  $scope.cancelEditGuestCount = function () {
    $scope.guestEditorType = undefined;
    originalData = undefined;
  };

  //Split the current order in the selected way
  $scope.splitCheck = function (type) {
    var i,
        data = [];

    if (type === $scope.CHECK_SPLIT_NONE) {
      data.push({
        items: OrderManager.model.orderCheck
      });

      $scope.options.guest_count = 1;
      $scope.doneSplitting();
    } else if (type === $scope.CHECK_SPLIT_EVENLY) {
      var check = OrderManager.model.orderCheck,
          subtotal = OrderManager.calculateTotalPrice(check),
          tax = OrderManager.calculateTax(check);

      for (i = 0; i < $scope.options.guest_count; i++) {
        data.push({
          name: 'Check 0' + (i + 1),
          subtotal: Math.round(subtotal / $scope.options.guest_count * 100) / 100,
          tax: Math.round(tax / $scope.options.guest_count * 100) / 100
        });
      }

      $scope.doneSplitting();
    } else if (type === $scope.CHECK_SPLIT_BY_ITEMS) {
      for (i = 0; i < $scope.options.guest_count; i++) {
        data.push({
          name: 'Check 0' + (i + 1),
          items: []
        });
      }

      $scope.split_items = OrderManager.copyItems(OrderManager.model.orderCheck).reduce(function (result, item) {
        while (item.quantity > 0) {
          var subitem = item.clone();
          subitem.quantity = 1;
          result.push(subitem);
          item.quantity--;
        }

        return result;
      }, []);

      $scope.split_items.forEach(function (item) {
        return item.check = data[0];
      });
      data[0].items = data[0].items.concat($scope.split_items);
    }

    $scope.$parent.data = data;
    $scope.options.check_split = type;
    $scope.guestEditorType = undefined;
  };

  $scope.getModifiers = function (entry) {
    if (!entry.modifiers) {
      return [];
    }

    return entry.modifiers.reduce(function (result, category) {
      var modifiers = category.modifiers.filter(function (modifier) {
        return modifier.isSelected;
      });
      result = result.concat(modifiers);
      return result;
    }, []);
  };

  $scope.calculateChecks = function () {
    $scope.$parent.data.forEach(function (check) {
      check.items = $scope.split_items.filter(function (item) {
        return item.check === check;
      });
    });
  };

  $scope.cancelSplitting = function () {
    $scope.guestEditorType = $scope.options.check_split = undefined;
    $scope.$parent.data = originalData;
    originalData = undefined;
  };

  $scope.doneSplitting = function () {
    $scope.$parent.data = $scope.$parent.data.filter(function (check) {
      return check.subtotal > 0 || check.items && check.items.length > 0;
    });
    $scope.options.step = $scope.STEP_TIPPING;
  };
}]);

//src/js/controllers/galaxies/home.js

angular.module('SNAP.controllers').controller('GalaxiesHomeCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', 'ShellManager', 'SNAPLocation', function ($scope, $timeout, DataManager, NavigationManager, ShellManager, SNAPLocation) {

  var HomeMenu = React.createClass({
    displayName: 'HomeMenu',

    render: function render() {
      var rows = [],
          home = this.props.home;

      if (Boolean(home.intro)) {
        rows.push(React.DOM.td({
          className: 'tile tile-info',
          key: 'intro'
        }, React.DOM.div({}, [React.DOM.h1({ key: 'intro-title' }, home.intro.title || 'Welcome to ' + SNAPLocation.location_name), React.DOM.p({ key: 'intro-text' }, home.intro.text)])));
      }

      var tiles = this.props.tiles.map(function (tile, i) {
        var background = ShellManager.getMediaUrl(tile.image, 470, 410);
        return React.DOM.td({
          className: 'tile tile-regular',
          key: i
        }, React.DOM.a({
          onClick: function onClick(e) {
            e.preventDefault();
            NavigationManager.location = tile.destination;
          },
          style: {
            backgroundImage: background ? 'url("' + background + '")' : null
          }
        }, React.DOM.span(null, tile.title)));
      });

      rows = rows.concat(tiles).reduce(function (result, value) {
        result[0].push(value);
        return result;
      }, [[]]).map(function (row, i) {
        return React.DOM.tr({ key: i }, row);
      });

      return React.DOM.table({
        className: 'tile-table'
      }, rows);
    }
  });

  DataManager.homeChanged.add(function (home) {
    if (!home) {
      return;
    }

    var tiles = home.menus.map(function (menu) {
      var destination = {
        type: 'menu',
        token: menu.token
      };

      return {
        title: menu.title,
        image: menu.image,
        url: '#' + NavigationManager.getPath(destination),
        destination: destination
      };
    });

    var element = document.getElementById('page-home-menu');

    if (element) {
      React.render(React.createElement(HomeMenu, { tiles: tiles, home: home }), element);
    }
  });

  NavigationManager.locationChanging.add(function (location) {
    $scope.visible = Boolean(location.type === 'home');
    $timeout(function () {
      var container = document.getElementById('page-home-menu-container');
      if (container) {
        container.scrollLeft = 0;
      }

      $scope.$apply();
      DataManager.home = $scope.visible;
    });
  });
}]);

//src/js/controllers/galaxies/item.js

angular.module('SNAP.controllers').controller('GalaxiesItemCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', 'OrderManager', 'ShellManager', 'WebBrowser', 'CommandSubmitOrder', function ($scope, $timeout, DataManager, NavigationManager, OrderManager, ShellManager, WebBrowser, CommandSubmitOrder) {

  $scope.goBack = function () {
    return NavigationManager.goBack();
  };

  function onClose() {
    if (NavigationManager.location.type === 'item') {
      $timeout(function () {
        return $scope.goBack();
      });
    }
  }

  DataManager.itemChanged.add(function (item) {
    if (!item) {
      return $timeout(function () {
        $scope.entry = $scope.entries = null;
        $scope.type = 1;
        $scope.step = 0;
        $scope.entryIndex = 0;
      });
    }

    var type = item.type;

    if (type === 2 && item.website) {
      WebBrowser.open(item.website.url).then(function (browser) {
        return browser.onExit.addOnce(onClose);
      });
    } else if (type === 3 && item.flash) {
      var url = WebBrowser.getFlashUrl(item.flash.media.token, item.flash.width, item.flash.height);

      WebBrowser.open(url).then(function (browser) {
        return browser.onExit.addOnce(onClose);
      });
    }

    $timeout(function () {
      if (type === 1) {
        $scope.entry = new app.CartItem(item, 1);
      }

      $scope.type = type;
      $scope.step = 0;
      $scope.entryIndex = 0;
    });
  });

  $scope.getMediaUrl = function (media, w, h, extension) {
    return ShellManager.getMediaUrl(media, w, h, extension);
  };
  $scope.formatPrice = function (value) {
    return value ? ShellManager.formatPrice(value) : 0;
  };

  $scope.nextStep = function () {
    if ($scope.step === 0) {
      if ($scope.entry.hasModifiers) {
        $scope.entries = $scope.entry.cloneMany();
        $scope.currentEntry = $scope.entries[$scope.entryIndex = 0];
        $scope.step = 1;
      } else {
        OrderManager.addToCart($scope.entry);
        $scope.step = 2;
      }
    } else if ($scope.step === 1) {
      if ($scope.entryIndex === $scope.entries.length - 1) {
        $scope.entries.forEach(function (entry) {
          return OrderManager.addToCart(entry);
        });
        $scope.step = 2;
      } else {
        $scope.currentEntry = $scope.entries[++$scope.entryIndex];
      }
    }
  };

  $scope.previousStep = function () {
    if ($scope.step === 1 && $scope.entryIndex > 0) {
      $scope.currentEntry = $scope.entries[--$scope.entryIndex];
    } else if ($scope.step === 0) {
      $scope.goBack();
    } else {
      $scope.step--;
    }
  };

  $scope.updateModifiers = function (category, modifier) {
    if (category.data.selection === 1) {
      angular.forEach(category.modifiers, function (m) {
        return m.isSelected = m === modifier;
      });
    } else {
      modifier.isSelected = !modifier.isSelected;
    }
  };

  $scope.submitOrder = function () {
    CommandSubmitOrder();
    $scope.goBack();
  };

  NavigationManager.locationChanging.add(function (location) {
    DataManager.item = location.type === 'item' ? location.token : undefined;
    $scope.visible = Boolean(DataManager.item);
    $timeout(function () {
      return $scope.$apply();
    });
  });
}]);

//src/js/controllers/galaxies/itemedit.js

angular.module('SNAP.controllers').controller('GalaxiesItemEditCtrl', ['$scope', 'ShellManager', 'NavigationManager', 'OrderManager', 'CartModel', 'CommandSubmitOrder', function ($scope, ShellManager, NavigationManager, OrderManager, CartModel, CommandSubmitOrder) {

  $scope.getMediaUrl = function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
  $scope.formatPrice = function (value) {
    return ShellManager.formatPrice(value);
  };

  var currentIndex = -1;

  var refreshNavigation = function refreshNavigation() {
    if ($scope.entry && $scope.entry.hasModifiers) {
      $scope.hasNextCategory = $scope.entry.modifiers.length > 1 && currentIndex < $scope.entry.modifiers.length - 1;
      $scope.hasPreviousCategory = currentIndex > 0;
      $scope.category = $scope.entry.modifiers[currentIndex];
      $scope.canExit = CartModel.editableItemNew;
      $scope.canDone = true;
    }
  };

  NavigationManager.locationChanging.add(function (location) {
    if (location.type !== 'menu' && location.type !== 'category') {
      $scope.exit();
    }
  });

  CartModel.isCartOpenChanged.add(function (value) {
    if (value) {
      $scope.exit();
    }
  });

  var init = function init(value) {
    $scope.entry = value;
    $scope.visible = $scope.entry !== null;

    currentIndex = 0;

    refreshNavigation();
  };

  init(CartModel.editableItem);

  CartModel.editableItemChanged.add(function (value) {
    init(value);
  });

  $scope.getModifierTitle = function (modifier) {
    return modifier.data.title + (modifier.data.price > 0 ? ' (+' + ShellManager.formatPrice(modifier.data.price) + ')' : '');
  };

  $scope.leftButtonClick = function () {
    var result = currentIndex > 0 ? $scope.previousCategory() : $scope.exit();
  };

  $scope.leftButtonText = function () {
    return currentIndex > 0 ? 'Back' : 'Exit';
  };

  $scope.showLeftButton = function () {
    return currentIndex > 0;
  };

  $scope.rightButtonClick = function () {
    //Make sure Pick 1 modifier categories have met the selection condition.
    if ($scope.entry.modifiers[currentIndex].data.selection === 1) {
      var numSelected = 0;
      angular.forEach($scope.entry.modifiers[currentIndex].modifiers, function (m) {
        if (m.isSelected) {
          numSelected++;
        }
      });

      if (numSelected !== 1) {
        //TODO: Add modal popup. Must make 1 selection!
        return;
      }
    }

    var result = $scope.hasNextCategory ? $scope.nextCategory() : $scope.done();
  };

  $scope.rightButtonText = function () {
    return $scope.hasNextCategory ? 'Next' : 'Done';
  };

  $scope.showRightButton = function () {
    return $scope.hasNextCategory;
  };

  $scope.previousCategory = function () {
    currentIndex--;
    refreshNavigation();
  };

  $scope.nextCategory = function () {
    currentIndex++;
    refreshNavigation();
  };

  $scope.updateModifiers = function (category, modifier) {
    modifier.isSelected = !modifier.isSelected;

    if (modifier.isSelected && category.data.selection === 1) {
      angular.forEach(category.modifiers, function (m) {
        m.isSelected = m === modifier;
      });
    }
  };

  $scope.submitChanges = function () {
    OrderManager.removeFromCart($scope.entry);
    OrderManager.addToCart($scope.entry);
    $scope.exit();
  };

  $scope.done = function () {
    if (CartModel.editableItemNew) {
      OrderManager.addToCart(CartModel.editableItem);
    }

    $scope.exit();
    CartModel.isCartOpen = true;
  };

  $scope.exit = function () {
    CartModel.closeEditor();
  };
}]);

//src/js/controllers/galaxies/menu.js

angular.module('SNAP.controllers').controller('GalaxiesMenuCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', 'ShellManager', function ($scope, $timeout, DataManager, NavigationManager, ShellManager) {

  $scope.goBack = function () {
    return NavigationManager.goBack();
  };

  var MenuList = React.createClass({
    displayName: 'MenuList',

    render: function render() {
      var rows = this.props.tiles.map(function (tile, i) {
        var background = ShellManager.getMediaUrl(tile.image, 470, 410);
        return React.DOM.td({
          className: 'tile tile-regular',
          key: i
        }, React.DOM.a({
          onClick: function onClick(e) {
            e.preventDefault();
            NavigationManager.location = tile.destination;
          },
          style: {
            backgroundImage: background ? 'url("' + background + '")' : null
          }
        }, React.DOM.span(null, tile.title)));
      }).reduce(function (result, value, i) {
        result[i % 2].push(value);
        return result;
      }, [[], []]).map(function (row, i) {
        return React.DOM.tr({ key: i }, row);
      });

      return React.DOM.table({
        className: 'tile-table'
      }, rows);
    }
  });

  DataManager.menuChanged.add(function (menu) {
    if (!menu) {
      return $timeout(function () {
        return $scope.menu = null;
      });
    }

    var tiles = menu.categories.map(function (category) {
      var destination = {
        type: 'category',
        token: category.token
      };

      return {
        title: category.title,
        image: category.image,
        url: '#' + NavigationManager.getPath(destination),
        destination: destination
      };
    });

    var element = document.getElementById('page-menu-content');

    if (element) {
      React.render(React.createElement(MenuList, { tiles: tiles }), element);
    }

    $scope.menu = menu;
    $timeout(function () {
      return $scope.$apply();
    });
  });

  NavigationManager.locationChanging.add(function (location) {
    DataManager.menu = location.type === 'menu' ? location.token : undefined;
    $scope.visible = Boolean(DataManager.menu);
    $timeout(function () {
      var container = document.getElementById('page-menu-content-container');
      if (container) {
        container.scrollLeft = 0;
      }

      $scope.$apply();
    });
  });
}]);

//src/js/controllers/galaxies/navigation.js

angular.module('SNAP.controllers').controller('GalaxiesNavigationCtrl', ['$scope', '$timeout', 'ActivityMonitor', 'CustomerManager', 'AnalyticsModel', 'CartModel', 'ShellManager', 'DataManager', 'DataModel', 'DialogManager', 'LocationModel', 'ManagementService', 'NavigationManager', 'OrderManager', 'CommandCloseTable', 'CommandSubmitOrder', 'CommandFlipScreen', 'SNAPEnvironment', 'WebBrowser', function ($scope, $timeout, ActivityMonitor, CustomerManager, AnalyticsModel, CartModel, ShellManager, DataManager, DataModel, DialogManager, LocationModel, ManagementService, NavigationManager, OrderManager, CommandCloseTable, CommandSubmitOrder, CommandFlipScreen, SNAPEnvironment, WebBrowser) {

  $scope.menus = [];
  $scope.showVolume = $scope.showBrightness = SNAPEnvironment.platform !== 'web';
  $scope.showRotate = SNAPEnvironment.platform !== 'web';

  DataModel.home().then(function (response) {
    if (!response) {
      return;
    }

    var location = NavigationManager.location,
        limit = SNAPEnvironment.platform === 'desktop' ? 4 : 3;

    $scope.menus = response.menus.filter(function (menu) {
      return SNAPEnvironment.platform === 'desktop' || menu.type !== 3;
    }).filter(function (menu, i) {
      return i < limit;
    }).map(function (menu) {
      var destination = {
        type: 'menu',
        token: menu.token
      };
      return {
        token: menu.token,
        title: menu.title,
        url: '#' + NavigationManager.getPath(destination),
        destination: destination,
        selected: location.type === 'menu' && menu.token === location.token
      };
    });
  });

  $scope.advertisementClick = function (item) {
    if (item.href) {
      WebBrowser.open(item.href.url);
    }
  };

  $scope.currentAdvertisement = null;

  $scope.advertisementImpression = function (item) {
    $scope.currentAdvertisement = item;

    if (ActivityMonitor.active && $scope.menuOpen) {
      AnalyticsModel.logAdvertisement({
        token: item.token,
        type: 'impression'
      });
    }
  };

  $scope.advertisements = [];

  DataModel.advertisements().then(function (data) {
    $timeout(function () {
      $scope.advertisements = data.misc.map(function (ad) {
        return {
          src: ShellManager.getMediaUrl(ad.src, 300, 250),
          href: ad.href,
          type: ShellManager.getMediaType(ad.src),
          token: ad.token
        };
      });
    });
  });

  $scope.navigateHome = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;
    NavigationManager.location = { type: 'home' };
  };

  $scope.navigateBack = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;
    NavigationManager.goBack();
  };

  $scope.rotateScreen = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;
    CommandFlipScreen();
  };

  $scope.openCart = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;
    CartModel.isCartOpen = !CartModel.isCartOpen;
  };

  $scope.seatName = LocationModel.seat ? LocationModel.seat.name : 'Table';
  LocationModel.seatChanged.add(function (value) {
    return $timeout(function () {
      return $scope.seatName = value ? value.name : 'Table';
    });
  });

  $scope.resetTable = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;
    DialogManager.confirm(ALERT_TABLE_RESET).then(function () {
      var job = DialogManager.startJob();
      CommandCloseTable().then(function () {
        return DialogManager.endJob(job);
      });
    });
  };

  $scope.menuOpen = false;

  $scope.toggleMenu = function () {
    ActivityMonitor.activityDetected();
    $scope.menuOpen = !$scope.menuOpen;

    if ($scope.currentAdvertisement && $scope.menuOpen) {
      AnalyticsModel.logAdvertisement({
        token: $scope.currentAdvertisement.token,
        type: 'impression'
      });
      $scope.currentAdvertisement = null;
    }
  };

  $scope.settingsOpen = false;

  $scope.toggleSettings = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = !$scope.settingsOpen;
  };

  $scope.elements = ShellManager.model.elements;
  ShellManager.model.elementsChanged.add(function (value) {
    $timeout(function () {
      return $scope.elements = value;
    });
  });

  $scope.cartCount = OrderManager.model.orderCart.length;
  OrderManager.model.orderCartChanged.add(function (cart) {
    $timeout(function () {
      return $scope.cartCount = cart.length;
    });
  });

  $scope.checkoutEnabled = CustomerManager.model.isEnabled;

  $scope.totalOrder = OrderManager.model.orderCheck;
  OrderManager.model.orderCheckChanged.add(function (value) {
    $timeout(function () {
      return $scope.totalOrder = value;
    });
  });

  $scope.requestAssistance = function () {
    if (!$scope.requestAssistanceAvailable) {
      return;
    }

    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;

    DialogManager.confirm(ALERT_TABLE_ASSISTANCE).then(function () {
      var job = DialogManager.startJob();

      OrderManager.requestAssistance().then(function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_ASSISTANCE_SENT);
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
      });
    });
  };

  var refreshAssistanceRequest = function refreshAssistanceRequest() {
    $scope.requestAssistanceAvailable = !Boolean(OrderManager.model.assistanceRequest);
  };
  OrderManager.model.assistanceRequestChanged.add(refreshAssistanceRequest);
  refreshAssistanceRequest();

  $scope.submitOrder = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;

    CommandSubmitOrder();
  };

  $scope.viewOrder = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;

    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    CartModel.cartState = CartModel.STATE_CART;
    CartModel.isCartOpen = true;
  };

  $scope.payBill = function () {
    ActivityMonitor.activityDetected();
    $scope.settingsOpen = false;

    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    CartModel.cartState = CartModel.STATE_HISTORY;
    CartModel.isCartOpen = true;
  };

  $scope.customerName = CustomerManager.customerName || 'Guest';
  CustomerManager.model.profileChanged.add(function () {
    $timeout(function () {
      return $scope.customerName = CustomerManager.customerName || 'Guest';
    });
  });

  $scope.settings = {
    displayBrightness: 100,
    soundVolume: 100
  };

  if ($scope.showVolume) {
    ManagementService.getSoundVolume().then(function (value) {
      return $timeout(function () {
        $scope.settings.soundVolume = value;

        $scope.$watch('settings.soundVolume', function (value, old) {
          if (!value || value === old) {
            return;
          }

          value = parseInt(value);

          ActivityMonitor.activityDetected();
          ManagementService.setSoundVolume(value);
        });
      });
    }, function (e) {});
  }

  if ($scope.showBrightness) {
    ManagementService.getDisplayBrightness().then(function (value) {
      return $timeout(function () {
        $scope.settings.displayBrightness = value;

        $scope.$watch('settings.displayBrightness', function (value, old) {
          if (!value || value === old) {
            return;
          }

          value = parseInt(value);

          ActivityMonitor.activityDetected();
          ManagementService.setDisplayBrightness(value);
        });
      });
    }, function (e) {});
  }

  $scope.navigate = function (destination) {
    return NavigationManager.location = destination;
  };

  NavigationManager.locationChanging.add(function (location) {
    $scope.visible = location.type !== 'signin';
    $timeout(function () {
      return $scope.$apply();
    });
  });

  NavigationManager.locationChanged.add(function (location) {
    $timeout(function () {
      if (location.type !== 'category' && location.type !== 'item') {
        $scope.menus.forEach(function (menu) {
          menu.selected = location.type === 'menu' && menu.token === location.token;
        });
      }

      $scope.menuOpen = false;
      $scope.settingsOpen = false;
    });
  });
}]);

//src/js/controllers/home.js

angular.module('SNAP.controllers').controller('HomeBaseCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', function ($scope, $timeout, DataManager, NavigationManager) {}]);

angular.module('SNAP.controllers').controller('HomeCtrl', ['$scope', '$timeout', 'ChatManager', 'DataModel', 'ShellManager', 'CustomerManager', 'OrderManager', 'DialogManager', 'NavigationManager', 'LocationModel', 'SurveyManager', 'SNAPLocation', 'SNAPEnvironment', 'CommandCloseTable', function ($scope, $timeout, ChatManager, DataModel, ShellManager, CustomerManager, OrderManager, DialogManager, NavigationManager, LocationModel, SurveyManager, SNAPLocation, SNAPEnvironment, CommandCloseTable) {

  var HomeMenu = React.createClass({
    displayName: 'HomeMenu',

    render: function render() {
      var result = [React.DOM.td({ key: -1 })];

      var rows = this.props.tiles.map(function (tile, i) {
        return React.DOM.td({
          className: 'home-menu-item',
          key: i
        }, React.DOM.a({
          onClick: function onClick(e) {
            e.preventDefault();
            NavigationManager.location = tile.destination;
          }
        }, React.DOM.img({
          src: ShellManager.getMediaUrl(tile.image, 160, 160)
        })));
      });

      result = result.concat(rows);
      result.push(React.DOM.td({ key: result.length }));

      return React.DOM.table(null, result);
    }
  });

  DataModel.home().then(function (response) {
    if (!response) {
      return;
    }

    var tiles = [];

    response.menus.filter(function (menu) {
      return SNAPEnvironment.platform === 'desktop' || menu.type !== 3;
    }).reduce(function (tiles, menu) {
      if (menu.promos && menu.promos.length > 0) {
        menu.promos.filter(function (promo) {
          return SNAPEnvironment.platform === 'desktop' || promo.type !== 3;
        }).forEach(function (promo) {
          tiles.push({
            title: promo.title,
            image: promo.image,
            url: '#' + NavigationManager.getPath(promo.destination),
            destination: promo.destination
          });
        });
      } else {
        var destination = {
          type: 'menu',
          token: menu.token
        };

        tiles.push({
          title: menu.title,
          image: menu.image,
          url: '#' + NavigationManager.getPath(destination),
          destination: destination
        });
      }

      return tiles;
    }, tiles);

    $timeout(function () {
      React.render(React.createElement(HomeMenu, { tiles: tiles }), document.getElementById('home-menu-main'));
    }, 1000);
  });

  NavigationManager.locationChanging.add(function (location) {
    $scope.visible = location.type === 'home';
    $timeout(function () {
      $scope.$apply();
    });
  });

  $scope.preload = function (destination) {
    NavigationManager.location = destination;
  };

  $scope.getMediaUrl = function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
  $scope.predicateEven = ShellManager.predicateEven;
  $scope.predicateOdd = ShellManager.predicateOdd;

  $scope.seat_name = LocationModel.seat ? LocationModel.seat.name : 'Table';
  LocationModel.seatChanged.add(function (value) {
    $timeout(function () {
      $scope.seat_name = value ? value.name : 'Table';
    });
  });

  $scope.customer_name = CustomerManager.customerName;
  CustomerManager.model.profileChanged.add(function () {
    $timeout(function () {
      return $scope.customer_name = CustomerManager.customerName;
    });
  });

  $scope.elements = ShellManager.model.elements;
  ShellManager.model.elementsChanged.add(function (value) {
    $timeout(function () {
      return $scope.elements = value;
    });
  });

  var refreshAssistanceRequest = function refreshAssistanceRequest() {
    $scope.requestAssistanceAvailable = !Boolean(OrderManager.model.assistanceRequest);
  };
  var refreshCloseoutRequest = function refreshCloseoutRequest() {
    $scope.requestCloseoutAvailable = !Boolean(OrderManager.model.closeoutRequest);
  };
  var refreshSurvey = function refreshSurvey() {
    $scope.surveyAvailable = SurveyManager.model.isEnabled && SurveyManager.model.feedbackSurvey && !SurveyManager.model.feedbackSurveyComplete;
  };
  OrderManager.model.assistanceRequestChanged.add(refreshAssistanceRequest);
  OrderManager.model.closeoutRequestChanged.add(refreshCloseoutRequest);
  SurveyManager.model.feedbackSurveyChanged.add(refreshSurvey);
  SurveyManager.model.surveyCompleted.add(refreshSurvey);
  refreshAssistanceRequest();
  refreshCloseoutRequest();
  refreshSurvey();

  $scope.chatAvailable = Boolean(SNAPLocation.chat);

  $scope.requestAssistance = function () {
    if (!$scope.requestAssistanceAvailable) {
      return;
    }

    DialogManager.confirm(ALERT_TABLE_ASSISTANCE).then(function () {
      var job = DialogManager.startJob();

      OrderManager.requestAssistance().then(function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_ASSISTANCE_SENT);
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
      });
    });
  };

  $scope.requestCloseout = function () {
    if (!$scope.requestCloseoutAvailable) {
      return;
    }

    DialogManager.confirm(ALERT_TABLE_CLOSEOUT).then(function () {
      var job = DialogManager.startJob();

      OrderManager.requestCloseout().then(function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_CLOSEOUT_SENT);
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
      });
    });
  };

  $scope.openSurvey = function () {
    if (!$scope.surveyAvailable) {
      return;
    }

    NavigationManager.location = { type: 'survey' };
  };

  $scope.seatClicked = function () {
    DialogManager.confirm(ALERT_TABLE_RESET).then(function () {
      var job = DialogManager.startJob();
      CommandCloseTable().then(function () {
        return DialogManager.endJob(job);
      });
    });
  };

  $scope.customerClicked = function () {
    if (!CustomerManager.model.isEnabled) {
      return;
    }

    if (CustomerManager.model.isAuthenticated && !CustomerManager.model.isGuest) {
      NavigationManager.location = { type: 'account' };
    } else {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
    }
  };

  $scope.openChat = function () {
    NavigationManager.location = { type: 'chat' };
  };
}]);

//src/js/controllers/item.js

angular.module('SNAP.controllers').controller('ItemBaseCtrl', ['$scope', function ($scope) {}]);

angular.module('SNAP.controllers').controller('ItemCtrl', ['$scope', '$timeout', 'AnalyticsModel', 'CustomerModel', 'DataManager', 'DialogManager', 'NavigationManager', 'OrderManager', 'CartModel', 'LocationModel', 'ShellManager', 'SNAPEnvironment', 'ChatManager', function ($scope, $timeout, AnalyticsModel, CustomerModel, DataManager, DialogManager, NavigationManager, OrderManager, CartModel, LocationModel, ShellManager, SNAPEnvironment, ChatManager) {

  var ItemImage = React.createClass({
    displayName: 'ItemImage',

    render: function render() {
      return React.DOM.img({
        src: ShellManager.getMediaUrl(this.props.media, 600, 600)
      });
    }
  });

  NavigationManager.locationChanging.add(function (location) {
    DataManager.item = location.type === 'item' ? location.token : undefined;
    $scope.visible = Boolean(DataManager.item);
    $timeout(function () {
      $scope.$apply();
    });
  });

  DataManager.itemChanged.add(function (response) {
    if (!response && ($scope.websiteUrl || $scope.flashUrl)) {
      WebBrowser.close();
    }

    $scope.websiteUrl = null;
    $scope.flashUrl = null;

    if (!response) {
      $scope.entry = null;

      if ($scope.type === 1) {
        document.getElementById('item-photo').innerHTML = '';
      }

      $scope.type = 1;
      $timeout(function () {
        return $scope.$apply();
      });
      return;
    }

    var type = response.type;

    if (type === 2 && response.website) {
      $scope.websiteUrl = response.website.url;
      WebBrowser.open($scope.websiteUrl);
    } else if (type === 3 && response.flash) {
      var url = WebBrowser.getFlashUrl(response.flash.media.token, response.flash.width, response.flash.height);
      $scope.flashUrl = url;
      WebBrowser.open($scope.flashUrl);
    } else if (type === 1) {
      $scope.entry = new app.CartItem(response, 1);

      React.render(React.createElement(ItemImage, { media: $scope.entry.item.image }), document.getElementById('item-photo'));
    }

    $scope.type = type;
    $timeout(function () {
      $scope.$apply();
    });
  });

  $scope.getMediaUrl = function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
  $scope.formatPrice = function (value) {
    return value ? ShellManager.formatPrice(value) : 0;
  };

  $scope.addToCart = function () {
    if (CustomerModel.isEnabled && !CustomerModel.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    var entry = $scope.entry;

    if (entry.hasModifiers) {
      CartModel.openEditor(entry, true);
    } else {
      OrderManager.addToCart(entry);
      CartModel.isCartOpen = true;
    }

    NavigationManager.goBack();
  };

  $scope.cancelGift = function () {
    return ChatManager.cancelGift();
  };

  $scope.giftSeat = LocationModel.getSeat(ChatManager.model.giftSeat);
  ChatManager.model.giftSeatChanged.add(function (token) {
    $timeout(function () {
      return $scope.giftSeat = LocationModel.getSeat(token);
    });
  });
}]);

//src/js/controllers/itemedit.js

angular.module('SNAP.controllers').controller('ItemEditCtrl', ['$scope', 'ShellManager', 'NavigationManager', 'OrderManager', 'CartModel', function ($scope, ShellManager, NavigationManager, OrderManager, CartModel) {

  $scope.getMediaUrl = function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
  $scope.formatPrice = function (value) {
    return ShellManager.formatPrice(value);
  };

  var currentIndex = -1;

  var refreshNavigation = function refreshNavigation() {
    if ($scope.entry && $scope.entry.hasModifiers) {
      $scope.hasNextCategory = $scope.entry.modifiers.length > 1 && currentIndex < $scope.entry.modifiers.length - 1;
      $scope.hasPreviousCategory = currentIndex > 0;
      $scope.category = $scope.entry.modifiers[currentIndex];
      $scope.canExit = CartModel.editableItemNew;
      $scope.canDone = true;
    }
  };

  NavigationManager.locationChanging.add(function (location) {
    if (location.type !== 'menu' && location.type !== 'category') {
      $scope.exit();
    }
  });

  CartModel.isCartOpenChanged.add(function (value) {
    if (value) {
      $scope.exit();
    }
  });

  var init = function init(value) {
    $scope.entry = value;
    $scope.visible = $scope.entry !== null;

    currentIndex = 0;

    refreshNavigation();
  };

  init(CartModel.editableItem);

  CartModel.editableItemChanged.add(function (value) {
    init(value);
  });

  $scope.getModifierTitle = function (modifier) {
    return modifier.data.title + (modifier.data.price > 0 ? ' (+' + ShellManager.formatPrice(modifier.data.price) + ')' : '');
  };

  $scope.leftButtonClick = function () {
    var result = currentIndex > 0 ? $scope.previousCategory() : $scope.exit();
  };

  $scope.leftButtonText = function () {
    return currentIndex > 0 ? 'Back' : 'Exit';
  };

  $scope.rightButtonClick = function () {
    //Make sure Pick 1 modifier categories have met the selection condition.
    if ($scope.entry.modifiers[currentIndex].data.selection === 1) {
      var numSelected = 0;
      angular.forEach($scope.entry.modifiers[currentIndex].modifiers, function (m) {
        if (m.isSelected) {
          numSelected++;
        }
      });

      if (numSelected !== 1) {
        //TODO: Add modal popup. Must make 1 selection!
        return;
      }
    }

    var result = $scope.hasNextCategory ? $scope.nextCategory() : $scope.done();
  };

  $scope.rightButtonText = function () {
    return $scope.hasNextCategory ? 'Next' : 'Done';
  };

  $scope.previousCategory = function () {
    currentIndex--;
    refreshNavigation();
  };

  $scope.nextCategory = function () {
    currentIndex++;
    refreshNavigation();
  };

  $scope.updateModifiers = function (category, modifier) {
    modifier.isSelected = !modifier.isSelected;

    if (modifier.isSelected && category.data.selection === 1) {
      angular.forEach(category.modifiers, function (m) {
        m.isSelected = m === modifier;
      });
    }
  };

  $scope.done = function () {
    if (CartModel.editableItemNew) {
      OrderManager.addToCart(CartModel.editableItem);
    }

    $scope.exit();
    CartModel.isCartOpen = true;
  };

  $scope.exit = function () {
    CartModel.closeEditor();
  };
}]);

//src/js/controllers/mainaux.js

angular.module('SNAP.controllers').controller('MainAuxCtrl', ['$scope', 'CommandStartup', function ($scope, CommandStartup) {
  CommandStartup();
}]);

//src/js/controllers/mainsnap.js

angular.module('SNAP.controllers').controller('MainSnapCtrl', ['$scope', '$timeout', 'CustomerManager', 'ActivityMonitor', 'ChatManager', 'ShellManager', 'DataManager', 'DialogManager', 'OrderManager', 'LocationModel', 'NavigationManager', 'SoftwareManager', 'SNAPLocation', 'CommandStartup', function ($scope, $timeout, CustomerManager, ActivityMonitor, ChatManager, ShellManager, DataManager, DialogManager, OrderManager, LocationModel, NavigationManager, SoftwareManager, SNAPLocation, CommandStartup) {

  CommandStartup();

  $scope.touch = function () {
    return ActivityMonitor.activityDetected();
  };

  OrderManager.model.orderRequestChanged.add(function (item) {
    if (!item) {
      return;
    }
    item.promise.then(function () {
      return DialogManager.alert(ALERT_REQUEST_ORDER_RECEIVED);
    });
  });

  OrderManager.model.assistanceRequestChanged.add(function (item) {
    if (!item) {
      return;
    }
    item.promise.then(function () {
      return DialogManager.alert(ALERT_REQUEST_ASSISTANCE_RECEIVED);
    });
  });

  OrderManager.model.closeoutRequestChanged.add(function (item) {
    if (!item) {
      return;
    }
    item.promise.then(function () {
      return DialogManager.alert(ALERT_REQUEST_CLOSEOUT_RECEIVED);
    });
  });

  ChatManager.model.chatRequestReceived.add(function (token) {
    DialogManager.confirm(ChatManager.getDeviceName(token) + ' would like to chat with you.').then(function () {
      ChatManager.approveDevice(token);
      NavigationManager.location = { type: 'chat' };
    }, function () {
      return ChatManager.declineDevice(token);
    });
  });

  ChatManager.model.giftRequestReceived.add(function (token, description) {
    DialogManager.confirm(ChatManager.getDeviceName(token) + ' would like to gift you a ' + description).then(function () {
      ChatManager.acceptGift(token);
    }, function () {
      return ChatManager.declineGift(token);
    });
  });

  ChatManager.model.messageReceived.add(function (message) {
    var device = LocationModel.getDevice(message.device);

    if (!device) {
      return;
    }

    if (message.status === ChatManager.MESSAGE_STATUSES.CHAT_REQUEST_DECLINED) {
      DialogManager.alert('Chat with ' + ChatManager.getDeviceName(device.token) + ' was declined. ' + 'To stop recieving chat requests, open the chat screen and touch the "Chat on/off" button.');
    } else if (message.status === ChatManager.MESSAGE_STATUSES.CHAT_REQUEST_ACCEPTED) {
      DialogManager.alert('Your chat request to ' + ChatManager.getDeviceName(device.token) + ' was accepted.');
    } else if (message.status === ChatManager.MESSAGE_STATUSES.GIFT_REQUEST_ACCEPTED) {
      DialogManager.alert(ChatManager.getDeviceName(device.token) + ' has accepted your gift. The item will be added to your check.');
    } else if (message.status === ChatManager.MESSAGE_STATUSES.GIFT_REQUEST_DECLINED) {
      DialogManager.alert(ChatManager.getDeviceName(device.token) + ' has declined your gift. The item will NOT be added to your check.');
    }

    if (NavigationManager.location.type === 'chat') {
      return;
    }

    if (message.status === ChatManager.MESSAGE_STATUSES.CHAT_CLOSED) {
      DialogManager.notification(ChatManager.getDeviceName(device.token) + ' has closed the chat');
    } else if (!message.status && message.to_device) {
      DialogManager.notification('New message from ' + ChatManager.getDeviceName(device.token));
    }
  });

  ChatManager.model.giftReady.add(function () {
    ChatManager.sendGift(OrderManager.model.orderCart);
    NavigationManager.location = { type: 'chat' };
  });

  ChatManager.model.giftAccepted.add(function (status) {
    if (!status || !ChatManager.model.giftDevice) {
      ChatManager.model.giftSeat = null;
    } else {
      var job = DialogManager.startJob();

      OrderManager.submitCart().then(function () {
        DialogManager.endJob(job);
        NavigationManager.location = { type: 'chat' };
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);

        ChatManager.endGift();
        NavigationManager.location = { type: 'chat' };
      });
    }
  });
}]);

//src/js/controllers/menu.js

angular.module('SNAP.controllers').controller('MenuBaseCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', function ($scope, $timeout, DataManager, NavigationManager) {}]);

angular.module('SNAP.controllers').controller('MenuCtrl', ['$scope', '$timeout', 'DataManager', 'NavigationManager', 'ShellManager', function ($scope, $timeout, DataManager, NavigationManager, ShellManager) {

  var MenuList = React.createClass({
    displayName: 'MenuList',

    render: function render() {
      var tileClassName = ShellManager.tileStyle;
      var rows = this.props.tiles.map(function (tile, i) {
        return React.DOM.td({
          className: tileClassName,
          key: i
        }, React.DOM.a({
          onClick: function onClick(e) {
            e.preventDefault();
            NavigationManager.location = tile.destination;
          },
          style: {
            backgroundImage: 'url(' + ShellManager.getMediaUrl(tile.image, 370, 370) + ')'
          }
        }, React.DOM.span(null, tile.title)));
      }).reduce(function (result, value, i) {
        result[i % 2].push(value);
        return result;
      }, [[], []]).map(function (row, i) {
        return React.DOM.tr({ key: i }, row);
      });

      return React.DOM.table({ className: 'tile-table' }, rows);
    }
  });

  NavigationManager.locationChanging.add(function (location) {
    DataManager.menu = location.type === 'menu' ? location.token : undefined;
    $scope.visible = Boolean(DataManager.menu);
    $timeout(function () {
      $scope.$apply();
    });
  });

  DataManager.menuChanged.add(function (menu) {
    if (!menu) {
      return;
    }

    menu.categories.forEach(function (tile) {
      tile.url = '#' + NavigationManager.getPath(tile.destination);
    });

    React.render(React.createElement(MenuList, { tiles: menu.categories }), document.getElementById('content-menu'));
  });
}]);

//src/js/controllers/navigation.js

angular.module('SNAP.controllers').controller('NavigationCtrl', ['$scope', '$timeout', 'ActivityMonitor', 'CustomerManager', 'AnalyticsModel', 'CartModel', 'ShellManager', 'DataManager', 'DataModel', 'DialogManager', 'NavigationManager', 'OrderManager', 'CommandCloseTable', 'CommandFlipScreen', 'WebBrowser', 'SNAPEnvironment', function ($scope, $timeout, ActivityMonitor, CustomerManager, AnalyticsModel, CartModel, ShellManager, DataManager, DataModel, DialogManager, NavigationManager, OrderManager, CommandCloseTable, CommandFlipScreen, WebBrowser, SNAPEnvironment) {

  $scope.menus = [];

  DataModel.home().then(function (response) {
    if (!response) {
      return;
    }

    var location = NavigationManager.location,
        limit = SNAPEnvironment.platform === 'desktop' ? 4 : 3;

    $scope.menus = response.menus.filter(function (menu) {
      return SNAPEnvironment.platform === 'desktop' || menu.type !== 3;
    }).filter(function (menu, i) {
      return i < limit;
    }).map(function (menu) {
      var destination = {
        type: 'menu',
        token: menu.token
      };
      return {
        token: menu.token,
        title: menu.title,
        url: '#' + NavigationManager.getPath(destination),
        destination: destination,
        selected: location.type === 'menu' && menu.token === location.token
      };
    });
  });

  $scope.navigateHome = function () {
    ActivityMonitor.activityDetected();

    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.confirm(ALERT_TABLE_RESET).then(function () {
        var job = DialogManager.startJob();
        CommandCloseTable().then(function () {
          return DialogManager.endJob(job);
        });
      });
      return;
    }

    NavigationManager.location = { type: 'home' };
    CartModel.isCartOpen = false;
  };

  $scope.navigateBack = function () {
    ActivityMonitor.activityDetected();

    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    NavigationManager.goBack();

    CartModel.isCartOpen = false;
  };

  $scope.rotateScreen = function () {
    ActivityMonitor.activityDetected();
    CommandFlipScreen();
  };

  $scope.openCart = function () {
    ActivityMonitor.activityDetected();

    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    CartModel.isCartOpen = !CartModel.isCartOpen;
  };

  $scope.openSettings = function () {
    DialogManager.confirm(ALERT_TABLE_RESET).then(function () {
      var job = DialogManager.startJob();
      CommandCloseTable().then(function () {
        return DialogManager.endJob(job);
      });
    });
  };

  $scope.menuOpen = false;

  $scope.toggleMenu = function () {
    $scope.menuOpen = !$scope.menuOpen;
  };

  $scope.advertisementClick = function (item) {
    if (CustomerManager.model.isEnabled && !CustomerManager.model.isAuthenticated) {
      DialogManager.alert(ALERT_SIGNIN_REQUIRED);
      return;
    }

    AnalyticsModel.logAdvertisement({
      token: item.token,
      type: 'click'
    });

    if (item.href) {
      WebBrowser.open(item.href.url);
    }
  };

  $scope.advertisementImpression = function (item) {
    if (ActivityMonitor.active && !$scope.wide) {
      AnalyticsModel.logAdvertisement({
        token: item.token,
        type: 'impression'
      });
    }
  };

  $scope.elements = ShellManager.model.elements;
  ShellManager.model.elementsChanged.add(function (value) {
    $timeout(function () {
      return $scope.elements = value;
    });
  });

  $scope.advertisementsAll = [];
  $scope.advertisementsTop = [];
  $scope.advertisementsBottom = [];
  var mapAdvertisement = function mapAdvertisement(ad) {
    return {
      src: ShellManager.getMediaUrl(ad.src, 970, 90),
      href: ad.href,
      type: ShellManager.getMediaType(ad.src),
      token: ad.token
    };
  };
  DataModel.advertisements().then(function (response) {
    $timeout(function () {
      $scope.advertisementsTop = response.top.map(mapAdvertisement);
      $scope.advertisementsBottom = response.bottom.map(mapAdvertisement);
      $scope.advertisementsAll = $scope.advertisementsTop.concat($scope.advertisementsBottom);
    });
  });

  $scope.cartCount = OrderManager.model.orderCart.length;
  OrderManager.model.orderCartChanged.add(function (cart) {
    $timeout(function () {
      return $scope.cartCount = cart.length;
    });
  });

  $scope.requestAssistance = function () {
    if (!$scope.requestAssistanceAvailable) {
      return;
    }

    DialogManager.confirm(ALERT_TABLE_ASSISTANCE).then(function () {
      var job = DialogManager.startJob();

      OrderManager.requestAssistance().then(function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_ASSISTANCE_SENT);
      }, function () {
        DialogManager.endJob(job);
        DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
      });
    });
  };

  var refreshAssistanceRequest = function refreshAssistanceRequest() {
    $scope.requestAssistanceAvailable = !Boolean(OrderManager.model.assistanceRequest);
  };
  OrderManager.model.assistanceRequestChanged.add(refreshAssistanceRequest);
  refreshAssistanceRequest();

  $scope.customerName = CustomerManager.customerName;
  CustomerManager.model.profileChanged.add(function () {
    $timeout(function () {
      return $scope.customerName = CustomerManager.customerName;
    });
  });

  $scope.navigate = function (destination) {
    return NavigationManager.location = destination;
  };

  NavigationManager.locationChanged.add(function (location) {
    $timeout(function () {
      $scope.menus.forEach(function (menu) {
        //menu.selected = (location.type === 'menu' && menu.token === location.token);
      });
    });
  });
}]);

//src/js/controllers/notification.js

angular.module('SNAP.controllers').controller('NotificationCtrl', ['$scope', '$timeout', 'DialogManager', function ($scope, $timeout, DialogManager) {
  var timer;

  $scope.messages = [];

  function updateVisibility(isVisible) {
    $timeout(function () {
      $scope.visible = isVisible;
    });
  }

  function hideNext() {
    var messages = [];

    for (var i = 1; i < $scope.messages.length; i++) {
      messages.push($scope.messages[i]);
    }

    $scope.messages = messages;

    if ($scope.messages.length === 0) {
      updateVisibility(false);
      return;
    }

    timer = $timeout(hideNext, 4000);
  }

  $scope.visible = false;

  DialogManager.notificationRequested.add(function (message) {
    $timeout(function () {
      $scope.messages.push({ text: message });
    });

    updateVisibility(true);

    if (timer) {
      $timeout.cancel(timer);
    }

    timer = $timeout(hideNext, 4000);
  });
}]);

//src/js/controllers/reset.js

angular.module('SNAP.controllers').controller('ResetCtrl', ['$scope', 'CommandReset', 'DialogManager', 'ManagementService', 'SNAPEnvironment', function ($scope, CommandReset, DialogManager, ManagementService, SNAPEnvironment) {

  $scope.version = SNAPEnvironment.version;

  CommandReset().then(function () {
    ManagementService.loadStartup();
  }, function () {
    ManagementService.loadStartup();
  });
}]);

//src/js/controllers/screensaver.js

angular.module('SNAP.controllers').controller('ScreensaverCtrl', ['$scope', '$timeout', 'ShellManager', 'ActivityMonitor', 'DataModel', function ($scope, $timeout, ShellManager, ActivityMonitor, DataModel) {

  $scope.visible = false;

  function showImages(values) {
    $timeout(function () {
      $scope.images = values.map(function (item) {
        return {
          src: ShellManager.getMediaUrl(item.media, 1920, 1080, 'jpg'),
          type: ShellManager.getMediaType(item.media)
        };
      });
    });
  }

  showImages(ShellManager.model.screensavers);
  ShellManager.model.screensaversChanged.add(showImages);

  ActivityMonitor.activeChanged.add(function (value) {
    $timeout(function () {
      $scope.visible = value === false && ($scope.images && $scope.images.length > 0);
    });
  });
}]);

//src/js/controllers/signin.js

angular.module('SNAP.controllers').controller('SignInCtrl', ['$scope', '$timeout', 'CommandCustomerLogin', 'CommandCustomerGuestLogin', 'CommandCustomerSocialLogin', 'CommandCustomerSignup', 'CustomerManager', 'DialogManager', 'NavigationManager', 'SessionManager', 'SNAPLocation', function ($scope, $timeout, CommandCustomerLogin, CommandCustomerGuestLogin, CommandCustomerSocialLogin, CommandCustomerSignup, CustomerManager, DialogManager, NavigationManager, SessionManager, SNAPLocation) {

  var STEP_SPLASH = 1,
      STEP_LOGIN = 2,
      STEP_REGISTRATION = 3,
      STEP_GUESTS = 4,
      STEP_EVENT = 5,
      STEP_RESET = 6;

  $scope.STEP_SPLASH = STEP_SPLASH;
  $scope.STEP_LOGIN = STEP_LOGIN;
  $scope.STEP_REGISTRATION = STEP_REGISTRATION;
  $scope.STEP_GUESTS = STEP_GUESTS;
  $scope.STEP_EVENT = STEP_EVENT;
  $scope.STEP_RESET = STEP_RESET;

  $scope.locationName = SNAPLocation.location_name;

  //------------------------------------------------------------------------
  //
  //  Public methods
  //
  //------------------------------------------------------------------------

  //-----------------------------------------------
  //    Login
  //-----------------------------------------------

  $scope.login = function () {
    $scope.credentials = {};
    $scope.step = STEP_LOGIN;
  };

  $scope.guestLogin = function () {
    var job = DialogManager.startJob();

    CommandCustomerGuestLogin().then(function () {
      DialogManager.endJob(job);
      $timeout(function () {
        return $scope.step = STEP_GUESTS;
      });
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  $scope.doLogin = function (credentials) {
    var job = DialogManager.startJob();

    $scope.credentials.username = $scope.credentials.email;

    CommandCustomerLogin($scope.credentials).then(function () {
      DialogManager.endJob(job);
      $timeout(function () {
        return $scope.step = STEP_GUESTS;
      });
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_GENERIC_ERROR);
    });
  };

  //-----------------------------------------------
  //    Social login
  //-----------------------------------------------

  $scope.loginFacebook = function () {
    socialBusy();
    CommandCustomerSocialLogin.facebook().then(socialLogin, socialError);
  };

  $scope.loginTwitter = function () {
    socialBusy();
    CommandCustomerSocialLogin.twitter().then(socialLogin, socialError);
  };

  $scope.loginGoogle = function () {
    socialBusy();
    CommandCustomerSocialLogin.googleplus().then(socialLogin, socialError);
  };

  //-----------------------------------------------
  //    Registration
  //-----------------------------------------------

  $scope.register = function () {
    $scope.registration = {};
    $scope.step = STEP_REGISTRATION;
  };

  $scope.doRegistration = function () {
    $scope.registration.username = $scope.registration.email;

    var job = DialogManager.startJob();

    CommandCustomerSignup($scope.registration).then(function () {
      DialogManager.endJob(job);
      $timeout(function () {
        return $scope.step = STEP_GUESTS;
      });
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  //-----------------------------------------------
  //    Guest count
  //-----------------------------------------------

  $scope.session = {
    guestCount: 1,
    special: false
  };

  $scope.submitGuestCount = function () {
    if ($scope.session.guestCount > 1) {
      SessionManager.guestCount = $scope.session.guestCount;
      $scope.step = STEP_EVENT;
    } else {
      endSignIn();
    }
  };

  //-----------------------------------------------
  //    Event
  //-----------------------------------------------

  $scope.submitSpecialEvent = function (value) {
    $scope.session.special = SessionManager.specialEvent = Boolean(value);
    endSignIn();
  };

  //-----------------------------------------------
  //    Reset password
  //-----------------------------------------------

  $scope.resetPassword = function () {
    $scope.passwordreset = {};
    $scope.step = STEP_RESET;
  };

  $scope.passwordResetSubmit = function () {
    var job = DialogManager.startJob();

    CustomerManager.resetPassword($scope.passwordreset).then(function () {
      DialogManager.endJob(job);
      $scope.passwordReset = false;
      DialogManager.alert(ALERT_PASSWORD_RESET_COMPLETE);
    }, function () {
      DialogManager.endJob(job);
      DialogManager.alert(ALERT_REQUEST_SUBMIT_ERROR);
    });
  };

  $scope.passwordResetCancel = function () {
    $scope.step = STEP_SPLASH;
  };

  //------------------------------------------------------------------------
  //
  //  Private methods
  //
  //------------------------------------------------------------------------

  function socialLogin() {
    socialBusyEnd();
    $timeout(function () {
      return $scope.step = STEP_GUESTS;
    });
  }

  function socialError() {
    socialBusyEnd();
    DialogManager.alert(ALERT_GENERIC_ERROR);
  }

  var socialJob, socialTimer;

  function socialBusy() {
    socialBusyEnd();

    socialJob = DialogManager.startJob();
    socialTimer = $timeout(socialBusyEnd, 120 * 1000);
  }

  function socialBusyEnd() {
    if (socialJob) {
      DialogManager.endJob(socialJob);
      socialJob = null;
    }

    if (socialTimer) {
      $timeout.cancel(socialTimer);
      socialTimer = null;
    }
  }

  function endSignIn() {
    NavigationManager.location = { type: 'home' };
  }

  //------------------------------------------------------------------------
  //
  //  State
  //
  //------------------------------------------------------------------------

  $scope.$watchAsProperty('step').skipDuplicates().subscribe(function (value) {
    if (!value.value) {
      return;
    }

    var step = value.value();

    if (step === $scope.STEP_GUESTS) {
      $scope.submitGuestCount();
    }
  });

  //------------------------------------------------------------------------
  //
  //  Startup
  //
  //------------------------------------------------------------------------

  if (!CustomerManager.model.isEnabled || CustomerManager.model.isAuthenticated) {
    return endSignIn();
  }

  $scope.initialized = true;
  $scope.step = STEP_SPLASH;
}]);

//src/js/controllers/startup.js

angular.module('SNAP.controllers').controller('StartupCtrl', ['$scope', '$timeout', 'CommandBoot', 'DialogManager', 'LocationModel', 'ManagementService', 'SNAPEnvironment', function ($scope, $timeout, CommandBoot, DialogManager, LocationModel, ManagementService, SNAPEnvironment) {

  $scope.version = SNAPEnvironment.version;

  function workflow() {
    CommandBoot().then(function () {
      ManagementService.loadApplication(LocationModel.location);
    }, function (e) {
      DialogManager.alert(ALERT_ERROR_STARTUP).then(function () {
        return workflow();
      });
    });
  }

  $timeout(function () {
    return workflow();
  }, 1000);
}]);

//src/js/controllers/survey.js

angular.module('SNAP.controllers').controller('SurveyCtrl', ['$scope', '$timeout', 'AnalyticsModel', 'CustomerManager', 'CustomerModel', 'DialogManager', 'NavigationManager', 'OrderManager', 'SurveyManager', function ($scope, $timeout, AnalyticsModel, CustomerManager, CustomerModel, DialogManager, NavigationManager, OrderManager, SurveyManager) {

  if (!SurveyManager.model.isEnabled || !SurveyManager.model.feedbackSurvey || SurveyManager.model.feedbackSurveyComplete) {
    NavigationManager.location = { type: 'home' };
    return;
  }

  //------------------------------------------------------------------------
  //
  //  Properties
  //
  //------------------------------------------------------------------------

  $scope.comment = '';
  $scope.email = '';
  $scope.had_problems = false;

  //-----------------------------------------------
  //    Pages
  //-----------------------------------------------

  $scope.pages = [];
  var pages = $scope.$watchAsProperty('pages');

  //-----------------------------------------------
  //    Index
  //-----------------------------------------------

  $scope.pageIndex = -1;
  var pageIndex = $scope.$watchAsProperty('pageIndex');
  pageIndex.changes().subscribe(function () {
    $scope.page = $scope.pageIndex > -1 ? $scope.pages[$scope.pageIndex] : { questions: [] };

    $timeout(function () {
      $scope.page.forEach(function (item) {
        if (item.type !== 1) {
          return;
        }

        $('#rate-' + item.token).rateit({
          min: 0,
          max: 5,
          step: 1,
          resetable: false,
          backingfld: '#range-' + item.token
        }).bind('rated', function (event, value) {
          item.feedback = value;
        });
      });
    });
  });

  //-----------------------------------------------
  //    Count
  //-----------------------------------------------

  $scope.pageCount = 0;
  pages.changes().subscribe(function () {
    $scope.pageCount = $scope.pages.length;
  });

  //------------------------------------------------------------------------
  //
  //  Private methods
  //
  //------------------------------------------------------------------------

  var generatePassword = function generatePassword() {
    var length = 8,
        charset = 'abcdefghknpqrstuvwxyzABCDEFGHKMNPQRSTUVWXYZ23456789',
        result = '';
    for (var i = 0, n = charset.length; i < length; i++) {
      result += charset.charAt(Math.floor(Math.random() * n));
    }
    return result;
  };

  var submitFeedback = function submitFeedback() {
    $scope.pages.reduce(function (answers, page) {
      return page.reduce(function (answers, question) {
        var value = parseInt(question.feedback);

        if (value > 0) {
          answers.push({
            survey: SurveyManager.model.feedbackSurvey.token,
            question: question.token,
            value: value
          });
        }

        return answers;
      }, answers);
    }, []).forEach(function (answer) {
      return AnalyticsModel.logAnswer(answer);
    });

    if ($scope.comment && $scope.comment.length > 0) {
      AnalyticsModel.logComment({
        type: 'feedback',
        text: $scope.comment
      });
    }

    SurveyManager.model.feedbackSurveyComplete = true;

    if ($scope.had_problems && !OrderManager.model.assistanceRequest) {
      OrderManager.requestAssistance();
    }

    if (CustomerModel.isGuest && $scope.email && $scope.email.length > 0) {
      var job = DialogManager.startJob();
      var password = generatePassword();

      CustomerManager.login({
        email: $scope.email,
        password: password
      }).then(function () {
        CustomerManager.login({
          login: $scope.email,
          password: password
        }).then(function () {
          DialogManager.endJob(job);
          NavigationManager.location = { type: 'home' };
        }, function () {
          DialogManager.endJob(job);
          NavigationManager.location = { type: 'home' };
        });
      }, function () {
        DialogManager.endJob(job);
        NavigationManager.location = { type: 'home' };
      });
    } else {
      NavigationManager.location = { type: 'home' };
    }
  };

  //------------------------------------------------------------------------
  //
  //  Public methods
  //
  //------------------------------------------------------------------------

  $scope.previousPage = function () {
    if ($scope.pageIndex > 0) {
      $scope.pageIndex--;
    }
  };

  $scope.nextPage = function () {
    if ($scope.pageIndex < $scope.pageCount - 1) {
      $scope.pageIndex++;
    } else {
      $scope.nextStep();
    }
  };

  $scope.nextStep = function () {
    if (CustomerModel.isGuest && $scope.step < 3) {
      $scope.step++;
    } else if (!CustomerModel.isGuest && $scope.step < 2) {
      $scope.step++;
    } else {
      submitFeedback();
    }
  };

  $scope.submitProblem = function (status) {
    $scope.had_problems = Boolean(status);
    $scope.nextStep();
  };

  $scope.exit = function () {
    if ($scope.step > 0) {
      submitFeedback();
    }

    NavigationManager.location = { type: 'home' };
  };

  //------------------------------------------------------------------------
  //
  //  Startup
  //
  //------------------------------------------------------------------------

  (function () {
    var page;

    $scope.has_email = CustomerModel.hasCredentials;

    function buildSurvey() {
      SurveyManager.model.feedbackSurvey.questions.forEach(function (item) {
        if (item.type !== 1) {
          return;
        }

        if (!page || page.length > 4) {
          page = [];
          $scope.pages.push(page);
        }

        item.feedback = 0;
        page.push(item);
      });
    }

    if (SurveyManager.model.isEnabled && SurveyManager.model.feedbackSurvey) {
      buildSurvey();
    }

    SurveyManager.model.feedbackSurveyChanged.add(function () {
      return buildSurvey();
    });

    $scope.pageIndex = 0;
    $scope.step = 0;
  })();
}]);

//src/js/controllers/web.js

angular.module('SNAP.controllers').controller('WebCtrl', ['$scope', '$timeout', 'ActivityMonitor', 'NavigationManager', 'WebBrowser', function ($scope, $timeout, ActivityMonitor, NavigationManager, WebBrowser) {

  $scope.close = function () {
    return WebBrowser.close();
  };
  $scope.url = '';

  WebBrowser.onOpened.add(function (reference) {
    ActivityMonitor.enabled = false;

    $timeout(function () {
      $scope.browserUrl = WebBrowser.isPrivateUrl(reference.url) ? '' : reference.url;
      $scope.type = reference.type;
      $scope.visible = true;
    });

    switch (reference.type) {
      case 'iframe':
        reference.attach(document.getElementById('page-web-iframe'));
        break;
      case 'webview':
        reference.attach(document.getElementById('page-web-webview'));
        break;
    }

    reference.onNavigated.add(function (url) {
      return $timeout(function () {
        return $scope.browserUrl = WebBrowser.isPrivateUrl(url) ? '' : url;
      });
    });
  });

  WebBrowser.onClosed.add(function () {
    ActivityMonitor.enabled = true;
    $timeout(function () {
      $scope.url = '';
      $scope.visible = false;
    });
  });

  NavigationManager.locationChanging.add(function (location) {
    WebBrowser.close();
    $timeout(function () {
      $scope.wide = location.type !== 'home' && location.type !== 'signin';
      $scope.fullscreen = location.type === 'signin';
    });
  });
}]);

//src/js/directives/_base.js

angular.module('SNAP.directives', ['angular-bacon']);

//src/js/directives/email.js

angular.module('SNAP.directives').directive('email', ['$timeout', 'ShellManager', function ($timeout, ShellManager) {

  return {
    restrict: 'E',
    replace: true,
    transclude: true,
    scope: {
      disabled: '=?',
      ngModel: '=',
      placeholder: '@'
    },
    templateUrl: ShellManager.getPartialUrl('input-email')
  };
}]);

//src/js/directives/gallery.js

angular.module('SNAP.directives').directive('gallery', ['ActivityMonitor', 'ShellManager', '$timeout', function (ActivityMonitor, ShellManager, $timeout) {

  var slider,
      settings = {
    mode: 'fade',
    wrapperClass: 'photo-gallery'
  };

  return {
    restrict: 'E',
    replace: false,
    scope: {
      images: '=',
      imagewidth: '=?',
      imageheight: '=?'
    },
    templateUrl: ShellManager.getPartialUrl('gallery'),
    link: function link(scope, elem, attrs) {
      elem.ready(function () {
        slider = $('.bxslider', elem).bxSlider(settings);
      });

      scope.$watch('images', function () {
        scope.medias = (scope.images || []).map(function (image) {
          return ShellManager.getMediaUrl(image, attrs.imagewidth, attrs.imageheight);
        });
        settings.pager = scope.medias.length > 1;
        $timeout(function () {
          return slider.reloadSlider(settings);
        });
      });
    }
  };
}]);

//src/js/directives/oniframeload.js

angular.module('SNAP.directives').directive('onIframeLoad', function () {
  return {
    restrict: 'A',
    scope: {
      callback: '&onIframeLoad'
    },
    link: function link(scope, element, attrs) {
      element.bind('load', function (e) {
        if (typeof scope.callback === 'function') {
          scope.callback({ event: e });
        }
      });
    }
  };
});

//src/js/directives/onkeydown.js

angular.module('SNAP.directives').directive('onKeydown', function () {
  return {
    restrict: 'A',
    link: function link(scope, elem, attrs) {
      var functionToCall = scope.$eval(attrs.onKeydown);
      elem.on('keydown', function (e) {
        functionToCall(e.which);
      });
    }
  };
});

//src/js/directives/quantity.js

angular.module('SNAP.directives').directive('quantity', ['$timeout', 'ShellManager', function ($timeout, ShellManager) {

  return {
    restrict: 'E',
    replace: true,
    scope: {
      quantity: '=',
      min: '=',
      max: '='
    },
    link: function link(scope, elem) {
      scope.min = scope.min || 1;
      scope.max = scope.max || 9;
      scope.data = {
        min: scope.min,
        max: scope.max,
        quantity: parseInt(scope.quantity)
      };

      scope.decrease = function () {
        scope.quantity = scope.data.quantity = scope.data.quantity > scope.data.min ? scope.data.quantity - 1 : scope.data.min;
      };

      scope.increase = function () {
        scope.quantity = scope.data.quantity = scope.data.quantity < scope.data.max ? scope.data.quantity + 1 : scope.data.max;
      };
    },
    templateUrl: ShellManager.getPartialUrl('input-quantity')
  };
}]);

//src/js/directives/scroller.js

angular.module('SNAP.directives').directive('scroller', ['ActivityMonitor', 'SNAPEnvironment', function (ActivityMonitor, SNAPEnvironment) {
  return {
    restrict: 'C',
    replace: false,
    link: function link(scope, elem) {
      if (SNAPEnvironment.platform === 'desktop') {
        $(elem).kinetic({
          y: false, stopped: function stopped() {
            ActivityMonitor.activityDetected();
          }
        });
      }
    }
  };
}]);

//src/js/directives/scrollglue.js

angular.module('SNAP.directives').directive('scrollglue', ['$parse', function ($parse) {
  function unboundState(initValue) {
    var activated = initValue;
    return {
      getValue: function getValue() {
        return activated;
      },
      setValue: function setValue(value) {
        activated = value;
      }
    };
  }

  function oneWayBindingState(getter, scope) {
    return {
      getValue: function getValue() {
        return getter(scope);
      },
      setValue: function setValue() {}
    };
  }

  function twoWayBindingState(getter, setter, scope) {
    return {
      getValue: function getValue() {
        return getter(scope);
      },
      setValue: function setValue(value) {
        if (value !== getter(scope)) {
          scope.$apply(function () {
            setter(scope, value);
          });
        }
      }
    };
  }

  function createActivationState(attr, scope) {
    if (attr !== "") {
      var getter = $parse(attr);
      if (getter.assign !== undefined) {
        return twoWayBindingState(getter, getter.assign, scope);
      } else {
        return oneWayBindingState(getter, scope);
      }
    } else {
      return unboundState(true);
    }
  }

  return {
    priority: 1,
    restrict: 'A',
    link: function link(scope, $el, attrs) {
      var el = $el[0],
          activationState = createActivationState(attrs.scrollglue, scope);

      function scrollToBottom() {
        el.scrollTop = el.scrollHeight;
      }

      function onScopeChanges() {
        if (activationState.getValue() && !shouldActivateAutoScroll()) {
          scrollToBottom();
        }
      }

      function shouldActivateAutoScroll() {
        return el.scrollTop + el.clientHeight + 1 >= el.scrollHeight;
      }

      function onScroll() {
        activationState.setValue(shouldActivateAutoScroll());
      }

      scope.$watch(onScopeChanges);
      $el.bind('scroll', onScroll);
    }
  };
}]);

//src/js/directives/slider.js

angular.module('SNAP.directives').directive('slider', ['$timeout', 'ShellManager', function ($timeout, ShellManager) {
  return {
    restrict: 'AE',
    replace: true,
    scope: {
      source: '=',
      slideclick: '=',
      slideshow: '=',
      timeout: '='
    },
    link: function link(scope, elem) {
      var timeout = scope.timeout || 5000;
      scope.source = scope.source || [];
      scope.currentIndex = -1;

      var changeImage = function changeImage() {
        if (scope.source.length === 0 || scope.disabled) {
          return;
        }

        $timeout.cancel(timer);

        scope.source.forEach(function (entry, i) {
          entry.visible = false;
        });

        var entry = scope.source[scope.currentIndex];
        entry.visible = true;

        if (scope.slideshow) {
          scope.slideshow(entry);
        }

        if (entry.type === 'video') {
          var v = $('video', elem);
          v.attr('src', entry.src);
          var video = v.get(0);

          if (!video) {
            timer = $timeout(sliderFunc, 300);
            return;
          }

          var onVideoEnded = function onVideoEnded() {
            video.removeEventListener('ended', onVideoEnded, false);
            $timeout(function () {
              scope.next();
            });
          };

          var onVideoError = function onVideoError(error) {
            video.removeEventListener('error', onVideoError, false);
            $timeout(function () {
              scope.next();
            });
          };

          video.addEventListener('ended', onVideoEnded, false);
          video.addEventListener('error', onVideoError, false);

          try {
            video.load();
            video.play();
          } catch (e) {
            console.error('Unable to play video: ' + e);
          }
        } else {
          timer = $timeout(sliderFunc, timeout);
        }
      };

      scope.next = function () {
        if (scope.currentIndex < scope.source.length - 1) {
          scope.currentIndex++;
        } else {
          scope.currentIndex = 0;
        }

        changeImage();
      };

      scope.prev = function () {
        if (scope.currentIndex > 0) {
          scope.currentIndex--;
        } else {
          scope.currentIndex = scope.source.length - 1;
        }

        changeImage();
      };

      var timer;

      var sliderFunc = function sliderFunc() {
        if (scope.source.length === 0 || scope.disabled) {
          return;
        }

        scope.next();
      };

      scope.$watch('source', function () {
        scope.currentIndex = -1;
        sliderFunc();
      });

      scope.$watch('disabled', function () {
        scope.currentIndex = -1;
        sliderFunc();
      });

      sliderFunc();

      scope.$on('$destroy', function () {
        $timeout.cancel(timer);
      });
    },
    templateUrl: ShellManager.getPartialUrl('slider')
  };
}]);

//src/js/directives/switch.js

angular.module('SNAP.directives').directive('switch', ['$timeout', 'ShellManager', function ($timeout, ShellManager) {

  return {
    restrict: 'E',
    replace: true,
    scope: {
      disabled: '=?',
      selected: '=?'
    },
    link: function link(scope, elem) {
      scope.disabled = Boolean(scope.disabled);
      scope.selected = Boolean(scope.selected);
      scope.data = {
        disabled: Boolean(scope.disabled),
        selected: Boolean(scope.selected),
        changed: false
      };

      scope.toggle = function () {
        if (scope.disabled) {
          return;
        }

        scope.selected = scope.data.selected = !scope.data.selected;
        scope.data.changed = true;
      };
    },
    templateUrl: ShellManager.getPartialUrl('input-switch')
  };
}]);

//src/js/filters/_base.js

angular.module('SNAP.filters', []);

//src/js/filters/partial.js

angular.module('SNAP.filters').filter('partial', ['ShellManager', function (ShellManager) {
  return function (name) {
    return ShellManager.getPartialUrl(name);
  };
}]);

//src/js/filters/thumbnail.js

angular.module('SNAP.filters').filter('thumbnail', ['ShellManager', function (ShellManager) {
  return function (media, width, height, extension) {
    return ShellManager.getMediaUrl(media, width, height, extension);
  };
}]);

//src/js/filters/trusturl.js

angular.module('SNAP.filters').filter('trustUrl', ['$sce', function ($sce) {
  return function (val) {
    return $sce.trustAsResourceUrl(val);
  };
}]);

//src/js/services.js

angular.module('SNAP.services', ['ngResource', 'SNAP.configs']).factory('FlashStarter', ['Logger', 'SNAPHosts', function (Logger, SNAPHosts) {
  return new app.FlashStarter(Logger, SNAPHosts);
}]).factory('Logger', ['SNAPEnvironment', function (SNAPEnvironment) {
  return new app.Logger(SNAPEnvironment);
}]).factory('$exceptionHandler', ['Logger', function (Logger) {
  return function (exception, cause) {
    Logger.fatal(exception.stack, cause, exception);
    throw exception;
  };
}])

//Services

.factory('CardReader', ['ManagementService', 'SNAPEnvironment', function (ManagementService, SNAPEnvironment) {
  var reader;

  switch (SNAPEnvironment.platform) {
    case 'mobile':
      reader = new app.CordovaCardReader();
      break;
    default:
      reader = new app.CardReader(ManagementService);
      break;
  }

  window.SnapCardReader = reader;

  return reader;
}]).factory('DtsApi', ['SNAPHosts', 'SessionModel', function (SNAPHosts, SessionModel) {
  return new app.BackendApi(SNAPHosts, SessionModel);
}]).factory('ManagementService', ['SNAPEnvironment', function (SNAPEnvironment) {
  switch (SNAPEnvironment.platform) {
    case 'desktop':
      //return new app.ElectronManagementService();
      return new app.GenericManagementService();
    case 'mobile':
      return new app.CordovaManagementService();
    default:
      return new app.GenericManagementService();
  }
}]).factory('SocketClient', ['SessionModel', 'SNAPHosts', 'Logger', function (SessionModel, SNAPHosts, Logger) {
  return new app.SocketClient(SessionModel, SNAPHosts, Logger);
}]).factory('TelemetryService', ['$resource', function ($resource) {
  return new app.TelemetryService($resource);
}]).factory('WebBrowser', ['AnalyticsModel', 'ManagementService', 'SNAPEnvironment', 'SNAPHosts', function (AnalyticsModel, ManagementService, SNAPEnvironment, SNAPHosts) {
  window.SnapWebBrowser = new app.WebBrowser(AnalyticsModel, ManagementService, SNAPEnvironment, SNAPHosts);
  return window.SnapWebBrowser;
}])

//Models

.factory('AnalyticsModel', ['StorageProvider', 'HeatMap', 'Logger', function (StorageProvider, HeatMap, Logger) {
  return new app.AnalyticsModel(StorageProvider, HeatMap, Logger);
}]).factory('CartModel', function () {
  return new app.CartModel();
}).factory('ChatModel', ['SNAPLocation', 'SNAPEnvironment', 'StorageProvider', function (SNAPLocation, SNAPEnvironment, StorageProvider) {
  return new app.ChatModel(SNAPLocation, SNAPEnvironment, StorageProvider);
}]).factory('CustomerModel', ['SNAPLocation', 'StorageProvider', function (SNAPLocation, StorageProvider) {
  return new app.CustomerModel(SNAPLocation, StorageProvider);
}]).factory('DataModel', ['SNAPLocation', 'DtsApi', 'StorageProvider', function (SNAPLocation, DtsApi, StorageProvider) {
  return new app.DataModel(SNAPLocation, DtsApi, StorageProvider);
}]).factory('HeatMap', function () {
  return new app.HeatMap(document.body);
}).factory('LocationModel', ['DtsApi', 'SNAPEnvironment', 'SNAPLocation', 'StorageProvider', function (DtsApi, SNAPEnvironment, SNAPLocation, StorageProvider) {
  return new app.LocationModel(DtsApi, SNAPEnvironment, SNAPLocation, StorageProvider);
}]).factory('OrderModel', ['StorageProvider', function (StorageProvider) {
  return new app.OrderModel(StorageProvider);
}]).factory('ShellModel', function () {
  return new app.ShellModel();
}).factory('SurveyModel', ['SNAPLocation', 'StorageProvider', function (SNAPLocation, StorageProvider) {
  return new app.SurveyModel(SNAPLocation, StorageProvider);
}]).factory('SessionModel', ['StorageProvider', function (StorageProvider) {
  return new app.SessionModel(StorageProvider);
}]).factory('StorageProvider', ['Logger', 'SNAPEnvironment', function (Logger, SNAPEnvironment) {
  return function (id) {
    switch (SNAPEnvironment.platform) {
      case 'mobile':
        return new app.CordovaLocalStorageStore(id, Logger);
      default:
        return new app.LocalStorageStore(id);
    }
  };
}])

//Managers

.factory('ActivityMonitor', ['$rootScope', '$timeout', 'SNAPEnvironment', function ($rootScope, $timeout, SNAPEnvironment) {
  var monitor = new app.ActivityMonitor($rootScope, $timeout);
  monitor.timeout = 30000;

  if (SNAPEnvironment.debug) {
    monitor.timeout *= 9000;
  }

  return monitor;
}]).factory('AnalyticsManager', ['TelemetryService', 'AnalyticsModel', 'Logger', function (TelemetryService, AnalyticsModel, Logger) {
  return new app.AnalyticsManager(TelemetryService, AnalyticsModel, Logger);
}]).factory('AuthenticationManager', ['DtsApi', 'SessionModel', 'SNAPEnvironment', 'WebBrowser', 'Logger', function (DtsApi, SessionModel, SNAPEnvironment, WebBrowser, Logger) {
  return new app.AuthenticationManager(DtsApi, SessionModel, SNAPEnvironment, WebBrowser, Logger);
}]).factory('CustomerManager', ['DtsApi', 'CustomerModel', 'SessionModel', 'Logger', 'SNAPEnvironment', function (DtsApi, CustomerModel, SessionModel, Logger, SNAPEnvironment) {
  return new app.CustomerManager(DtsApi, CustomerModel, SessionModel, Logger, SNAPEnvironment);
}]).factory('ChatManager', ['AnalyticsModel', 'ChatModel', 'CustomerModel', 'LocationModel', 'SocketClient', 'Logger', function (AnalyticsModel, ChatModel, CustomerModel, LocationModel, SocketClient, Logger) {
  return new app.ChatManager(AnalyticsModel, ChatModel, CustomerModel, LocationModel, SocketClient, Logger);
}]).factory('DataManager', ['DataModel', 'Logger', 'SNAPEnvironment', function (DataModel, Logger, SNAPEnvironment) {
  return new app.DataManager(DataModel, Logger, SNAPEnvironment);
}]).factory('DialogManager', ['Logger', function (Logger) {
  return new app.DialogManager(Logger);
}]).factory('LocationManager', ['DataModel', 'DtsApi', 'LocationModel', 'Logger', function (DataModel, DtsApi, LocationModel, Logger) {
  return new app.LocationManager(DataModel, DtsApi, LocationModel, Logger);
}]).factory('NavigationManager', ['$rootScope', '$location', '$window', 'AnalyticsModel', 'Logger', function ($rootScope, $location, $window, AnalyticsModel, Logger) {
  return new app.NavigationManager($rootScope, $location, $window, AnalyticsModel, Logger);
}]).factory('OrderManager', ['ChatModel', 'CustomerModel', 'DtsApi', 'OrderModel', 'Logger', function (ChatModel, CustomerModel, DtsApi, OrderModel, Logger) {
  return new app.OrderManager(ChatModel, CustomerModel, DtsApi, OrderModel, Logger);
}]).factory('SessionManager', ['SNAPEnvironment', 'AnalyticsModel', 'CustomerModel', 'LocationModel', 'OrderModel', 'SurveyModel', 'StorageProvider', 'Logger', function (SNAPEnvironment, AnalyticsModel, CustomerModel, LocationModel, OrderModel, SurveyModel, StorageProvider, Logger) {
  return new app.SessionManager(SNAPEnvironment, AnalyticsModel, CustomerModel, LocationModel, OrderModel, SurveyModel, StorageProvider, Logger);
}]).factory('ShellManager', ['DataModel', 'LocationModel', 'ShellModel', 'SNAPLocation', 'SNAPEnvironment', 'SNAPHosts', 'Logger', function (DataModel, LocationModel, ShellModel, SNAPLocation, SNAPEnvironment, SNAPHosts, Logger) {
  var manager = new app.ShellManager(DataModel, LocationModel, ShellModel, SNAPLocation, SNAPEnvironment, SNAPHosts, Logger);

  DataModel._getMediaUrl = function (media, width, height, extension) {
    return manager.getMediaUrl(media, width, height, extension);
  }; //ToDo: refactor

  return manager;
}]).factory('SocialManager', ['SNAPEnvironment', 'DtsApi', 'WebBrowser', 'Logger', function (SNAPEnvironment, DtsApi, WebBrowser, Logger) {
  return new app.SocialManager(SNAPEnvironment, DtsApi, WebBrowser, Logger);
}]).factory('SoftwareManager', ['SNAPEnvironment', function (SNAPEnvironment) {
  return new app.SoftwareManager(SNAPEnvironment);
}]).factory('SurveyManager', ['DataModel', 'SurveyModel', 'Logger', function (DataModel, SurveyModel, Logger) {
  return new app.SurveyManager(DataModel, SurveyModel, Logger);
}]);
//# sourceMappingURL=data:application/json;base64,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WSxHQUFHLFVBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsU0FBUztXQUFLLE9BQU8sQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsU0FBUyxDQUFDO0dBQUEsQ0FBQzs7QUFFbkgsU0FBTyxPQUFPLENBQUM7Q0FDaEIsQ0FBQyxDQUFDLENBQ0YsT0FBTyxDQUFDLGVBQWUsRUFBRSxDQUFDLGlCQUFpQixFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsUUFBUSxFQUFFLFVBQUMsZUFBZSxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFLO0FBQy9ILFNBQU8sSUFBSSxHQUFHLENBQUMsYUFBYSxDQUFDLGVBQWUsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0NBQzNFLENBQUMsQ0FBQyxDQUNGLE9BQU8sQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLGlCQUFpQixFQUFFLFVBQUMsZUFBZSxFQUFLO0FBQ25FLFNBQU8sSUFBSSxHQUFHLENBQUMsZUFBZSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0NBQ2pELENBQUMsQ0FBQyxDQUNGLE9BQU8sQ0FBQyxlQUFlLEVBQUUsQ0FBQyxXQUFXLEVBQUUsYUFBYSxFQUFFLFFBQVEsRUFBRSxVQUFDLFNBQVMsRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFLO0FBQ25HLFNBQU8sSUFBSSxHQUFHLENBQUMsYUFBYSxDQUFDLFNBQVMsRUFBRSxXQUFXLEVBQUUsTUFBTSxDQUFDLENBQUM7Q0FDOUQsQ0FBQyxDQUFDLENBQUMiLCJmaWxlIjoidGVtcC9zbmFwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9zcmMvanMvc2hhcmVkL19iYXNlLmpzXG5cbndpbmRvdy5hcHAgPSB7fTtcblxudmFyIEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SID0gMSxcbiAgICBBTEVSVF9SRVFVRVNUX0FTU0lTVEFOQ0VfU0VOVCA9IDEwLFxuICAgIEFMRVJUX1JFUVVFU1RfQVNTSVNUQU5DRV9SRUNFSVZFRCA9IDExLFxuICAgIEFMRVJUX1JFUVVFU1RfQ0xPU0VPVVRfU0VOVCA9IDIwLFxuICAgIEFMRVJUX1JFUVVFU1RfQ0xPU0VPVVRfUkVDRUlWRUQgPSAyMSxcbiAgICBBTEVSVF9SRVFVRVNUX09SREVSX1NFTlQgPSAzMCxcbiAgICBBTEVSVF9SRVFVRVNUX09SREVSX1JFQ0VJVkVEID0gMzEsXG4gICAgQUxFUlRfU0lHTklOX1JFUVVJUkVEID0gNDAsXG4gICAgQUxFUlRfVEFCTEVfUkVTRVQgPSA1MCxcbiAgICBBTEVSVF9UQUJMRV9BU1NJU1RBTkNFID0gNTEsXG4gICAgQUxFUlRfVEFCTEVfQ0xPU0VPVVQgPSA1MixcbiAgICBBTEVSVF9HRU5FUklDX0VSUk9SID0gMTAwLFxuICAgIEFMRVJUX0RFTEVUX0NBUkQgPSAyMDAsXG4gICAgQUxFUlRfUEFTU1dPUkRfUkVTRVRfQ09NUExFVEUgPSAyMTAsXG4gICAgQUxFUlRfU09GVFdBUkVfT1VUREFURUQgPSAyMjAsXG4gICAgQUxFUlRfQ0FSRFJFQURFUl9FUlJPUiA9IDMxMCxcbiAgICBBTEVSVF9FUlJPUl9OT19TRUFUID0gNDEwLFxuICAgIEFMRVJUX0VSUk9SX1NUQVJUVVAgPSA1MTA7XG5cbi8vc3JjL2pzL3NoYXJlZC9kb21haW4vYW5hbHl0aWNzZGF0YS5qc1xuXG53aW5kb3cuYXBwLkFuYWx5dGljc0RhdGEgPSBjbGFzcyBBbmFseXRpY3NEYXRhIHtcbiAgY29uc3RydWN0b3IobmFtZSwgc3RvcmFnZVByb3ZpZGVyLCBkZWZhdWx0VmFsdWUpIHtcbiAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWUgfHwgKCgpID0+IFtdKTtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl9kYXRhID0gdGhpcy5fZGVmYXVsdFZhbHVlKCk7XG4gICAgdGhpcy5fc3RvcmUgPSBzdG9yYWdlUHJvdmlkZXIoJ3NuYXBfYW5hbHl0aWNzXycgKyBuYW1lKTtcbiAgfVxuXG4gIGluaXRpYWxpemUoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiB0aGlzLl9zdG9yZS5yZWFkKCkudGhlbihkYXRhID0+IHNlbGYuX2RhdGEgPSBkYXRhIHx8IHNlbGYuX2RhdGEpO1xuICB9XG5cbiAgZ2V0IG5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gIH1cblxuICBnZXQgZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgfVxuXG4gIHNldCBkYXRhKHZhbHVlKSB7XG4gICAgdGhpcy5fZGF0YSA9IHZhbHVlO1xuICAgIHRoaXMuc3RvcmUoKTtcbiAgfVxuXG4gIGdldCBsZW5ndGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEubGVuZ3RoO1xuICB9XG5cbiAgZ2V0IGxhc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGFbdGhpcy5sZW5ndGggLSAxXTtcbiAgfVxuXG4gIHB1c2goaXRlbSkge1xuICAgIHRoaXMuX2RhdGEucHVzaChpdGVtKTtcbiAgICB0aGlzLnN0b3JlKCk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLl9kYXRhID0gdGhpcy5fZGVmYXVsdFZhbHVlKCk7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmUoKTtcbiAgfVxuXG4gIHN0b3JlKCkge1xuICAgIHJldHVybiB0aGlzLl9zdG9yZS53cml0ZSh0aGlzLl9kYXRhKTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL2RvbWFpbi9jYXJ0aXRlbS5qc1xuXG53aW5kb3cuYXBwLkNhcnRJdGVtID0gY2xhc3MgQ2FydEl0ZW0ge1xuICBjb25zdHJ1Y3RvcihpdGVtLCBxdWFudGl0eSwgbmFtZSwgbW9kaWZpZXJzLCByZXF1ZXN0KSB7XG4gICAgdGhpcy5pdGVtID0gaXRlbTtcbiAgICB0aGlzLnF1YW50aXR5ID0gcXVhbnRpdHk7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuXG4gICAgaWYgKCF0aGlzLmhhc01vZGlmaWVycykge1xuICAgICAgdGhpcy5tb2RpZmllcnMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIW1vZGlmaWVycykge1xuICAgICAgdGhpcy5tb2RpZmllcnMgPSBpdGVtLm1vZGlmaWVycy5tYXAoZnVuY3Rpb24oY2F0ZWdvcnkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBhcHAuQ2FydE1vZGlmaWVyQ2F0ZWdvcnkoY2F0ZWdvcnksIGNhdGVnb3J5Lml0ZW1zLm1hcChmdW5jdGlvbihtb2RpZmllcikge1xuICAgICAgICAgIHJldHVybiBuZXcgYXBwLkNhcnRNb2RpZmllcihtb2RpZmllcik7XG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMubW9kaWZpZXJzID0gbW9kaWZpZXJzO1xuICAgIH1cbiAgfVxuXG4gIGdldCBoYXNNb2RpZmllcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbS5tb2RpZmllcnMgIT09IG51bGwgJiYgdGhpcy5pdGVtLm1vZGlmaWVycy5sZW5ndGggPiAwO1xuICB9XG5cbiAgZ2V0IHNlbGVjdGVkTW9kaWZpZXJzKCkge1xuICAgIHJldHVybiB0aGlzLm1vZGlmaWVycy5yZWR1Y2UoZnVuY3Rpb24ocHJldmlvdXNDYXRlZ29yeSwgY2F0ZWdvcnksIGksIGFycmF5KSB7XG4gICAgICByZXR1cm4gYXJyYXkuY29uY2F0KGNhdGVnb3J5Lml0ZW1zLmZpbHRlcihmdW5jdGlvbihtb2RpZmllcikge1xuICAgICAgICByZXR1cm4gbW9kaWZpZXIuaXNTZWxlY3RlZDtcbiAgICAgIH0pKTtcbiAgICB9LCBbXSk7XG4gIH1cblxuICBjbG9uZShjb3VudCkge1xuICAgIHJldHVybiBuZXcgYXBwLkNhcnRJdGVtKFxuICAgICAgdGhpcy5pdGVtLFxuICAgICAgdGhpcy5xdWFudGl0eSxcbiAgICAgIHRoaXMubmFtZSxcbiAgICAgIHRoaXMubW9kaWZpZXJzLm1hcChjYXRlZ29yeSA9PiBjYXRlZ29yeS5jbG9uZSgpKSxcbiAgICAgIHRoaXMucmVxdWVzdCk7XG4gIH1cblxuICBjbG9uZU1hbnkoY291bnQpIHtcbiAgICBjb3VudCA9IGNvdW50IHx8IHRoaXMucXVhbnRpdHk7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICByZXN1bHQucHVzaChuZXcgYXBwLkNhcnRJdGVtKFxuICAgICAgICB0aGlzLml0ZW0sXG4gICAgICAgIDEsXG4gICAgICAgIHRoaXMubmFtZSxcbiAgICAgICAgdGhpcy5tb2RpZmllcnMubWFwKGNhdGVnb3J5ID0+IGNhdGVnb3J5LmNsb25lKCkpLFxuICAgICAgICB0aGlzLnJlcXVlc3QpXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICByZXN0b3JlKGRhdGEpIHtcbiAgICByZXR1cm4gbmV3IGFwcC5DYXJ0SXRlbShcbiAgICAgIGRhdGEuaXRlbSxcbiAgICAgIGRhdGEucXVhbnRpdHksXG4gICAgICBkYXRhLm5hbWUsXG4gICAgICBkYXRhLm1vZGlmaWVycy5tYXAoYXBwLkNhcnRNb2RpZmllckNhdGVnb3J5LnByb3RvdHlwZS5yZXN0b3JlKSxcbiAgICAgIGRhdGEucmVxdWVzdFxuICAgICk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9kb21haW4vY2FydG1vZGlmaWVyLmpzXG5cbihmdW5jdGlvbigpIHtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgQ2FydE1vZGlmaWVyXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgdmFyIENhcnRNb2RpZmllciA9IGZ1bmN0aW9uKGRhdGEsIGlzU2VsZWN0ZWQpIHtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIHRoaXMuaXNTZWxlY3RlZCA9IGlzU2VsZWN0ZWQgfHwgZmFsc2U7XG4gIH07XG5cbiAgQ2FydE1vZGlmaWVyLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgYXBwLkNhcnRNb2RpZmllcih0aGlzLmRhdGEsIHRoaXMuaXNTZWxlY3RlZCk7XG4gIH07XG5cbiAgQ2FydE1vZGlmaWVyLnByb3RvdHlwZS5yZXN0b3JlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIHJldHVybiBuZXcgYXBwLkNhcnRNb2RpZmllcihkYXRhLmRhdGEsIGRhdGEuaXNTZWxlY3RlZCk7XG4gIH07XG5cbiAgd2luZG93LmFwcC5DYXJ0TW9kaWZpZXIgPSBDYXJ0TW9kaWZpZXI7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIENhcnRNb2RpZmllckNhdGVnb3J5XG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgdmFyIENhcnRNb2RpZmllckNhdGVnb3J5ID0gZnVuY3Rpb24oZGF0YSwgbW9kaWZpZXJzKSB7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLm1vZGlmaWVycyA9IG1vZGlmaWVycztcbiAgfTtcblxuICBDYXJ0TW9kaWZpZXJDYXRlZ29yeS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbW9kaWZpZXJzID0gdGhpcy5tb2RpZmllcnMubWFwKGZ1bmN0aW9uKG1vZGlmaWVyKSB7XG4gICAgICByZXR1cm4gbW9kaWZpZXIuY2xvbmUoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IGFwcC5DYXJ0TW9kaWZpZXJDYXRlZ29yeSh0aGlzLmRhdGEsIG1vZGlmaWVycyk7XG4gIH07XG5cbiAgQ2FydE1vZGlmaWVyQ2F0ZWdvcnkucHJvdG90eXBlLnJlc3RvcmUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBhcHAuQ2FydE1vZGlmaWVyQ2F0ZWdvcnkoZGF0YS5kYXRhLCBkYXRhLm1vZGlmaWVycy5tYXAoQ2FydE1vZGlmaWVyLnByb3RvdHlwZS5yZXN0b3JlKSk7XG4gIH07XG5cbiAgd2luZG93LmFwcC5DYXJ0TW9kaWZpZXJDYXRlZ29yeSA9IENhcnRNb2RpZmllckNhdGVnb3J5O1xufSkoKTtcblxuLy9zcmMvanMvc2hhcmVkL2RvbWFpbi9yZXF1ZXN0d2F0Y2hlci5qc1xuXG53aW5kb3cuYXBwLlJlcXVlc3RXYXRjaGVyID0gY2xhc3MgUmVxdWVzdFdhdGNoZXIge1xuICBjb25zdHJ1Y3Rvcih0aWNrZXQsIER0c0FwaSkge1xuICAgIHRoaXMuX3Rva2VuID0gdGlja2V0LnRva2VuO1xuICAgIHRoaXMuX3JlbW90ZSA9IER0c0FwaTtcblxuICAgIHRoaXMuUE9MTElOR19JTlRFUlZBTCA9IDUwMDA7XG5cbiAgICB0aGlzLlJFUVVFU1RfU1RBVFVTX1BFTkRJTkcgPSAxO1xuICAgIHRoaXMuUkVRVUVTVF9TVEFUVVNfUkVDRUlWRUQgPSAyO1xuICAgIHRoaXMuUkVRVUVTVF9TVEFUVVNfQUNDRVBURUQgPSAzO1xuICAgIHRoaXMuUkVRVUVTVF9TVEFUVVNfRVhQSVJFRCA9IDI1NTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLl9wcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2VsZi5fc3RhdHVzVXBkYXRlUmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICBzZWxmLl9zdGF0dXNVcGRhdGVSZWplY3QgPSByZWplY3Q7XG4gICAgfSk7XG5cbiAgICB0aGlzLl90aWNrZXQgPSB7IHN0YXR1czogMCB9O1xuICAgIHRoaXMuX3dhdGNoU3RhdHVzKCk7XG4gIH1cblxuICBnZXQgdG9rZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Rva2VuO1xuICB9XG5cbiAgZ2V0IHRpY2tldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGlja2V0O1xuICB9XG5cbiAgZ2V0IHByb21pc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb21pc2U7XG4gIH1cblxuICBkaXNwb3NlKCkge1xuICAgIGlmICh0aGlzLl90aW1lb3V0SWQpIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fdGltZW91dElkKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fdGlja2V0LnN0YXR1cyA8IHRoaXMuUkVRVUVTVF9TVEFUVVNfQUNDRVBURUQpIHtcbiAgICAgIHRoaXMuX3N0YXR1c1VwZGF0ZVJlamVjdCgpO1xuICAgIH1cbiAgfVxuXG4gIF93YXRjaFN0YXR1cygpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAoc2VsZi5fdGltZW91dElkKSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHNlbGYuX3RpbWVvdXRJZCk7XG4gICAgfVxuXG4gICAgdmFyIG9uVGltZW91dCA9ICgpID0+IHtcbiAgICAgIHNlbGYuX3JlbW90ZS53YWl0ZXIuZ2V0U3RhdHVzKHNlbGYuX3Rva2VuKS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgc2VsZi5fc2V0VGlja2V0KHJlc3BvbnNlKTtcbiAgICAgICAgc2VsZi5fd2F0Y2hTdGF0dXMoKTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgc2VsZi5fd2F0Y2hTdGF0dXMoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBpZiAoc2VsZi5fdGlja2V0LnN0YXR1cyA9PT0gc2VsZi5SRVFVRVNUX1NUQVRVU19BQ0NFUFRFRCkge1xuICAgICAgc2VsZi5fc3RhdHVzVXBkYXRlUmVzb2x2ZSgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzZWxmLl90aWNrZXQuc3RhdHVzICE9PSBzZWxmLlJFUVVFU1RfU1RBVFVTX0VYUElSRUQpIHtcbiAgICAgIHNlbGYuX3RpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KG9uVGltZW91dCwgdGhpcy5QT0xMSU5HX0lOVEVSVkFMKTtcbiAgICB9XG4gIH1cblxuICBfc2V0VGlja2V0KHZhbHVlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgaWYgKHNlbGYuX3RpY2tldC5zdGF0dXMgPT09IHZhbHVlLnN0YXR1cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNlbGYuX3RpY2tldCA9IHZhbHVlO1xuICAgIHNlbGYuX3dhdGNoU3RhdHVzKCk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9kb21haW4vd2ViYnJvd3NlcnJlZmVyZW5jZS5qc1xuXG53aW5kb3cuYXBwLldlYkJyb3dzZXJSZWZlcmVuY2UgPSBjbGFzcyBXZWJCcm93c2VyUmVmZXJlbmNlIHtcbiAgY29uc3RydWN0b3IodHlwZSwgaW5pdGlhbFVybCkge1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5faW5pdGlhbFVybCA9IHRoaXMuX3VybCA9IGluaXRpYWxVcmw7XG5cbiAgICB0aGlzLm9uTmF2aWdhdGVkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5vbkV4aXQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcblxuICAgIHRoaXMub25OYXZpZ2F0ZWQuYWRkKHVybCA9PiB0aGlzLl91cmwgPSB1cmwpO1xuICB9XG5cbiAgYXR0YWNoKHJlZmVyZW5jZSkge1xuICAgIGlmICh0aGlzLl9yZWZlcmVuY2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignV2ViIGJyb3dzZXIgcmVmZXJlbmNlIGlzIGFscmVhZHkgYXR0YWNoZWQuJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVmZXJlbmNlID0gcmVmZXJlbmNlO1xuICB9XG5cbiAgZ2V0IHVybCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdXJsO1xuICB9XG5cbiAgbmF2aWdhdGUodXJsKSB7XG4gICAgdGhpcy5vbk5hdmlnYXRlZC5kaXNwYXRjaCh1cmwpO1xuICB9XG5cbiAgZXhpdCgpIHtcbiAgICB0aGlzLm9uRXhpdC5kaXNwYXRjaCgpO1xuXG4gICAgdGhpcy5vbk5hdmlnYXRlZC5kaXNwb3NlKCk7XG4gICAgdGhpcy5vbkV4aXQuZGlzcG9zZSgpO1xuICB9XG59O1xuXG53aW5kb3cuYXBwLklmcmFtZVdlYkJyb3dzZXJSZWZlcmVuY2UgPSBjbGFzcyBJZnJhbWVXZWJCcm93c2VyUmVmZXJlbmNlIGV4dGVuZHMgYXBwLldlYkJyb3dzZXJSZWZlcmVuY2Uge1xuICBjb25zdHJ1Y3Rvcihpbml0aWFsVXJsKSB7XG4gICAgc3VwZXIoJ2lmcmFtZScsIGluaXRpYWxVcmwpO1xuICB9XG5cbiAgYXR0YWNoKHJlZmVyZW5jZSkge1xuICAgIHN1cGVyLmF0dGFjaChyZWZlcmVuY2UpO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gb25Mb2FkKGUpIHtcbiAgICAgIHNlbGYub25OYXZpZ2F0ZWQuZGlzcGF0Y2goZS51cmwpO1xuICAgIH1cblxuICAgIHRoaXMuX29uTG9hZCA9IG9uTG9hZDtcblxuICAgIHRoaXMuX3JlZmVyZW5jZS5hZGRFdmVudExpc3RlbmVyKCdsb2Fkc3RhcnQnLCB0aGlzLl9vbkxvYWQpO1xuXG4gICAgdGhpcy5fcmVmZXJlbmNlLnNyYyA9IHRoaXMuX2luaXRpYWxVcmw7XG4gIH1cblxuICBleGl0KCkge1xuICAgIHN1cGVyLmV4aXQoKTtcblxuICAgIGlmICh0aGlzLl9yZWZlcmVuY2UpIHtcbiAgICAgIHRoaXMuX3JlZmVyZW5jZS5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2Fkc3RhcnQnLCB0aGlzLl9vbkxvYWQpO1xuXG4gICAgICB0aGlzLl9yZWZlcmVuY2Uuc3JjID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUFBQUNINUJBRUtBQUVBTEFBQUFBQUJBQUVBQUFJQ1RBRUFPdz09JztcbiAgICB9XG5cbiAgICB0aGlzLl9yZWZlcmVuY2UgPSBudWxsO1xuICB9XG59O1xuXG53aW5kb3cuYXBwLldlYlZpZXdCcm93c2VyUmVmZXJlbmNlID0gY2xhc3MgV2ViVmlld0Jyb3dzZXJSZWZlcmVuY2UgZXh0ZW5kcyBhcHAuV2ViQnJvd3NlclJlZmVyZW5jZSB7XG4gIGNvbnN0cnVjdG9yKGluaXRpYWxVcmwpIHtcbiAgICBzdXBlcignd2VidmlldycsIGluaXRpYWxVcmwpO1xuICB9XG5cbiAgYXR0YWNoKHJlZmVyZW5jZSkge1xuICAgIHN1cGVyLmF0dGFjaChyZWZlcmVuY2UpO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gb25Mb2FkKGUpIHtcbiAgICAgIHNlbGYub25OYXZpZ2F0ZWQuZGlzcGF0Y2goc2VsZi5fcmVmZXJlbmNlLmdldFVybCgpKTtcbiAgICB9XG5cbiAgICB0aGlzLl9vbkxvYWQgPSBvbkxvYWQ7XG5cbiAgICB0aGlzLl9yZWZlcmVuY2UuYWRkRXZlbnRMaXN0ZW5lcignZGlkLXN0b3AtbG9hZGluZycsIHRoaXMuX29uTG9hZCk7XG5cbiAgICB0aGlzLl9yZWZlcmVuY2Uuc3JjID0gdGhpcy5faW5pdGlhbFVybDtcbiAgfVxuXG4gIGV4aXQoKSB7XG4gICAgc3VwZXIuZXhpdCgpO1xuXG4gICAgaWYgKHRoaXMuX3JlZmVyZW5jZSkge1xuICAgICAgdGhpcy5fcmVmZXJlbmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RpZC1zdG9wLWxvYWRpbmcnLCB0aGlzLl9vbkxvYWQpO1xuXG4gICAgICB0aGlzLl9yZWZlcmVuY2Uuc3JjID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUFBQUNINUJBRUtBQUVBTEFBQUFBQUJBQUVBQUFJQ1RBRUFPdz09JztcbiAgICB9XG5cbiAgICB0aGlzLl9yZWZlcmVuY2UgPSBudWxsO1xuICB9XG59O1xuXG53aW5kb3cuYXBwLkNvcmRvdmFXZWJCcm93c2VyUmVmZXJlbmNlID0gY2xhc3MgQ29yZG92YVdlYkJyb3dzZXJSZWZlcmVuY2UgZXh0ZW5kcyBhcHAuV2ViQnJvd3NlclJlZmVyZW5jZSB7XG4gIGNvbnN0cnVjdG9yKGluaXRpYWxVcmwpIHtcbiAgICBzdXBlcignZXh0ZXJuYWwnLCBpbml0aWFsVXJsKTtcbiAgfVxuXG4gIGF0dGFjaChyZWZlcmVuY2UpIHtcbiAgICAgIHN1cGVyLmF0dGFjaChyZWZlcmVuY2UpO1xuXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGZ1bmN0aW9uIG9uTG9hZFN0YXJ0KGUpIHtcbiAgICAgICAgc2VsZi5vbk5hdmlnYXRlZC5kaXNwYXRjaChlLnVybCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uRXhpdCgpIHtcbiAgICAgICAgc2VsZi5leGl0KCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX29uTG9hZFN0YXJ0ID0gb25Mb2FkU3RhcnQ7XG4gICAgICB0aGlzLl9vbkV4aXQgPSBvbkV4aXQ7XG5cbiAgICAgIHRoaXMuX3JlZmVyZW5jZS5hZGRFdmVudExpc3RlbmVyKCdsb2Fkc3RhcnQnLCB0aGlzLl9vbkxvYWRTdGFydCk7XG4gICAgICB0aGlzLl9yZWZlcmVuY2UuYWRkRXZlbnRMaXN0ZW5lcignZXhpdCcsIHRoaXMuX29uRXhpdCk7XG5cbiAgICAgIHRoaXMub25OYXZpZ2F0ZWQuZGlzcGF0Y2godGhpcy5faW5pdGlhbFVybCk7XG4gIH1cblxuICBleGl0KCkge1xuICAgIHN1cGVyLmV4aXQoKTtcblxuICAgIGlmICh0aGlzLl9yZWZlcmVuY2UpIHtcbiAgICAgIHRoaXMuX3JlZmVyZW5jZS5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2Fkc3RhcnQnLCB0aGlzLl9vbkxvYWRTdGFydCk7XG4gICAgICB0aGlzLl9yZWZlcmVuY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXhpdCcsIHRoaXMuX29uRXhpdCk7XG5cbiAgICAgIHRoaXMuX3JlZmVyZW5jZS5jbG9zZSgpO1xuICAgIH1cblxuICAgIHRoaXMuX3JlZmVyZW5jZSA9IG51bGw7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9hYnN0cmFjdG1hbmFnZXIuanNcblxud2luZG93LmFwcC5BYnN0cmFjdE1hbmFnZXIgPSBjbGFzcyBBYnN0cmFjdE1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcihMb2dnZXIpIHtcbiAgICAgIHRoaXMuX0xvZ2dlciA9IExvZ2dlcjtcbiAgfVxuXG4gIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy5fTG9nZ2VyLmRlYnVnKGBJbml0aWFsaXppbmcgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9Li4uYCk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLl9Mb2dnZXIuZGVidWcoYFJlc2V0dGluZyAke3RoaXMuY29uc3RydWN0b3IubmFtZX0uLi5gKTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21hbmFnZXJzL2FjdGl2aXR5bW9uaXRvci5qc1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgdmFyIEFjdGl2aXR5TW9uaXRvciA9IGZ1bmN0aW9uKCRyb290U2NvcGUsICR0aW1lb3V0KSB7XG4gICAgdGhpcy4kJHJvb3RTY29wZSA9ICRyb290U2NvcGU7XG4gICAgdGhpcy4kJHRpbWVvdXQgPSAkdGltZW91dDtcbiAgICB0aGlzLl90aW1lb3V0ID0gMTAwMDA7XG5cbiAgICB0aGlzLl9hY3RpdmVDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuJCRyb290U2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoc2VsZi5lbmFibGVkKSB7XG4gICAgICAgIHNlbGYuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hY3Rpdml0eURldGVjdGVkKCk7XG4gIH07XG5cbiAgQWN0aXZpdHlNb25pdG9yLnByb3RvdHlwZSA9IHt9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBY3Rpdml0eU1vbml0b3IucHJvdG90eXBlLCAndGltZW91dCcsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5fdGltZW91dDsgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPiAwKSB7XG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWN0aXZpdHlNb25pdG9yLnByb3RvdHlwZSwgJ2VuYWJsZWQnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX2VuYWJsZWQ7IH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLl9lbmFibGVkID0gdmFsdWU7IH1cbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFjdGl2aXR5TW9uaXRvci5wcm90b3R5cGUsICdhY3RpdmUnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3RpbWVyICE9PSBudWxsOyB9XG4gIH0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBY3Rpdml0eU1vbml0b3IucHJvdG90eXBlLCAnYWN0aXZlQ2hhbmdlZCcsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5fYWN0aXZlQ2hhbmdlZDsgfVxuICB9KTtcblxuICBBY3Rpdml0eU1vbml0b3IucHJvdG90eXBlLmFjdGl2aXR5RGV0ZWN0ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2hhbmdlZDtcblxuICAgIGlmICh0aGlzLl90aW1lcikge1xuICAgICAgdGhpcy4kJHRpbWVvdXQuY2FuY2VsKHRoaXMuX3RpbWVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5fdGltZXIgPT09IG51bGwpIHtcbiAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBvblRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuX3RpbWVyID0gbnVsbDtcblxuICAgICAgc2VsZi4kJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChzZWxmLmVuYWJsZWQpIHtcbiAgICAgICAgICBzZWxmLmFjdGl2ZUNoYW5nZWQuZGlzcGF0Y2goc2VsZi5hY3RpdmUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5fdGltZXIgPSB0aGlzLiQkdGltZW91dChvblRpbWVvdXQsIHRoaXMuX3RpbWVvdXQpO1xuXG4gICAgaWYgKGNoYW5nZWQgJiYgdGhpcy5lbmFibGVkKSB7XG4gICAgICB0aGlzLmFjdGl2ZUNoYW5nZWQuZGlzcGF0Y2godGhpcy5hY3RpdmUpO1xuICAgIH1cbiAgfTtcblxuICB3aW5kb3cuYXBwLkFjdGl2aXR5TW9uaXRvciA9IEFjdGl2aXR5TW9uaXRvcjtcbn0pKCk7XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9hbmFseXRpY3NtYW5hZ2VyLmpzXG5cbndpbmRvdy5hcHAuQW5hbHl0aWNzTWFuYWdlciA9IGNsYXNzIEFuYWx5dGljc01hbmFnZXIgZXh0ZW5kcyBhcHAuQWJzdHJhY3RNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoVGVsZW1ldHJ5U2VydmljZSwgQW5hbHl0aWNzTW9kZWwsIExvZ2dlcikge1xuICAgIHN1cGVyKExvZ2dlcik7XG4gICAgdGhpcy5fVGVsZW1ldHJ5U2VydmljZSA9IFRlbGVtZXRyeVNlcnZpY2U7XG4gICAgdGhpcy5fQW5hbHl0aWNzTW9kZWwgPSBBbmFseXRpY3NNb2RlbDtcbiAgfVxuXG4gIGluaXRpYWxpemUoKSB7XG4gICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuXG4gICAgcmV0dXJuIHRoaXMubW9kZWwuaW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgc3VwZXIucmVzZXQoKTtcblxuICAgIHJldHVybiB0aGlzLm1vZGVsLnJlc2V0KCk7XG4gIH1cblxuICBnZXQgbW9kZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX0FuYWx5dGljc01vZGVsO1xuICB9XG5cbiAgc3VibWl0KCkge1xuICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZyhgU3VibWl0dGluZyBhbmFseXRpY3MgZGF0YSB3aXRoIGAgK1xuICAgICAgYCR7dGhpcy5tb2RlbC5zZXNzaW9ucy5sZW5ndGh9IHNlYXQgc2Vzc2lvbnMsIGAgK1xuICAgICAgYCR7dGhpcy5tb2RlbC5hbnN3ZXJzLmxlbmd0aH0gYW5zd2VycywgYCArXG4gICAgICBgJHt0aGlzLm1vZGVsLmNoYXRzLmxlbmd0aH0gY2hhdHMsIGAgK1xuICAgICAgYCR7dGhpcy5tb2RlbC5jb21tZW50cy5sZW5ndGh9IGNvbW1lbnRzLCBgICtcbiAgICAgIGAke3RoaXMubW9kZWwuY2xpY2tzLmxlbmd0aH0gY2xpY2tzLCBgICtcbiAgICAgIGAke3RoaXMubW9kZWwucGFnZXMubGVuZ3RofSBwYWdlcywgYCArXG4gICAgICBgJHt0aGlzLm1vZGVsLmFkdmVydGlzZW1lbnRzLmxlbmd0aH0gYWR2ZXJ0aXNlbWVudHMgYW5kIGAgK1xuICAgICAgYCR7dGhpcy5tb2RlbC51cmxzLmxlbmd0aH0gVVJMcy5gKTtcblxuICAgIHJldHVybiB0aGlzLnJlc2V0KCk7XG5cbiAgICAvKnZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2VsZi5fVGVsZW1ldHJ5U2VydmljZS5zdWJtaXRUZWxlbWV0cnkoe1xuICAgICAgICBzZXNzaW9uczogc2VsZi5tb2RlbC5zZXNzaW9ucy5kYXRhLFxuICAgICAgICBhZHZlcnRpc2VtZW50czogc2VsZi5tb2RlbC5hZHZlcnRpc2VtZW50cy5kYXRhLFxuICAgICAgICBhbnN3ZXJzOiBzZWxmLm1vZGVsLmFuc3dlcnMuZGF0YSxcbiAgICAgICAgY2hhdHM6IHNlbGYubW9kZWwuY2hhdHMuZGF0YSxcbiAgICAgICAgY29tbWVudHM6IHNlbGYubW9kZWwuY29tbWVudHMuZGF0YSxcbiAgICAgICAgY2xpY2tzOiBzZWxmLm1vZGVsLmNsaWNrcy5kYXRhLFxuICAgICAgICBwYWdlczogc2VsZi5tb2RlbC5wYWdlcy5kYXRhLFxuICAgICAgICB1cmxzOiBzZWxmLm1vZGVsLnVybHMuZGF0YVxuICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgIHNlbGYubW9kZWwucmVzZXQoKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSwgZSA9PiB7XG4gICAgICAgIHNlbGYuX0xvZ2dlci53YXJuKGBVbmFibGUgdG8gc3VibWl0IGFuYWx5dGljcyBkYXRhOiAke2UubWVzc2FnZX1gKTtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfSk7XG4gICAgfSk7Ki9cbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21hbmFnZXJzL2F1dGhlbnRpY2F0aW9ubWFuYWdlci5qc1xuXG53aW5kb3cuYXBwLkF1dGhlbnRpY2F0aW9uTWFuYWdlciA9IGNsYXNzIEF1dGhlbnRpY2F0aW9uTWFuYWdlciBleHRlbmRzIGFwcC5BYnN0cmFjdE1hbmFnZXIge1xuICAvKiBnbG9iYWwgbW9tZW50ICovXG5cbiAgY29uc3RydWN0b3IoQmFja2VuZEFwaSwgU2Vzc2lvbk1vZGVsLCBTTkFQRW52aXJvbm1lbnQsIFdlYkJyb3dzZXIsIExvZ2dlcikge1xuICAgIHN1cGVyKExvZ2dlcik7XG5cbiAgICB0aGlzLl9CYWNrZW5kQXBpID0gQmFja2VuZEFwaTtcbiAgICB0aGlzLl9TZXNzaW9uTW9kZWwgPSBTZXNzaW9uTW9kZWw7XG4gICAgdGhpcy5fU05BUEVudmlyb25tZW50ID0gU05BUEVudmlyb25tZW50O1xuICAgIHRoaXMuX1dlYkJyb3dzZXIgPSBXZWJCcm93c2VyO1xuICB9XG5cbiAgdmFsaWRhdGUoKSB7XG4gICAgdmFyIG1vZGVsID0gdGhpcy5fU2Vzc2lvbk1vZGVsO1xuXG4gICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdWYWxpZGF0aW5nIGFjY2VzcyB0b2tlbi4uLicpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIG1vZGVsLmluaXRpYWxpemUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgdmFyIHRva2VuID0gbW9kZWwuYXBpVG9rZW47XG5cbiAgICAgICAgaWYgKCF0b2tlbiB8fCAhdGhpcy5fdmFsaWRhdGVUb2tlbih0b2tlbikpIHtcbiAgICAgICAgICB0aGlzLl9Mb2dnZXIuZGVidWcoJ0F1dGhvcml6YXRpb24gaXMgbm90IHZhbGlkLicpO1xuICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZygnVmFsaWRhdGluZyBhdXRob3JpemF0aW9uIHNlc3Npb24uLi4nKTtcblxuICAgICAgICAgIHRoaXMuX0JhY2tlbmRBcGkub2F1dGgyLmdldFNlc3Npb24oKS50aGVuKHNlc3Npb24gPT4ge1xuICAgICAgICAgICAgc2Vzc2lvbiA9IFVSSSgnPycgKyBzZXNzaW9uKS5xdWVyeSh0cnVlKTsgLy9Ub0RvOiByZW1vdmUgdGhpcyBoYWNrXG5cbiAgICAgICAgICAgIGlmIChzZXNzaW9uICYmIHNlc3Npb24udmFsaWQgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICB0aGlzLl9Mb2dnZXIuZGVidWcoJ0F1dGhvcml6YXRpb24gaXMgdmFsaWQuJywgc2Vzc2lvbik7XG4gICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdBdXRob3JpemF0aW9uIGlzIG5vdCB2YWxpZCBvciBleHBpcmVkLicsIHNlc3Npb24pO1xuICAgICAgICAgICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdVbmFibGUgdG8gdmFsaWRhdGUgYXV0aG9yaXphdGlvbi4nLCBlKTtcbiAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlID0+IHtcbiAgICAgICAgdGhpcy5fTG9nZ2VyLmRlYnVnKCdFcnJvciB2YWxpZGF0aW5nIGF1dGhvcml6YXRpb24uJywgZSk7XG4gICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGF1dGhvcml6ZSgpIHtcbiAgICB0aGlzLl9Mb2dnZXIuZGVidWcoJ0F1dGhvcml6aW5nIEFQSSBhY2Nlc3MuLi4nKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fU2Vzc2lvbk1vZGVsLmNsZWFyKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHZhciBhcHBsaWNhdGlvbiA9IHRoaXMuX1NOQVBFbnZpcm9ubWVudC5tYWluX2FwcGxpY2F0aW9uLFxuICAgICAgICAgICAgYXV0aFVybCA9IHRoaXMuX0JhY2tlbmRBcGkub2F1dGgyLmdldFRva2VuQXV0aG9yaXplVXJsKGFwcGxpY2F0aW9uLmNsaWVudF9pZCwgYXBwbGljYXRpb24uY2FsbGJhY2tfdXJsLCBhcHBsaWNhdGlvbi5zY29wZSk7XG5cbiAgICAgICAgdGhpcy5fV2ViQnJvd3Nlci5vcGVuKGF1dGhVcmwpLnRoZW4oYnJvd3NlciA9PiB7XG4gICAgICAgICAgdmFyIGNvbXBsZXRlID0gZmFsc2U7XG5cbiAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVDYWxsYmFjayh1cmwpIHtcbiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZihhcHBsaWNhdGlvbi5jYWxsYmFja191cmwpICE9PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgYnJvd3Nlci5leGl0KCk7XG5cbiAgICAgICAgICAgIHZhciBjYWxsYmFja1Jlc3BvbnNlID0gdXJsLnNwbGl0KCcjJylbMV0sXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VQYXJhbWV0ZXJzID0gY2FsbGJhY2tSZXNwb25zZS5zcGxpdCgnJicpLFxuICAgICAgICAgICAgICAgIHBhcmFtZXRlck1hcCA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlUGFyYW1ldGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBwYXJhbWV0ZXJNYXBbcmVzcG9uc2VQYXJhbWV0ZXJzW2ldLnNwbGl0KCc9JylbMF1dID0gcmVzcG9uc2VQYXJhbWV0ZXJzW2ldLnNwbGl0KCc9JylbMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwYXJhbWV0ZXJNYXAuYWNjZXNzX3Rva2VuICE9PSB1bmRlZmluZWQgJiYgcGFyYW1ldGVyTWFwLmFjY2Vzc190b2tlbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICB2YXIgdG9rZW4gPSB7XG4gICAgICAgICAgICAgICAgYWNjZXNzX3Rva2VuOiBwYXJhbWV0ZXJNYXAuYWNjZXNzX3Rva2VuLFxuICAgICAgICAgICAgICAgIGV4cGlyZXNfaW46IHBhcmFtZXRlck1hcC5leHBpcmVzX2luXG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdOZXcgYWNjZXNzIHRva2VuIGlzc3VlZC4nLCB0b2tlbik7XG5cbiAgICAgICAgICAgICAgc2VsZi5fU2Vzc2lvbk1vZGVsLmFwaVRva2VuID0gdG9rZW47XG5cbiAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdQcm9ibGVtIGlzc3VpbmcgbmV3IGFjY2VzcyB0b2tlbi4nLCBwYXJhbWV0ZXJNYXApO1xuICAgICAgICAgICAgcmVqZWN0KCdQcm9ibGVtIGF1dGhlbnRpY2F0aW5nOiAnICsgdXJsKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicm93c2VyLm9uTmF2aWdhdGVkLmFkZCh1cmwgPT4gaGFuZGxlQ2FsbGJhY2sodXJsKSk7XG5cbiAgICAgICAgICBicm93c2VyLm9uRXhpdC5hZGQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVqZWN0KCdDYW5jZWxlZCcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGN1c3RvbWVyTG9naW5SZWd1bGFyKGNyZWRlbnRpYWxzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHZhciBhcHBsaWNhdGlvbiA9IHRoaXMuX1NOQVBFbnZpcm9ubWVudC5jdXN0b21lcl9hcHBsaWNhdGlvbjtcbiAgICAgIHRoaXMuX0JhY2tlbmRBcGkub2F1dGgyLmdldFRva2VuV2l0aENyZWRlbnRpYWxzKFxuICAgICAgICBhcHBsaWNhdGlvbi5jbGllbnRfaWQsXG4gICAgICAgIGNyZWRlbnRpYWxzLmxvZ2luLFxuICAgICAgICBjcmVkZW50aWFscy5wYXNzd29yZFxuICAgICAgKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXN1bHQpOyAvL1RvRG86IGZpeFxuXG4gICAgICAgIGlmIChyZXN1bHQuZXJyb3IgfHwgIXJlc3VsdC5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KHJlc3VsdC5lcnJvcik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2Vzc2lvbiA9IHtcbiAgICAgICAgICBhY2Nlc3NfdG9rZW46IHJlc3VsdC5hY2Nlc3NfdG9rZW5cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAocmVzdWx0LmV4cGlyZXNfaW4pIHtcbiAgICAgICAgICBzZXNzaW9uLmV4cGlyZXMgPSBtb21lbnQoKS5hZGQocmVzdWx0LmV4cGlyZXNfaW4sICdzZWNvbmRzJykudW5peCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fU2Vzc2lvbk1vZGVsLmN1c3RvbWVyVG9rZW4gPSBzZXNzaW9uO1xuXG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBjdXN0b21lckxvZ2luU29jaWFsKHRva2VuKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHZhciBzZXNzaW9uID0ge1xuICAgICAgICBhY2Nlc3NfdG9rZW46IHRva2VuLmFjY2Vzc190b2tlblxuICAgICAgfTtcblxuICAgICAgaWYgKHRva2VuLmV4cGlyZXNfaW4pIHtcbiAgICAgICAgc2Vzc2lvbi5leHBpcmVzID0gbW9tZW50KCkuYWRkKHRva2VuLmV4cGlyZXNfaW4sICdzZWNvbmRzJykudW5peCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9TZXNzaW9uTW9kZWwuY3VzdG9tZXJUb2tlbiA9IHNlc3Npb247XG5cbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIF92YWxpZGF0ZVRva2VuKHRva2VuKSB7XG4gICAgaWYgKCF0b2tlbiB8fCAhdG9rZW4uYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodG9rZW4uZXhwaXJlcykge1xuICAgICAgdmFyIGV4cGlyZXMgPSBtb21lbnQudW5peCh0b2tlbi5leHBpcmVzKTtcblxuICAgICAgaWYgKGV4cGlyZXMuaXNCZWZvcmUobW9tZW50KCkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21hbmFnZXJzL2NoYXRtYW5hZ2VyLmpzXG5cbndpbmRvdy5hcHAuQ2hhdE1hbmFnZXIgPSBjbGFzcyBDaGF0TWFuYWdlciBleHRlbmRzIGFwcC5BYnN0cmFjdE1hbmFnZXIge1xuICAvKiBnbG9iYWwgbW9tZW50LCBzaWduYWxzICovXG5cbiAgY29uc3RydWN0b3IoQW5hbHl0aWNzTW9kZWwsIENoYXRNb2RlbCwgQ3VzdG9tZXJNb2RlbCwgTG9jYXRpb25Nb2RlbCwgU29ja2V0Q2xpZW50LCBMb2dnZXIpIHtcbiAgICBzdXBlcihMb2dnZXIpO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5NRVNTQUdFX1RZUEVTID0ge1xuICAgICAgTE9DQVRJT046ICdsb2NhdGlvbicsXG4gICAgICBERVZJQ0U6ICdkZXZpY2UnXG4gICAgfTtcbiAgICB0aGlzLk1FU1NBR0VfU1RBVFVTRVMgPSB7XG4gICAgICBDSEFUX1JFUVVFU1Q6ICdjaGF0X3JlcXVlc3QnLFxuICAgICAgQ0hBVF9SRVFVRVNUX0FDQ0VQVEVEOiAnY2hhdF9yZXF1ZXN0X2FjY2VwdGVkJyxcbiAgICAgIENIQVRfUkVRVUVTVF9ERUNMSU5FRDogJ2NoYXRfcmVxdWVzdF9kZWNsaW5lZCcsXG4gICAgICBHSUZUX1JFUVVFU1Q6ICdnaWZ0X3JlcXVlc3QnLFxuICAgICAgR0lGVF9SRVFVRVNUX0FDQ0VQVEVEOiAnZ2lmdF9yZXF1ZXN0X2FjY2VwdGVkJyxcbiAgICAgIEdJRlRfUkVRVUVTVF9ERUNMSU5FRDogJ2dpZnRfcmVxdWVzdF9kZWNsaW5lZCcsXG4gICAgICBDSEFUX0NMT1NFRDogJ2NoYXRfY2xvc2VkJ1xuICAgIH07XG4gICAgdGhpcy5PUEVSQVRJT05TID0ge1xuICAgICAgQ0hBVF9NRVNTQUdFOiAnY2hhdF9tZXNzYWdlJyxcbiAgICAgIFNUQVRVU19SRVFVRVNUOiAnc3RhdHVzX3JlcXVlc3QnLFxuICAgICAgU1RBVFVTX1VQREFURTogJ3N0YXR1c191cGRhdGUnXG4gICAgfTtcbiAgICB0aGlzLlJPT01TID0ge1xuICAgICAgTE9DQVRJT046ICdsb2NhdGlvbl8nLFxuICAgICAgREVWSUNFOiAnZGV2aWNlXydcbiAgICB9O1xuXG4gICAgdGhpcy5fQW5hbHl0aWNzTW9kZWwgPSBBbmFseXRpY3NNb2RlbDtcbiAgICB0aGlzLl9DaGF0TW9kZWwgPSBDaGF0TW9kZWw7XG4gICAgdGhpcy5fQ3VzdG9tZXJNb2RlbCA9IEN1c3RvbWVyTW9kZWw7XG4gICAgdGhpcy5fTG9jYXRpb25Nb2RlbCA9IExvY2F0aW9uTW9kZWw7XG4gICAgdGhpcy5fU29ja2V0Q2xpZW50ID0gU29ja2V0Q2xpZW50O1xuXG4gICAgdGhpcy5fQ2hhdE1vZGVsLmlzRW5hYmxlZENoYW5nZWQuYWRkKCgpID0+IHNlbGYuX3NlbmRTdGF0dXNVcGRhdGUoKSk7XG4gICAgdGhpcy5fQ2hhdE1vZGVsLmlzUHJlc2VudENoYW5nZWQuYWRkKCgpID0+IHNlbGYuX3NlbmRTdGF0dXNVcGRhdGUoKSk7XG4gICAgdGhpcy5fQ3VzdG9tZXJNb2RlbC5wcm9maWxlQ2hhbmdlZC5hZGQoKCkgPT4gc2VsZi5fc2VuZFN0YXR1c1VwZGF0ZSgpKTtcbiAgICB0aGlzLl9Mb2NhdGlvbk1vZGVsLnNlYXRDaGFuZ2VkLmFkZCgoKSA9PiBzZWxmLl9zZW5kU3RhdHVzVXBkYXRlKCkpO1xuXG4gICAgdGhpcy5fU29ja2V0Q2xpZW50LmlzQ29ubmVjdGVkQ2hhbmdlZC5hZGQoaXNDb25uZWN0ZWQgPT4ge1xuICAgICAgc2VsZi5tb2RlbC5pc0Nvbm5lY3RlZCA9IGlzQ29ubmVjdGVkO1xuICAgICAgc2VsZi5fc2VuZFN0YXR1c1VwZGF0ZSgpO1xuICAgICAgc2VsZi5fc2VuZFN0YXR1c1JlcXVlc3QoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX1NvY2tldENsaWVudC5zdWJzY3JpYmUodGhpcy5ST09NUy5MT0NBVElPTiArIHRoaXMuX0xvY2F0aW9uTW9kZWwubG9jYXRpb24udG9rZW4sIG1lc3NhZ2UgPT4ge1xuICAgICAgc3dpdGNoIChtZXNzYWdlLm9wZXJhdGlvbikge1xuICAgICAgICBjYXNlIHNlbGYuT1BFUkFUSU9OUy5DSEFUX01FU1NBR0U6XG4gICAgICAgICAgc2VsZi5fb25NZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHNlbGYuT1BFUkFUSU9OUy5TVEFUVVNfUkVRVUVTVDpcbiAgICAgICAgICBzZWxmLl9vblN0YXR1c1JlcXVlc3QobWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2Ugc2VsZi5PUEVSQVRJT05TLlNUQVRVU19VUERBVEU6XG4gICAgICAgICAgc2VsZi5fb25TdGF0dXNVcGRhdGUobWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLl9Tb2NrZXRDbGllbnQuc3Vic2NyaWJlKHRoaXMuUk9PTVMuREVWSUNFICsgdGhpcy5fTG9jYXRpb25Nb2RlbC5kZXZpY2UsIG1lc3NhZ2UgPT4ge1xuICAgICAgc3dpdGNoIChtZXNzYWdlLm9wZXJhdGlvbikge1xuICAgICAgICBjYXNlIHNlbGYuT1BFUkFUSU9OUy5DSEFUX01FU1NBR0U6XG4gICAgICAgICAgc2VsZi5fb25NZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHNlbGYuT1BFUkFUSU9OUy5TVEFUVVNfVVBEQVRFOlxuICAgICAgICAgIHNlbGYuX29uU3RhdHVzVXBkYXRlKG1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZ2V0IG1vZGVsKCkge1xuICAgIHJldHVybiB0aGlzLl9DaGF0TW9kZWw7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICBzdXBlci5yZXNldCgpO1xuXG4gICAgdGhpcy5tb2RlbC5yZXNldCgpO1xuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBNZXNzYWdpbmdcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICBtZXNzYWdlLmRldmljZSA9IHRoaXMuX0xvY2F0aW9uTW9kZWwuZGV2aWNlO1xuICAgIG1lc3NhZ2Uub3BlcmF0aW9uID0gdGhpcy5PUEVSQVRJT05TLkNIQVRfTUVTU0FHRTtcbiAgICBtZXNzYWdlLnR5cGUgPSBtZXNzYWdlLnRvX2RldmljZSA/XG4gICAgICB0aGlzLk1FU1NBR0VfVFlQRVMuREVWSUNFIDpcbiAgICAgIHRoaXMuTUVTU0FHRV9UWVBFUy5MT0NBVElPTjtcblxuICAgIHRoaXMuX2FkZE1lc3NhZ2VJRChtZXNzYWdlKTtcbiAgICB0aGlzLm1vZGVsLmFkZEhpc3RvcnkobWVzc2FnZSk7XG5cbiAgICB2YXIgdG9waWMgPSB0aGlzLl9nZXRUb3BpYyhtZXNzYWdlKTtcblxuICAgIHRoaXMuX1NvY2tldENsaWVudC5zZW5kKHRvcGljLCBtZXNzYWdlKTtcbiAgICB0aGlzLl9BbmFseXRpY3NNb2RlbC5sb2dDaGF0KG1lc3NhZ2UpO1xuICB9XG5cbiAgYXBwcm92ZURldmljZSh0b2tlbikge1xuICAgIHZhciBkZXZpY2UgPSB0aGlzLl9Mb2NhdGlvbk1vZGVsLmdldERldmljZSh0b2tlbik7XG5cbiAgICB0aGlzLm1vZGVsLnNldExhc3RSZWFkKHRva2VuLCBtb21lbnQoKS51bml4KCkpO1xuXG4gICAgaWYgKHRoaXMubW9kZWwuaXNQZW5kaW5nRGV2aWNlKGRldmljZSkpIHtcbiAgICAgIHRoaXMubW9kZWwucmVtb3ZlUGVuZGluZ0RldmljZShkZXZpY2UpO1xuXG4gICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgc3RhdHVzOiB0aGlzLk1FU1NBR0VfU1RBVFVTRVMuQ0hBVF9SRVFVRVNUX0FDQ0VQVEVELFxuICAgICAgICB0b19kZXZpY2U6IGRldmljZS50b2tlblxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XG4gICAgICAgIHN0YXR1czogdGhpcy5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfUkVRVUVTVCxcbiAgICAgICAgdG9fZGV2aWNlOiBkZXZpY2UudG9rZW5cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5tb2RlbC5pc0FjdGl2ZURldmljZShkZXZpY2UpKSB7XG4gICAgICB0aGlzLm1vZGVsLmFkZEFjdGl2ZURldmljZShkZXZpY2UpO1xuICAgIH1cbiAgfVxuXG4gIGRlY2xpbmVEZXZpY2UodG9rZW4pIHtcbiAgICB2YXIgZGV2aWNlID0gdGhpcy5fTG9jYXRpb25Nb2RlbC5nZXREZXZpY2UodG9rZW4pO1xuXG4gICAgaWYgKHRoaXMubW9kZWwuaXNBY3RpdmVEZXZpY2UoZGV2aWNlKSkge1xuICAgICAgdGhpcy5tb2RlbC5yZW1vdmVBY3RpdmVEZXZpY2UoZGV2aWNlKTtcblxuICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XG4gICAgICAgIHN0YXR1czogdGhpcy5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfQ0xPU0VELFxuICAgICAgICB0b19kZXZpY2U6IGRldmljZS50b2tlblxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XG4gICAgICAgIHN0YXR1czogdGhpcy5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfUkVRVUVTVF9ERUNMSU5FRCxcbiAgICAgICAgdG9fZGV2aWNlOiBkZXZpY2UudG9rZW5cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldE1lc3NhZ2VOYW1lKG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy5fTG9jYXRpb25Nb2RlbC5kZXZpY2UgPT09IG1lc3NhZ2UuZGV2aWNlKSB7XG4gICAgICByZXR1cm4gJ01lJztcbiAgICB9XG5cbiAgICByZXR1cm4gbWVzc2FnZS51c2VybmFtZSB8fCB0aGlzLmdldERldmljZU5hbWUobWVzc2FnZS5kZXZpY2UpO1xuICB9XG5cbiAgZ2V0RGV2aWNlTmFtZSh0b2tlbikge1xuICAgIHZhciBkZXZpY2UgPSB0aGlzLl9Mb2NhdGlvbk1vZGVsLmdldERldmljZSh0b2tlbik7XG5cbiAgICBpZiAoZGV2aWNlKSB7XG4gICAgICBpZiAodGhpcy5fTG9jYXRpb25Nb2RlbC5kZXZpY2UgPT09IGRldmljZS50b2tlbikge1xuICAgICAgICByZXR1cm4gJ01lJztcbiAgICAgIH1cblxuICAgICAgaWYgKGRldmljZS51c2VybmFtZSkge1xuICAgICAgICByZXR1cm4gZGV2aWNlLnVzZXJuYW1lO1xuICAgICAgfVxuXG4gICAgICBmb3IodmFyIHAgaW4gdGhpcy5fTG9jYXRpb25Nb2RlbC5zZWF0cykge1xuICAgICAgICBpZiAodGhpcy5fTG9jYXRpb25Nb2RlbC5zZWF0c1twXS50b2tlbiA9PT0gZGV2aWNlLnNlYXQpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fTG9jYXRpb25Nb2RlbC5zZWF0c1twXS5uYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICdHdWVzdCc7XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIE5vdGlmaWNhdGlvbnNcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIGNoZWNrSWZVbnJlYWQoZGV2aWNlX3Rva2VuLCBtZXNzYWdlKSB7XG4gICAgbGV0IGxhc3RSZWFkID0gdGhpcy5tb2RlbC5nZXRMYXN0UmVhZChkZXZpY2VfdG9rZW4pO1xuXG4gICAgaWYgKCFsYXN0UmVhZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gbW9tZW50LnVuaXgobWVzc2FnZS5yZWNlaXZlZCkuaXNBZnRlcihtb21lbnQudW5peChsYXN0UmVhZCkpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmdldFVucmVhZENvdW50KGRldmljZV90b2tlbikgPiAwO1xuICB9XG5cbiAgZ2V0VW5yZWFkQ291bnQoZGV2aWNlX3Rva2VuKSB7XG4gICAgbGV0IGxhc3RSZWFkID0gdGhpcy5tb2RlbC5nZXRMYXN0UmVhZChkZXZpY2VfdG9rZW4pO1xuXG4gICAgaWYgKCFsYXN0UmVhZCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBmcm9tRGF0ZSA9IG1vbWVudC51bml4KGxhc3RSZWFkKTtcblxuICAgIHJldHVybiB0aGlzLm1vZGVsLmhpc3RvcnlcbiAgICAgIC5maWx0ZXIobWVzc2FnZSA9PiBtZXNzYWdlLnR5cGUgPT09IHNlbGYuTUVTU0FHRV9UWVBFUy5ERVZJQ0UgJiYgbWVzc2FnZS5kZXZpY2UgPT09IGRldmljZV90b2tlbilcbiAgICAgIC5maWx0ZXIobWVzc2FnZSA9PiBtb21lbnQudW5peChtZXNzYWdlLnJlY2VpdmVkKS5pc0FmdGVyKGZyb21EYXRlKSlcbiAgICAgIC5sZW5ndGg7XG4gIH1cblxuICBtYXJrQXNSZWFkKGRldmljZV90b2tlbikge1xuICAgIHRoaXMubW9kZWwuc2V0TGFzdFJlYWQoZGV2aWNlX3Rva2VuLCBtb21lbnQoKS51bml4KCkpO1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBHaWZ0c1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgc2VuZEdpZnQoaXRlbXMpIHtcbiAgICBpZiAoIXRoaXMubW9kZWwuZ2lmdERldmljZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgc3RhdHVzOiB0aGlzLk1FU1NBR0VfU1RBVFVTRVMuR0lGVF9SRVFVRVNULFxuICAgICAgdG9fZGV2aWNlOiB0aGlzLm1vZGVsLmdpZnREZXZpY2UsXG4gICAgICB0ZXh0OiBpdGVtcy5yZWR1Y2UoKHJlc3VsdCwgaXRlbSkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0ICE9PSAnJykge1xuICAgICAgICAgIHJlc3VsdCArPSAnLCAnO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCArPSBpdGVtLml0ZW0udGl0bGU7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LCAnJylcbiAgICB9KTtcbiAgfVxuXG4gIGFjY2VwdEdpZnQoZGV2aWNlKSB7XG4gICAgdGhpcy5zZW5kTWVzc2FnZSh7XG4gICAgICBzdGF0dXM6IHRoaXMuTUVTU0FHRV9TVEFUVVNFUy5HSUZUX1JFUVVFU1RfQUNDRVBURUQsXG4gICAgICB0b19kZXZpY2U6IGRldmljZS50b2tlblxuICAgIH0pO1xuICB9XG5cbiAgZGVjbGluZUdpZnQoZGV2aWNlKSB7XG4gICAgdGhpcy5zZW5kTWVzc2FnZSh7XG4gICAgICBzdGF0dXM6IHRoaXMuTUVTU0FHRV9TVEFUVVNFUy5HSUZUX1JFUVVFU1RfREVDTElORUQsXG4gICAgICB0b19kZXZpY2U6IGRldmljZS50b2tlblxuICAgIH0pO1xuICB9XG5cbiAgc3RhcnRHaWZ0KGRldmljZV90b2tlbikge1xuICAgIGxldCBkZXZpY2UgPSB0aGlzLl9Mb2NhdGlvbk1vZGVsLmdldERldmljZShkZXZpY2VfdG9rZW4pO1xuXG4gICAgdGhpcy5tb2RlbC5naWZ0RGV2aWNlID0gZGV2aWNlX3Rva2VuO1xuICAgIHRoaXMubW9kZWwuZ2lmdFNlYXQgPSBkZXZpY2Uuc2VhdDtcbiAgfVxuXG4gIGVuZEdpZnQoKSB7XG4gICAgdGhpcy5tb2RlbC5naWZ0RGV2aWNlID0gbnVsbDtcbiAgICB0aGlzLm1vZGVsLmdpZnRTZWF0ID0gbnVsbDtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBQcml2YXRlIG1ldGhvZHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBfb25NZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICBpZiAoIW1lc3NhZ2UuaWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tb2RlbC5oaXN0b3J5LmZpbHRlcihtc2cgPT4gbXNnLmlkID09PSBtZXNzYWdlLmlkKS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbWVzc2FnZS5yZWNlaXZlZCA9IG1vbWVudCgpLnVuaXgoKTtcblxuICAgIHZhciBkZXZpY2UgPSB0aGlzLl9Mb2NhdGlvbk1vZGVsLmdldERldmljZShtZXNzYWdlLmRldmljZSksXG4gICAgICAgIGdpZnREZXZpY2UgPSB0aGlzLm1vZGVsLmdpZnREZXZpY2UsXG4gICAgICAgIHNlYXQgPSB0aGlzLl9Mb2NhdGlvbk1vZGVsLnNlYXQudG9rZW47XG5cbiAgICBpZiAoIWRldmljZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICgobWVzc2FnZS5zdGF0dXMgPT09IHRoaXMuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX1JFUVVFU1QpICYmXG4gICAgICAgICF0aGlzLm1vZGVsLmlzUGVuZGluZ0RldmljZShkZXZpY2UpICYmXG4gICAgICAgICF0aGlzLm1vZGVsLmlzQWN0aXZlRGV2aWNlKGRldmljZSkpIHtcbiAgICAgIHRoaXMubW9kZWwuYWRkUGVuZGluZ0RldmljZShkZXZpY2UpO1xuICAgICAgdGhpcy5tb2RlbC5jaGF0UmVxdWVzdFJlY2VpdmVkLmRpc3BhdGNoKGRldmljZS50b2tlbik7XG4gICAgfVxuXG4gICAgaWYgKG1lc3NhZ2Uuc3RhdHVzID09PSB0aGlzLk1FU1NBR0VfU1RBVFVTRVMuR0lGVF9SRVFVRVNUICYmXG4gICAgICAgIHRoaXMubW9kZWwuaXNBY3RpdmVEZXZpY2UoZGV2aWNlKSkge1xuICAgICAgdGhpcy5tb2RlbC5naWZ0UmVxdWVzdFJlY2VpdmVkLmRpc3BhdGNoKGRldmljZSwgbWVzc2FnZS50ZXh0KTtcbiAgICB9XG5cbiAgICBpZiAobWVzc2FnZS50b19kZXZpY2UpIHtcbiAgICAgIGlmIChtZXNzYWdlLnN0YXR1cyA9PT0gdGhpcy5NRVNTQUdFX1NUQVRVU0VTLkdJRlRfUkVRVUVTVF9BQ0NFUFRFRCkge1xuICAgICAgICBpZiAoZ2lmdERldmljZSAmJiBnaWZ0RGV2aWNlID09PSBtZXNzYWdlLmRldmljZSkge1xuICAgICAgICAgIHRoaXMubW9kZWwuZ2lmdEFjY2VwdGVkLmRpc3BhdGNoKHRydWUpO1xuICAgICAgICAgIHRoaXMubW9kZWwuZ2lmdERldmljZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG1lc3NhZ2Uuc3RhdHVzID09PSB0aGlzLk1FU1NBR0VfU1RBVFVTRVMuR0lGVF9SRVFVRVNUX0RFQ0xJTkVEKSB7XG4gICAgICAgIGlmIChnaWZ0RGV2aWNlICYmIGdpZnREZXZpY2UgPT09IG1lc3NhZ2UuZGV2aWNlKSB7XG4gICAgICAgICAgdGhpcy5tb2RlbC5naWZ0QWNjZXB0ZWQuZGlzcGF0Y2goZmFsc2UpO1xuICAgICAgICAgIHRoaXMubW9kZWwuZ2lmdERldmljZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG1lc3NhZ2Uuc3RhdHVzID09PSB0aGlzLk1FU1NBR0VfU1RBVFVTRVMuQ0hBVF9SRVFVRVNUX0RFQ0xJTkVEKSB7XG4gICAgICAgIHRoaXMuZGVjbGluZURldmljZShkZXZpY2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtZXNzYWdlLm9wZXJhdGlvbiA9PT0gdGhpcy5PUEVSQVRJT05TLkNIQVRfTUVTU0FHRSkge1xuICAgICAgbWVzc2FnZS51c2VybmFtZSA9IHRoaXMuZ2V0RGV2aWNlTmFtZShkZXZpY2UpO1xuICAgICAgdGhpcy5tb2RlbC5hZGRIaXN0b3J5KG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHRoaXMubW9kZWwubWVzc2FnZVJlY2VpdmVkLmRpc3BhdGNoKG1lc3NhZ2UpO1xuICB9XG5cbiAgX29uU3RhdHVzUmVxdWVzdChtZXNzYWdlKSB7XG4gICAgaWYgKG1lc3NhZ2UuZGV2aWNlID09PSB0aGlzLl9Mb2NhdGlvbk1vZGVsLmRldmljZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3NlbmRTdGF0dXNVcGRhdGUobWVzc2FnZS5kZXZpY2UpO1xuICB9XG5cbiAgX29uU3RhdHVzVXBkYXRlKG1lc3NhZ2UpIHtcbiAgICBpZiAobWVzc2FnZS5kZXZpY2UgPT09IHRoaXMuX0xvY2F0aW9uTW9kZWwuZGV2aWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGRldmljZSA9IHRoaXMuX0xvY2F0aW9uTW9kZWwuZ2V0RGV2aWNlKG1lc3NhZ2UuZGV2aWNlKTtcblxuICAgIGlmICghZGV2aWNlKSB7XG4gICAgICBkZXZpY2UgPSB7XG4gICAgICAgIHRva2VuOiBtZXNzYWdlLmRldmljZSxcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuX0xvY2F0aW9uTW9kZWwuYWRkRGV2aWNlKGRldmljZSk7XG4gICAgfVxuXG4gICAgaWYgKCFtZXNzYWdlLmlzX2F2YWlsYWJsZSAmJiBkZXZpY2UuaXNfYXZhaWxhYmxlKSB7XG4gICAgICBsZXQgaGlzdG9yeSA9IHtcbiAgICAgICAgb3BlcmF0aW9uOiB0aGlzLk9QRVJBVElPTlMuQ0hBVF9NRVNTQUdFLFxuICAgICAgICB0eXBlOiB0aGlzLk1FU1NBR0VfVFlQRVMuREVWSUNFLFxuICAgICAgICBkZXZpY2U6IGRldmljZS50b2tlbixcbiAgICAgICAgc3RhdHVzOiB0aGlzLk1FU1NBR0VfU1RBVFVTRVMuQ0hBVF9DTE9TRUQsXG4gICAgICAgIHRvX2RldmljZTogdGhpcy5fTG9jYXRpb25Nb2RlbC5kZXZpY2VcbiAgICAgIH07XG4gICAgICB0aGlzLl9hZGRNZXNzYWdlSUQoaGlzdG9yeSk7XG4gICAgICB0aGlzLm1vZGVsLmFkZEhpc3RvcnkoaGlzdG9yeSk7XG4gICAgfVxuXG4gICAgZGV2aWNlLmlzX2F2YWlsYWJsZSA9IEJvb2xlYW4obWVzc2FnZS5pc19hdmFpbGFibGUpO1xuICAgIGRldmljZS5pc19wcmVzZW50ID0gQm9vbGVhbihtZXNzYWdlLmlzX3ByZXNlbnQpO1xuICAgIGRldmljZS5zZWF0ID0gbWVzc2FnZS5zZWF0O1xuICAgIGRldmljZS51c2VybmFtZSA9IG1lc3NhZ2UudXNlcm5hbWU7XG5cbiAgICB0aGlzLl9Mb2NhdGlvbk1vZGVsLmRldmljZXNDaGFuZ2VkLmRpc3BhdGNoKHRoaXMuX0xvY2F0aW9uTW9kZWwuZGV2aWNlcyk7XG4gIH1cblxuICBfc2VuZFN0YXR1c1JlcXVlc3QoKSB7XG4gICAgaWYgKCF0aGlzLm1vZGVsLmlzQ29ubmVjdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IG1lc3NhZ2UgPSB7XG4gICAgICBvcGVyYXRpb246IHRoaXMuT1BFUkFUSU9OUy5TVEFUVVNfUkVRVUVTVCxcbiAgICAgIGRldmljZTogdGhpcy5fTG9jYXRpb25Nb2RlbC5kZXZpY2VcbiAgICB9O1xuXG4gICAgdGhpcy5fU29ja2V0Q2xpZW50LnNlbmQodGhpcy5fZ2V0VG9waWMobWVzc2FnZSksIG1lc3NhZ2UpO1xuICB9XG5cbiAgX3NlbmRTdGF0dXNVcGRhdGUoZGV2aWNlKSB7XG4gICAgaWYgKCF0aGlzLm1vZGVsLmlzQ29ubmVjdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHByb2ZpbGUgPSB0aGlzLl9DdXN0b21lck1vZGVsLnByb2ZpbGUsXG4gICAgICAgIHVzZXJuYW1lO1xuXG4gICAgaWYgKHByb2ZpbGUgJiYgcHJvZmlsZS5maXJzdF9uYW1lKSB7XG4gICAgICB1c2VybmFtZSA9IHByb2ZpbGUuZmlyc3RfbmFtZSArICcgJyArIHByb2ZpbGUubGFzdF9uYW1lO1xuICAgIH1cblxuICAgIGxldCBtZXNzYWdlID0ge1xuICAgICAgb3BlcmF0aW9uOiB0aGlzLk9QRVJBVElPTlMuU1RBVFVTX1VQREFURSxcbiAgICAgIHRvX2RldmljZTogZGV2aWNlLFxuICAgICAgZGV2aWNlOiB0aGlzLl9Mb2NhdGlvbk1vZGVsLmRldmljZSxcbiAgICAgIHNlYXQ6IHRoaXMuX0xvY2F0aW9uTW9kZWwuc2VhdC50b2tlbixcbiAgICAgIGlzX2F2YWlsYWJsZTogdGhpcy5tb2RlbC5pc0VuYWJsZWQsXG4gICAgICBpc19wcmVzZW50OiB0aGlzLm1vZGVsLmlzUHJlc2VudCxcbiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZVxuICAgIH07XG5cbiAgICB0aGlzLl9Tb2NrZXRDbGllbnQuc2VuZCh0aGlzLl9nZXRUb3BpYyhtZXNzYWdlKSwgbWVzc2FnZSk7XG4gIH1cblxuICBfZ2V0VG9waWMobWVzc2FnZSkge1xuICAgICAgcmV0dXJuIG1lc3NhZ2UudG9fZGV2aWNlID9cbiAgICAgICAgdGhpcy5ST09NUy5ERVZJQ0UgKyBtZXNzYWdlLnRvX2RldmljZSA6XG4gICAgICAgIHRoaXMuUk9PTVMuTE9DQVRJT04gKyB0aGlzLl9Mb2NhdGlvbk1vZGVsLmxvY2F0aW9uLnRva2VuO1xuICB9XG5cbiAgX2FkZE1lc3NhZ2VJRChtZXNzYWdlKSB7XG4gICAgbWVzc2FnZS5pZCA9IG1lc3NhZ2UuaWQgfHwgJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBjID0+IHtcbiAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2fDAsXG4gICAgICAgICAgdiA9IGMgPT09ICd4JyA/IHIgOiAociYweDN8MHg4KTtcbiAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICB9KTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21hbmFnZXJzL2N1c3RvbWVybWFuYWdlci5qc1xuXG53aW5kb3cuYXBwLkN1c3RvbWVyTWFuYWdlciA9IGNsYXNzIEN1c3RvbWVyTWFuYWdlciBleHRlbmRzIGFwcC5BYnN0cmFjdE1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcihEdHNBcGksIEN1c3RvbWVyTW9kZWwsIFNlc3Npb25Nb2RlbCwgTG9nZ2VyLCBTTkFQRW52aXJvbm1lbnQpIHtcbiAgICBzdXBlcihMb2dnZXIpO1xuXG4gICAgdGhpcy5fRHRzQXBpID0gRHRzQXBpO1xuICAgIHRoaXMuX0N1c3RvbWVyTW9kZWwgPSBDdXN0b21lck1vZGVsO1xuICAgIHRoaXMuX1Nlc3Npb25Nb2RlbCA9IFNlc3Npb25Nb2RlbDtcbiAgICB0aGlzLl9jdXN0b21lckFwcElkID0gU05BUEVudmlyb25tZW50LmN1c3RvbWVyX2FwcGxpY2F0aW9uLmNsaWVudF9pZDtcbiAgfVxuXG4gIGdldCBtb2RlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fQ3VzdG9tZXJNb2RlbDtcbiAgfVxuXG4gIGdldCBjdXN0b21lck5hbWUoKSB7XG4gICAgaWYgKHRoaXMubW9kZWwuaXNFbmFibGVkICYmIHRoaXMubW9kZWwuaXNBdXRoZW50aWNhdGVkICYmICF0aGlzLm1vZGVsLmlzR3Vlc3QpIHtcbiAgICAgIHZhciBuYW1lID0gJyc7XG5cbiAgICAgIGlmICh0aGlzLm1vZGVsLnByb2ZpbGUuZmlyc3RfbmFtZSkge1xuICAgICAgICBuYW1lICs9IHRoaXMubW9kZWwucHJvZmlsZS5maXJzdF9uYW1lO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5tb2RlbC5wcm9maWxlLmxhc3RfbmFtZSkge1xuICAgICAgICBuYW1lICs9ICcgJyArIHRoaXMubW9kZWwucHJvZmlsZS5sYXN0X25hbWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgc3VwZXIucmVzZXQoKTtcblxuICAgIHJldHVybiB0aGlzLmxvZ291dCgpO1xuICB9XG5cbiAgbG9nb3V0KCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICBzZWxmLl9TZXNzaW9uTW9kZWwuY3VzdG9tZXJUb2tlbiA9IG51bGw7XG4gICAgICBzZWxmLl9DdXN0b21lck1vZGVsLnByb2ZpbGUgPSBudWxsO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgZ3Vlc3RMb2dpbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgc2VsZi5fQ3VzdG9tZXJNb2RlbC5wcm9maWxlID0gJ2d1ZXN0JztcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGxvZ2luKCkge1xuICAgIHJldHVybiB0aGlzLl9sb2FkUHJvZmlsZSgpO1xuICB9XG5cbiAgbG9naW5Tb2NpYWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xvYWRQcm9maWxlKCk7XG4gIH1cblxuICBzaWduVXAocmVnaXN0cmF0aW9uKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICByZWdpc3RyYXRpb24uY2xpZW50X2lkID0gc2VsZi5fY3VzdG9tZXJBcHBJZDtcbiAgICAgIHNlbGYuX0R0c0FwaS5jdXN0b21lci5zaWduVXAocmVnaXN0cmF0aW9uKS50aGVuKCgpID0+IHtcbiAgICAgICAgc2VsZi5sb2dpbih7XG4gICAgICAgICAgbG9naW46IHJlZ2lzdHJhdGlvbi51c2VybmFtZSxcbiAgICAgICAgICBwYXNzd29yZDogcmVnaXN0cmF0aW9uLnBhc3N3b3JkXG4gICAgICAgIH0pLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGVQcm9maWxlKHByb2ZpbGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNlbGYuX0R0c0FwaS5jdXN0b21lci51cGRhdGVQcm9maWxlKHByb2ZpbGUpLnRoZW4oKCkgPT4ge1xuICAgICAgICBzZWxmLl9DdXN0b21lck1vZGVsLnByb2ZpbGUgPSBwcm9maWxlO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgY2hhbmdlUGFzc3dvcmQocmVxdWVzdCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2VsZi5fRHRzQXBpLmN1c3RvbWVyLmNoYW5nZVBhc3N3b3JkKHJlcXVlc3QpLnRoZW4oKCkgPT4ge1xuICAgICAgICBzZWxmLmxvZ2luKHtcbiAgICAgICAgICBsb2dpbjogc2VsZi5fQ3VzdG9tZXJNb2RlbC5lbWFpbCxcbiAgICAgICAgICBwYXNzd29yZDogcmVxdWVzdC5uZXdfcGFzc3dvcmRcbiAgICAgICAgfSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0UGFzc3dvcmQocmVxdWVzdCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2VsZi5fRHRzQXBpLmN1c3RvbWVyLnJlc2V0UGFzc3dvcmQocmVxdWVzdCkudGhlbigoKSA9PiB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBfbG9hZFByb2ZpbGUoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZWxmLl9EdHNBcGkuY3VzdG9tZXIuZ2V0UHJvZmlsZSgpLnRoZW4ocHJvZmlsZSA9PiB7XG4gICAgICAgIHNlbGYuX0N1c3RvbWVyTW9kZWwucHJvZmlsZSA9IHByb2ZpbGU7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9kYXRhbWFuYWdlci5qc1xuXG53aW5kb3cuYXBwLkRhdGFNYW5hZ2VyID0gY2xhc3MgRGF0YU1hbmFnZXIgZXh0ZW5kcyBhcHAuQWJzdHJhY3RNYW5hZ2VyIHtcbiAgLyogZ2xvYmFsIHNpZ25hbHMgKi9cblxuICBjb25zdHJ1Y3RvcihEYXRhTW9kZWwsIExvZ2dlciwgU05BUEVudmlyb25tZW50KSB7XG4gICAgc3VwZXIoTG9nZ2VyKTtcblxuICAgIHRoaXMuX0RhdGFNb2RlbCA9IERhdGFNb2RlbDtcbiAgICB0aGlzLl9TTkFQRW52aXJvbm1lbnQgPSBTTkFQRW52aXJvbm1lbnQ7XG5cbiAgICB0aGlzLmhvbWVDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5tZW51Q2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuY2F0ZWdvcnlDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5pdGVtQ2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgdGhpcy5fQ0FDSEVBQkxFX01FRElBX0tJTkRTID0gW1xuICAgICAgMTEsIDQxLCA1MSwgNTgsIDYxXG4gICAgXTtcbiAgfVxuXG4gIGdldCBtb2RlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fRGF0YU1vZGVsO1xuICB9XG5cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICBzdXBlci5pbml0aWFsaXplKCk7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5fY2FjaGUgPSB7XG4gICAgICBtZW51OiB7fSxcbiAgICAgIGNhdGVnb3J5OiB7fSxcbiAgICAgIGl0ZW06IHt9LFxuICAgICAgbWVkaWE6IHt9XG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLm1vZGVsLmRpZ2VzdCgpLnRoZW4oZGlnZXN0ID0+IHtcbiAgICAgIHZhciBtZW51U2V0cyA9IChkaWdlc3QubWVudV9zZXRzIHx8IFtdKS5tYXAobWVudSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgc2VsZi5tb2RlbC5tZW51KG1lbnUudG9rZW4pXG4gICAgICAgICAgICAudGhlbihkYXRhID0+IHNlbGYuX2NhY2hlLm1lbnVbbWVudS50b2tlbl0gPSBzZWxmLl9maWx0ZXJNZW51KGRhdGEpKVxuICAgICAgICAgICAgLnRoZW4ocmVzb2x2ZSwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBtZW51Q2F0ZWdvcmllcyA9IChkaWdlc3QubWVudV9jYXRlZ29yaWVzIHx8IFtdKS5tYXAoY2F0ZWdvcnkgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIHNlbGYubW9kZWwuY2F0ZWdvcnkoY2F0ZWdvcnkudG9rZW4pXG4gICAgICAgICAgICAudGhlbihkYXRhID0+IHNlbGYuX2NhY2hlLmNhdGVnb3J5W2NhdGVnb3J5LnRva2VuXSA9IHNlbGYuX2ZpbHRlckNhdGVnb3J5KGRhdGEpKVxuICAgICAgICAgICAgLnRoZW4ocmVzb2x2ZSwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBtZW51SXRlbXMgPSAoZGlnZXN0Lm1lbnVfaXRlbXMgfHwgW10pLm1hcChpdGVtID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBzZWxmLm1vZGVsLml0ZW0oaXRlbS50b2tlbilcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gc2VsZi5fY2FjaGUuaXRlbVtpdGVtLnRva2VuXSA9IGRhdGEpXG4gICAgICAgICAgICAudGhlbihyZXNvbHZlLCByZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIG1lZGlhcyA9IChkaWdlc3QubWVkaWEgfHwgW10pXG4gICAgICAgIC5maWx0ZXIobWVkaWEgPT4gc2VsZi5fQ0FDSEVBQkxFX01FRElBX0tJTkRTLmluZGV4T2YobWVkaWEua2luZCkgIT09IC0xKVxuICAgICAgICAubWFwKG1lZGlhID0+IHtcbiAgICAgICAgICB2YXIgd2lkdGgsIGhlaWdodDtcblxuICAgICAgICAgIHN3aXRjaCAobWVkaWEua2luZCkge1xuICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgd2lkdGggPSAxOTIwO1xuICAgICAgICAgICAgICBoZWlnaHQgPSAxMDgwO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDE6XG4gICAgICAgICAgICBjYXNlIDUxOlxuICAgICAgICAgICAgICB3aWR0aCA9IDM3MDtcbiAgICAgICAgICAgICAgaGVpZ2h0ID0gMzcwO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNTg6XG4gICAgICAgICAgICAgIHdpZHRoID0gNjAwO1xuICAgICAgICAgICAgICBoZWlnaHQgPSA2MDA7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA2MTpcbiAgICAgICAgICAgICAgd2lkdGggPSAxMDA7XG4gICAgICAgICAgICAgIGhlaWdodCA9IDEwMDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbWVkaWEud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICBtZWRpYS5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgICByZXR1cm4gbWVkaWE7XG4gICAgICAgIH0pXG4gICAgICAgIC5tYXAobWVkaWEgPT4ge1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBzZWxmLm1vZGVsLm1lZGlhKG1lZGlhKVxuICAgICAgICAgICAgICAudGhlbihpbWcgPT4gc2VsZi5fY2FjaGUubWVkaWFbbWVkaWEudG9rZW5dID0gaW1nKVxuICAgICAgICAgICAgICAudGhlbihyZXNvbHZlLCByZXNvbHZlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZyhgRGlnZXN0IGNvbnRhaW5zICR7bWVudVNldHMubGVuZ3RofSBtZW51cywgYCArXG4gICAgICAgIGAke21lbnVDYXRlZ29yaWVzLmxlbmd0aH0gY2F0ZWdvcmllcywgYCArXG4gICAgICAgIGAke21lbnVJdGVtcy5sZW5ndGh9IGl0ZW1zIGFuZCBgICtcbiAgICAgICAgYCR7bWVkaWFzLmxlbmd0aH0gZmlsZXMuYCk7XG5cbiAgICAgIHZhciB0YXNrcyA9IFtdXG4gICAgICAgIC5jb25jYXQobWVudVNldHMpXG4gICAgICAgIC5jb25jYXQobWVudUNhdGVnb3JpZXMpXG4gICAgICAgIC5jb25jYXQobWVudUl0ZW1zKTtcblxuICAgICAgUHJvbWlzZS5hbGwodGFza3MpLnRoZW4oKCkgPT4ge1xuICAgICAgICBQcm9taXNlLmFsbChtZWRpYXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICBzdXBlci5yZXNldCgpO1xuXG4gICAgcmV0dXJuIHRoaXMubW9kZWwuY2xlYXIoKTtcbiAgfVxuXG4gIGdldCBob21lKCkgeyByZXR1cm4gdGhpcy5faG9tZTsgfVxuICBzZXQgaG9tZSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9ob21lID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdGhpcy5faG9tZSA9IHZhbHVlO1xuICAgICAgdGhpcy5tb2RlbC5ob21lKCkudGhlbihob21lID0+IHtcbiAgICAgICAgaWYgKHNlbGYuX2hvbWUpIHtcbiAgICAgICAgICBob21lID0gc2VsZi5fZmlsdGVySG9tZShob21lKTtcbiAgICAgICAgICBzZWxmLmhvbWVDaGFuZ2VkLmRpc3BhdGNoKGhvbWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9ob21lID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5ob21lQ2hhbmdlZC5kaXNwYXRjaCh1bmRlZmluZWQpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBtZW51KCkgeyByZXR1cm4gdGhpcy5fbWVudTsgfVxuICBzZXQgbWVudSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9tZW51ID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdGhpcy5fbWVudSA9IHZhbHVlO1xuXG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX2NhY2hlZCgnbWVudScsIHZhbHVlKTtcblxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVudUNoYW5nZWQuZGlzcGF0Y2goZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubW9kZWwubWVudSh2YWx1ZSkudGhlbihtZW51ID0+IHtcbiAgICAgICAgaWYgKHNlbGYuX21lbnUpIHtcbiAgICAgICAgICBtZW51ID0gc2VsZi5fZmlsdGVyTWVudShtZW51KTtcbiAgICAgICAgICBzZWxmLm1lbnVDaGFuZ2VkLmRpc3BhdGNoKG1lbnUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9tZW51ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5tZW51Q2hhbmdlZC5kaXNwYXRjaCh1bmRlZmluZWQpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBjYXRlZ29yeSgpIHsgcmV0dXJuIHRoaXMuX2NhdGVnb3J5OyB9XG4gIHNldCBjYXRlZ29yeSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9jYXRlZ29yeSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHRoaXMuX2NhdGVnb3J5ID0gdmFsdWU7XG5cbiAgICAgIHZhciBkYXRhID0gdGhpcy5fY2FjaGVkKCdjYXRlZ29yeScsIHZhbHVlKTtcblxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2F0ZWdvcnlDaGFuZ2VkLmRpc3BhdGNoKGRhdGEpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1vZGVsLmNhdGVnb3J5KHZhbHVlKS50aGVuKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgaWYgKHNlbGYuX2NhdGVnb3J5KSB7XG4gICAgICAgICAgY2F0ZWdvcnkgPSBzZWxmLl9maWx0ZXJDYXRlZ29yeShjYXRlZ29yeSk7XG4gICAgICAgICAgc2VsZi5jYXRlZ29yeUNoYW5nZWQuZGlzcGF0Y2goY2F0ZWdvcnkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9jYXRlZ29yeSA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuY2F0ZWdvcnlDaGFuZ2VkLmRpc3BhdGNoKHVuZGVmaW5lZCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGl0ZW0oKSB7IHJldHVybiB0aGlzLl9pdGVtOyB9XG4gIHNldCBpdGVtKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX2l0ZW0gPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB0aGlzLl9pdGVtID0gdmFsdWU7XG5cbiAgICAgIHZhciBkYXRhID0gdGhpcy5fY2FjaGVkKCdpdGVtJywgdmFsdWUpO1xuXG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtQ2hhbmdlZC5kaXNwYXRjaChkYXRhKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5tb2RlbC5pdGVtKHZhbHVlKS50aGVuKGl0ZW0gPT4ge1xuICAgICAgICBpZiAoc2VsZi5faXRlbSkge1xuICAgICAgICAgIHNlbGYuaXRlbUNoYW5nZWQuZGlzcGF0Y2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX2l0ZW0gPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLml0ZW1DaGFuZ2VkLmRpc3BhdGNoKHVuZGVmaW5lZCk7XG4gICAgfVxuICB9XG5cbiAgX2NhY2hlZChncm91cCwgaWQpIHtcbiAgICBpZiAoIXRoaXMuX2NhY2hlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoaWQgJiYgdGhpcy5fY2FjaGVbZ3JvdXBdICYmIHRoaXMuX2NhY2hlW2dyb3VwXVtpZF0pIHtcbiAgICAgIHJldHVybiB0aGlzLl9jYWNoZVtncm91cF1baWRdO1xuICAgIH1cbiAgICBlbHNlIGlmICghaWQgJiYgdGhpcy5fY2FjaGVbZ3JvdXBdKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2FjaGVbZ3JvdXBdO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgX2ZpbHRlckhvbWUoZGF0YSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBkYXRhLm1lbnVzID0gZGF0YS5tZW51c1xuICAgICAgLmZpbHRlcihtZW51ID0+IHNlbGYuX1NOQVBFbnZpcm9ubWVudC5wbGF0Zm9ybSA9PT0gJ2Rlc2t0b3AnIHx8IG1lbnUudHlwZSAhPT0gMyk7XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIF9maWx0ZXJNZW51KGRhdGEpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIF9maWx0ZXJDYXRlZ29yeShkYXRhKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGRhdGEuaXRlbXMgPSBkYXRhLml0ZW1zXG4gICAgICAuZmlsdGVyKGl0ZW0gPT4gc2VsZi5fU05BUEVudmlyb25tZW50LnBsYXRmb3JtID09PSAnZGVza3RvcCcgfHwgaXRlbS50eXBlICE9PSAzKTtcblxuICAgIHJldHVybiBkYXRhO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbWFuYWdlcnMvZGlhbG9nbWFuYWdlci5qc1xuXG53aW5kb3cuYXBwLkRpYWxvZ01hbmFnZXIgPSBjbGFzcyBEaWFsb2dNYW5hZ2VyIGV4dGVuZHMgYXBwLkFic3RyYWN0TWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKExvZ2dlcikge1xuICAgIHN1cGVyKExvZ2dlcik7XG5cbiAgICB0aGlzLmFsZXJ0UmVxdWVzdGVkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5ub3RpZmljYXRpb25SZXF1ZXN0ZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLmNvbmZpcm1SZXF1ZXN0ZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLmpvYlN0YXJ0ZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLmpvYkVuZGVkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5fam9icyA9IDA7XG4gIH1cblxuICBnZXQgam9icygpIHsgcmV0dXJuIHRoaXMuX2pvYnM7IH1cblxuICBhbGVydChtZXNzYWdlLCB0aXRsZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2VsZi5hbGVydFJlcXVlc3RlZC5kaXNwYXRjaChtZXNzYWdlLCB0aXRsZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIG5vdGlmaWNhdGlvbihtZXNzYWdlKSB7XG4gICAgdGhpcy5ub3RpZmljYXRpb25SZXF1ZXN0ZWQuZGlzcGF0Y2gobWVzc2FnZSk7XG4gIH1cblxuICBjb25maXJtKG1lc3NhZ2UpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNlbGYuY29uZmlybVJlcXVlc3RlZC5kaXNwYXRjaChtZXNzYWdlLCByZXNvbHZlLCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhcnRKb2IoKSB7XG4gICAgdGhpcy5fam9icysrO1xuXG4gICAgaWYgKHRoaXMuX2pvYnMgPT09IDEpIHtcbiAgICAgIHRoaXMuam9iU3RhcnRlZC5kaXNwYXRjaCgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9qb2JzO1xuICB9XG5cbiAgZW5kSm9iKGlkKSB7XG4gICAgdGhpcy5fam9icy0tO1xuXG4gICAgaWYgKHRoaXMuX2pvYnMgPT09IDApIHtcbiAgICAgIHRoaXMuam9iRW5kZWQuZGlzcGF0Y2goKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9sb2NhdGlvbm1hbmFnZXIuanNcblxud2luZG93LmFwcC5Mb2NhdGlvbk1hbmFnZXIgPSBjbGFzcyBMb2NhdGlvbk1hbmFnZXIgZXh0ZW5kcyBhcHAuQWJzdHJhY3RNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoRGF0YU1vZGVsLCBEdHNBcGksIExvY2F0aW9uTW9kZWwsIExvZ2dlcikge1xuICAgIHN1cGVyKExvZ2dlcik7XG5cbiAgICB0aGlzLl9EYXRhTW9kZWwgPSBEYXRhTW9kZWw7XG4gICAgdGhpcy5fRHRzQXBpID0gRHRzQXBpO1xuICAgIHRoaXMuX0xvY2F0aW9uTW9kZWwgPSBMb2NhdGlvbk1vZGVsO1xuICB9XG5cbiAgZ2V0IG1vZGVsKCkge1xuICAgIHJldHVybiB0aGlzLl9Mb2NhdGlvbk1vZGVsO1xuICB9XG5cbiAgbG9hZENvbmZpZygpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIG1vZGVsID0gc2VsZi5fTG9jYXRpb25Nb2RlbDtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBmdW5jdGlvbiBsb2FkQ29uZmlnKCkge1xuICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ0xvYWRpbmcgbG9jYXRpb24gY29uZmlnLi4uJyk7XG5cbiAgICAgICAgbW9kZWwuZmV0Y2goJ2xvY2F0aW9uJykudGhlbihsb2NhdGlvbiA9PiB7XG4gICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKGBOZXcgJyR7bG9jYXRpb24ubG9jYXRpb25fbmFtZX0nIGxvY2F0aW9uIGNvbmZpZyBsb2FkZWQuYCk7XG4gICAgICAgICAgcmVzb2x2ZShsb2NhdGlvbik7XG4gICAgICAgIH0sIGUgPT4ge1xuICAgICAgICAgIGlmICghbW9kZWwubG9jYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKGBGYWxsYmFjayB0byBzdG9yZWQgbG9jYXRpb24gJyR7bW9kZWwubG9jYXRpb24ubG9jYXRpb25fbmFtZX0nLmApO1xuICAgICAgICAgIHJlc29sdmUobW9kZWwubG9jYXRpb24pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgbW9kZWwuaW5pdGlhbGl6ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ0xvYWRpbmcgZGV2aWNlIGluZm8uLi4nKTtcblxuICAgICAgICBtb2RlbC5mZXRjaCgnZGV2aWNlJykudGhlbihkZXZpY2UgPT4ge1xuICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZyhgTmV3IGRldmljZSBsb2FkZWQ6IHRva2VuPSR7ZGV2aWNlLnRva2VufTtsb2NhdGlvbj0ke2RldmljZS5sb2NhdGlvbl90b2tlbn1gKTtcbiAgICAgICAgICBsb2FkQ29uZmlnKCk7XG4gICAgICAgIH0sIGUgPT4ge1xuICAgICAgICAgIGlmICghbW9kZWwuZGV2aWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZyhgRmFsbGJhY2sgdG8gc3RvcmVkIGRldmljZTogdG9rZW49JHttb2RlbC5kZXZpY2UudG9rZW59O2xvY2F0aW9uPSR7bW9kZWwuZGV2aWNlLmxvY2F0aW9uX3Rva2VufWApO1xuICAgICAgICAgIGxvYWRDb25maWcoKTtcbiAgICAgICAgfSk7XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgbG9hZFNlYXRzKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgbW9kZWwgPSBzZWxmLl9Mb2NhdGlvbk1vZGVsO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGZ1bmN0aW9uIGxvYWRTZWF0KCkge1xuICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ0xvYWRpbmcgY3VycmVudCBzZWF0IGluZm8uLi4nKTtcblxuICAgICAgICBtb2RlbC5mZXRjaCgnc2VhdCcpLnRoZW4oc2VhdCA9PiB7XG4gICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKGBOZXcgc2VhdCBkYXRhIGxvYWRlZCBmb3IgIyR7c2VhdC50b2tlbn0uYCk7XG4gICAgICAgICAgcmVzb2x2ZShzZWF0KTtcbiAgICAgICAgfSwgZSA9PiB7XG4gICAgICAgICAgaWYgKCFtb2RlbC5zZWF0KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZyhgRmFsbGJhY2sgdG8gc3RvcmVkIHNlYXQgIyR7bW9kZWwuc2VhdC50b2tlbn0uYCk7XG4gICAgICAgICAgcmVzb2x2ZShtb2RlbC5zZWF0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIG1vZGVsLmluaXRpYWxpemUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdMb2FkaW5nIGxvY2F0aW9uIHNlYXRzLi4uJyk7XG5cbiAgICAgICAgbW9kZWwuZmV0Y2goJ3NlYXRzJykudGhlbihzZWF0cyA9PiB7XG4gICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKGBMb2NhdGlvbiBzZWF0cyBsb2FkZWQgKCR7c2VhdHMubGVuZ3RofSkuYCk7XG4gICAgICAgICAgbG9hZFNlYXQoKTtcbiAgICAgICAgfSwgZSA9PiB7XG4gICAgICAgICAgaWYgKCFtb2RlbC5zZWF0cykge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoYEZhbGxiYWNrIHRvIHN0b3JlZCBzZWF0cyAoJHttb2RlbC5zZWF0cy5sZW5ndGh9KS5gKTtcbiAgICAgICAgICBsb2FkU2VhdCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9uYXZpZ2F0aW9ubWFuYWdlci5qc1xuXG53aW5kb3cuYXBwLk5hdmlnYXRpb25NYW5hZ2VyID0gY2xhc3MgTmF2aWdhdGlvbk1hbmFnZXIgZXh0ZW5kcyBhcHAuQWJzdHJhY3RNYW5hZ2VyIHtcbiAgLyogZ2xvYmFsIHNpZ25hbHMgKi9cblxuICBjb25zdHJ1Y3Rvcigkcm9vdFNjb3BlLCAkbG9jYXRpb24sICR3aW5kb3csIEFuYWx5dGljc01vZGVsLCBMb2dnZXIpIHtcbiAgICBzdXBlcihMb2dnZXIpO1xuXG4gICAgdGhpcy4kJGxvY2F0aW9uID0gJGxvY2F0aW9uO1xuICAgIHRoaXMuJCR3aW5kb3cgPSAkd2luZG93O1xuICAgIHRoaXMuX0FuYWx5dGljc01vZGVsID0gQW5hbHl0aWNzTW9kZWw7XG5cbiAgICB0aGlzLmxvY2F0aW9uQ2hhbmdpbmcgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLmxvY2F0aW9uQ2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgJHJvb3RTY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCAoKSA9PiB7XG4gICAgICB2YXIgcGF0aCA9IHRoaXMuJCRsb2NhdGlvbi5wYXRoKCk7XG5cbiAgICAgIGlmIChwYXRoICE9PSB0aGlzLl9wYXRoKSB7XG4gICAgICAgIHRoaXMuX3BhdGggPSBwYXRoO1xuICAgICAgICB0aGlzLl9sb2NhdGlvbiA9IHRoaXMuZ2V0TG9jYXRpb24ocGF0aCk7XG4gICAgICAgIHRoaXMubG9jYXRpb25DaGFuZ2luZy5kaXNwYXRjaCh0aGlzLmxvY2F0aW9uKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5sb2NhdGlvbkNoYW5nZWQuZGlzcGF0Y2godGhpcy5sb2NhdGlvbik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmxvY2F0aW9uQ2hhbmdlZC5hZGQobG9jYXRpb24gPT4gdGhpcy5fQW5hbHl0aWNzTW9kZWwubG9nTmF2aWdhdGlvbihsb2NhdGlvbikpO1xuICB9XG5cbiAgZ2V0IHBhdGgoKSB7IHJldHVybiB0aGlzLl9wYXRoOyB9XG4gIHNldCBwYXRoKHZhbHVlKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5pbmRleE9mKCcjJyksXG4gICAgICAgIHBhdGggPSBpICE9PSAtMSA/IHZhbHVlLnN1YnN0cmluZyhpICsgMSkgOiB2YWx1ZTtcblxuICAgIHRoaXMubG9jYXRpb24gPSB0aGlzLmdldExvY2F0aW9uKHBhdGgpO1xuICB9XG5cbiAgZ2V0IGxvY2F0aW9uKCkgeyByZXR1cm4gdGhpcy5fbG9jYXRpb247IH1cbiAgc2V0IGxvY2F0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX2xvY2F0aW9uID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmxvY2F0aW9uLnR5cGUgPT09IHZhbHVlLnR5cGUgJiYgdGhpcy5sb2NhdGlvbi50b2tlbiA9PT0gdmFsdWUudG9rZW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9sb2NhdGlvbiA9IHZhbHVlO1xuICAgIHRoaXMubG9jYXRpb25DaGFuZ2luZy5kaXNwYXRjaCh0aGlzLmxvY2F0aW9uKTtcblxuICAgIHRoaXMuX3BhdGggPSB0aGlzLmdldFBhdGgodGhpcy5sb2NhdGlvbik7XG4gICAgdGhpcy4kJGxvY2F0aW9uLnBhdGgodGhpcy5fcGF0aCk7XG4gIH1cblxuICBnZXRQYXRoKGxvY2F0aW9uKSB7XG4gICAgaWYgKCFsb2NhdGlvbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGxvY2F0aW9uLnRva2VuKSB7XG4gICAgICByZXR1cm4gJy8nICsgbG9jYXRpb24udHlwZSArICcvJyArIGxvY2F0aW9uLnRva2VuO1xuICAgIH1cbiAgICBlbHNlIGlmIChsb2NhdGlvbi51cmwpIHtcbiAgICAgIHJldHVybiAnLycgKyBsb2NhdGlvbi50eXBlICsgJy8nICsgZW5jb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uLnVybCk7XG4gICAgfVxuXG4gICAgaWYgKGxvY2F0aW9uLnR5cGUgPT09ICdob21lJykge1xuICAgICAgcmV0dXJuICcvJztcbiAgICB9XG5cbiAgICByZXR1cm4gJy8nICsgbG9jYXRpb24udHlwZTtcbiAgfVxuXG4gIGdldExvY2F0aW9uKHBhdGgpIHtcbiAgICB2YXIgbWF0Y2ggPSAvXFwvKFxcdyspPyhcXC8oLispKT8vLmV4ZWMocGF0aCk7XG5cbiAgICBpZiAobWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID4gMSkge1xuICAgICAgdmFyIHR5cGUgPSBtYXRjaFsxXTtcbiAgICAgIHZhciBwYXJhbSA9IG1hdGNoWzNdO1xuXG4gICAgICBpZiAocGFyYW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzd2l0Y2godHlwZSkge1xuICAgICAgICAgIGNhc2UgJ3VybCc6XG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiB0eXBlLCB1cmw6IGRlY29kZVVSSUNvbXBvbmVudChwYXJhbSkgfTtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiB0eXBlLCB0b2tlbjogcGFyYW0gfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgdHlwZSA9ICdob21lJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgdHlwZTogdHlwZSB9O1xuICAgIH1cblxuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIGdvQmFjaygpIHtcbiAgICBpZiAodGhpcy5sb2NhdGlvbi50eXBlICE9PSAnaG9tZScgJiYgdGhpcy5sb2NhdGlvbi50eXBlICE9PSAnc2lnbmluJykge1xuICAgICAgdGhpcy4kJHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcbiAgICB9XG4gIH1cblxuICBnZXRRdWVyeVBhcmFtZXRlcihuYW1lKSB7XG4gICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChuYW1lICsgXCI9KFteJiNdKilcIiksXG4gICAgcmVzdWx0cyA9IHJlZ2V4LmV4ZWMod2luZG93LmxvY2F0aW9uLmhhc2gpO1xuICAgIHJldHVybiByZXN1bHRzID09PSBudWxsID8gdW5kZWZpbmVkIDogZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMV0ucmVwbGFjZSgvXFwrL2csIFwiIFwiKSk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9vcmRlcm1hbmFnZXIuanNcblxud2luZG93LmFwcC5PcmRlck1hbmFnZXIgPSBjbGFzcyBPcmRlck1hbmFnZXIgZXh0ZW5kcyBhcHAuQWJzdHJhY3RNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoQ2hhdE1vZGVsLCBDdXN0b21lck1vZGVsLCBEdHNBcGksIE9yZGVyTW9kZWwsIExvZ2dlcikge1xuICAgIHN1cGVyKExvZ2dlcik7XG5cbiAgICB0aGlzLl9EdHNBcGkgPSBEdHNBcGk7XG4gICAgdGhpcy5fQ2hhdE1vZGVsID0gQ2hhdE1vZGVsO1xuICAgIHRoaXMuX0N1c3RvbWVyTW9kZWwgPSBDdXN0b21lck1vZGVsO1xuICAgIHRoaXMuX09yZGVyTW9kZWwgPSBPcmRlck1vZGVsO1xuXG4gICAgdGhpcy5fQ2hhdE1vZGVsLmdpZnRTZWF0Q2hhbmdlZC5hZGQoZ2lmdFNlYXQgPT4ge1xuICAgICAgaWYgKHRoaXMubW9kZWwub3JkZXJDYXJ0U3Rhc2gubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMubW9kZWwub3JkZXJDYXJ0U3Rhc2ggPSB0aGlzLm1vZGVsLm9yZGVyQ2FydDtcbiAgICAgICAgdGhpcy5tb2RlbC5vcmRlckNhcnQgPSBbXTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFnaWZ0U2VhdCkge1xuICAgICAgICB0aGlzLm1vZGVsLm9yZGVyQ2FydCA9IHRoaXMubW9kZWwub3JkZXJDYXJ0U3Rhc2g7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBnZXQgbW9kZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX09yZGVyTW9kZWw7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICBzdXBlci5yZXNldCgpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLm1vZGVsLmNsZWFyV2F0Y2hlcih0aGlzLm1vZGVsLlJFUVVFU1RfS0lORF9PUkRFUik7XG4gICAgICB0aGlzLm1vZGVsLmNsZWFyV2F0Y2hlcih0aGlzLm1vZGVsLlJFUVVFU1RfS0lORF9BU1NJU1RBTkNFKTtcbiAgICAgIHRoaXMubW9kZWwuY2xlYXJXYXRjaGVyKHRoaXMubW9kZWwuUkVRVUVTVF9LSU5EX0NMT1NFT1VUKTtcblxuICAgICAgdGhpcy5jbGVhckNhcnQoKTtcbiAgICAgIHRoaXMuY2xlYXJDaGVjaygpO1xuICAgICAgdGhpcy5tb2RlbC5vcmRlclRpY2tldCA9IHt9O1xuXG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIENhcnQgYW5kIGNoZWNrc1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgYWRkVG9DYXJ0KGl0ZW0pIHtcbiAgICB0aGlzLm1vZGVsLm9yZGVyQ2FydC5wdXNoKGl0ZW0pO1xuICAgIHRoaXMubW9kZWwub3JkZXJDYXJ0Q2hhbmdlZC5kaXNwYXRjaCh0aGlzLm1vZGVsLm9yZGVyQ2FydCk7XG5cbiAgICBpZiAodGhpcy5fQ2hhdE1vZGVsLmdpZnRTZWF0KSB7XG4gICAgICB0aGlzLl9DaGF0TW9kZWwuZ2lmdFJlYWR5LmRpc3BhdGNoKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubW9kZWwub3JkZXJDYXJ0O1xuICB9XG5cbiAgcmVtb3ZlRnJvbUNhcnQoaXRlbSkge1xuICAgIHRoaXMubW9kZWwub3JkZXJDYXJ0ID0gdGhpcy5tb2RlbC5vcmRlckNhcnQuZmlsdGVyKGVudHJ5ID0+IGVudHJ5ICE9PSBpdGVtKTtcbiAgICByZXR1cm4gdGhpcy5tb2RlbC5vcmRlckNhcnQ7XG4gIH1cblxuICBjbGVhckNhcnQoKSB7XG4gICAgdGhpcy5tb2RlbC5vcmRlckNhcnQgPSBbXTtcbiAgICB0aGlzLm1vZGVsLm9yZGVyQ2FydFN0YXNoID0gW107XG5cbiAgICB0aGlzLl9DaGF0TW9kZWwuZ2lmdFNlYXQgPSBudWxsO1xuICB9XG5cbiAgY2xlYXJDaGVjayhpdGVtcykge1xuICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgIGlmIChpdGVtcykge1xuICAgICAgcmVzdWx0ID0gdGhpcy5tb2RlbC5vcmRlckNoZWNrO1xuXG4gICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChyZXN1bHRbaV0ucmVxdWVzdCA9PT0gaXRlbS5yZXF1ZXN0KSB7XG4gICAgICAgICAgICByZXN1bHRbaV0ucXVhbnRpdHkgLT0gaXRlbS5xdWFudGl0eTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5maWx0ZXIoaXRlbSA9PiBpdGVtLnF1YW50aXR5ID4gMCk7XG4gICAgfVxuXG4gICAgdGhpcy5tb2RlbC5vcmRlckNoZWNrID0gcmVzdWx0O1xuICB9XG5cbiAgc3VibWl0Q2FydChvcHRpb25zKSB7XG4gICAgaWYgKHRoaXMubW9kZWwub3JkZXJDYXJ0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IDA7XG5cbiAgICBpZiAodGhpcy5fQ2hhdE1vZGVsLmdpZnRTZWF0KSB7XG4gICAgICBvcHRpb25zIHw9IDQ7XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHJlcXVlc3QgPSB7XG4gICAgICBraW5kOiB0aGlzLm1vZGVsLlJFUVVFU1RfS0lORF9PUkRFUixcbiAgICAgIGl0ZW1zOiB0aGlzLm1vZGVsLm9yZGVyQ2FydC5tYXAoZW50cnkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRva2VuOiBlbnRyeS5pdGVtLm9yZGVyLnRva2VuLFxuICAgICAgICAgIHF1YW50aXR5OiBlbnRyeS5xdWFudGl0eSxcbiAgICAgICAgICBtb2RpZmllcnM6IGVudHJ5Lm1vZGlmaWVycy5yZWR1Y2UoKHJlc3VsdCwgY2F0ZWdvcnkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuY29uY2F0KGNhdGVnb3J5Lm1vZGlmaWVycy5yZWR1Y2UoKHJlc3VsdCwgbW9kaWZpZXIpID0+IHtcbiAgICAgICAgICAgICAgaWYgKG1vZGlmaWVyLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChtb2RpZmllci5kYXRhLnRva2VuKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfSwgW10pKTtcbiAgICAgICAgICB9LCBbXSksXG4gICAgICAgICAgbm90ZTogZW50cnkubmFtZSB8fCAnJ1xuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICB0aWNrZXRfdG9rZW46IHNlbGYubW9kZWwub3JkZXJUaWNrZXQudG9rZW4sXG4gICAgICBzZWF0X3Rva2VuOiBzZWxmLl9DaGF0TW9kZWwuZ2lmdFNlYXQsXG4gICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgfTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZWxmLl9EdHNBcGkud2FpdGVyLnBsYWNlT3JkZXIocmVxdWVzdCkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZS5pdGVtX3Rva2Vucykge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuaXRlbV90b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNlbGYubW9kZWwub3JkZXJDYXJ0W2ldLnJlcXVlc3QgPSByZXNwb25zZS5pdGVtX3Rva2Vuc1tpXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLm1vZGVsLm9yZGVyVGlja2V0ID0geyB0b2tlbjogcmVzcG9uc2UudGlja2V0X3Rva2VuIH07XG5cbiAgICAgICAgc2VsZi5tb2RlbC5vcmRlckNoZWNrID0gc2VsZi5tb2RlbC5vcmRlckNoZWNrLmNvbmNhdChzZWxmLm1vZGVsLm9yZGVyQ2FydCk7XG4gICAgICAgIHNlbGYuY2xlYXJDYXJ0KCk7XG5cbiAgICAgICAgc2VsZi5fQ2hhdE1vZGVsLmdpZnRTZWF0ID0gbnVsbDtcblxuICAgICAgICBsZXQgd2F0Y2hlciA9IHNlbGYuX2NyZWF0ZVdhdGNoZXIoc2VsZi5tb2RlbC5SRVFVRVNUX0tJTkRfT1JERVIsIHJlc3BvbnNlKTtcbiAgICAgICAgcmVzb2x2ZSh3YXRjaGVyKTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICByZXF1ZXN0Q2xvc2VvdXQoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciByZXF1ZXN0ID0ge1xuICAgICAga2luZDogdGhpcy5tb2RlbC5SRVFVRVNUX0tJTkRfQ0xPU0VPVVQsXG4gICAgICB0aWNrZXRfdG9rZW46IHRoaXMubW9kZWwub3JkZXJUaWNrZXQudG9rZW4sXG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLl9EdHNBcGkud2FpdGVyLnBsYWNlUmVxdWVzdChyZXF1ZXN0KS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgIHNlbGYubW9kZWwub3JkZXJUaWNrZXQgPSB7IHRva2VuOiByZXNwb25zZS50aWNrZXRfdG9rZW4gfTtcbiAgICAgIHJldHVybiBzZWxmLl9jcmVhdGVXYXRjaGVyKHNlbGYubW9kZWwuUkVRVUVTVF9LSU5EX0NMT1NFT1VULCByZXNwb25zZSk7XG4gICAgfSk7XG4gIH1cblxuICByZXF1ZXN0QXNzaXN0YW5jZSgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHJlcXVlc3QgPSB7XG4gICAgICBraW5kOiB0aGlzLm1vZGVsLlJFUVVFU1RfS0lORF9BU1NJU1RBTkNFLFxuICAgICAgdGlja2V0X3Rva2VuOiB0aGlzLm1vZGVsLm9yZGVyVGlja2V0LnRva2VuLFxuICAgIH07XG5cbiAgICByZXR1cm4gdGhpcy5fRHRzQXBpLndhaXRlci5wbGFjZVJlcXVlc3QocmVxdWVzdCkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICBzZWxmLl9zYXZlVGlja2V0KHJlc3BvbnNlKTtcbiAgICAgIHJldHVybiBzZWxmLl9jcmVhdGVXYXRjaGVyKHNlbGYubW9kZWwuUkVRVUVTVF9LSU5EX0FTU0lTVEFOQ0UsIHJlc3BvbnNlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNvcHlJdGVtcyhpdGVtcykge1xuICAgIHJldHVybiBpdGVtcy5zbGljZSgwKS5tYXAoaXRlbSA9PiBpdGVtLmNsb25lKCkpO1xuICB9XG5cbiAgY2FsY3VsYXRlUHJpY2UoZW50cnkpIHtcbiAgICB2YXIgbW9kaWZpZXJzID0gZW50cnkubW9kaWZpZXJzLnJlZHVjZSgodG90YWwsIGNhdGVnb3J5KSA9PiB7XG4gICAgICByZXR1cm4gdG90YWwgKyBjYXRlZ29yeS5tb2RpZmllcnMucmVkdWNlKCh0b3RhbCwgbW9kaWZpZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvdGFsICsgKG1vZGlmaWVyLmlzU2VsZWN0ZWQgJiYgbW9kaWZpZXIuZGF0YS5wcmljZSA+IDAgP1xuICAgICAgICAgIG1vZGlmaWVyLmRhdGEucHJpY2UgOlxuICAgICAgICAgIDBcbiAgICAgICAgKTtcbiAgICAgIH0sIDApO1xuICAgIH0sIDApO1xuXG4gICAgcmV0dXJuIGVudHJ5LnF1YW50aXR5ICogKG1vZGlmaWVycyArIGVudHJ5Lml0ZW0ub3JkZXIucHJpY2UpO1xuICB9XG5cbiAgY2FsY3VsYXRlVG90YWxQcmljZShlbnRyaWVzKSB7XG4gICAgcmV0dXJuIChlbnRyaWVzID8gZW50cmllcy5yZWR1Y2UoKHRvdGFsLCBlbnRyeSkgPT4ge1xuICAgICAgcmV0dXJuIHRvdGFsICsgT3JkZXJNYW5hZ2VyLnByb3RvdHlwZS5jYWxjdWxhdGVQcmljZShlbnRyeSk7XG4gICAgfSwgMCkgOiAwKTtcbiAgfVxuXG4gIGNhbGN1bGF0ZVRheChlbnRyaWVzKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlVG90YWxQcmljZShlbnRyaWVzKSAqIHRoaXMubW9kZWwudGF4O1xuICB9XG5cbiAgdXBsb2FkU2lnbmF0dXJlKGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5fRHRzQXBpLnVwbG9hZC51cGxvYWRUZW1wKGRhdGEsICdpbWFnZS9wbmcnLCAnc2lnbmF0dXJlLnBuZycpXG4gICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS50b2tlbik7XG4gIH1cblxuICBnZW5lcmF0ZVBheW1lbnRUb2tlbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5fQ3VzdG9tZXJNb2RlbC5pc0F1dGhlbnRpY2F0ZWQgJiYgIXRoaXMuX0N1c3RvbWVyTW9kZWwuaXNHdWVzdCkge1xuICAgICAgcmV0dXJuIHRoaXMuX0R0c0FwaS5jdXN0b21lci5pbml0aWFsaXplUGF5bWVudCgpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICBzZWxmLl9zYXZlUGF5bWVudFRva2VuKHJlc3BvbnNlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9EdHNBcGkud2FpdGVyLmluaXRpYWxpemVQYXltZW50KCkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICBzZWxmLl9zYXZlUGF5bWVudFRva2VuKHJlc3BvbnNlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHBheU9yZGVyKHJlcXVlc3QpIHtcbiAgICByZXF1ZXN0LnRpY2tldF90b2tlbiA9IHRoaXMubW9kZWwub3JkZXJUaWNrZXQudG9rZW47XG4gICAgcmVxdWVzdC5wYXltZW50X3Rva2VuID0gdGhpcy5tb2RlbC5vcmRlclRpY2tldC5wYXltZW50X3Rva2VuO1xuICAgIHJldHVybiB0aGlzLl9EdHNBcGkud2FpdGVyLnN1Ym1pdENoZWNrb3V0UGF5bWVudChyZXF1ZXN0KTtcbiAgfVxuXG4gIHJlcXVlc3RSZWNlaXB0KHJlcXVlc3QpIHtcbiAgICByZXF1ZXN0LnRpY2tldF90b2tlbiA9IHRoaXMubW9kZWwub3JkZXJUaWNrZXQudG9rZW47XG4gICAgcmV0dXJuIHRoaXMuX0R0c0FwaS53YWl0ZXIucmVxdWVzdFJlY2VpcHQocmVxdWVzdCk7XG4gIH1cblxuICBfc2F2ZVRpY2tldChyZXNwb25zZSkge1xuICAgIHRoaXMubW9kZWwub3JkZXJUaWNrZXQgPSB7XG4gICAgICB0b2tlbjogcmVzcG9uc2UudGlja2V0X3Rva2VuLFxuICAgICAgcGF5bWVudF90b2tlbjogdGhpcy5tb2RlbC5vcmRlclRpY2tldC5wYXltZW50X3Rva2VuXG4gICAgfTtcbiAgfVxuXG4gIF9zYXZlUGF5bWVudFRva2VuKHJlc3BvbnNlKSB7XG4gICAgdGhpcy5tb2RlbC5vcmRlclRpY2tldCA9IHtcbiAgICAgIHRva2VuOiB0aGlzLm1vZGVsLm9yZGVyVGlja2V0LnRva2VuLFxuICAgICAgcGF5bWVudF90b2tlbjogcmVzcG9uc2UudG9rZW5cbiAgICB9O1xuICB9XG5cbiAgX2NyZWF0ZVdhdGNoZXIoa2luZCwgdGlja2V0KSB7XG4gICAgbGV0IHdhdGNoZXIgPSBuZXcgYXBwLlJlcXVlc3RXYXRjaGVyKHRpY2tldCwgdGhpcy5fRHRzQXBpKTtcbiAgICB0aGlzLm1vZGVsLmFkZFdhdGNoZXIoa2luZCwgd2F0Y2hlcik7XG5cbiAgICByZXR1cm4gd2F0Y2hlcjtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21hbmFnZXJzL3Nlc3Npb25tYW5hZ2VyLmpzXG5cbndpbmRvdy5hcHAuU2Vzc2lvbk1hbmFnZXIgPSBjbGFzcyBTZXNzaW9uTWFuYWdlciBleHRlbmRzIGFwcC5BYnN0cmFjdE1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcihTTkFQRW52aXJvbm1lbnQsIEFuYWx5dGljc01vZGVsLCBDdXN0b21lck1vZGVsLCBMb2NhdGlvbk1vZGVsLCBPcmRlck1vZGVsLCBTdXJ2ZXlNb2RlbCwgc3RvcmFnZVByb3ZpZGVyLCBMb2dnZXIpIHtcbiAgICBzdXBlcihMb2dnZXIpO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5zZXNzaW9uU3RhcnRlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuc2Vzc2lvbkVuZGVkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5cbiAgICB0aGlzLl9TTkFQRW52aXJvbm1lbnQgPSBTTkFQRW52aXJvbm1lbnQ7XG4gICAgdGhpcy5fQW5hbHl0aWNzTW9kZWwgPSBBbmFseXRpY3NNb2RlbDtcbiAgICB0aGlzLl9DdXN0b21lck1vZGVsID0gQ3VzdG9tZXJNb2RlbDtcbiAgICB0aGlzLl9Mb2NhdGlvbk1vZGVsID0gTG9jYXRpb25Nb2RlbDtcbiAgICB0aGlzLl9PcmRlck1vZGVsID0gT3JkZXJNb2RlbDtcbiAgICB0aGlzLl9TdXJ2ZXlNb2RlbCA9IFN1cnZleU1vZGVsO1xuXG4gICAgdGhpcy5fc3RvcmUgPSBzdG9yYWdlUHJvdmlkZXIoJ3NuYXBfc2VhdF9zZXNzaW9uJyk7XG5cbiAgICB0aGlzLl9DdXN0b21lck1vZGVsLnByb2ZpbGVDaGFuZ2VkLmFkZChjdXN0b21lciA9PiB7XG4gICAgICBpZiAoIXNlbGYuX3Nlc3Npb24gfHwgIWN1c3RvbWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fc2Vzc2lvbi5jdXN0b21lciA9IGN1c3RvbWVyLnRva2VuO1xuICAgICAgc2VsZi5fc3RvcmUud3JpdGUodGhpcy5fc2Vzc2lvbik7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9Mb2NhdGlvbk1vZGVsLnNlYXRDaGFuZ2VkLmFkZChzZWF0ID0+IHtcbiAgICAgIGlmICghc2VsZi5fc2Vzc2lvbiB8fCAhc2VhdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNlbGYuX3Nlc3Npb24uc2VhdCA9IHNlYXQudG9rZW47XG4gICAgICBzZWxmLl9zdG9yZS53cml0ZSh0aGlzLl9zZXNzaW9uKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX09yZGVyTW9kZWwub3JkZXJUaWNrZXRDaGFuZ2VkLmFkZCh0aWNrZXQgPT4ge1xuICAgICAgaWYgKCFzZWxmLl9zZXNzaW9uIHx8ICF0aWNrZXQgfHwgIXRpY2tldC50b2tlbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNlbGYuX3Nlc3Npb24udGlja2V0ID0gdGlja2V0LnRva2VuO1xuICAgICAgc2VsZi5fc3RvcmUud3JpdGUodGhpcy5fc2Vzc2lvbik7XG4gICAgfSk7XG4gIH1cblxuICBpbml0aWFsaXplKCkge1xuICAgIHN1cGVyLmluaXRpYWxpemUoKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2VsZi5fc3RvcmUucmVhZCgpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIHNlbGYuX3Nlc3Npb24gPSBkYXRhO1xuXG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIHNlbGYuX3N0YXJ0U2Vzc2lvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHN1cGVyLnJlc2V0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5fc3RvcmUuY2xlYXIoKTtcbiAgfVxuXG4gIGdldCBzZXNzaW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9zZXNzaW9uO1xuICB9XG5cbiAgZW5kU2Vzc2lvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNlbGYuX3N0b3JlLnJlYWQoKS50aGVuKHMgPT4ge1xuICAgICAgICBzZWxmLl9zZXNzaW9uID0gbnVsbDtcblxuICAgICAgICBpZiAocykge1xuICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZyhgU2VhdCBzZXNzaW9uICR7cy5pZH0gZW5kZWQuYCk7XG5cbiAgICAgICAgICBzLmVuZGVkID0gbmV3IERhdGUoKTtcbiAgICAgICAgICBzZWxmLl9BbmFseXRpY3NNb2RlbC5sb2dTZXNzaW9uKHMpO1xuICAgICAgICAgIHNlbGYuc2Vzc2lvbkVuZGVkLmRpc3BhdGNoKHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5fc3RvcmUuY2xlYXIoKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0IGd1ZXN0Q291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Nlc3Npb24uZ3Vlc3RfY291bnQgfHwgMTtcbiAgfVxuXG4gIHNldCBndWVzdENvdW50KHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX3Nlc3Npb24uZ3Vlc3RfY291bnQgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Vzc2lvbi5ndWVzdF9jb3VudCA9IHZhbHVlO1xuICAgIHRoaXMuX3N0b3JlLndyaXRlKHRoaXMuX3Nlc3Npb24pO1xuICB9XG5cbiAgZ2V0IHNwZWNpYWxFdmVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2Vzc2lvbi5zcGVjaWFsX2V2ZW50O1xuICB9XG5cbiAgc2V0IHNwZWNpYWxFdmVudCh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9zZXNzaW9uLnNwZWNpYWxfZXZlbnQgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Vzc2lvbi5zcGVjaWFsX2V2ZW50ID0gdmFsdWU7XG4gICAgdGhpcy5fc3RvcmUud3JpdGUodGhpcy5fc2Vzc2lvbik7XG4gIH1cblxuICBfc3RhcnRTZXNzaW9uKCkge1xuICAgIGxldCBzZWF0ID0gdGhpcy5fTG9jYXRpb25Nb2RlbC5zZWF0O1xuXG4gICAgdGhpcy5fc2Vzc2lvbiA9IHtcbiAgICAgIGlkOiB0aGlzLl9nZW5lcmF0ZUlEKCksXG4gICAgICBzZWF0OiBzZWF0ID8gc2VhdC50b2tlbiA6IHVuZGVmaW5lZCxcbiAgICAgIHBsYXRmb3JtOiB0aGlzLl9TTkFQRW52aXJvbm1lbnQucGxhdGZvcm0sXG4gICAgICBzdGFydGVkOiBuZXcgRGF0ZSgpXG4gICAgfTtcblxuICAgIHRoaXMuX0xvZ2dlci5kZWJ1ZyhgU2VhdCBzZXNzaW9uICR7dGhpcy5fc2Vzc2lvbi5pZH0gc3RhcnRlZC5gKTtcblxuICAgIHRoaXMuX3N0b3JlLndyaXRlKHRoaXMuX3Nlc3Npb24pO1xuICAgIHRoaXMuc2Vzc2lvblN0YXJ0ZWQuZGlzcGF0Y2godGhpcy5fc2Vzc2lvbik7XG4gIH1cblxuICBfZ2VuZXJhdGVJRCgpe1xuICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uKGMpIHtcbiAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSoxNnwwLCB2ID0gYyA9PT0gJ3gnID8gciA6IChyJjB4M3wweDgpO1xuICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbWFuYWdlcnMvc2hlbGxtYW5hZ2VyLmpzXG5cbndpbmRvdy5hcHAuU2hlbGxNYW5hZ2VyID0gY2xhc3MgU2hlbGxNYW5hZ2VyIGV4dGVuZHMgYXBwLkFic3RyYWN0TWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKERhdGFNb2RlbCwgTG9jYXRpb25Nb2RlbCwgU2hlbGxNb2RlbCwgU05BUExvY2F0aW9uLCBFbnZpcm9ubWVudCwgSG9zdHMsIExvZ2dlcikge1xuICAgIHN1cGVyKExvZ2dlcik7XG5cbiAgICB0aGlzLl9EYXRhTW9kZWwgPSBEYXRhTW9kZWw7XG4gICAgdGhpcy5fTG9jYXRpb25Nb2RlbCA9IExvY2F0aW9uTW9kZWw7XG4gICAgdGhpcy5fU2hlbGxNb2RlbCA9IFNoZWxsTW9kZWw7XG4gICAgdGhpcy5fU05BUExvY2F0aW9uID0gU05BUExvY2F0aW9uO1xuICAgIHRoaXMuX0Vudmlyb25tZW50ID0gRW52aXJvbm1lbnQ7XG4gICAgdGhpcy5fSG9zdHMgPSBIb3N0cztcblxuICAgIHRoaXMubG9jYWxlID0gdGhpcy5fTG9jYXRpb25Nb2RlbC5sb2NhdGlvbi5sb2NhbGU7XG4gICAgdGhpcy5fTG9jYXRpb25Nb2RlbC5sb2NhdGlvbkNoYW5nZWQuYWRkKGxvY2F0aW9uID0+IHtcbiAgICAgIHRoaXMubG9jYWxlID0gbG9jYXRpb24ubG9jYWxlO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0IGxvY2FsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fbG9jYWxlO1xuICB9XG5cbiAgc2V0IGxvY2FsZSh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9sb2NhbGUgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2xvY2FsZSA9IHZhbHVlO1xuXG4gICAgdmFyIGZvcm1hdCA9ICd7MH0nLFxuICAgICAgICBjdXJyZW5jeSA9ICcnO1xuXG4gICAgc3dpdGNoICh0aGlzLl9sb2NhbGUpIHtcbiAgICAgIGNhc2UgJ3JvX01EJzpcbiAgICAgICAgZm9ybWF0ID0gJ3swfSBMZWknO1xuICAgICAgICBjdXJyZW5jeSA9ICcnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3poX01PJzpcbiAgICAgICAgZm9ybWF0ID0gJ01PUCQgezB9JztcbiAgICAgICAgY3VycmVuY3kgPSAnJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdlbl9VUyc6XG4gICAgICAgIGZvcm1hdCA9ICckezB9JztcbiAgICAgICAgY3VycmVuY3kgPSAnVVNEJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdGhpcy5fU2hlbGxNb2RlbC5wcmljZUZvcm1hdCA9IGZvcm1hdDtcbiAgICB0aGlzLl9TaGVsbE1vZGVsLmN1cnJlbmN5ID0gY3VycmVuY3k7XG4gIH1cblxuICBnZXQgbW9kZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX1NoZWxsTW9kZWw7XG4gIH1cblxuICBpbml0aWFsaXplKCkge1xuICAgIHN1cGVyLmluaXRpYWxpemUoKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciB0YXNrQmFja2dyb3VuZHMgPSB0aGlzLl9EYXRhTW9kZWwuYmFja2dyb3VuZHMoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICBzZWxmLl9TaGVsbE1vZGVsLmJhY2tncm91bmRzID0gcmVzcG9uc2UubWFpbi5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWVkaWE6IGl0ZW0uc3JjXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgc2VsZi5fU2hlbGxNb2RlbC5zY3JlZW5zYXZlcnMgPSByZXNwb25zZS5zY3JlZW5zYXZlci5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWVkaWE6IGl0ZW0uc3JjXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgc2VsZi5fU2hlbGxNb2RlbC5wYWdlQmFja2dyb3VuZHMgPSByZXNwb25zZS5wYWdlcy5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWVkaWE6IGl0ZW0uYmFja2dyb3VuZC5zcmMsXG4gICAgICAgICAgZGVzdGluYXRpb246IGl0ZW0uZGVzdGluYXRpb25cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdmFyIHRhc2tFbGVtZW50cyA9IHRoaXMuX0RhdGFNb2RlbC5lbGVtZW50cygpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgIHZhciBsYXlvdXQgPSBzZWxmLl9TTkFQTG9jYXRpb24udGhlbWUubGF5b3V0O1xuXG4gICAgICB2YXIgZWxlbWVudHMgPSB7fTtcblxuICAgICAgc3dpdGNoIChsYXlvdXQpIHtcbiAgICAgICAgY2FzZSAnY2xhc3NpYyc6XG4gICAgICAgICAgZWxlbWVudHMgPSB7XG4gICAgICAgICAgICAnYnV0dG9uX2hvbWUnOiBzZWxmLmdldEFzc2V0VXJsKCdpbWFnZXMvYnV0dG9uLWhvbWUucG5nJyksXG4gICAgICAgICAgICAnYnV0dG9uX2JhY2snOiBzZWxmLmdldEFzc2V0VXJsKCdpbWFnZXMvYnV0dG9uLWJhY2sucG5nJyksXG4gICAgICAgICAgICAnYnV0dG9uX2NhcnQnOiBzZWxmLmdldEFzc2V0VXJsKCdpbWFnZXMvYnV0dG9uLWNhcnQucG5nJyksXG4gICAgICAgICAgICAnYnV0dG9uX3JvdGF0ZSc6IHNlbGYuZ2V0QXNzZXRVcmwoJ2ltYWdlcy9idXR0b24tcm90YXRlLnBuZycpLFxuICAgICAgICAgICAgJ2J1dHRvbl93YWl0ZXInOiBzZWxmLmdldEFzc2V0VXJsKCdpbWFnZXMvYnV0dG9uLWFzc2lzdGFuY2UucG5nJyksXG4gICAgICAgICAgICAnYnV0dG9uX2NoZWNrJzogc2VsZi5nZXRBc3NldFVybCgnaW1hZ2VzL2J1dHRvbi1jbG9zZW91dC5wbmcnKSxcbiAgICAgICAgICAgICdidXR0b25fc3VydmV5Jzogc2VsZi5nZXRBc3NldFVybCgnaW1hZ2VzL2J1dHRvbi1zdXJ2ZXkucG5nJyksXG4gICAgICAgICAgICAnYnV0dG9uX2NoYXQnOiBzZWxmLmdldEFzc2V0VXJsKCdpbWFnZXMvYnV0dG9uLWNoYXQucG5nJylcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdnYWxheGllcyc6XG4gICAgICAgICAgZWxlbWVudHMgPSB7XG4gICAgICAgICAgICAnYnV0dG9uX2JhY2snOiBzZWxmLmdldEFzc2V0VXJsKCdpbWFnZXMvYnV0dG9uLWJhY2sucG5nJyksXG4gICAgICAgICAgICAnYnV0dG9uX3JvdGF0ZSc6IHNlbGYuZ2V0QXNzZXRVcmwoJ2ltYWdlcy9idXR0b24tcm90YXRlLnBuZycpLFxuICAgICAgICAgICAgJ2J1dHRvbl9zZXR0aW5ncyc6IHNlbGYuZ2V0QXNzZXRVcmwoJ2ltYWdlcy9idXR0b24tc2V0dGluZ3MucG5nJyksXG4gICAgICAgICAgICAnbG9jYXRpb25fbG9nbyc6IHNlbGYuZ2V0QXNzZXRVcmwoJ2ltYWdlcy9idXR0b24tbG9nby5wbmcnKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gcmVzcG9uc2UuZWxlbWVudHNbaV07XG4gICAgICAgIGVsZW1lbnRzW2VsZW1lbnQuc2xvdF0gPSBlbGVtZW50LnNyYztcbiAgICAgIH1cblxuICAgICAgc2VsZi5fU2hlbGxNb2RlbC5lbGVtZW50cyA9IGVsZW1lbnRzO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgIHRhc2tCYWNrZ3JvdW5kcyxcbiAgICAgIHRhc2tFbGVtZW50c1xuICAgIF0pO1xuICB9XG5cbiAgZm9ybWF0UHJpY2UocHJpY2UpIHtcbiAgICByZXR1cm4gdGhpcy5fU2hlbGxNb2RlbC5wcmljZUZvcm1hdC5yZXBsYWNlKC97KFxcZCspfS9nLCAoKSA9PiBwcmljZS50b0ZpeGVkKDIpKTtcbiAgfVxuXG4gIGdldFBhZ2VCYWNrZ3JvdW5kcyhsb2NhdGlvbikge1xuICAgIHJldHVybiB0aGlzLl9TaGVsbE1vZGVsLnBhZ2VCYWNrZ3JvdW5kcy5maWx0ZXIoaXRlbSA9PiB7XG4gICAgICByZXR1cm4gaXRlbS5kZXN0aW5hdGlvbi50eXBlID09PSBsb2NhdGlvbi50eXBlICYmXG4gICAgICAgIChpdGVtLmRlc3RpbmF0aW9uLnRva2VuID09PSBsb2NhdGlvbi50b2tlbiAmJiBsb2NhdGlvbi50b2tlbiB8fFxuICAgICAgICAgaXRlbS5kZXN0aW5hdGlvbi51cmwgPT09IGxvY2F0aW9uLnVybCAmJiBsb2NhdGlvbi51cmwpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0QXNzZXRVcmwoZmlsZSkge1xuICAgIHZhciBwYXRoID0gdGhpcy5fZ2V0UGF0aCh0aGlzLl9Ib3N0cy5zdGF0aWMpO1xuXG4gICAgcmV0dXJuIGAke3BhdGh9YXNzZXRzLyR7dGhpcy5fU05BUExvY2F0aW9uLnRoZW1lLmxheW91dH0vJHtmaWxlfWA7XG4gIH1cblxuICBnZXRQYXJ0aWFsVXJsKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBc3NldFVybChgcGFydGlhbHMvJHtuYW1lfS5odG1sYCk7XG4gIH1cblxuICBnZXRNZWRpYVVybChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKSB7XG4gICAgaWYgKCFtZWRpYSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHBhdGggPSB0aGlzLl9nZXRQYXRoKHRoaXMuX0hvc3RzLm1lZGlhKTtcblxuICAgIGlmICh0eXBlb2YgbWVkaWEgPT09ICdzdHJpbmcnIHx8IG1lZGlhIGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICBpZiAobWVkaWEuaW5kZXhPZignLycpID09PSAtMSAmJiBtZWRpYS5pbmRleE9mKCcuJykgPT09IC0xKSB7XG4gICAgICAgIGV4dGVuc2lvbiA9IGV4dGVuc2lvbiB8fCAnanBnJztcbiAgICAgICAgcmV0dXJuIGAke3BhdGh9bWVkaWEvJHttZWRpYX1fJHt3aWR0aH1fJHtoZWlnaHR9LiR7ZXh0ZW5zaW9ufWA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtZWRpYTtcbiAgICB9XG5cbiAgICBpZiAoIW1lZGlhLnRva2VuKSB7XG4gICAgICByZXR1cm4gbWVkaWE7XG4gICAgfVxuXG4gICAgdmFyIHR5cGUgPSB0aGlzLmdldE1lZGlhVHlwZShtZWRpYSk7XG4gICAgdmFyIHVybCA9IGAke3BhdGh9bWVkaWEvJHttZWRpYS50b2tlbn1gO1xuXG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgdXJsICs9ICcud2VibSc7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdmbGFzaCcpIHtcbiAgICAgIHVybCArPSAnLnN3Zic7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdpbWFnZScpIHtcbiAgICAgIGlmICh3aWR0aCAmJiBoZWlnaHQpIHtcbiAgICAgICAgdXJsICs9ICdfJyArIHdpZHRoICsgJ18nICsgaGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBpZiAoZXh0ZW5zaW9uKSB7XG4gICAgICAgIHVybCArPSAnLicgKyBleHRlbnNpb247XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFtZWRpYSB8fCAhbWVkaWEubWltZV90eXBlKSB7XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKG1lZGlhLm1pbWVfdHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2ltYWdlL3BuZyc6XG4gICAgICAgICAgICB1cmwgKz0gJy5wbmcnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHVybCArPSAnLmpwZyc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICBnZXRNZWRpYVR5cGUobWVkaWEpIHtcbiAgICBpZiAoIW1lZGlhIHx8ICFtZWRpYS5taW1lX3R5cGUpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKG1lZGlhLm1pbWVfdHlwZS5zdWJzdHJpbmcoMCwgNSkgPT09ICdpbWFnZScpe1xuICAgICAgcmV0dXJuICdpbWFnZSc7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1lZGlhLm1pbWVfdHlwZS5zdWJzdHJpbmcoMCwgNSkgPT09ICd2aWRlbycpIHtcbiAgICAgIHJldHVybiAndmlkZW8nO1xuICAgIH1cbiAgICBlbHNlIGlmIChtZWRpYS5taW1lX3R5cGUgPT09ICdhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCcpIHtcbiAgICAgIHJldHVybiAnZmxhc2gnO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBnZXQgdGlsZVN0eWxlKCkge1xuICAgIHZhciBzdHlsZSA9ICd0aWxlJztcblxuICAgIHN3aXRjaCAodGhpcy5fU05BUExvY2F0aW9uLnRoZW1lLnRpbGVzX3N0eWxlKSB7XG4gICAgICBjYXNlICdyZWd1bGFyJzpcbiAgICAgICAgc3R5bGUgKz0gJyB0aWxlLXJlZ3VsYXInO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgLy9zdHlsZSArPSAnIHRpbGUtcmVndWxhcic7XG4gICAgcmV0dXJuIHN0eWxlO1xuICB9XG5cbiAgZ2V0IHByZWRpY2F0ZUV2ZW4oKSB7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICByZXR1cm4gKCkgPT4gaW5kZXgrKyAlIDIgPT09IDE7XG4gIH1cblxuICBnZXQgcHJlZGljYXRlT2RkKCkge1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgcmV0dXJuICgpID0+IGluZGV4KysgJSAyID09PSAwO1xuICB9XG5cbiAgX2dldFBhdGgocmVzKSB7XG4gICAgdmFyIHBhdGggPSAnJztcblxuICAgIGlmIChyZXMucHJvdG9jb2wpIHtcbiAgICAgIHBhdGggKz0gYCR7cmVzLnByb2ZvY29sfTovL2A7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlcy5zZWN1cmUpIHtcbiAgICAgIHBhdGggKz0gYGh0dHBzOi8vYDtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVzLnNlY3VyZSA9PT0gZmFsc2UpIHtcbiAgICAgIHBhdGggKz0gYGh0dHA6Ly9gO1xuICAgIH1cblxuICAgIGlmIChyZXMuaG9zdCkge1xuICAgICAgaWYgKCFyZXMucHJvdG9jb2wgJiYgcGF0aCA9PT0gJycpIHtcbiAgICAgICAgcGF0aCArPSAnLy8nO1xuICAgICAgfVxuICAgICAgcGF0aCArPSByZXMuaG9zdDtcbiAgICB9XG5cbiAgICBpZiAocmVzLnBhdGgpIHtcbiAgICAgIHBhdGggKz0gcmVzLnBhdGg7XG4gICAgfVxuXG4gICAgaWYgKHBhdGgubGVuZ3RoID4gMCAmJiAhcGF0aC5lbmRzV2l0aCgnLycpKSB7XG4gICAgICBwYXRoICs9ICcvJztcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aDtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21hbmFnZXJzL3NvY2lhbG1hbmFnZXIuanNcblxuKGZ1bmN0aW9uKCkge1xuXG4gIC8qIGdsb2JhbCBVUkkgKi9cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgU29jaWFsTWFuYWdlclxuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIHZhciBTb2NpYWxNYW5hZ2VyID0gZnVuY3Rpb24oU05BUEVudmlyb25tZW50LCBEdHNBcGksIFdlYkJyb3dzZXIsIExvZ2dlcikge1xuICAgIHRoaXMuX1NOQVBFbnZpcm9ubWVudCA9IFNOQVBFbnZpcm9ubWVudDtcbiAgICB0aGlzLl9EdHNBcGkgPSBEdHNBcGk7XG4gICAgdGhpcy5fV2ViQnJvd3NlciA9IFdlYkJyb3dzZXI7XG4gICAgdGhpcy5fTG9nZ2VyID0gTG9nZ2VyO1xuICB9O1xuXG4gIHdpbmRvdy5hcHAuU29jaWFsTWFuYWdlciA9IFNvY2lhbE1hbmFnZXI7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBMb2dpblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgU29jaWFsTWFuYWdlci5wcm90b3R5cGUubG9naW5GYWNlYm9vayA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgZmFjZWJvb2tBcHAgPSB0aGlzLl9TTkFQRW52aXJvbm1lbnQuZmFjZWJvb2tfYXBwbGljYXRpb24sXG4gICAgICAgIGN1c3RvbWVyQXBwID0gdGhpcy5fU05BUEVudmlyb25tZW50LmN1c3RvbWVyX2FwcGxpY2F0aW9uO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgICAgc2VsZi5fV2ViQnJvd3Nlci5vbk5hdmlnYXRlZC5yZW1vdmUob25OYXZpZ2F0ZWQpO1xuICAgICAgICBzZWxmLl9XZWJCcm93c2VyLmNsb3NlKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBfcmVqZWN0ID0gcmVqZWN0LCBfcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICByZWplY3QgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnVW5hYmxlIHRvIGxvZ2luIHdpdGggRmFjZWJvb2s6ICcgKyBlKTtcbiAgICAgICAgZGlzcG9zZSgpO1xuICAgICAgICBfcmVqZWN0KGUpO1xuICAgICAgfTtcbiAgICAgIHJlc29sdmUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnRmFjZWJvb2sgbG9naW4gY29tcGxldGUuJyk7XG4gICAgICAgIGRpc3Bvc2UoKTtcbiAgICAgICAgX3Jlc29sdmUoZGF0YSk7XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBvbk5hdmlnYXRlZCh1cmwpIHtcbiAgICAgICAgaWYgKHVybC5pbmRleE9mKGZhY2Vib29rQXBwLnJlZGlyZWN0X3VybCkgPT09IDApIHtcbiAgICAgICAgICB2YXIgZmFjZWJvb2tBdXRoID0gVVJJKCc/JyArIFVSSSh1cmwpLmZyYWdtZW50KCkpLnNlYXJjaCh0cnVlKTtcblxuICAgICAgICAgIGlmIChmYWNlYm9va0F1dGguZXJyb3IgfHwgIWZhY2Vib29rQXV0aC5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnRmFjZWJvb2sgY2FsbGJhY2sgZXJyb3I6ICcgKyBmYWNlYm9va0F1dGguZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChmYWNlYm9va0F1dGguZXJyb3IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnRmFjZWJvb2sgY2FsbGJhY2sgcmVjZWl2ZWQuJyk7XG5cbiAgICAgICAgICBzZWxmLl9EdHNBcGkuY3VzdG9tZXIuc2lnblVwRmFjZWJvb2soe1xuICAgICAgICAgICAgYWNjZXNzX3Rva2VuOiBmYWNlYm9va0F1dGguYWNjZXNzX3Rva2VuLFxuICAgICAgICAgICAgY2xpZW50X2lkOiBjdXN0b21lckFwcC5jbGllbnRfaWRcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHRpY2tldCkge1xuICAgICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdGYWNlYm9vayBzaWduaW4gY29tcGxldGUuJyk7XG5cbiAgICAgICAgICAgIHZhciB1cmwgPSBzZWxmLl9EdHNBcGkub2F1dGgyLmdldEF1dGhDb25maXJtVXJsKHRpY2tldC50aWNrZXRfaWQsIHtcbiAgICAgICAgICAgICAgY2xpZW50X2lkOiBjdXN0b21lckFwcC5jbGllbnRfaWQsXG4gICAgICAgICAgICAgIHJlc3BvbnNlX3R5cGU6ICd0b2tlbicsXG4gICAgICAgICAgICAgIHJlZGlyZWN0X3VyaTogY3VzdG9tZXJBcHAuY2FsbGJhY2tfdXJsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2VsZi5fV2ViQnJvd3Nlci5vcGVuKHVybCk7XG4gICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1cmwuaW5kZXhPZihjdXN0b21lckFwcC5jYWxsYmFja191cmwpID09PSAwKSB7XG4gICAgICAgICAgdmFyIGN1c3RvbWVyQXV0aCA9IFVSSSgnPycgKyBVUkkodXJsKS5mcmFnbWVudCgpKS5zZWFyY2godHJ1ZSk7XG5cbiAgICAgICAgICBpZiAoY3VzdG9tZXJBdXRoLmVycm9yIHx8ICFjdXN0b21lckF1dGguYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ0ZhY2Vib29rIGN1c3RvbWVyIGNhbGxiYWNrIGVycm9yOiAnICsgY3VzdG9tZXJBdXRoLmVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoY3VzdG9tZXJBdXRoLmVycm9yKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ0ZhY2Vib29rIGN1c3RvbWVyIGxvZ2luIGNvbXBsZXRlLicpO1xuXG4gICAgICAgICAgcmVzb2x2ZShjdXN0b21lckF1dGgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNlbGYuX1dlYkJyb3dzZXIub25OYXZpZ2F0ZWQuYWRkKG9uTmF2aWdhdGVkKTtcblxuICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdMb2dnaW5nIGluIHdpdGggRmFjZWJvb2suJyk7XG5cbiAgICAgIHZhciB1cmwgPSBVUkkoJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9kaWFsb2cvb2F1dGgnKVxuICAgICAgICAuYWRkU2VhcmNoKCdjbGllbnRfaWQnLCBmYWNlYm9va0FwcC5jbGllbnRfaWQpXG4gICAgICAgIC5hZGRTZWFyY2goJ3JlZGlyZWN0X3VyaScsIGZhY2Vib29rQXBwLnJlZGlyZWN0X3VybClcbiAgICAgICAgLmFkZFNlYXJjaCgncmVzcG9uc2VfdHlwZScsICd0b2tlbicpXG4gICAgICAgIC5hZGRTZWFyY2goJ3Njb3BlJywgJ3B1YmxpY19wcm9maWxlLGVtYWlsJylcbiAgICAgICAgLnRvU3RyaW5nKCk7XG5cbiAgICAgIHNlbGYuX1dlYkJyb3dzZXIub3Blbih1cmwpO1xuICAgIH0pO1xuICB9O1xuXG4gIFNvY2lhbE1hbmFnZXIucHJvdG90eXBlLmxvZ2luR29vZ2xlUGx1cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgZ29vZ2xlcGx1c0FwcCA9IHRoaXMuX1NOQVBFbnZpcm9ubWVudC5nb29nbGVwbHVzX2FwcGxpY2F0aW9uLFxuICAgICAgICBjdXN0b21lckFwcCA9IHRoaXMuX1NOQVBFbnZpcm9ubWVudC5jdXN0b21lcl9hcHBsaWNhdGlvbjtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBzdGF0ZSA9IHNlbGYuX2dlbmVyYXRlVG9rZW4oKTtcblxuICAgICAgZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgICAgc2VsZi5fV2ViQnJvd3Nlci5vbk5hdmlnYXRlZC5yZW1vdmUob25OYXZpZ2F0ZWQpO1xuICAgICAgICBzZWxmLl9XZWJCcm93c2VyLmNsb3NlKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBfcmVqZWN0ID0gcmVqZWN0LCBfcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICByZWplY3QgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnVW5hYmxlIHRvIGxvZ2luIHdpdGggR29vZ2xlOiAnICsgZSk7XG4gICAgICAgIGRpc3Bvc2UoKTtcbiAgICAgICAgX3JlamVjdChlKTtcbiAgICAgIH07XG4gICAgICByZXNvbHZlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ0dvb2dsZSBsb2dpbiBjb21wbGV0ZS4nKTtcbiAgICAgICAgZGlzcG9zZSgpO1xuICAgICAgICBfcmVzb2x2ZShkYXRhKTtcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIG9uTmF2aWdhdGVkKHVybCkge1xuICAgICAgICBpZiAodXJsLmluZGV4T2YoZ29vZ2xlcGx1c0FwcC5yZWRpcmVjdF91cmwpID09PSAwKSB7XG4gICAgICAgICAgdmFyIGdvb2dsZXBsdXNBdXRoID0gVVJJKHVybCkuc2VhcmNoKHRydWUpO1xuXG4gICAgICAgICAgaWYgKGdvb2dsZXBsdXNBdXRoLmVycm9yIHx8ICFnb29nbGVwbHVzQXV0aC5jb2RlIHx8IGdvb2dsZXBsdXNBdXRoLnN0YXRlICE9PSBzdGF0ZSkge1xuICAgICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdHb29nbGUgY2FsbGJhY2sgZXJyb3I6ICcgKyBnb29nbGVwbHVzQXV0aC5lcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGdvb2dsZXBsdXNBdXRoLmVycm9yKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ0dvb2dsZSBjYWxsYmFjayByZWNlaXZlZC4nKTtcblxuICAgICAgICAgIHNlbGYuX0R0c0FwaS5jdXN0b21lci5zaWduVXBHb29nbGVQbHVzKHtcbiAgICAgICAgICAgIGNvZGU6IGdvb2dsZXBsdXNBdXRoLmNvZGUsXG4gICAgICAgICAgICBjbGllbnRfaWQ6IGN1c3RvbWVyQXBwLmNsaWVudF9pZFxuICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24odGlja2V0KSB7XG4gICAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ0dvb2dsZSBzaWduaW4gY29tcGxldGUuJyk7XG5cbiAgICAgICAgICAgIHZhciB1cmwgPSBzZWxmLl9EdHNBcGkub2F1dGgyLmdldEF1dGhDb25maXJtVXJsKHRpY2tldC50aWNrZXRfaWQsIHtcbiAgICAgICAgICAgICAgY2xpZW50X2lkOiBjdXN0b21lckFwcC5jbGllbnRfaWQsXG4gICAgICAgICAgICAgIHJlc3BvbnNlX3R5cGU6ICd0b2tlbicsXG4gICAgICAgICAgICAgIHJlZGlyZWN0X3VyaTogY3VzdG9tZXJBcHAuY2FsbGJhY2tfdXJsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2VsZi5fV2ViQnJvd3Nlci5vcGVuKHVybCk7XG4gICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1cmwuaW5kZXhPZihjdXN0b21lckFwcC5jYWxsYmFja191cmwpID09PSAwKSB7XG4gICAgICAgICAgdmFyIGN1c3RvbWVyQXV0aCA9IFVSSSgnPycgKyBVUkkodXJsKS5mcmFnbWVudCgpKS5zZWFyY2godHJ1ZSk7XG5cbiAgICAgICAgICBpZiAoY3VzdG9tZXJBdXRoLmVycm9yIHx8ICFjdXN0b21lckF1dGguYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ0dvb2dsZSBjdXN0b21lciBjYWxsYmFjayBlcnJvcjogJyArIGN1c3RvbWVyQXV0aC5lcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGN1c3RvbWVyQXV0aC5lcnJvcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdHb29nbGUgY3VzdG9tZXIgbG9naW4gY29tcGxldGUuJyk7XG5cbiAgICAgICAgICByZXNvbHZlKGN1c3RvbWVyQXV0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2VsZi5fV2ViQnJvd3Nlci5vbk5hdmlnYXRlZC5hZGQob25OYXZpZ2F0ZWQpO1xuXG4gICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ0xvZ2dpbmcgaW4gd2l0aCBHb29nbGUuJyk7XG5cbiAgICAgIHZhciB1cmwgPSBVUkkoJ2h0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi9hdXRoJylcbiAgICAgICAgLmFkZFNlYXJjaCgnY2xpZW50X2lkJywgZ29vZ2xlcGx1c0FwcC5jbGllbnRfaWQpXG4gICAgICAgIC5hZGRTZWFyY2goJ3JlZGlyZWN0X3VyaScsIGdvb2dsZXBsdXNBcHAucmVkaXJlY3RfdXJsKVxuICAgICAgICAuYWRkU2VhcmNoKCdyZXNwb25zZV90eXBlJywgJ2NvZGUnKVxuICAgICAgICAuYWRkU2VhcmNoKCdzY29wZScsICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3BsdXMubG9naW4gZW1haWwnKVxuICAgICAgICAuYWRkU2VhcmNoKCdhY2Nlc3NfdHlwZScsICdvZmZsaW5lJylcbiAgICAgICAgLmFkZFNlYXJjaCgnc3RhdGUnLCBzdGF0ZSlcbiAgICAgICAgLnRvU3RyaW5nKCk7XG5cbiAgICAgIHNlbGYuX1dlYkJyb3dzZXIub3Blbih1cmwpO1xuICAgIH0pO1xuICB9O1xuXG4gIFNvY2lhbE1hbmFnZXIucHJvdG90eXBlLmxvZ2luVHdpdHRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgdHdpdHRlckFwcCA9IHRoaXMuX1NOQVBFbnZpcm9ubWVudC50d2l0dGVyX2FwcGxpY2F0aW9uLFxuICAgICAgICBjdXN0b21lckFwcCA9IHRoaXMuX1NOQVBFbnZpcm9ubWVudC5jdXN0b21lcl9hcHBsaWNhdGlvbjtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciB0b2tlblNlY3JldDtcblxuICAgICAgZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgICAgc2VsZi5fV2ViQnJvd3Nlci5vbk5hdmlnYXRlZC5yZW1vdmUob25OYXZpZ2F0ZWQpO1xuICAgICAgICBzZWxmLl9XZWJCcm93c2VyLmNsb3NlKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBfcmVqZWN0ID0gcmVqZWN0LCBfcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICByZWplY3QgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnVW5hYmxlIHRvIGxvZ2luIHdpdGggVHdpdHRlcjogJyArIGUpO1xuICAgICAgICBkaXNwb3NlKCk7XG4gICAgICAgIF9yZWplY3QoZSk7XG4gICAgICB9O1xuICAgICAgcmVzb2x2ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdUd2l0dGVyIGxvZ2luIGNvbXBsZXRlLicpO1xuICAgICAgICBkaXNwb3NlKCk7XG4gICAgICAgIF9yZXNvbHZlKGRhdGEpO1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gb25OYXZpZ2F0ZWQodXJsKSB7XG4gICAgICAgIGlmICh1cmwuaW5kZXhPZih0d2l0dGVyQXBwLnJlZGlyZWN0X3VybCkgPT09IDApIHtcbiAgICAgICAgICB2YXIgdHdpdHRlckF1dGggPSBVUkkodXJsKS5zZWFyY2godHJ1ZSk7XG5cbiAgICAgICAgICBpZiAodHdpdHRlckF1dGguZXJyb3IgfHwgIXR3aXR0ZXJBdXRoLm9hdXRoX3ZlcmlmaWVyKSB7XG4gICAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ1R3aXR0ZXIgY2FsbGJhY2sgZXJyb3I6ICcgKyB0d2l0dGVyQXV0aC5lcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KHR3aXR0ZXJBdXRoLmVycm9yKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLl9Mb2dnZXIuZGVidWcoJ1R3aXR0ZXIgY2FsbGJhY2sgcmVjZWl2ZWQuJyk7XG5cbiAgICAgICAgICBzZWxmLl9EdHNBcGkuY3VzdG9tZXIuc2lnblVwVHdpdHRlcih7XG4gICAgICAgICAgICBjbGllbnRfaWQ6IGN1c3RvbWVyQXBwLmNsaWVudF9pZCxcbiAgICAgICAgICAgIHJlcXVlc3RfdG9rZW46IHR3aXR0ZXJBdXRoLm9hdXRoX3Rva2VuLFxuICAgICAgICAgICAgcmVxdWVzdF90b2tlbl9zZWNyZXQ6IHRva2VuU2VjcmV0LFxuICAgICAgICAgICAgcmVxdWVzdF90b2tlbl92ZXJpZmllcjogdHdpdHRlckF1dGgub2F1dGhfdmVyaWZpZXJcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHRpY2tldCkge1xuICAgICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdUd2l0dGVyIHNpZ25pbiBjb21wbGV0ZS4nKTtcblxuICAgICAgICAgICAgdmFyIHVybCA9IHNlbGYuX0R0c0FwaS5vYXV0aDIuZ2V0QXV0aENvbmZpcm1VcmwodGlja2V0LnRpY2tldF9pZCwge1xuICAgICAgICAgICAgICBjbGllbnRfaWQ6IGN1c3RvbWVyQXBwLmNsaWVudF9pZCxcbiAgICAgICAgICAgICAgcmVzcG9uc2VfdHlwZTogJ3Rva2VuJyxcbiAgICAgICAgICAgICAgcmVkaXJlY3RfdXJpOiBjdXN0b21lckFwcC5jYWxsYmFja191cmxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzZWxmLl9XZWJCcm93c2VyLm9wZW4odXJsKTtcbiAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHVybC5pbmRleE9mKGN1c3RvbWVyQXBwLmNhbGxiYWNrX3VybCkgPT09IDApIHtcbiAgICAgICAgICB2YXIgY3VzdG9tZXJBdXRoID0gVVJJKCc/JyArIFVSSSh1cmwpLmZyYWdtZW50KCkpLnNlYXJjaCh0cnVlKTtcblxuICAgICAgICAgIGlmIChjdXN0b21lckF1dGguZXJyb3IgfHwgIWN1c3RvbWVyQXV0aC5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnVHdpdHRlciBjdXN0b21lciBjYWxsYmFjayBlcnJvcjogJyArIGN1c3RvbWVyQXV0aC5lcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGN1c3RvbWVyQXV0aC5lcnJvcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdUd2l0dGVyIGN1c3RvbWVyIGxvZ2luIGNvbXBsZXRlLicpO1xuXG4gICAgICAgICAgcmVzb2x2ZShjdXN0b21lckF1dGgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNlbGYuX1dlYkJyb3dzZXIub25OYXZpZ2F0ZWQuYWRkKG9uTmF2aWdhdGVkKTtcblxuICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKCdMb2dnaW5nIGluIHdpdGggVHdpdHRlci4nKTtcblxuICAgICAgc2VsZi5fRHRzQXBpLmN1c3RvbWVyLnNpZ25VcFR3aXR0ZXJSZXF1ZXN0VG9rZW4oe1xuICAgICAgICBvYXV0aF9jYWxsYmFjazogdHdpdHRlckFwcC5yZWRpcmVjdF91cmxcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24odG9rZW4pIHtcbiAgICAgICAgdmFyIHVybCA9IFVSSSgnaHR0cHM6Ly9hcGkudHdpdHRlci5jb20vb2F1dGgvYXV0aGVudGljYXRlJylcbiAgICAgICAgLmFkZFNlYXJjaCgnb2F1dGhfdG9rZW4nLCB0b2tlbi5vYXV0aF90b2tlbilcbiAgICAgICAgLmFkZFNlYXJjaCgnZm9yY2VfbG9naW4nLCAndHJ1ZScpXG4gICAgICAgIC50b1N0cmluZygpO1xuXG4gICAgICAgIHNlbGYuX0xvZ2dlci5kZWJ1ZygnVHdpdHRlciByZXF1ZXN0IHRva2VuIHJlY2VpdmVkLicpO1xuXG4gICAgICAgIHRva2VuU2VjcmV0ID0gdG9rZW4ub2F1dGhfdG9rZW5fc2VjcmV0O1xuICAgICAgICBzZWxmLl9XZWJCcm93c2VyLm9wZW4odXJsKTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBIZWxwZXJzXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBTb2NpYWxNYW5hZ2VyLnByb3RvdHlwZS5fZ2VuZXJhdGVUb2tlbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uKGMpIHtcbiAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSoxNnwwLCB2ID0gYyA9PT0gJ3gnID8gciA6IChyJjB4M3wweDgpO1xuICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xuICB9O1xuXG59KSgpO1xuXG4vL3NyYy9qcy9zaGFyZWQvbWFuYWdlcnMvc29mdHdhcmVtYW5hZ2VyLmpzXG5cbihmdW5jdGlvbigpIHtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgU29mdHdhcmVNYW5hZ2VyXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgdmFyIFNvZnR3YXJlTWFuYWdlciA9IGZ1bmN0aW9uKFNOQVBFbnZpcm9ubWVudCkge1xuICAgIHRoaXMuX1NOQVBFbnZpcm9ubWVudCA9IFNOQVBFbnZpcm9ubWVudDtcbiAgfTtcblxuICB3aW5kb3cuYXBwLlNvZnR3YXJlTWFuYWdlciA9IFNvZnR3YXJlTWFuYWdlcjtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU29mdHdhcmVNYW5hZ2VyLnByb3RvdHlwZSwgJ2N1cnJlbnRWZXJzaW9uJywge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGF0dGVybiA9IC8oU05BUClcXC8oWzAtOS5dKykvLFxuICAgICAgICAgIG1hdGNoID0gcGF0dGVybi5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHJldHVybiAnOC44LjguOCc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtYXRjaFsxXTtcbiAgICB9XG4gIH0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTb2Z0d2FyZU1hbmFnZXIucHJvdG90eXBlLCAncmVxdWlyZWRWZXJzaW9uJywge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fU05BUEVudmlyb25tZW50LnJlcXVpcmVtZW50c1t0aGlzLl9TTkFQRW52aXJvbm1lbnQucGxhdGZvcm1dO1xuICAgIH1cbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvZnR3YXJlTWFuYWdlci5wcm90b3R5cGUsICd1cGRhdGVSZXF1aXJlZCcsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZlcnNpb25Db21wYXJlKHRoaXMuY3VycmVudFZlcnNpb24sIHRoaXMucmVxdWlyZWRWZXJzaW9uKSA9PT0gLTE7XG4gICAgfVxuICB9KTtcblxuICBTb2Z0d2FyZU1hbmFnZXIucHJvdG90eXBlLl92ZXJzaW9uQ29tcGFyZSA9IGZ1bmN0aW9uKHYxLCB2Miwgb3B0aW9ucykge1xuICAgIGlmICghdjEgfHwgIXYyKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICB2YXIgbGV4aWNvZ3JhcGhpY2FsID0gb3B0aW9ucyAmJiBvcHRpb25zLmxleGljb2dyYXBoaWNhbCxcbiAgICAgICAgemVyb0V4dGVuZCA9IG9wdGlvbnMgJiYgb3B0aW9ucy56ZXJvRXh0ZW5kLFxuICAgICAgICB2MXBhcnRzID0gdjEuc3BsaXQoJy4nKSxcbiAgICAgICAgdjJwYXJ0cyA9IHYyLnNwbGl0KCcuJyk7XG5cbiAgICBmdW5jdGlvbiBpc1ZhbGlkUGFydCh4KSB7XG4gICAgICByZXR1cm4gKGxleGljb2dyYXBoaWNhbCA/IC9eXFxkK1tBLVphLXpdKiQvIDogL15cXGQrJC8pLnRlc3QoeCk7XG4gICAgfVxuXG4gICAgaWYgKCF2MXBhcnRzLmV2ZXJ5KGlzVmFsaWRQYXJ0KSB8fCAhdjJwYXJ0cy5ldmVyeShpc1ZhbGlkUGFydCkpIHtcbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuXG4gICAgaWYgKHplcm9FeHRlbmQpIHtcbiAgICAgIHdoaWxlICh2MXBhcnRzLmxlbmd0aCA8IHYycGFydHMubGVuZ3RoKSB7XG4gICAgICAgIHYxcGFydHMucHVzaCgnMCcpO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHYycGFydHMubGVuZ3RoIDwgdjFwYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgdjJwYXJ0cy5wdXNoKCcwJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFsZXhpY29ncmFwaGljYWwpIHtcbiAgICAgIHYxcGFydHMgPSB2MXBhcnRzLm1hcChOdW1iZXIpO1xuICAgICAgdjJwYXJ0cyA9IHYycGFydHMubWFwKE51bWJlcik7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2MXBhcnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAodjJwYXJ0cy5sZW5ndGggPT09IGkpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG5cbiAgICAgIGlmICh2MXBhcnRzW2ldID09PSB2MnBhcnRzW2ldKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodjFwYXJ0c1tpXSA+IHYycGFydHNbaV0pIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh2MXBhcnRzLmxlbmd0aCAhPT0gdjJwYXJ0cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbiAgfTtcbn0pKCk7XG5cbi8vc3JjL2pzL3NoYXJlZC9tYW5hZ2Vycy9zdXJ2ZXltYW5hZ2VyLmpzXG5cbndpbmRvdy5hcHAuU3VydmV5TWFuYWdlciA9IGNsYXNzIFN1cnZleU1hbmFnZXIgZXh0ZW5kcyBhcHAuQWJzdHJhY3RNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoRGF0YU1vZGVsLCBTdXJ2ZXlNb2RlbCwgTG9nZ2VyKSB7XG4gICAgc3VwZXIoTG9nZ2VyKTtcblxuICAgIHRoaXMuX0RhdGFNb2RlbCA9IERhdGFNb2RlbDtcbiAgICB0aGlzLl9TdXJ2ZXlNb2RlbCA9IFN1cnZleU1vZGVsO1xuICB9XG5cbiAgZ2V0IG1vZGVsKCkge1xuICAgIHJldHVybiB0aGlzLl9TdXJ2ZXlNb2RlbDtcbiAgfVxuXG4gIGluaXRpYWxpemUoKSB7XG4gICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuXG4gICAgaWYgKHRoaXMubW9kZWwuaXNFbmFibGVkKSB7XG4gICAgICB0aGlzLl9EYXRhTW9kZWwuc3VydmV5cygpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIHRoaXMubW9kZWwuZmVlZGJhY2tTdXJ2ZXkgPSBkYXRhLnN1cnZleXNbMF07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICBzdXBlci5yZXNldCgpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICh0aGlzLm1vZGVsLmlzRW5hYmxlZCkge1xuICAgICAgICB0aGlzLm1vZGVsLmZlZWRiYWNrU3VydmV5Q29tcGxldGUgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbW9kZWwvYWJzdHJhY3Rtb2RlbC5qc1xuXG53aW5kb3cuYXBwLkFic3RyYWN0TW9kZWwgPSBjbGFzcyBBYnN0cmFjdE1vZGVsIHtcbiAgLyogZ2xvYmFsIHNpZ25hbHMgKi9cblxuICBjb25zdHJ1Y3RvcihzdG9yYWdlUHJvdmlkZXIpIHtcbiAgICB0aGlzLl9zdG9yYWdlUHJvdmlkZXIgPSBzdG9yYWdlUHJvdmlkZXI7XG4gICAgdGhpcy5fcHJvcGVydGllcyA9IHt9O1xuICB9XG5cbiAgX2RlZmluZVByb3BlcnR5KG5hbWUsIHN0b3JlTmFtZSwgZGVmYXVsdFZhbHVlLCBwcm92aWRlckZ1bmN0aW9uKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBwcm9wZXJ0eSA9IHRoaXMuX3Byb3BlcnRpZXNbbmFtZV0gPSB7IG5hbWU6ICdfJyArIG5hbWUgfTtcblxuICAgIGlmIChzdG9yZU5hbWUpIHtcbiAgICAgIHByb3BlcnR5LnN0b3JlID0gdGhpcy5fc3RvcmFnZVByb3ZpZGVyKHN0b3JlTmFtZSk7XG4gICAgfVxuXG4gICAgaWYgKHByb3ZpZGVyRnVuY3Rpb24pIHtcbiAgICAgIHByb3BlcnR5LnByb3ZpZGVyID0gcHJvdmlkZXJGdW5jdGlvbjtcbiAgICB9XG5cbiAgICB0aGlzW25hbWUgKyAnQ2hhbmdlZCddID0gcHJvcGVydHkuc2lnbmFsID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgbmFtZSwge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHNlbGZbcHJvcGVydHkubmFtZV0gfHwgZGVmYXVsdFZhbHVlO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBzZWxmW3Byb3BlcnR5Lm5hbWVdKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZltwcm9wZXJ0eS5uYW1lXSA9IHZhbHVlO1xuXG4gICAgICAgIGlmIChwcm9wZXJ0eS5zdG9yZSkge1xuICAgICAgICAgIHByb3BlcnR5LnN0b3JlLndyaXRlKHZhbHVlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHByb3BlcnR5LnNpZ25hbC5kaXNwYXRjaCh2YWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9pbml0UHJvcGVydHkobmFtZSkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgcHJvcGVydHkgPSB0aGlzLl9wcm9wZXJ0aWVzW25hbWVdO1xuXG4gICAgaWYgKCFwcm9wZXJ0eSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm9wZXJ0eSAnJHtuYW1lfScgbm90IGZvdW5kLmApO1xuICAgIH1cblxuICAgIGlmIChwcm9wZXJ0eS5pbml0aWFsaXplZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm9wZXJ0eSAnJHtuYW1lfScgaXMgYWxyZWFkeSBpbml0aWFsaXplZC5gKTtcbiAgICB9XG5cbiAgICBpZiAoIXByb3BlcnR5LnN0b3JlKSB7XG4gICAgICBwcm9wZXJ0eS5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3BlcnR5LnN0b3JlLnJlYWQoKS50aGVuKHZhbHVlID0+IHtcbiAgICAgIHByb3BlcnR5LmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgIHNlbGZbcHJvcGVydHkubmFtZV0gPSB2YWx1ZTtcbiAgICAgIHByb3BlcnR5LnNpZ25hbC5kaXNwYXRjaCh2YWx1ZSk7XG4gICAgfSk7XG4gIH1cblxuICBpbml0aWFsaXplKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyh0aGlzLl9wcm9wZXJ0aWVzKVxuICAgICAgLmZpbHRlcihrZXkgPT4gIXRoaXMuX3Byb3BlcnRpZXNba2V5XS5pbml0aWFsaXplZClcbiAgICAgIC5tYXAoa2V5ID0+IHRoaXMuX2luaXRQcm9wZXJ0eShrZXkpKSk7XG4gIH1cblxuICBmZXRjaChwcm9wZXJ0eU5hbWUpIHtcbiAgICB2YXIgcHJvcGVydHkgPSB0aGlzLl9wcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV07XG5cbiAgICBpZiAoIXByb3BlcnR5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3BlcnR5ICcke3Byb3BlcnR5TmFtZX0nIG5vdCBmb3VuZC5gKTtcbiAgICB9XG5cbiAgICBpZiAoIXByb3BlcnR5LnByb3ZpZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3BlcnR5ICcke3Byb3BlcnR5TmFtZX0nIGhhcyBubyBwcm92aWRlci5gKTtcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIHByb3BlcnR5LnByb3ZpZGVyKCkudGhlbih2YWx1ZSA9PiB7XG4gICAgICBzZWxmW3Byb3BlcnR5TmFtZV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIGZldGNoQWxsKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyh0aGlzLl9wcm9wZXJ0aWVzKVxuICAgICAgLmZpbHRlcihrZXkgPT4gdGhpcy5fcHJvcGVydGllc1trZXldLnByb3ZpZGVyKVxuICAgICAgLm1hcChrZXkgPT4gdGhpcy5mZXRjaChrZXkpKSk7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoT2JqZWN0LmtleXModGhpcy5fcHJvcGVydGllcylcbiAgICAgIC5maWx0ZXIoa2V5ID0+IHRoaXMuX3Byb3BlcnRpZXNba2V5XS5zdG9yZSlcbiAgICAgIC5tYXAoa2V5ID0+IHRoaXMuX3Byb3BlcnRpZXNba2V5XS5zdG9yZS5jbGVhcigpKSk7XG4gIH1cblxuICBfcHJvcGVydHlDaGFuZ2VkKG5hbWUpIHtcbiAgICB2YXIgcHJvcGVydHkgPSB0aGlzLl9wcm9wZXJ0aWVzW25hbWVdO1xuXG4gICAgcHJvcGVydHkuc2lnbmFsLmRpc3BhdGNoKHRoaXNbcHJvcGVydHkubmFtZV0pO1xuXG4gICAgaWYgKHByb3BlcnR5LnN0b3JlKSB7XG4gICAgICBwcm9wZXJ0eS5zdG9yZS53cml0ZSh0aGlzW3Byb3BlcnR5Lm5hbWVdKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tb2RlbC9hbmFseXRpY3Ntb2RlbC5qc1xuXG53aW5kb3cuYXBwLkFuYWx5dGljc01vZGVsID0gY2xhc3MgQW5hbHl0aWNzTW9kZWwge1xuICBjb25zdHJ1Y3RvcihzdG9yYWdlUHJvdmlkZXIsIGhlYXRtYXAsIExvZ2dlcikge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLl9kYXRhID0gW1xuICAgICAgbmV3IGFwcC5BbmFseXRpY3NEYXRhKCdzZXNzaW9ucycsIHN0b3JhZ2VQcm92aWRlciksXG4gICAgICBuZXcgYXBwLkFuYWx5dGljc0RhdGEoJ2FkdmVydGlzZW1lbnRzJywgc3RvcmFnZVByb3ZpZGVyKSxcbiAgICAgIG5ldyBhcHAuQW5hbHl0aWNzRGF0YSgnYW5zd2VycycsIHN0b3JhZ2VQcm92aWRlciksXG4gICAgICBuZXcgYXBwLkFuYWx5dGljc0RhdGEoJ2NoYXRzJywgc3RvcmFnZVByb3ZpZGVyKSxcbiAgICAgIG5ldyBhcHAuQW5hbHl0aWNzRGF0YSgnY29tbWVudHMnLCBzdG9yYWdlUHJvdmlkZXIpLFxuICAgICAgbmV3IGFwcC5BbmFseXRpY3NEYXRhKCdjbGlja3MnLCBzdG9yYWdlUHJvdmlkZXIpLFxuICAgICAgbmV3IGFwcC5BbmFseXRpY3NEYXRhKCdwYWdlcycsIHN0b3JhZ2VQcm92aWRlciksXG4gICAgICBuZXcgYXBwLkFuYWx5dGljc0RhdGEoJ3VybHMnLCBzdG9yYWdlUHJvdmlkZXIpXG4gICAgXS5yZWR1Y2UoKHJlc3VsdCwgaXRlbSkgPT4ge1xuICAgICAgcmVzdWx0W2l0ZW0ubmFtZV0gPSBpdGVtO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCB7fSk7XG5cbiAgICBoZWF0bWFwLmNsaWNrZWQuYWRkKGNsaWNrID0+IHtcbiAgICAgIHNlbGYuX2xvZ0NsaWNrKGNsaWNrKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX0xvZ2dlciA9IExvZ2dlcjtcbiAgfVxuXG4gIGluaXRpYWxpemUoKSB7XG4gICAgcmV0dXJuIFEuYWxsU2V0dGxlZCh0aGlzLl9kYXRhcy5tYXAoZCA9PiBkLmluaXRpYWxpemUoKSkpO1xuICB9XG5cbiAgbG9nU2Vzc2lvbihzZXNzaW9uKSB7XG4gICAgdGhpcy5fZGF0YS5zZXNzaW9ucy5wdXNoKHNlc3Npb24pO1xuICB9XG5cbiAgZ2V0IHNlc3Npb25zKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhLnNlc3Npb25zO1xuICB9XG5cbiAgbG9nTmF2aWdhdGlvbihkZXN0aW5hdGlvbikge1xuICAgIHRoaXMuX2RhdGEucGFnZXMucHVzaCh7XG4gICAgICB0aW1lOiBuZXcgRGF0ZSgpLFxuICAgICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uXG4gICAgfSk7XG5cbiAgICB0aGlzLl9kYXRhLmNsaWNrcy5zdG9yZSgpO1xuICB9XG5cbiAgZ2V0IHBhZ2VzKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhLnBhZ2VzO1xuICB9XG5cbiAgbG9nQWR2ZXJ0aXNlbWVudChhZHZlcnRpc2VtZW50KSB7XG4gICAgdGhpcy5fZGF0YS5hZHZlcnRpc2VtZW50cy5wdXNoKHtcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCksXG4gICAgICBhZHZlcnRpc2VtZW50OiBhZHZlcnRpc2VtZW50XG4gICAgfSk7XG4gIH1cblxuICBnZXQgYWR2ZXJ0aXNlbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEuYWR2ZXJ0aXNlbWVudHM7XG4gIH1cblxuICBsb2dBbnN3ZXIoYW5zd2VyKSB7XG4gICAgdGhpcy5fZGF0YS5hbnN3ZXJzLnB1c2goe1xuICAgICAgdGltZTogbmV3IERhdGUoKSxcbiAgICAgIGFuc3dlcjogYW5zd2VyXG4gICAgfSk7XG4gIH1cblxuICBnZXQgYW5zd2VycygpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YS5hbnN3ZXJzO1xuICB9XG5cbiAgbG9nQ2hhdChjaGF0KSB7XG4gICAgdGhpcy5fZGF0YS5jaGF0cy5wdXNoKHtcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCksXG4gICAgICBjaGF0OiBjaGF0XG4gICAgfSk7XG4gIH1cblxuICBnZXQgY2hhdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEuY2hhdHM7XG4gIH1cblxuICBsb2dDb21tZW50KGNvbW1lbnQpIHtcbiAgICB0aGlzLl9kYXRhLmNvbW1lbnRzLnB1c2goe1xuICAgICAgdGltZTogbmV3IERhdGUoKSxcbiAgICAgIGNvbW1lbnQ6IGNvbW1lbnRcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBjb21tZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YS5jb21tZW50cztcbiAgfVxuXG4gIGxvZ1VybCh1cmwpIHtcbiAgICB0aGlzLl9kYXRhLnVybHMucHVzaCh7XG4gICAgICB0aW1lOiBuZXcgRGF0ZSgpLFxuICAgICAgdXJsOiB1cmxcbiAgICB9KTtcbiAgfVxuXG4gIGdldCB1cmxzKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhLnVybHM7XG4gIH1cblxuICBnZXQgY2xpY2tzKCkge1xuICAgIHRoaXMuX2RhdGEuY2xpY2tzLnN0b3JlKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fZGF0YS5jbGlja3M7XG4gIH1cblxuICBnZXQgX2RhdGFzKCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9kYXRhKS5tYXAoeCA9PiB0aGlzLl9kYXRhW3hdKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHJldHVybiBRLmFsbFNldHRsZWQodGhpcy5fZGF0YXMubWFwKGQgPT4gZC5yZXNldCgpKSk7XG4gIH1cblxuICBfbG9nQ2xpY2soY2xpY2spIHtcbiAgICBjbGljay50aW1lID0gbmV3IERhdGUoKTtcbiAgICB0aGlzLl9kYXRhLmNsaWNrcy5kYXRhLnB1c2goY2xpY2spO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbW9kZWwvY2FydG1vZGVsLmpzXG5cbndpbmRvdy5hcHAuQ2FydE1vZGVsID0gY2xhc3MgQ2FydE1vZGVsIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5TVEFURV9DQVJUID0gJ2NhcnQnO1xuICAgIHRoaXMuU1RBVEVfSElTVE9SWSA9ICdoaXN0b3J5JztcblxuICAgIHRoaXMuX2lzQ2FydE9wZW4gPSBmYWxzZTtcbiAgICB0aGlzLmlzQ2FydE9wZW5DaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5fY2FydFN0YXRlID0gdGhpcy5TVEFURV9DQVJUO1xuICAgIHRoaXMuY2FydFN0YXRlQ2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuX2VkaXRhYmxlSXRlbSA9IG51bGw7XG4gICAgdGhpcy5lZGl0YWJsZUl0ZW1DaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gIH1cblxuICBnZXQgaXNDYXJ0T3BlbigpIHtcbiAgICByZXR1cm4gdGhpcy5faXNDYXJ0T3BlbjtcbiAgfVxuXG4gIHNldCBpc0NhcnRPcGVuKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX2lzQ2FydE9wZW4gPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2lzQ2FydE9wZW4gPSB2YWx1ZTtcbiAgICB0aGlzLmlzQ2FydE9wZW5DaGFuZ2VkLmRpc3BhdGNoKHZhbHVlKTtcbiAgfVxuXG4gIGdldCBjYXJ0U3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcnRTdGF0ZTtcbiAgfVxuXG4gIHNldCBjYXJ0U3RhdGUodmFsdWUpIHtcbiAgICBpZiAodGhpcy5fY2FydFN0YXRlID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9jYXJ0U3RhdGUgPSB2YWx1ZTtcbiAgICB0aGlzLmNhcnRTdGF0ZUNoYW5nZWQuZGlzcGF0Y2godmFsdWUpO1xuICB9XG5cbiAgZ2V0IGVkaXRhYmxlSXRlbSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZWRpdGFibGVJdGVtO1xuICB9XG5cbiAgZ2V0IGVkaXRhYmxlSXRlbU5ldygpIHtcbiAgICByZXR1cm4gdGhpcy5fZWRpdGFibGVJdGVtTmV3O1xuICB9XG5cbiAgb3BlbkVkaXRvcihpdGVtLCBpc05ldykge1xuICAgIGlmICh0aGlzLl9lZGl0YWJsZUl0ZW0gPT09IGl0ZW0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fZWRpdGFibGVJdGVtTmV3ID0gaXNOZXcgfHwgZmFsc2U7XG4gICAgdGhpcy5fZWRpdGFibGVJdGVtID0gaXRlbTtcbiAgICB0aGlzLmVkaXRhYmxlSXRlbUNoYW5nZWQuZGlzcGF0Y2goaXRlbSk7XG4gIH1cblxuICBjbG9zZUVkaXRvcigpIHtcbiAgICB0aGlzLl9lZGl0YWJsZUl0ZW1OZXcgPSBmYWxzZTtcbiAgICB0aGlzLl9lZGl0YWJsZUl0ZW0gPSBudWxsO1xuICAgIHRoaXMuZWRpdGFibGVJdGVtQ2hhbmdlZC5kaXNwYXRjaChudWxsKTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21vZGVsL2NoYXRtb2RlbC5qc1xuXG53aW5kb3cuYXBwLkNoYXRNb2RlbCA9IGNsYXNzIENoYXRNb2RlbCB7XG4gIC8qIGdsb2JhbCBzaWduYWxzICovXG5cbiAgY29uc3RydWN0b3IoU05BUExvY2F0aW9uLCBTTkFQRW52aXJvbm1lbnQsIHN0b3JhZ2VQcm92aWRlcikge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuX3ByZWZlcmVuY2VzU3RvcmUgPSBzdG9yYWdlUHJvdmlkZXIoJ3NuYXBfY2hhdF9wcmVmZXJlbmNlcycpO1xuICAgIHRoaXMuX2hpc3RvcnlTdG9yZSA9IHN0b3JhZ2VQcm92aWRlcignc25hcF9jaGF0X2hpc3RvcnknKTtcblxuICAgIHRoaXMuaXNDb25uZWN0ZWRDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5pc0VuYWJsZWRDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5pc1ByZXNlbnRDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5cbiAgICB0aGlzLmFjdGl2ZURldmljZXNDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5wZW5kaW5nRGV2aWNlc0NoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLmNoYXRSZXF1ZXN0UmVjZWl2ZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcblxuICAgIHRoaXMuaGlzdG9yeUNoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLm1lc3NhZ2VSZWNlaXZlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIFxuICAgIHRoaXMuZ2lmdFJlcXVlc3RSZWNlaXZlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuZ2lmdEFjY2VwdGVkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5cbiAgICB0aGlzLl9naWZ0U2VhdCA9IG51bGw7XG4gICAgdGhpcy5naWZ0U2VhdENoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcblxuICAgIHRoaXMuX2dpZnREZXZpY2UgPSBudWxsO1xuICAgIHRoaXMuZ2lmdERldmljZUNoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcblxuICAgIHRoaXMuZ2lmdFJlYWR5ID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5naWZ0QWNjZXB0ZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcblxuICAgIHRoaXMuX2lzRW5hYmxlZCA9IFNOQVBMb2NhdGlvbi5jaGF0O1xuICAgIHRoaXMuX3BlbmRpbmdEZXZpY2VzID0gW107XG4gICAgdGhpcy5fYWN0aXZlRGV2aWNlcyA9IFtdO1xuICAgIHRoaXMuX2xhc3RSZWFkcyA9IHt9O1xuXG4gICAgdGhpcy5fcHJlZmVyZW5jZXNTdG9yZS5yZWFkKCkudGhlbihwcmVmcyA9PiB7XG4gICAgICBpZiAoIXByZWZzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2VsZi5faXNFbmFibGVkID0gQm9vbGVhbihwcmVmcy5pc19lbmFibGVkKTtcblxuICAgICAgc2VsZi5fYWN0aXZlRGV2aWNlcyA9IHByZWZzLmFjdGl2ZV9kZXZpY2VzIHx8IFtdO1xuICAgICAgc2VsZi5fcGVuZGluZ0RldmljZXMgPSBwcmVmcy5wZW5kaW5nX2RldmljZXMgfHwgW107XG4gICAgICBzZWxmLl9sYXN0UmVhZHMgPSBwcmVmcy5sYXN0X3JlYWRzIHx8IHt9O1xuICAgIH0pO1xuXG4gICAgdGhpcy5faGlzdG9yeVN0b3JlLnJlYWQoKS50aGVuKGhpc3RvcnkgPT4ge1xuICAgICAgc2VsZi5faGlzdG9yeSA9IGhpc3RvcnkgfHwgW107XG4gICAgfSk7XG4gIH1cblxuICBnZXQgaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzQ29ubmVjdGVkO1xuICB9XG5cbiAgc2V0IGlzQ29ubmVjdGVkKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX2lzQ29ubmVjdGVkID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2lzQ29ubmVjdGVkID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgdGhpcy5pc0Nvbm5lY3RlZENoYW5nZWQuZGlzcGF0Y2godGhpcy5faXNDb25uZWN0ZWQpO1xuICB9XG5cbiAgZ2V0IGlzRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNFbmFibGVkO1xuICB9XG5cbiAgc2V0IGlzRW5hYmxlZCh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9pc0VuYWJsZWQgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faXNFbmFibGVkID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgdGhpcy5pc0VuYWJsZWRDaGFuZ2VkLmRpc3BhdGNoKHRoaXMuX2lzRW5hYmxlZCk7XG5cbiAgICB0aGlzLl91cGRhdGVQcmVmZXJlbmNlcygpO1xuICB9XG5cbiAgZ2V0IGlzUHJlc2VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNQcmVzZW50O1xuICB9XG5cbiAgc2V0IGlzUHJlc2VudCh2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9pc1ByZXNlbnQgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faXNQcmVzZW50ID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgdGhpcy5pc1ByZXNlbnRDaGFuZ2VkLmRpc3BhdGNoKHRoaXMuX2lzUHJlc2VudCk7XG4gIH1cblxuICBnZXQgZ2lmdERldmljZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2lmdERldmljZTtcbiAgfVxuXG4gIHNldCBnaWZ0RGV2aWNlKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX2dpZnREZXZpY2UgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fZ2lmdERldmljZSA9IHZhbHVlO1xuICAgIHRoaXMuZ2lmdERldmljZUNoYW5nZWQuZGlzcGF0Y2godGhpcy5fZ2lmdERldmljZSk7XG4gIH1cblxuICBnZXQgZ2lmdFNlYXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dpZnRTZWF0O1xuICB9XG5cbiAgc2V0IGdpZnRTZWF0KHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuX2dpZnRTZWF0ID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2dpZnRTZWF0ID0gdmFsdWU7XG4gICAgdGhpcy5naWZ0U2VhdENoYW5nZWQuZGlzcGF0Y2godGhpcy5fZ2lmdFNlYXQpO1xuICB9XG5cbiAgZ2V0IHBlbmRpbmdEZXZpY2VzKCkge1xuICAgIHJldHVybiB0aGlzLl9wZW5kaW5nRGV2aWNlcztcbiAgfVxuXG4gIHNldCBwZW5kaW5nRGV2aWNlcyh2YWx1ZSkge1xuICAgIHRoaXMuX3BlbmRpbmdEZXZpY2VzID0gdmFsdWUgfHwgW107XG4gICAgdGhpcy5wZW5kaW5nRGV2aWNlc0NoYW5nZWQuZGlzcGF0Y2godGhpcy5wZW5kaW5nRGV2aWNlcyk7XG4gIH1cblxuICBnZXQgYWN0aXZlRGV2aWNlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aXZlRGV2aWNlcztcbiAgfVxuXG4gIHNldCBhY3RpdmVEZXZpY2VzKHZhbHVlKSB7XG4gICAgdGhpcy5fYWN0aXZlRGV2aWNlcyA9IHZhbHVlIHx8IFtdO1xuICAgIHRoaXMuYWN0aXZlRGV2aWNlc0NoYW5nZWQuZGlzcGF0Y2godGhpcy5hY3RpdmVEZXZpY2VzKTtcbiAgfVxuXG4gIGlzQWN0aXZlRGV2aWNlKGRldmljZSkge1xuICAgIHJldHVybiB0aGlzLmFjdGl2ZURldmljZXMuaW5kZXhPZihkZXZpY2UudG9rZW4gfHwgZGV2aWNlKSAhPT0gLTE7XG4gIH1cblxuICBpc1BlbmRpbmdEZXZpY2UoZGV2aWNlKSB7XG4gICAgcmV0dXJuIHRoaXMucGVuZGluZ0RldmljZXMuaW5kZXhPZihkZXZpY2UudG9rZW4gfHwgZGV2aWNlKSAhPT0gLTE7XG4gIH1cblxuICBhZGRBY3RpdmVEZXZpY2UoZGV2aWNlKSB7XG4gICAgdGhpcy5fYWN0aXZlRGV2aWNlcy5wdXNoKGRldmljZS50b2tlbiB8fCBkZXZpY2UpO1xuICAgIHRoaXMuYWN0aXZlRGV2aWNlcyA9IHRoaXMuX2FjdGl2ZURldmljZXM7XG4gIH1cblxuICBhZGRQZW5kaW5nRGV2aWNlKGRldmljZSkge1xuICAgIHRoaXMuX3BlbmRpbmdEZXZpY2VzLnB1c2goZGV2aWNlLnRva2VuIHx8IGRldmljZSk7XG4gICAgdGhpcy5wZW5kaW5nRGV2aWNlcyA9IHRoaXMuX3BlbmRpbmdEZXZpY2VzO1xuICB9XG5cbiAgcmVtb3ZlQWN0aXZlRGV2aWNlKGRldmljZSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMuYWN0aXZlRGV2aWNlcy5pbmRleE9mKGRldmljZS50b2tlbiB8fCBkZXZpY2UpO1xuICAgIHRoaXMuX2FjdGl2ZURldmljZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB0aGlzLmFjdGl2ZURldmljZXMgPSB0aGlzLl9hY3RpdmVEZXZpY2VzO1xuICB9XG5cbiAgcmVtb3ZlUGVuZGluZ0RldmljZShkZXZpY2UpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLnBlbmRpbmdEZXZpY2VzLmluZGV4T2YoZGV2aWNlLnRva2VuIHx8IGRldmljZSk7XG4gICAgdGhpcy5fcGVuZGluZ0RldmljZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB0aGlzLnBlbmRpbmdEZXZpY2VzID0gdGhpcy5fcGVuZGluZ0RldmljZXM7XG4gIH1cblxuICBnZXQgaGlzdG9yeSgpIHtcbiAgICByZXR1cm4gdGhpcy5faGlzdG9yeTtcbiAgfVxuXG4gIHNldCBoaXN0b3J5KHZhbHVlKSB7XG4gICAgdGhpcy5faGlzdG9yeSA9IHZhbHVlIHx8IFtdO1xuXG4gICAgdGhpcy5oaXN0b3J5Q2hhbmdlZC5kaXNwYXRjaCh0aGlzLl9oaXN0b3J5KTtcbiAgICB0aGlzLl91cGRhdGVIaXN0b3J5KCk7XG4gIH1cblxuICBhZGRIaXN0b3J5KG1lc3NhZ2UpIHtcbiAgICB0aGlzLl9oaXN0b3J5LnB1c2gobWVzc2FnZSk7XG4gICAgdGhpcy5oaXN0b3J5ID0gdGhpcy5faGlzdG9yeTtcbiAgfVxuXG4gIGdldExhc3RSZWFkKGRldmljZSkge1xuICAgIGxldCB0b2tlbiA9IGRldmljZS50b2tlbiB8fCBkZXZpY2U7XG4gICAgcmV0dXJuIHRoaXMuX2xhc3RSZWFkc1t0b2tlbl0gfHwgbnVsbDtcbiAgfVxuXG4gIHNldExhc3RSZWFkKGRldmljZSwgdmFsdWUpIHtcbiAgICBsZXQgdG9rZW4gPSBkZXZpY2UudG9rZW4gfHwgZGV2aWNlO1xuICAgIHRoaXMuX2xhc3RSZWFkc1t0b2tlbl0gPSB2YWx1ZTtcbiAgICB0aGlzLl91cGRhdGVQcmVmZXJlbmNlcygpO1xuICB9XG5cbiAgc2F2ZSgpIHtcbiAgICB0aGlzLl91cGRhdGVIaXN0b3J5KCk7XG4gICAgdGhpcy5fdXBkYXRlUHJlZmVyZW5jZXMoKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX2lzQ29ubmVjdGVkID0gdGhpcy5faXNFbmFibGVkID0gdGhpcy5faXNQcmVzZW50ID0gZmFsc2U7XG4gICAgdGhpcy5faGlzdG9yeSA9IFtdO1xuICAgIHRoaXMuX2FjdGl2ZURldmljZXMgPSBbXTtcbiAgICB0aGlzLl9wZW5kaW5nRGV2aWNlcyA9IFtdO1xuXG4gICAgdGhpcy5faGlzdG9yeVN0b3JlLmNsZWFyKCk7XG4gICAgdGhpcy5fcHJlZmVyZW5jZXNTdG9yZS5jbGVhcigpO1xuICB9XG5cbiAgX3VwZGF0ZUhpc3RvcnkoKSB7XG4gICAgdGhpcy5faGlzdG9yeVN0b3JlLndyaXRlKHRoaXMuaGlzdG9yeSk7XG4gIH1cblxuICBfdXBkYXRlUHJlZmVyZW5jZXMoKSB7XG4gICAgdGhpcy5fcHJlZmVyZW5jZXNTdG9yZS53cml0ZSh7XG4gICAgICBpc19lbmFibGVkOiB0aGlzLmlzRW5hYmxlZCxcbiAgICAgIGFjdGl2ZV9kZXZpY2VzOiB0aGlzLmFjdGl2ZURldmljZXMsXG4gICAgICBwZW5kaW5nX2RldmljZXM6IHRoaXMucGVuZGluZ0RldmljZXMsXG4gICAgICBsYXN0X3JlYWRzOiB0aGlzLl9sYXN0UmVhZHNcbiAgICB9KTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL21vZGVsL2N1c3RvbWVybW9kZWwuanNcblxud2luZG93LmFwcC5DdXN0b21lck1vZGVsID0gY2xhc3MgQ3VzdG9tZXJNb2RlbCB7XG4gIC8qIGdsb2JhbCBzaWduYWxzICovXG5cbiAgY29uc3RydWN0b3IoQ29uZmlnLCBzdG9yYWdlUHJvdmlkZXIpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLl9hY2NvdW50U3RvcmUgPSBzdG9yYWdlUHJvdmlkZXIoJ3NuYXBfY3VzdG9tZXInKTtcblxuICAgIHRoaXMuX3Byb2ZpbGUgPSBudWxsO1xuXG4gICAgdGhpcy5faXNHdWVzdCA9IGZhbHNlO1xuICAgIHRoaXMuX2lzRW5hYmxlZCA9IEJvb2xlYW4oQ29uZmlnLmFjY291bnRzKTtcblxuICAgIHRoaXMucHJvZmlsZUNoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcblxuICAgIHRoaXMuX2FjY291bnRTdG9yZS5yZWFkKCkudGhlbihhY2NvdW50ID0+IHtcbiAgICAgIHNlbGYuX2lzR3Vlc3QgPSBhY2NvdW50ICYmIGFjY291bnQuaXNfZ3Vlc3Q7XG5cbiAgICAgIGlmICghYWNjb3VudCB8fCBhY2NvdW50LmlzX2d1ZXN0KSB7XG4gICAgICAgIHNlbGYuX3Byb2ZpbGUgPSBudWxsO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNlbGYuX3Byb2ZpbGUgPSBhY2NvdW50LnByb2ZpbGU7XG4gICAgICB9XG5cbiAgICAgIHNlbGYucHJvZmlsZUNoYW5nZWQuZGlzcGF0Y2goc2VsZi5fcHJvZmlsZSk7XG4gICAgfSk7XG4gIH1cblxuICBnZXQgaXNFbmFibGVkKCkge1xuICAgIHJldHVybiBCb29sZWFuKHRoaXMuX2lzRW5hYmxlZCk7XG4gIH1cblxuICBnZXQgaXNBdXRoZW50aWNhdGVkKCkge1xuICAgIHJldHVybiB0aGlzLmlzRW5hYmxlZCAmJiAoQm9vbGVhbih0aGlzLnByb2ZpbGUpIHx8IHRoaXMuaXNHdWVzdCk7XG4gIH1cblxuICBnZXQgaXNHdWVzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0VuYWJsZWQgJiYgQm9vbGVhbih0aGlzLl9pc0d1ZXN0KTtcbiAgfVxuXG4gIGdldCBoYXNDcmVkZW50aWFscygpIHtcbiAgICByZXR1cm4gQm9vbGVhbih0aGlzLmlzQXV0aGVudGljYXRlZCAmJiAhdGhpcy5pc0d1ZXN0ICYmIHRoaXMucHJvZmlsZS50eXBlID09PSAxKTtcbiAgfVxuXG4gIGdldCBwcm9maWxlKCkge1xuICAgIHJldHVybiB0aGlzLl9wcm9maWxlO1xuICB9XG5cbiAgc2V0IHByb2ZpbGUodmFsdWUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5fcHJvZmlsZSA9IHZhbHVlIHx8IG51bGw7XG4gICAgdGhpcy5faXNHdWVzdCA9IHZhbHVlID09PSAnZ3Vlc3QnO1xuXG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgdGhpcy5fYWNjb3VudFN0b3JlLmNsZWFyKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHNlbGYuX2lzR3Vlc3QgPSBmYWxzZTtcbiAgICAgICAgc2VsZi5wcm9maWxlQ2hhbmdlZC5kaXNwYXRjaChzZWxmLl9wcm9maWxlKTtcbiAgICAgICAgc2VsZi5zZXNzaW9uID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX2FjY291bnRTdG9yZS53cml0ZSh7XG4gICAgICAgIHByb2ZpbGU6IHRoaXMuX3Byb2ZpbGUsXG4gICAgICAgIGlzX2d1ZXN0OiB0aGlzLl9pc0d1ZXN0XG4gICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgc2VsZi5wcm9maWxlQ2hhbmdlZC5kaXNwYXRjaChzZWxmLl9wcm9maWxlKTtcblxuICAgICAgICBpZiAoIXZhbHVlIHx8IHNlbGYuX2lzR3Vlc3QpIHtcbiAgICAgICAgICBzZWxmLnNlc3Npb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tb2RlbC9kYXRhbW9kZWwuanNcblxud2luZG93LmFwcC5EYXRhTW9kZWwgPSBjbGFzcyBEYXRhTW9kZWwge1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIHNlcnZpY2UsIHN0b3JhZ2VQcm92aWRlcikge1xuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLl9zZXJ2aWNlID0gc2VydmljZTtcbiAgICB0aGlzLl9jYWNoZSA9IHt9O1xuICAgIHRoaXMuX3N0b3JhZ2VQcm92aWRlciA9IHN0b3JhZ2VQcm92aWRlcjtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2VsZi5fY2FjaGUgPSB7fTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGRpZ2VzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VydmljZS5zbmFwLmdldERpZ2VzdCh0aGlzLl9jb25maWcubG9jYXRpb24pO1xuICB9XG5cbiAgaG9tZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0U25hcERhdGEoJ2hvbWUnLCAnZ2V0TWVudXMnKTtcbiAgfVxuXG4gIGFkdmVydGlzZW1lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRTbmFwRGF0YSgnYWR2ZXJ0aXNlbWVudHMnLCAnZ2V0QWR2ZXJ0aXNlbWVudHMnKTtcbiAgfVxuXG4gIGJhY2tncm91bmRzKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRTbmFwRGF0YSgnYmFja2dyb3VuZHMnLCAnZ2V0QmFja2dyb3VuZHMnKTtcbiAgfVxuXG4gIGVsZW1lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRTbmFwRGF0YSgnZWxlbWVudHMnLCAnZ2V0RWxlbWVudHMnKTtcbiAgfVxuXG4gIG1lbnUoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0U25hcERhdGEoJ21lbnUnLCAnZ2V0TWVudScsIGlkKTtcbiAgfVxuXG4gIGNhdGVnb3J5KGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldFNuYXBEYXRhKCdjYXRlZ29yeScsICdnZXRNZW51Q2F0ZWdvcnknLCBpZCk7XG4gIH1cblxuICBpdGVtKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldFNuYXBEYXRhKCdpdGVtJywgJ2dldE1lbnVJdGVtJywgaWQpO1xuICB9XG5cbiAgc3VydmV5cygpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0U25hcERhdGEoJ3N1cnZleXMnLCAnZ2V0U3VydmV5cycpO1xuICB9XG5cbiAgc2VhdHMoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiB0aGlzLl9jYWNoZWQoJ3NlYXRzJykgfHwgdGhpcy5fc2VydmljZS5sb2NhdGlvbi5nZXRTZWF0cygpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBkYXRhID0gZGF0YSB8fCBbXTtcbiAgICAgIHNlbGYuX3N0b3JlKGRhdGEsICdzZWF0cycpO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSk7XG4gIH1cblxuICBtZWRpYShtZWRpYSkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgdG9rZW4gPSBtZWRpYS50b2tlbiArICdfJyArIG1lZGlhLndpZHRoICsgJ18nICsgbWVkaWEuaGVpZ2h0O1xuICAgIHJldHVybiB0aGlzLl9jYWNoZWQoJ21lZGlhJywgdG9rZW4pIHx8IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmIChtZWRpYS53aWR0aCAmJiBtZWRpYS5oZWlnaHQpIHtcbiAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWcub25sb2FkID0gKCkgPT4gcmVzb2x2ZShpbWcpO1xuICAgICAgICBpbWcub25lcnJvciA9IChlKSA9PiByZWplY3QoZSk7XG4gICAgICAgIGltZy5zcmMgPSBzZWxmLl9nZXRNZWRpYVVybChtZWRpYSwgbWVkaWEud2lkdGgsIG1lZGlhLmhlaWdodCwgbWVkaWEuZXh0ZW5zaW9uKTtcblxuICAgICAgICBzZWxmLl9zdG9yZShpbWcsICdtZWRpYScsIHRva2VuKTtcblxuICAgICAgICBpZiAoaW1nLmNvbXBsZXRlKSB7XG4gICAgICAgICAgcmVzb2x2ZShpbWcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVqZWN0KCdNaXNzaW5nIGltYWdlIGRpbWVuc2lvbnMnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9nZXRTbmFwRGF0YShuYW1lLCBtZXRob2QsIGlkKSB7XG4gICAgdmFyIGNhY2hlZCA9IHRoaXMuX2NhY2hlZChuYW1lLCBpZCk7XG5cbiAgICBpZiAoY2FjaGVkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNhY2hlZCk7XG4gICAgfVxuXG4gICAgaWYgKG5hdmlnYXRvci5vbkxpbmUgPT09IGZhbHNlKSB7XG4gICAgICB2YXIgc3RvcmVkID0gdGhpcy5fc3RvcmVkKG5hbWUsIGlkKTtcblxuICAgICAgaWYgKHN0b3JlZCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHN0b3JlZCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBEYXRhIGlzIG5vdCBhdmFpbGFibGU6IC8ke25hbWV9LyR7aWR9YCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3NlcnZpY2Uuc25hcFttZXRob2RdKHRoaXMuX2NvbmZpZy5sb2NhdGlvbiwgaWQpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBkYXRhID0gZGF0YSB8fCBbXTtcbiAgICAgIHRoaXMuX3N0b3JlKGRhdGEsIG5hbWUsIGlkKTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0pO1xuICB9XG5cbiAgX2NhY2hlZChncm91cCwgaWQpIHtcbiAgICBpZiAoaWQgJiYgdGhpcy5fY2FjaGVbZ3JvdXBdICYmIHRoaXMuX2NhY2hlW2dyb3VwXVtpZF0pIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fY2FjaGVbZ3JvdXBdW2lkXSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFpZCAmJiB0aGlzLl9jYWNoZVtncm91cF0pIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fY2FjaGVbZ3JvdXBdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIF9zdG9yZWQoZ3JvdXAsIGlkKSB7XG4gICAgbGV0IHN0b3JhZ2UgPSB0aGlzLl9nZXRTdG9yYWdlKGdyb3VwLCBpZCk7XG5cbiAgICByZXR1cm4gc3RvcmFnZS5yZWFkU3luYygpO1xuICB9XG5cbiAgX3N0b3JlKGRhdGEsIGdyb3VwLCBpZCkge1xuICAgIGlmIChpZCkge1xuICAgICAgaWYgKCF0aGlzLl9jYWNoZVtncm91cF0pIHtcbiAgICAgICAgdGhpcy5fY2FjaGVbZ3JvdXBdID0ge307XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2NhY2hlW2dyb3VwXVtpZF0gPSBkYXRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX2NhY2hlW2dyb3VwXSA9IGRhdGE7XG4gICAgfVxuXG4gICAgaWYgKGdyb3VwICE9PSAnbWVkaWEnKSB7XG4gICAgICBsZXQgc3RvcmFnZSA9IHRoaXMuX2dldFN0b3JhZ2UoZ3JvdXAsIGlkKTtcbiAgICAgIHN0b3JhZ2Uud3JpdGUoZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgX2dldFN0b3JhZ2UoZ3JvdXAsIGlkKSB7XG4gICAgaWYgKGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3RvcmFnZVByb3ZpZGVyKGBzbmFwX2NhY2hlXyR7Z3JvdXB9XyR7aWR9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3N0b3JhZ2VQcm92aWRlcihgc25hcF9jYWNoZV8ke2dyb3VwfWApO1xuICB9XG5cbiAgX2dldE1lZGlhVXJsKCkge1xuXG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tb2RlbC9sb2NhdGlvbm1vZGVsLmpzXG5cbndpbmRvdy5hcHAuTG9jYXRpb25Nb2RlbCA9IGNsYXNzIExvY2F0aW9uTW9kZWwgZXh0ZW5kcyBhcHAuQWJzdHJhY3RNb2RlbCB7XG4gIGNvbnN0cnVjdG9yKER0c0FwaSwgU05BUEVudmlyb25tZW50LCBTTkFQTG9jYXRpb24sIHN0b3JhZ2VQcm92aWRlcikge1xuICAgIHN1cGVyKHN0b3JhZ2VQcm92aWRlcik7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLl9kZWZpbmVQcm9wZXJ0eSgnZGV2aWNlJywgJ3NuYXBfZGV2aWNlJywgbnVsbCwgKCkgPT4gRHRzQXBpLmhhcmR3YXJlLmdldEN1cnJlbnREZXZpY2UoKSk7XG4gICAgdGhpcy5fZGVmaW5lUHJvcGVydHkoJ2RldmljZXMnLCB1bmRlZmluZWQsIFtdKTtcbiAgICB0aGlzLl9kZWZpbmVQcm9wZXJ0eSgnc2VhdCcsICdzbmFwX3NlYXQnLCBudWxsLCAoKSA9PiBEdHNBcGkubG9jYXRpb24uZ2V0Q3VycmVudFNlYXQoKSk7XG4gICAgdGhpcy5fZGVmaW5lUHJvcGVydHkoJ3NlYXRzJywgJ3NuYXBfc2VhdHMnLCBbXSwgKCkgPT4gRHRzQXBpLmxvY2F0aW9uLmdldFNlYXRzKCkpO1xuICAgIHRoaXMuX2RlZmluZVByb3BlcnR5KCdsb2NhdGlvbicsICdzbmFwX2xvY2F0aW9uJywgU05BUExvY2F0aW9uLCAoKSA9PiB7XG4gICAgICBpZiAoIXNlbGYuZGV2aWNlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnRGV2aWNlIGRhdGEgaXMgbWlzc2luZy4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIER0c0FwaS5zbmFwLmdldENvbmZpZyhzZWxmLmRldmljZS5sb2NhdGlvbl90b2tlbik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgfVxuXG4gIGFkZERldmljZShkZXZpY2UpIHtcbiAgICB0aGlzLmRldmljZXMucHVzaChkZXZpY2UpO1xuICAgIHRoaXMuX3Byb3BlcnR5Q2hhbmdlZCgnZGV2aWNlJyk7XG4gIH1cblxuICBnZXRTZWF0KHRva2VuKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhdHMuZmlsdGVyKHNlYXQgPT4gc2VhdC50b2tlbiA9PT0gdG9rZW4pWzBdIHx8IG51bGw7XG4gIH1cblxuICBnZXREZXZpY2UoZGV2aWNlKSB7XG4gICAgcmV0dXJuIHRoaXMuZGV2aWNlcy5maWx0ZXIoZCA9PiAoZGV2aWNlLnRva2VuIHx8IGRldmljZSkgPT09IGQudG9rZW4pWzBdIHx8IG51bGw7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tb2RlbC9vcmRlcm1vZGVsLmpzXG5cbndpbmRvdy5hcHAuT3JkZXJNb2RlbCA9IGNsYXNzIE9yZGVyTW9kZWwge1xuICAvKiBnbG9iYWwgc2lnbmFscyAqL1xuXG4gIGNvbnN0cnVjdG9yKHN0b3JhZ2VQcm92aWRlcikge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuUkVRVUVTVF9LSU5EX09SREVSID0gMTtcbiAgICB0aGlzLlJFUVVFU1RfS0lORF9BU1NJU1RBTkNFID0gMjtcbiAgICB0aGlzLlJFUVVFU1RfS0lORF9DTE9TRU9VVCA9IDM7XG5cbiAgICB0aGlzLnByaWNlRm9ybWF0ID0gJ3swfSc7XG4gICAgdGhpcy50YXggPSAwO1xuXG4gICAgdGhpcy5fb3JkZXJDYXJ0ID0gW107XG4gICAgdGhpcy5fb3JkZXJDYXJ0U3Rhc2ggPSBbXTtcbiAgICB0aGlzLl9vcmRlckNoZWNrID0gW107XG4gICAgdGhpcy5fb3JkZXJUaWNrZXQgPSB7fTtcblxuICAgIHRoaXMuX3JlcXVlc3RXYXRjaGVycyA9IHt9O1xuXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vICAgIFNpZ25hbHNcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICB0aGlzLm9yZGVyQ2FydENoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLm9yZGVyQ2FydFN0YXNoQ2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMub3JkZXJDaGVja0NoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLm9yZGVyVGlja2V0Q2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMub3JkZXJSZXF1ZXN0Q2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuYXNzaXN0YW5jZVJlcXVlc3RDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5jbG9zZW91dFJlcXVlc3RDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gICAgSW5pdGlhbGl6YXRpb25cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBmdW5jdGlvbiBwcmVwYXJlQ2FydERhdGEoaXRlbXMpIHtcbiAgICAgIHJldHVybiBpdGVtcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXN0b3JlQ2FydERhdGEoaXRlbXMpIHtcbiAgICAgIHJldHVybiBpdGVtcy5tYXAgPyBpdGVtcy5tYXAoYXBwLkNhcnRJdGVtLnByb3RvdHlwZS5yZXN0b3JlKSA6IFtdO1xuICAgIH1cblxuICAgIHRoaXMuX29yZGVyQ2FydFN0b3JhZ2UgPSBzdG9yYWdlUHJvdmlkZXIoJ3NuYXBfb3JkZXJfY2FydCcpO1xuICAgIHRoaXMuX29yZGVyQ2FydFN0b3JhZ2UucmVhZCgpLnRoZW4odmFsdWUgPT4ge1xuICAgICAgc2VsZi5vcmRlckNhcnQgPSByZXN0b3JlQ2FydERhdGEodmFsdWUgfHwgW10pO1xuICAgICAgc2VsZi5vcmRlckNhcnRDaGFuZ2VkLmRpc3BhdGNoKHNlbGYub3JkZXJDYXJ0KTtcbiAgICAgIHNlbGYub3JkZXJDYXJ0Q2hhbmdlZC5hZGQoaXRlbXMgPT4ge1xuICAgICAgICBzZWxmLl9vcmRlckNhcnRTdG9yYWdlLndyaXRlKHByZXBhcmVDYXJ0RGF0YShpdGVtcykpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9vcmRlckNhcnRTdGFzaFN0b3JhZ2UgPSBzdG9yYWdlUHJvdmlkZXIoJ3NuYXBfb3JkZXJfY2FydF9zdGFzaCcpO1xuICAgIHRoaXMuX29yZGVyQ2FydFN0YXNoU3RvcmFnZS5yZWFkKCkudGhlbih2YWx1ZSA9PiB7XG4gICAgICBzZWxmLm9yZGVyQ2FydFN0YXNoID0gcmVzdG9yZUNhcnREYXRhKHZhbHVlIHx8IFtdKTtcbiAgICAgIHNlbGYub3JkZXJDYXJ0U3Rhc2hDaGFuZ2VkLmRpc3BhdGNoKHNlbGYub3JkZXJDYXJ0U3Rhc2gpO1xuICAgICAgc2VsZi5vcmRlckNhcnRTdGFzaENoYW5nZWQuYWRkKGl0ZW1zID0+IHtcbiAgICAgICAgc2VsZi5fb3JkZXJDYXJ0U3Rhc2hTdG9yYWdlLndyaXRlKHByZXBhcmVDYXJ0RGF0YShpdGVtcykpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9vcmRlckNoZWNrU3RvcmFnZSA9IHN0b3JhZ2VQcm92aWRlcignc25hcF9vcmRlcl9jaGVjaycpO1xuICAgIHRoaXMuX29yZGVyQ2hlY2tTdG9yYWdlLnJlYWQoKS50aGVuKHZhbHVlID0+IHtcbiAgICAgIHNlbGYub3JkZXJDaGVjayA9IHJlc3RvcmVDYXJ0RGF0YSh2YWx1ZSB8fCBbXSk7XG4gICAgICBzZWxmLm9yZGVyQ2hlY2tDaGFuZ2VkLmRpc3BhdGNoKHNlbGYub3JkZXJDaGVjayk7XG4gICAgICBzZWxmLm9yZGVyQ2hlY2tDaGFuZ2VkLmFkZChpdGVtcyA9PiB7XG4gICAgICAgIHNlbGYuX29yZGVyQ2hlY2tTdG9yYWdlLndyaXRlKHByZXBhcmVDYXJ0RGF0YShpdGVtcykpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9vcmRlclRpY2tldFN0b3JhZ2UgPSBzdG9yYWdlUHJvdmlkZXIoJ3NuYXBfb3JkZXJfdGlja2V0Jyk7XG4gICAgdGhpcy5fb3JkZXJUaWNrZXRTdG9yYWdlLnJlYWQoKS50aGVuKHZhbHVlID0+IHtcbiAgICAgIHNlbGYub3JkZXJUaWNrZXQgPSB2YWx1ZSB8fCB7fTtcbiAgICAgIHNlbGYub3JkZXJUaWNrZXRDaGFuZ2VkLmRpc3BhdGNoKHNlbGYub3JkZXJUaWNrZXQpO1xuICAgICAgc2VsZi5vcmRlclRpY2tldENoYW5nZWQuYWRkKGRhdGEgPT4ge1xuICAgICAgICBzZWxmLl9vcmRlclRpY2tldFN0b3JhZ2Uud3JpdGUoZGF0YSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBQcm9wZXJ0aWVzXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgZ2V0IG9yZGVyQ2FydCgpIHtcbiAgICByZXR1cm4gdGhpcy5fb3JkZXJDYXJ0O1xuICB9XG5cbiAgc2V0IG9yZGVyQ2FydCh2YWx1ZSkge1xuICAgIHRoaXMuX29yZGVyQ2FydCA9IHZhbHVlIHx8IFtdO1xuICAgIHRoaXMub3JkZXJDYXJ0Q2hhbmdlZC5kaXNwYXRjaCh0aGlzLm9yZGVyQ2FydCk7XG4gIH1cblxuICBnZXQgb3JkZXJDYXJ0U3Rhc2goKSB7XG4gICAgcmV0dXJuIHRoaXMuX29yZGVyQ2FydFN0YXNoO1xuICB9XG5cbiAgc2V0IG9yZGVyQ2FydFN0YXNoKHZhbHVlKSB7XG4gICAgdGhpcy5fb3JkZXJDYXJ0U3Rhc2ggPSB2YWx1ZSB8fCBbXTtcbiAgICB0aGlzLm9yZGVyQ2FydFN0YXNoQ2hhbmdlZC5kaXNwYXRjaCh0aGlzLm9yZGVyQ2FydFN0YXNoKTtcbiAgfVxuXG4gIGdldCBvcmRlckNoZWNrKCkge1xuICAgIHJldHVybiB0aGlzLl9vcmRlckNoZWNrO1xuICB9XG5cbiAgc2V0IG9yZGVyQ2hlY2sodmFsdWUpIHtcbiAgICB0aGlzLl9vcmRlckNoZWNrID0gdmFsdWUgfHwgW107XG4gICAgdGhpcy5vcmRlckNoZWNrQ2hhbmdlZC5kaXNwYXRjaCh0aGlzLm9yZGVyQ2hlY2spO1xuICB9XG5cbiAgZ2V0IG9yZGVyVGlja2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9vcmRlclRpY2tldDtcbiAgfVxuXG4gIHNldCBvcmRlclRpY2tldCh2YWx1ZSkge1xuICAgIHRoaXMuX29yZGVyVGlja2V0ID0gdmFsdWUgfHwge307XG4gICAgdGhpcy5vcmRlclRpY2tldENoYW5nZWQuZGlzcGF0Y2godGhpcy5vcmRlclRpY2tldCk7XG4gIH1cblxuICBnZXQgb3JkZXJSZXF1ZXN0KCkge1xuICAgIHJldHVybiB0aGlzLmdldFdhdGNoZXIodGhpcy5SRVFVRVNUX0tJTkRfT1JERVIpO1xuICB9XG5cbiAgZ2V0IGFzc2lzdGFuY2VSZXF1ZXN0KCkge1xuICAgIHJldHVybiB0aGlzLmdldFdhdGNoZXIodGhpcy5SRVFVRVNUX0tJTkRfQVNTSVNUQU5DRSk7XG4gIH1cblxuICBnZXQgY2xvc2VvdXRSZXF1ZXN0KCkge1xuICAgIHJldHVybiB0aGlzLmdldFdhdGNoZXIodGhpcy5SRVFVRVNUX0tJTkRfQ0xPU0VPVVQpO1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFB1YmxpYyBtZXRob2RzXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBSZXF1ZXN0IHdhdGNoZXJzXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBnZXRXYXRjaGVyKGtpbmQpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdFdhdGNoZXJzW2tpbmRdIHx8IG51bGw7XG4gIH1cblxuICBhZGRXYXRjaGVyKGtpbmQsIHdhdGNoZXIpIHtcbiAgICB0aGlzLmNsZWFyV2F0Y2hlcihraW5kKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB3YXRjaGVyLnByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICBpZiAoc2VsZi5nZXRXYXRjaGVyKGtpbmQpICE9PSB3YXRjaGVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlbGYuY2xlYXJXYXRjaGVyKGtpbmQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcmVxdWVzdFdhdGNoZXJzW2tpbmRdID0gd2F0Y2hlcjtcbiAgICB0aGlzLl9ub3RpZnlDaGFuZ2Uoa2luZCk7XG4gIH1cblxuICBjbGVhcldhdGNoZXIoa2luZCkge1xuICAgIHZhciB3YXRjaGVyID0gdGhpcy5nZXRXYXRjaGVyKGtpbmQpO1xuXG4gICAgaWYgKHdhdGNoZXIpIHtcbiAgICAgIHdhdGNoZXIuZGlzcG9zZSgpO1xuICAgIH1cblxuICAgIGRlbGV0ZSB0aGlzLl9yZXF1ZXN0V2F0Y2hlcnNba2luZF07XG4gICAgdGhpcy5fbm90aWZ5Q2hhbmdlKGtpbmQpO1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFByaXZhdGUgbWV0aG9kc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIF9ub3RpZnlDaGFuZ2Uoa2luZCkge1xuICAgIHZhciBzaWduYWw7XG5cbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgIGNhc2UgdGhpcy5SRVFVRVNUX0tJTkRfT1JERVI6XG4gICAgICAgIHNpZ25hbCA9IHRoaXMub3JkZXJSZXF1ZXN0Q2hhbmdlZDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHRoaXMuUkVRVUVTVF9LSU5EX0FTU0lTVEFOQ0U6XG4gICAgICAgIHNpZ25hbCA9IHRoaXMuYXNzaXN0YW5jZVJlcXVlc3RDaGFuZ2VkO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgdGhpcy5SRVFVRVNUX0tJTkRfQ0xPU0VPVVQ6XG4gICAgICAgIHNpZ25hbCA9IHRoaXMuY2xvc2VvdXRSZXF1ZXN0Q2hhbmdlZDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKHNpZ25hbCkge1xuICAgICAgc2lnbmFsLmRpc3BhdGNoKHRoaXMuZ2V0V2F0Y2hlcihraW5kKSk7XG4gICAgfVxuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvbW9kZWwvc2Vzc2lvbm1vZGVsLmpzXG5cbndpbmRvdy5hcHAuU2Vzc2lvbk1vZGVsID0gY2xhc3MgU2Vzc2lvbk1vZGVsIGV4dGVuZHMgYXBwLkFic3RyYWN0TW9kZWwgIHtcbiAgY29uc3RydWN0b3Ioc3RvcmFnZVByb3ZpZGVyKSB7XG4gICAgc3VwZXIoc3RvcmFnZVByb3ZpZGVyKTtcblxuICAgIHRoaXMuX2RlZmluZVByb3BlcnR5KCdhcGlUb2tlbicsICdzbmFwX2FjY2Vzc3Rva2VuJyk7XG4gICAgdGhpcy5fZGVmaW5lUHJvcGVydHkoJ2N1c3RvbWVyVG9rZW4nLCAnc25hcF9jdXN0b21lcl9hY2Nlc3N0b2tlbicpO1xuXG4gICAgdGhpcy5pbml0aWFsaXplKCk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tb2RlbC9zaGVsbG1vZGVsLmpzXG5cbndpbmRvdy5hcHAuU2hlbGxNb2RlbCA9IGNsYXNzIFNoZWxsTW9kZWwge1xuICAvKiBnbG9iYWwgc2lnbmFscyAqL1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2JhY2tncm91bmRzID0gW107XG4gICAgdGhpcy5iYWNrZ3JvdW5kc0NoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLl9zY3JlZW5zYXZlcnMgPSBbXTtcbiAgICB0aGlzLnNjcmVlbnNhdmVyc0NoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLl9wYWdlQmFja2dyb3VuZHMgPSBbXTtcbiAgICB0aGlzLnBhZ2VCYWNrZ3JvdW5kc0NoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLl9lbGVtZW50cyA9IFtdO1xuICAgIHRoaXMuZWxlbWVudHNDaGFuZ2VkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5fcHJpY2VGb3JtYXQgPSAnezB9JztcbiAgICB0aGlzLnByaWNlRm9ybWF0Q2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuX2N1cnJlbmN5ID0gJyc7XG4gICAgdGhpcy5jdXJyZW5jeUNoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgfVxuXG4gIGdldCBiYWNrZ3JvdW5kcygpIHtcbiAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZHM7XG4gIH1cblxuICBzZXQgYmFja2dyb3VuZHModmFsdWUpIHtcbiAgICB0aGlzLl9iYWNrZ3JvdW5kcyA9IHZhbHVlO1xuICAgIHRoaXMuYmFja2dyb3VuZHNDaGFuZ2VkLmRpc3BhdGNoKHZhbHVlKTtcbiAgfVxuXG4gIGdldCBzY3JlZW5zYXZlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NjcmVlbnNhdmVycztcbiAgfVxuXG4gIHNldCBzY3JlZW5zYXZlcnModmFsdWUpIHtcbiAgICB0aGlzLl9zY3JlZW5zYXZlcnMgPSB2YWx1ZTtcbiAgICB0aGlzLnNjcmVlbnNhdmVyc0NoYW5nZWQuZGlzcGF0Y2godmFsdWUpO1xuICB9XG5cbiAgZ2V0IHBhZ2VCYWNrZ3JvdW5kcygpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFnZUJhY2tncm91bmRzO1xuICB9XG5cbiAgc2V0IHBhZ2VCYWNrZ3JvdW5kcyh2YWx1ZSkge1xuICAgIHRoaXMuX3BhZ2VCYWNrZ3JvdW5kcyA9IHZhbHVlO1xuICAgIHRoaXMucGFnZUJhY2tncm91bmRzQ2hhbmdlZC5kaXNwYXRjaCh2YWx1ZSk7XG4gIH1cblxuICBnZXQgZWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRzO1xuICB9XG5cbiAgc2V0IGVsZW1lbnRzKHZhbHVlKSB7XG4gICAgdGhpcy5fZWxlbWVudHMgPSB2YWx1ZTtcbiAgICB0aGlzLmVsZW1lbnRzQ2hhbmdlZC5kaXNwYXRjaCh2YWx1ZSk7XG4gIH1cblxuICBnZXQgcHJpY2VGb3JtYXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ByaWNlRm9ybWF0O1xuICB9XG5cbiAgc2V0IHByaWNlRm9ybWF0KHZhbHVlKSB7XG4gICAgdGhpcy5fcHJpY2VGb3JtYXQgPSB2YWx1ZTtcbiAgICB0aGlzLnByaWNlRm9ybWF0Q2hhbmdlZC5kaXNwYXRjaCh2YWx1ZSk7XG4gIH1cblxuICBnZXQgY3VycmVuY3koKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbmN5O1xuICB9XG5cbiAgc2V0IGN1cnJlbmN5KHZhbHVlKSB7XG4gICAgdGhpcy5fY3VycmVuY3kgPSB2YWx1ZTtcbiAgICB0aGlzLmN1cnJlbmN5Q2hhbmdlZC5kaXNwYXRjaCh2YWx1ZSk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9tb2RlbC9zdXJ2ZXltb2RlbC5qc1xuXG53aW5kb3cuYXBwLlN1cnZleU1vZGVsID0gY2xhc3MgU3VydmV5TW9kZWwge1xuICAvKiBnbG9iYWwgc2lnbmFscyAqL1xuXG4gIGNvbnN0cnVjdG9yKFNOQVBMb2NhdGlvbiwgc3RvcmFnZVByb3ZpZGVyKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5faXNFbmFibGVkID0gQm9vbGVhbihTTkFQTG9jYXRpb24uc3VydmV5cyk7XG4gICAgdGhpcy5fc3VydmV5cyA9IHt9O1xuXG4gICAgdGhpcy5fc3RvcmUgPSBzdG9yYWdlUHJvdmlkZXIoJ3NuYXBfc3VydmV5Jyk7XG5cbiAgICB0aGlzLl9mZWVkYmFja1N1cnZleSA9IG51bGw7XG4gICAgdGhpcy5mZWVkYmFja1N1cnZleUNoYW5nZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcblxuICAgIHRoaXMuc3VydmV5Q29tcGxldGVkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG5cbiAgICB0aGlzLl9zdG9yZS5yZWFkKCkudGhlbih2YWx1ZSA9PiB7XG4gICAgICBzZWxmLl9zdXJ2ZXlzID0gdmFsdWUgfHwgc2VsZi5fc3VydmV5cztcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBpc0VuYWJsZWQoKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5faXNFbmFibGVkKTtcbiAgfVxuXG4gIGdldCBmZWVkYmFja1N1cnZleSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZmVlZGJhY2tTdXJ2ZXk7XG4gIH1cblxuICBzZXQgZmVlZGJhY2tTdXJ2ZXkodmFsdWUpIHtcbiAgICB0aGlzLl9mZWVkYmFja1N1cnZleSA9IHZhbHVlO1xuICAgIHRoaXMuZmVlZGJhY2tTdXJ2ZXlDaGFuZ2VkLmRpc3BhdGNoKHRoaXMuX2ZlZWRiYWNrU3VydmV5KTtcbiAgfVxuXG4gIGdldCBmZWVkYmFja1N1cnZleUNvbXBsZXRlKCkge1xuICAgIHJldHVybiBCb29sZWFuKHRoaXMuX3N1cnZleXMuZmVlZGJhY2spO1xuICB9XG5cbiAgc2V0IGZlZWRiYWNrU3VydmV5Q29tcGxldGUodmFsdWUpIHtcbiAgICB0aGlzLl9zdXJ2ZXlzLmZlZWRiYWNrID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgdGhpcy5fc3RvcmUud3JpdGUodGhpcy5fc3VydmV5cyk7XG5cbiAgICB0aGlzLnN1cnZleUNvbXBsZXRlZC5kaXNwYXRjaCh0aGlzLmZlZWRiYWNrU3VydmV5KTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL3BlcnNpc3RlbmNlL3N0b3JlLmNvcmRvdmEuanNcblxud2luZG93LmFwcC5Db3Jkb3ZhTG9jYWxTdG9yYWdlU3RvcmUgPSBjbGFzcyBDb3Jkb3ZhTG9jYWxTdG9yYWdlU3RvcmUge1xuICBjb25zdHJ1Y3RvcihpZCwgTG9nZ2VyKSB7XG4gICAgdGhpcy5faWQgPSBpZDtcbiAgICB0aGlzLl9Mb2dnZXIgPSBMb2dnZXI7XG5cbiAgICBpZiAoIWxvY2FsU3RvcmFnZSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ0NvcmRvdmEgbm90IGZvdW5kLicpO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLl9pZCk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5fTG9nZ2VyLndhcm4oYFVuYWJsZSB0byBjbGVhciBzdG9yZSAjJHt0aGlzLl9pZH06ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgIH1cbiAgfVxuXG4gIHJlYWQoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciB2YWx1ZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5faWQpKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuX0xvZ2dlci53YXJuKGBVbmFibGUgdG8gcmVhZCBmcm9tIHN0b3JlICMke3RoaXMuX2lkfTogJHtlLm1lc3NhZ2V9YCk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgfVxuICB9XG5cbiAgcmVhZFN5bmMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciB2YWx1ZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5faWQpKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLl9Mb2dnZXIud2FybihgVW5hYmxlIHRvIHJlYWQgZnJvbSBzdG9yZSAjJHt0aGlzLl9pZH06ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICB3cml0ZSh2YWx1ZSkge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLl9pZCwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLl9Mb2dnZXIud2FybihgVW5hYmxlIHRvIHdyaXRlIHRvIHN0b3JlICMke3RoaXMuX2lkfTogJHtlLm1lc3NhZ2V9YCk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgfVxuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvcGVyc2lzdGVuY2Uvc3RvcmUuaW5tZW1vcnkuanNcblxud2luZG93LmFwcC5Jbk1lbW9yeVN0b3JlID0gY2xhc3MgSW5NZW1vcnlTdG9yZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3N0b3JhZ2UgPSBudWxsO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5fc3RvcmFnZSA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICByZWFkKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fc3RvcmFnZSk7XG4gIH1cblxuICByZWFkU3luYygpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmFnZTtcbiAgfVxuXG4gIHdyaXRlKHZhbHVlKSB7XG4gICAgdGhpcy5fc3RvcmFnZSA9IHZhbHVlO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL3BlcnNpc3RlbmNlL3N0b3JlLmxvY2Fsc3RvcmFnZS5qc1xuXG53aW5kb3cuYXBwLkxvY2FsU3RvcmFnZVN0b3JlID0gY2xhc3MgTG9jYWxTdG9yYWdlU3RvcmUge1xuICBjb25zdHJ1Y3RvcihpZCkge1xuICAgIHRoaXMuX2lkID0gaWQ7XG5cbiAgICBpZiAoIXN0b3JlKSB7XG4gICAgICB0aHJvdyBFcnJvcignU3RvcmUuanMgbm90IGZvdW5kLicpO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRyeSB7XG4gICAgICBzdG9yZS5yZW1vdmUodGhpcy5faWQpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICB9XG4gIH1cblxuICByZWFkKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgdmFsdWUgPSBzdG9yZS5nZXQodGhpcy5faWQpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgIH1cbiAgfVxuXG4gIHJlYWRTeW5jKCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gc3RvcmUuZ2V0KHRoaXMuX2lkKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHdyaXRlKHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHN0b3JlLnNldCh0aGlzLl9pZCwgdmFsdWUpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9zZXJ2aWNlL2JhY2tlbmRhcGkuanNcblxud2luZG93LmFwcC5CYWNrZW5kQXBpID0gY2xhc3MgQmFja2VuZEFwaSB7XG4gIGNvbnN0cnVjdG9yKEhvc3RzLCBTZXNzaW9uTW9kZWwpIHtcbiAgICB0aGlzLl9TZXNzaW9uTW9kZWwgPSBTZXNzaW9uTW9kZWw7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBidXNpbmVzc1Rva2VuUHJvdmlkZXIoKSB7XG4gICAgICBpZiAoIXNlbGYuX1Nlc3Npb25Nb2RlbC5hcGlUb2tlbikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShzZWxmLl9TZXNzaW9uTW9kZWwuYXBpVG9rZW4uYWNjZXNzX3Rva2VuKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjdXN0b21lclRva2VuUHJvdmlkZXIoKSB7XG4gICAgICBpZiAoIXNlbGYuX1Nlc3Npb25Nb2RlbC5jdXN0b21lclRva2VuKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHNlbGYuX1Nlc3Npb25Nb2RlbC5jdXN0b21lclRva2VuLmFjY2Vzc190b2tlbik7XG4gICAgfVxuXG4gICAgZm9yICh2YXIga2V5IGluIER0c0FwaUNsaWVudCkge1xuICAgICAgbGV0IGNvbmZpZyA9IHtcbiAgICAgICAgaG9zdDoge1xuICAgICAgICAgIGRvbWFpbjogSG9zdHMuYXBpLmhvc3QsXG4gICAgICAgICAgc2VjdXJlOiBIb3N0cy5hcGkuc2VjdXJlID09PSAndHJ1ZSdcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgbGV0IHByb3ZpZGVyID0gYnVzaW5lc3NUb2tlblByb3ZpZGVyO1xuXG4gICAgICBpZiAoa2V5ID09PSAnc25hcCcpIHtcbiAgICAgICAgY29uZmlnLmhvc3QuZG9tYWluID0gSG9zdHMuY29udGVudC5ob3N0O1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoa2V5ID09PSAnY3VzdG9tZXInKSB7XG4gICAgICAgIHByb3ZpZGVyID0gY3VzdG9tZXJUb2tlblByb3ZpZGVyO1xuICAgICAgfVxuXG4gICAgICB0aGlzW2tleV0gPSBuZXcgRHRzQXBpQ2xpZW50W2tleV0oY29uZmlnLCBwcm92aWRlcik7XG4gICAgfVxuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvc2VydmljZS9jYXJkcmVhZGVyLmNvcmRvdmEuanNcblxud2luZG93LmFwcC5Db3Jkb3ZhQ2FyZFJlYWRlciA9IGNsYXNzIENvcmRvdmFDYXJkUmVhZGVyIHtcbiAgLyogZ2xvYmFsIHNpZ25hbHMgKi9cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm9uUmVjZWl2ZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLm9uRXJyb3IgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcblxuICAgIGlmICghd2luZG93LklEVGVjaCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYXJkIHJlYWRlciBpcyBub3QgYXZhaWxhYmxlLicpO1xuICAgIH1cbiAgfVxuXG4gIHJlY2VpdmVkKGNhcmQpIHtcbiAgICB0aGlzLm9uUmVjZWl2ZWQuZGlzcGF0Y2goY2FyZCk7XG4gIH1cblxuICBlcnJvcihlKSB7XG4gICAgdGhpcy5vbkVycm9yLmRpc3BhdGNoKGUpO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgaWYgKCF0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG5cbiAgICAgIHdpbmRvdy5JRFRlY2guc3RhcnRDYXJkUmVhZGVyKChkYXRhKSA9PiB0aGlzLl9vblJlY2VpdmVkKGRhdGEpLCBlID0+IHRoaXMuX29uRXJyb3IoZSkpO1xuICAgIH1cbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG5cbiAgICAgIHdpbmRvdy5JRFRlY2guc3RvcENhcmRSZWFkZXIoKCkgPT4ge30sIGUgPT4ge30pO1xuICAgIH1cbiAgfVxuXG4gIF9vblJlY2VpdmVkKGRhdGEpIHtcbiAgICBpZiAoIXRoaXMuX2FjdGl2ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucmVjZWl2ZWQoe1xuICAgICAgZGF0YTogZGF0YVxuICAgIH0pO1xuICB9XG5cbiAgX29uRXJyb3IoZGF0YSkge1xuICAgIGlmICghdGhpcy5fYWN0aXZlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5lcnJvcih7XG4gICAgICBjYXVzZTogcGFyc2VJbnQoZGF0YSkgfHwgMlxuICAgIH0pO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvc2VydmljZS9jYXJkcmVhZGVyLmdlbmVyaWMuanNcblxuKGZ1bmN0aW9uKCkge1xuXG4gIC8qIGdsb2JhbCBzaWduYWxzICovXG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIENhcmRSZWFkZXJcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICB2YXIgQ2FyZFJlYWRlciA9IGZ1bmN0aW9uKE1hbmFnZW1lbnRTZXJ2aWNlKSB7XG4gICAgdGhpcy5fTWFuYWdlbWVudFNlcnZpY2UgPSBNYW5hZ2VtZW50U2VydmljZTtcbiAgICB0aGlzLm9uUmVjZWl2ZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLm9uRXJyb3IgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcbiAgfTtcblxuICBDYXJkUmVhZGVyLnByb3RvdHlwZS5yZWNlaXZlZCA9IGZ1bmN0aW9uKGNhcmQpIHtcbiAgICB0aGlzLm9uUmVjZWl2ZWQuZGlzcGF0Y2goY2FyZCk7XG4gIH07XG5cbiAgQ2FyZFJlYWRlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbihlKSB7XG4gICAgdGhpcy5vbkVycm9yLmRpc3BhdGNoKGUpO1xuICB9O1xuXG4gIENhcmRSZWFkZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHRoaXMuX01hbmFnZW1lbnRTZXJ2aWNlLnN0YXJ0Q2FyZFJlYWRlcigpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIHRoaXMucmVjZWl2ZWQoZGF0YSk7XG4gICAgICB9LCBlID0+IHtcbiAgICAgICAgdGhpcy5lcnJvcihlKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgQ2FyZFJlYWRlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHRoaXMuX01hbmFnZW1lbnRTZXJ2aWNlLnN0b3BDYXJkUmVhZGVyKCk7XG4gICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgd2luZG93LmFwcC5DYXJkUmVhZGVyID0gQ2FyZFJlYWRlcjtcbn0pKCk7XG5cbi8vc3JjL2pzL3NoYXJlZC9zZXJ2aWNlL21hbmFnZW1lbnRzZXJ2aWNlLmNvcmRvdmEuanNcblxud2luZG93LmFwcC5Db3Jkb3ZhTWFuYWdlbWVudFNlcnZpY2UgPSBjbGFzcyBDb3Jkb3ZhTWFuYWdlbWVudFNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBpZiAoIXdpbmRvdy5jb3Jkb3ZhKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvcmRvdmEgaXMgbm90IGF2YWlsYWJsZS4nKTtcbiAgICB9XG5cbiAgICBpZiAod2luZG93LnNjcmVlbikge1xuICAgICAgdGhpcy5fb3JpZW50YXRpb24gPSB3aW5kb3cuc2NyZWVuLm9yaWVudGF0aW9uO1xuICAgIH1cbiAgfVxuXG4gIGxvYWRSZXNldCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKCkgPT4gd2luZG93Lm9wZW4oJ3Jlc2V0Lmh0bWwnLCAnX3NlbGYnKSk7XG4gIH1cblxuICBsb2FkU3RhcnR1cCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKCkgPT4gd2luZG93Lm9wZW4oJ3N0YXJ0dXAuaHRtbCcsICdfc2VsZicpKTtcbiAgfVxuXG4gIGxvYWRBcHBsaWNhdGlvbihsb2NhdGlvbikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgoKSA9PiB3aW5kb3cub3Blbihgc25hcF8ke2xvY2F0aW9uLnRoZW1lLmxheW91dH0uaHRtbGAsICdfc2VsZicpKTtcbiAgfVxuXG4gIHJvdGF0ZVNjcmVlbigpIHtcbiAgICBpZiAoIXdpbmRvdy5zY3JlZW4gfHwgIXRoaXMuX29yaWVudGF0aW9uKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIHZhciBvcmllbnRhdGlvbjtcbiAgICAgIHN3aXRjaCAoc2VsZi5fb3JpZW50YXRpb24udHlwZSkge1xuICAgICAgICBjYXNlICdsYW5kc2NhcGUnOlxuICAgICAgICBjYXNlICdsYW5kc2NhcGUtcHJpbWFyeSc6XG4gICAgICAgICAgb3JpZW50YXRpb24gPSAnbGFuZHNjYXBlLXNlY29uZGFyeSc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2xhbmRzY2FwZS1zZWNvbmRhcnknOlxuICAgICAgICAgIG9yaWVudGF0aW9uID0gJ2xhbmRzY2FwZS1wcmltYXJ5JztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBvcmllbnRhdGlvbiA9ICdsYW5kc2NhcGUtcHJpbWFyeSc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHdpbmRvdy5zY3JlZW4ubG9ja09yaWVudGF0aW9uKG9yaWVudGF0aW9uKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIG9wZW5Ccm93c2VyKHVybCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGxldCBzZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIGxvY2F0aW9uOiAneWVzJyxcbiAgICAgICAgICAgIGNsZWFyY2FjaGU6ICd5ZXMnLFxuICAgICAgICAgICAgY2xlYXJzZXNzaW9uY2FjaGU6ICd5ZXMnLFxuICAgICAgICAgICAgem9vbTogJ25vJyxcbiAgICAgICAgICAgIGhhcmR3YXJlYmFjazogJ25vJ1xuICAgICAgICAgIH07XG5cbiAgICAgIGxldCByZWYgPSBuZXcgYXBwLkNvcmRvdmFXZWJCcm93c2VyUmVmZXJlbmNlKHVybCk7XG4gICAgICByZWYuYXR0YWNoKHdpbmRvdy5vcGVuKHVybCwgJ19ibGFuaycsIE9iamVjdC5rZXlzKHNldHRpbmdzKS5tYXAoeCA9PiBgJHt4fT0ke3NldHRpbmdzW3hdfWApLmpvaW4oJywnKSkpO1xuXG4gICAgICByZXNvbHZlKHJlZik7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZUJyb3dzZXIocmVmZXJlbmNlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgcmVmZXJlbmNlLmV4aXQoKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFNvdW5kVm9sdW1lKCkge1xuICAgIGlmICghd2luZG93LnZvbHVtZSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgxMDApO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB3aW5kb3cudm9sdW1lLmdldFZvbHVtZShyZXNvbHZlLCByZWplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0U291bmRWb2x1bWUodmFsdWUpIHtcbiAgICBpZiAoISh2YWx1ZSA+PSAwICYmIHZhbHVlIDw9IDEwMCkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgSW52YWxpZCB2YWx1ZTogJHt2YWx1ZX1gKTtcbiAgICB9XG5cbiAgICBpZiAoIXdpbmRvdy52b2x1bWUpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgd2luZG93LnZvbHVtZS5zZXRWb2x1bWUodmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXREaXNwbGF5QnJpZ2h0bmVzcygpIHtcbiAgICBpZiAoIXdpbmRvdy5icmlnaHRuZXNzKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKDEwMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHdpbmRvdy5icmlnaHRuZXNzLmdldEJyaWdodG5lc3ModmFsdWUgPT4ge1xuICAgICAgICBpZiAodmFsdWUgPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoNTApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFsdWUgPSBwYXJzZUludCh2YWx1ZSAqIDEwMCk7XG4gICAgICAgIHZhbHVlID0gTWF0aC5taW4oMTAwLCB2YWx1ZSk7XG4gICAgICAgIHZhbHVlID0gTWF0aC5tYXgoMCwgdmFsdWUpO1xuXG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldERpc3BsYXlCcmlnaHRuZXNzKHZhbHVlKSB7XG4gICAgaWYgKCEodmFsdWUgPj0gMCAmJiB2YWx1ZSA8PSAxMDApKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEludmFsaWQgdmFsdWU6ICR7dmFsdWV9YCk7XG4gICAgfVxuXG4gICAgaWYgKCF3aW5kb3cuYnJpZ2h0bmVzcykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB3aW5kb3cuYnJpZ2h0bmVzcy5zZXRCcmlnaHRuZXNzKHZhbHVlIC8gMTAwLCAoKSA9PiByZXNvbHZlKCksIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBzdGFydENhcmRSZWFkZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIElEVGVjaC5zdGFydENhcmRSZWFkZXIocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0b3BDYXJkUmVhZGVyKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBJRFRlY2guc3RvcENhcmRSZWFkZXIocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL3NlcnZpY2UvbWFuYWdlbWVudHNlcnZpY2UuZWxlY3Ryb24uanNcblxud2luZG93LmFwcC5FbGVjdHJvbk1hbmFnZW1lbnRTZXJ2aWNlID0gY2xhc3MgRWxlY3Ryb25NYW5hZ2VtZW50U2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGlmICghcmVxdWlyZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb2RlLmpzIGNvbnRleHQgbm90IGZvdW5kLicpO1xuICAgIH1cblxuICAgIHRoaXMuX2lwYyA9IHJlcXVpcmUoJ2lwYycpO1xuXG4gICAgaWYgKCF0aGlzLl9pcGMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSVBDIG1vZHVsZSBub3QgZm91bmQuJyk7XG4gICAgfVxuICB9XG5cbiAgbG9hZFJlc2V0KCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgoKSA9PiB3aW5kb3cubG9jYXRpb24uYXNzaWduKCdyZXNldC5odG1sJykpO1xuICB9XG5cbiAgbG9hZFN0YXJ0dXAoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKCgpID0+IHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oJ3N0YXJ0dXAuaHRtbCcpKTtcbiAgfVxuXG4gIGxvYWRBcHBsaWNhdGlvbihsb2NhdGlvbikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgoKSA9PiB3aW5kb3cubG9jYXRpb24uYXNzaWduKGBzbmFwXyR7bG9jYXRpb24udGhlbWUubGF5b3V0fS5odG1sYCkpO1xuICB9XG5cbiAgb3BlbkJyb3dzZXIodXJsKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgYXBwLldlYlZpZXdCcm93c2VyUmVmZXJlbmNlKHVybCkpO1xuICB9XG5cbiAgY2xvc2VCcm93c2VyKHJlZmVyZW5jZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIHJlZmVyZW5jZS5leGl0KCk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH1cblxuICByb3RhdGVTY3JlZW4oKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgdGhpcy5faXBjLnNlbmQoJ3JvdGF0ZS1zY3JlZW4nKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFNvdW5kVm9sdW1lKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIHRoaXMuX2lwYy5vbignZ2V0LXNvdW5kLXZvbHVtZS1yZXN1bHQnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXNvbHZlKHBhcnNlRmxvYXQodmFsdWUpICogMTAwKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5faXBjLnNlbmQoJ2dldC1zb3VuZC12b2x1bWUnKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldFNvdW5kVm9sdW1lKCkge1xuICAgIGlmICghKHZhbHVlID49IDAgJiYgdmFsdWUgPD0gMTAwKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBJbnZhbGlkIHZhbHVlOiAke3ZhbHVlfWApO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIHRoaXMuX2lwYy5zZW5kKCdzZXQtc291bmQtdm9sdW1lJywgdmFsdWUgKiAwLjAxKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldERpc3BsYXlCcmlnaHRuZXNzKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIHRoaXMuX2lwYy5vbignZ2V0LWRpc3BsYXktYnJpZ2h0bmVzcy1yZXN1bHQnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXNvbHZlKHBhcnNlRmxvYXQodmFsdWUpICogMTAwKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5faXBjLnNlbmQoJ2dldC1kaXNwbGF5LWJyaWdodG5lc3MnKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldERpc3BsYXlCcmlnaHRuZXNzKHZhbHVlKSB7XG4gICAgaWYgKCEodmFsdWUgPj0gMCAmJiB2YWx1ZSA8PSAxMDApKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEludmFsaWQgdmFsdWU6ICR7dmFsdWV9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgdGhpcy5faXBjLnNlbmQoJ3NldC1kaXNwbGF5LWJyaWdodG5lc3MnLCB2YWx1ZSAqIDAuMDEpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhcnRDYXJkUmVhZGVyKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLl9pcGMub24oJ2NhcmQtcmVhZGVyLXJlc3VsdCcsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5faXBjLm9uKCdjYXJkLXJlYWRlci1lcnJvcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5faXBjLnNlbmQoJ3N0YXJ0LWNhcmQtcmVhZGVyJyk7XG4gICAgfSk7XG4gIH1cblxuICBzdG9wQ2FyZFJlYWRlcigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICB0aGlzLl9pcGMuc2VuZCgnc3RvcC1jYXJkLXJlYWRlcicpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvc2VydmljZS9tYW5hZ2VtZW50c2VydmljZS5nZW5lcmljLmpzXG5cbndpbmRvdy5hcHAuR2VuZXJpY01hbmFnZW1lbnRTZXJ2aWNlID0gY2xhc3MgR2VuZXJpY01hbmFnZW1lbnRTZXJ2aWNlIHtcbiAgbG9hZFJlc2V0KCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgoKSA9PiB3aW5kb3cubG9jYXRpb24uYXNzaWduKCdyZXNldC5odG1sJykpO1xuICB9XG5cbiAgbG9hZFN0YXJ0dXAoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKCgpID0+IHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oJ3N0YXJ0dXAuaHRtbCcpKTtcbiAgfVxuXG4gIGxvYWRBcHBsaWNhdGlvbihsb2NhdGlvbikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgoKSA9PiB3aW5kb3cubG9jYXRpb24uYXNzaWduKGBzbmFwXyR7bG9jYXRpb24udGhlbWUubGF5b3V0fS5odG1sYCkpO1xuICB9XG5cbiAgb3BlbkJyb3dzZXIodXJsKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgYXBwLklmcmFtZVdlYkJyb3dzZXJSZWZlcmVuY2UodXJsKSk7XG4gIH1cblxuICBjbG9zZUJyb3dzZXIocmVmZXJlbmNlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgcmVmZXJlbmNlLmV4aXQoKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJvdGF0ZVNjcmVlbigpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgfVxuXG4gIGdldFNvdW5kVm9sdW1lKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICB9XG5cbiAgc2V0U291bmRWb2x1bWUoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gIH1cblxuICBnZXREaXNwbGF5QnJpZ2h0bmVzcygpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgfVxuXG4gIHNldERpc3BsYXlCcmlnaHRuZXNzKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICB9XG5cbiAgc3RhcnRDYXJkUmVhZGVyKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICB9XG5cbiAgc3RvcENhcmRSZWFkZXIoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC9zZXJ2aWNlL3NvY2tldGNsaWVudC5qc1xuXG53aW5kb3cuYXBwLlNvY2tldENsaWVudCA9IGNsYXNzIFNvY2tldENsaWVudCB7XG4gIGNvbnN0cnVjdG9yKFNlc3Npb25Nb2RlbCwgSG9zdHMsIExvZ2dlcikge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuX1Nlc3Npb25Nb2RlbCA9IFNlc3Npb25Nb2RlbDtcbiAgICB0aGlzLl9Mb2dnZXIgPSBMb2dnZXI7XG5cbiAgICB0aGlzLmlzQ29ubmVjdGVkQ2hhbmdlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuXG4gICAgdGhpcy5fY2hhbm5lbHMgPSB7fTtcbiAgICB0aGlzLl9pc0Nvbm5lY3RlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5fc29ja2V0ID0gc29ja2V0Q2x1c3Rlci5jb25uZWN0KHtcbiAgICAgIGhvc3RuYW1lOiBIb3N0cy5zb2NrZXQuaG9zdCxcbiAgICAgIHBhdGg6IEhvc3RzLnNvY2tldC5wYXRoLFxuICAgICAgcG9ydDogSG9zdHMuc29ja2V0LnBvcnQsXG4gICAgICBzZWN1cmU6IEhvc3RzLnNvY2tldC5zZWN1cmVcbiAgICB9KTtcbiAgICB0aGlzLl9zb2NrZXQub24oJ2Nvbm5lY3QnLCBzdGF0dXMgPT4ge1xuICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKGBTb2NrZXQgY29ubmVjdGVkLmApO1xuICAgICAgc2VsZi5fYXV0aGVudGljYXRlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc29ja2V0Lm9uKCdkaXNjb25uZWN0JywgKCkgPT4ge1xuICAgICAgc2VsZi5fTG9nZ2VyLmRlYnVnKGBTb2NrZXQgZGlzY29ubmVjdGVkLmApO1xuICAgICAgc2VsZi5faXNDb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgIHNlbGYuaXNDb25uZWN0ZWRDaGFuZ2VkLmRpc3BhdGNoKHNlbGYuaXNDb25uZWN0ZWQpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0IGlzQ29ubmVjdGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0Nvbm5lY3RlZDtcbiAgfVxuXG4gIHN1YnNjcmliZSh0b3BpYywgaGFuZGxlcikge1xuICAgIHRoaXMuX2dldENoYW5uZWwodG9waWMpLndhdGNoKGhhbmRsZXIpO1xuICB9XG5cbiAgc2VuZCh0b3BpYywgZGF0YSkge1xuICAgIHRoaXMuX2dldENoYW5uZWwodG9waWMpLnB1Ymxpc2goZGF0YSk7XG4gIH1cblxuICBfZ2V0Q2hhbm5lbCh0b3BpYykge1xuICAgIHJldHVybiB0aGlzLl9jaGFubmVsc1t0b3BpY10gfHwgKHRoaXMuX2NoYW5uZWxzW3RvcGljXSA9IHRoaXMuX3NvY2tldC5zdWJzY3JpYmUodG9waWMpKTtcbiAgfVxuXG4gIF9hdXRoZW50aWNhdGUoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYuX3NvY2tldC5lbWl0KCdhdXRoZW50aWNhdGUnLCB7XG4gICAgICBhY2Nlc3NfdG9rZW46IHNlbGYuX1Nlc3Npb25Nb2RlbC5hcGlUb2tlblxuICAgIH0sIGVyciA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHNlbGYuX0xvZ2dlci53YXJuKGBVbmFibGUgdG8gYXV0aGVudGljYXRlIHNvY2tldDogJHtlcnIubWVzc2FnZX1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWxmLl9pc0Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICBzZWxmLmlzQ29ubmVjdGVkQ2hhbmdlZC5kaXNwYXRjaChzZWxmLmlzQ29ubmVjdGVkKTtcbiAgICB9KTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL3NlcnZpY2UvdGVsZW1ldHJ5c2VydmljZS5qc1xuXG53aW5kb3cuYXBwLlRlbGVtZXRyeVNlcnZpY2UgPSBjbGFzcyBUZWxlbWV0cnlTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoJHJlc291cmNlKSB7XG4gICAgdGhpcy5fYXBpID0ge1xuICAgICAgJ3N1Ym1pdFRlbGVtZXRyeSc6ICRyZXNvdXJjZSgnL3NuYXAvdGVsZW1ldHJ5Jywge30sIHsgcXVlcnk6IHsgbWV0aG9kOiAnUE9TVCcgfSB9KSxcbiAgICAgICdzdWJtaXRMb2dzJzogJHJlc291cmNlKCcvc25hcC9sb2dzJywge30sIHsgcXVlcnk6IHsgbWV0aG9kOiAnUE9TVCcgfSB9KVxuICAgIH07XG4gIH1cblxuICBzdWJtaXRUZWxlbWV0cnkoZGF0YSkge1xuICAgIHJldHVybiB0aGlzLl9hcGkuc3VibWl0VGVsZW1ldHJ5LnF1ZXJ5KGRhdGEpLiRwcm9taXNlO1xuICB9XG5cbiAgc3VibWl0TG9ncyhkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FwaS5zdWJtaXRMb2dzLnF1ZXJ5KGRhdGEpLiRwcm9taXNlO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvc2VydmljZS93ZWJicm93c2VyLmpzXG5cbndpbmRvdy5hcHAuV2ViQnJvd3NlciA9IGNsYXNzIFdlYkJyb3dzZXIge1xuICAvKiBnbG9iYWwgc2lnbmFscywgVVJJICovXG5cbiAgY29uc3RydWN0b3IoQW5hbHl0aWNzTW9kZWwsIE1hbmFnZW1lbnRTZXJ2aWNlLCBTTkFQRW52aXJvbm1lbnQsIFNOQVBIb3N0cykge1xuICAgIHRoaXMuX0FuYWx5dGljc01vZGVsID0gQW5hbHl0aWNzTW9kZWw7XG4gICAgdGhpcy5fTWFuYWdlbWVudFNlcnZpY2UgPSBNYW5hZ2VtZW50U2VydmljZTtcbiAgICB0aGlzLl9TTkFQRW52aXJvbm1lbnQgPSBTTkFQRW52aXJvbm1lbnQ7XG5cbiAgICB0aGlzLl9sb2NhbEhvc3RzID0gT2JqZWN0LmtleXMoU05BUEhvc3RzKVxuICAgICAgLm1hcChwID0+IFNOQVBIb3N0c1twXS5ob3N0KVxuICAgICAgLmZpbHRlcihoID0+IEJvb2xlYW4oaCkpO1xuICAgIHRoaXMuX2xvY2FsSG9zdHMucHVzaCgnbG9jYWxob3N0Jyk7XG5cbiAgICB0aGlzLm9uT3BlbmVkID0gbmV3IHNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5vbkNsb3NlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMub25OYXZpZ2F0ZWQgPSBuZXcgc2lnbmFscy5TaWduYWwoKTtcblxuICAgIHRoaXMuX2Jyb3dzZXIgPSBudWxsO1xuICB9XG5cbiAgb3Blbih1cmwpIHtcbiAgICBpZiAodGhpcy5fYnJvd3Nlcikge1xuICAgICAgdGhpcy5fYnJvd3Nlci5uYXZpZ2F0ZSh1cmwpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9icm93c2VyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fTWFuYWdlbWVudFNlcnZpY2Uub3BlbkJyb3dzZXIodXJsKS50aGVuKGJyb3dzZXIgPT4ge1xuICAgICAgICB0aGlzLl9icm93c2VyID0gYnJvd3NlcjtcbiAgICAgICAgdGhpcy5vbk9wZW5lZC5kaXNwYXRjaCh0aGlzLl9icm93c2VyKTtcblxuICAgICAgICB0aGlzLl9icm93c2VyLm9uTmF2aWdhdGVkLmFkZCh1cmwgPT4ge1xuICAgICAgICAgIHRoaXMub25OYXZpZ2F0ZWQuZGlzcGF0Y2godXJsKTtcblxuICAgICAgICAgIGxldCBob3N0ID0gVVJJKHVybCkuaG9zdG5hbWUoKTtcblxuICAgICAgICAgIGlmICh0aGlzLl9sb2NhbEhvc3RzLmluZGV4T2YoaG9zdCkgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9BbmFseXRpY3NNb2RlbC5sb2dVcmwodXJsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2Jyb3dzZXIub25FeGl0LmFkZE9uY2UoKCkgPT4ge1xuICAgICAgICAgIHRoaXMub25DbG9zZWQuZGlzcGF0Y2goKTtcbiAgICAgICAgICB0aGlzLl9icm93c2VyID0gbnVsbDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVzb2x2ZShicm93c2VyKTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBpZiAoIXRoaXMuX2Jyb3dzZXIpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fTWFuYWdlbWVudFNlcnZpY2UuY2xvc2VCcm93c2VyKHRoaXMuX2Jyb3dzZXIpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5fYnJvd3NlciA9IG51bGw7XG4gICAgICB0aGlzLm9uQ2xvc2VkLmRpc3BhdGNoKCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRGbGFzaFVybCh1cmwsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICByZXR1cm4gYGZsYXNoLmh0bWwjbWVkaWE9JHtlbmNvZGVVUklDb21wb25lbnQodXJsKX1gICtcbiAgICAgIGAmd2lkdGg9JHtlbmNvZGVVUklDb21wb25lbnQod2lkdGgpfWAgK1xuICAgICAgYCZoZWlnaHQ9JHtlbmNvZGVVUklDb21wb25lbnQoaGVpZ2h0KX1gO1xuICB9XG5cbiAgaXNQcml2YXRlVXJsKHVybCkge1xuICAgIHJldHVybiAhdXJsLnN0YXJ0c1dpdGgoJ2h0dHAnKSB8fCB0aGlzLl9sb2NhbEhvc3RzLmluZGV4T2YoVVJJKHVybCkuaG9zdG5hbWUoKSkgIT09IC0xO1xuICB9XG59O1xuXG4vL3NyYy9qcy9zaGFyZWQvd29ya2Vycy9mbGFzaHN0YXJ0ZXIuanNcblxud2luZG93LmFwcC5GbGFzaFN0YXJ0ZXIgPSBjbGFzcyBGbGFzaFN0YXJ0ZXIge1xuICAvKiBnbG9iYWwgc3dmb2JqZWN0ICovXG5cbiAgY29uc3RydWN0b3IoTG9nZ2VyLCBTTkFQSG9zdHMpIHtcbiAgICB0aGlzLl9Mb2dnZXIgPSBMb2dnZXI7XG4gICAgdGhpcy5fU05BUEhvc3RzID0gU05BUEhvc3RzO1xuICB9XG5cbiAgc3RhcnQoY29udGFpbmVySWQsIHVybCwgd2lkdGgsIGhlaWdodCkge1xuICAgIHZhciBmbGFzaHZhcnMgPSB7fSxcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIG1lbnU6ICdmYWxzZScsXG4gICAgICAgICAgd21vZGU6ICdkaXJlY3QnLFxuICAgICAgICAgIGFsbG93RnVsbFNjcmVlbjogJ2ZhbHNlJ1xuICAgICAgICB9LFxuICAgICAgICBhdHRyaWJ1dGVzID0ge1xuICAgICAgICAgIGlkOiBjb250YWluZXJJZCxcbiAgICAgICAgICBuYW1lOiBjb250YWluZXJJZFxuICAgICAgICB9LFxuICAgICAgICBzZWxmID0gdGhpcztcblxuICAgIHN3Zm9iamVjdC5lbWJlZFNXRihcbiAgICAgIHVybCxcbiAgICAgIGNvbnRhaW5lcklkLFxuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICAnMTYuMC4wJyxcbiAgICAgICdleHByZXNzSW5zdGFsbC5zd2YnLFxuICAgICAgZmxhc2h2YXJzLFxuICAgICAgcGFyYW1zLFxuICAgICAgYXR0cmlidXRlcyxcbiAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBpZiAocmVzLnN1Y2Nlc3MgIT09IHRydWUpIHtcbiAgICAgICAgICBzZWxmLl9Mb2dnZXIud2FybihgVW5hYmxlIHRvIHN0YXJ0IEZsYXNoIGluIGNvbnRhaW5lciAjJHtjb250YWluZXJJZH06ICR7dXJsfSAke3dpZHRofS8ke2hlaWdodH1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH1cbn07XG5cbi8vc3JjL2pzL3NoYXJlZC93b3JrZXJzL2hlYXRtYXAuanNcblxud2luZG93LmFwcC5IZWF0TWFwID0gY2xhc3MgSGVhdE1hcCB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLl9saXN0ZW5lciA9IGUgPT4ge1xuICAgICAgc2VsZi5fb25DbGljayhlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2xpc3RlbmVyKTtcblxuICAgIHRoaXMuY2xpY2tlZCA9IG5ldyBzaWduYWxzLlNpZ25hbCgpO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fbGlzdGVuZXIpO1xuICB9XG5cbiAgX29uQ2xpY2soZSkge1xuICAgIGxldCBkYXRhID0ge1xuICAgICAgeDogZS5sYXllclggLyB0aGlzLl9lbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgeTogZS5sYXllclkgLyB0aGlzLl9lbGVtZW50LmNsaWVudEhlaWdodFxuICAgIH07XG5cbiAgICBpZiAoZGF0YS54IDwgMCB8fCBkYXRhLnkgPCAwIHx8IGRhdGEueCA+IDEgfHwgZGF0YS55ID4gMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuY2xpY2tlZC5kaXNwYXRjaChkYXRhKTtcbiAgfVxufTtcblxuLy9zcmMvanMvc2hhcmVkL3dvcmtlcnMvbG9nZ2VyLmpzXG5cbndpbmRvdy5hcHAuTG9nZ2VyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihTTkFQRW52aXJvbm1lbnQpIHtcbiAgICB0aGlzLl9TTkFQRW52aXJvbm1lbnQgPSBTTkFQRW52aXJvbm1lbnQ7XG4gICAgdGhpcy5fbG9nID0gbG9nNGphdmFzY3JpcHQuZ2V0TG9nZ2VyKCk7XG5cbiAgICB2YXIgYWpheEFwcGVuZGVyID0gbmV3IGxvZzRqYXZhc2NyaXB0LkFqYXhBcHBlbmRlcignL3NuYXAvbG9nJyk7XG4gICAgYWpheEFwcGVuZGVyLnNldFdhaXRGb3JSZXNwb25zZSh0cnVlKTtcbiAgICBhamF4QXBwZW5kZXIuc2V0TGF5b3V0KG5ldyBsb2c0amF2YXNjcmlwdC5Kc29uTGF5b3V0KCkpO1xuICAgIGFqYXhBcHBlbmRlci5zZXRUaHJlc2hvbGQobG9nNGphdmFzY3JpcHQuTGV2ZWwuRVJST1IpO1xuXG4gICAgdGhpcy5fbG9nLmFkZEFwcGVuZGVyKGFqYXhBcHBlbmRlcik7XG4gICAgdGhpcy5fbG9nLmFkZEFwcGVuZGVyKG5ldyBsb2c0amF2YXNjcmlwdC5Ccm93c2VyQ29uc29sZUFwcGVuZGVyKCkpO1xuICB9XG5cbiAgZGVidWcoLi4uYXJncykge1xuICAgIHRoaXMuX2xvZy5kZWJ1ZyguLi5hcmdzKTtcbiAgfVxuXG4gIGluZm8oLi4uYXJncykge1xuICAgIHRoaXMuX2xvZy5pbmZvKC4uLmFyZ3MpO1xuICB9XG5cbiAgd2FybiguLi5hcmdzKSB7XG4gICAgdGhpcy5fbG9nLndhcm4oLi4uYXJncyk7XG4gIH1cblxuICBlcnJvciguLi5hcmdzKSB7XG4gICAgdGhpcy5fbG9nLmVycm9yKC4uLmFyZ3MpO1xuICB9XG5cbiAgZmF0YWwoLi4uYXJncykge1xuICAgIHRoaXMuX2xvZy5mYXRhbCguLi5hcmdzKTtcbiAgfVxufTtcblxuLy9zcmMvanMvYXBwcy5qc1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy9cbi8vICBBcHBsaWNhdGlvbkJvb3RzdHJhcGVyXG4vL1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxud2luZG93LmFwcC5BcHBsaWNhdGlvbkJvb3RzdHJhcGVyID0gY2xhc3MgQXBwbGljYXRpb25Cb290c3RyYXBlciB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICB0aGlzLmhvc3RzID0ge1xuICAgICAgYXBpOiB7ICdob3N0JzogJ2FwaTIubWFuYWdlc25hcC5jb20nLCAnc2VjdXJlJzogdHJ1ZSB9LFxuICAgICAgY29udGVudDogeyAnaG9zdCc6ICdjb250ZW50Lm1hbmFnZXNuYXAuY29tJywgJ3NlY3VyZSc6IGZhbHNlIH0sXG4gICAgICBtZWRpYTogeyAnaG9zdCc6ICdjb250ZW50Lm1hbmFnZXNuYXAuY29tJywgJ3NlY3VyZSc6IGZhbHNlIH0sXG4gICAgICBzdGF0aWM6IHsgJ3BhdGgnOiB0aGlzLm9wdGlvbnMuc3RhdGljX3BhdGggfHwgJy8nIH0sXG4gICAgICBzb2NrZXQ6IHsgJ2hvc3QnOiAnd2ViLWRldi5tYW5hZ2VzbmFwLmNvbScsICdzZWN1cmUnOiB0cnVlLCAncG9ydCc6ODA4MCwgJ3BhdGgnOiAnL3NvY2tldC8nIH0sXG4gICAgICBnYW1lczogeyAnaG9zdCc6ICdzdGF0aWMubWFuYWdlc25hcC5jb20nIH1cbiAgICB9O1xuXG4gICAgdGhpcy5lbnZpcm9ubWVudCA9IHtcbiAgICAgIGRlYnVnOiB0aGlzLm9wdGlvbnMuZGVidWcgfHwgZmFsc2UsXG4gICAgICBwbGF0Zm9ybTogdGhpcy5vcHRpb25zLnBsYXRmb3JtIHx8ICd3ZWInLFxuICAgICAgdmVyc2lvbjogU05BUF9WRVJTSU9OIHx8ICcwLjAuMCcsXG4gICAgICBtYWluX2FwcGxpY2F0aW9uOiB7ICdjbGllbnRfaWQnOiAnZDY3NjEwYjFjOTEwNDRkOGFiZDU1Y2JkYTZjNjE5ZjAnLCAnY2FsbGJhY2tfdXJsJzogJ2h0dHBzOi8vYXBpMi5tYW5hZ2VzbmFwLmNvbS9jYWxsYmFjay9hcGknLCAnc2NvcGUnOiAnJyB9LFxuICAgICAgY3VzdG9tZXJfYXBwbGljYXRpb246IHsgJ2NsaWVudF9pZCc6ICc5MTM4MWE4NmIzYjQ0NGZkODc2ZGY4MGIyMmQ3ZmE2ZScgfSxcbiAgICAgIGZhY2Vib29rX2FwcGxpY2F0aW9uOiB7ICdjbGllbnRfaWQnOiAnMzQ5NzI5NTE4NTQ1MzEzJywgJ3JlZGlyZWN0X3VybCc6ICdodHRwczovL3dlYi5tYW5hZ2VzbmFwLmNvbS9jYWxsYmFjay9mYWNlYm9vaycgfSxcbiAgICAgIGdvb2dsZXBsdXNfYXBwbGljYXRpb246IHsgJ2NsaWVudF9pZCc6ICc2Nzg5OTgyNTA5NDEtMWRtZWJwNGtzbmk5dHNqdGg0NXRzaHQ4bDdjbDFtcm4uYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nLCAncmVkaXJlY3RfdXJsJzogJ2h0dHBzOi8vd2ViLm1hbmFnZXNuYXAuY29tL2NhbGxiYWNrL2dvb2dsZXBsdXMnIH0sXG4gICAgICB0d2l0dGVyX2FwcGxpY2F0aW9uOiB7ICdjb25zdW1lcl9rZXknOiAneVE4WEoxNVBtYVBPaTRMNURKUGlrR0NJMCcsICdyZWRpcmVjdF91cmwnOiAnaHR0cHM6Ly93ZWIubWFuYWdlc25hcC5jb20vY2FsbGJhY2svdHdpdHRlcicgfVxuICAgIH07XG5cbiAgICB0aGlzLmRlcGVuZGVuY2llcyA9IFtcbiAgICAgICduZ1JvdXRlJyxcbiAgICAgICduZ0FuaW1hdGUnLFxuICAgICAgJ25nVG91Y2gnLFxuICAgICAgJ25nU2FuaXRpemUnLFxuICAgICAgJ1NOQVAuY29uZmlncycsXG4gICAgICAnU05BUC5jb250cm9sbGVycycsXG4gICAgICAnU05BUC5kaXJlY3RpdmVzJyxcbiAgICAgICdTTkFQLmZpbHRlcnMnLFxuICAgICAgJ1NOQVAuc2VydmljZXMnXG4gICAgXTtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgUHVibGljIG1ldGhvZHNcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIGNvbmZpZ3VyZSgpIHtcbiAgICAvL0Zhc3RDbGljay5hdHRhY2goZG9jdW1lbnQuYm9keSk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgdGhpcy5fZ2V0U3RvcmUoJ3NuYXBfYWNjZXNzdG9rZW4nKS53cml0ZSh0aGlzLm9wdGlvbnMuYWNjZXNzX3Rva2VuKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0b3JlID0gdGhpcy5fZ2V0U3RvcmUoJ3NuYXBfbG9jYXRpb24nKTtcblxuICAgICAgdGhpcy5fZ2V0U3RvcmUoJ3NuYXBfbG9jYXRpb24nKS5yZWFkKCkudGhlbihjb25maWcgPT4ge1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gY29uZmlnIHx8IG51bGw7XG5cbiAgICAgICAgaWYgKCF0aGlzLmxvY2F0aW9uICYmIHRoaXMub3B0aW9ucy5sb2NhdGlvbikge1xuICAgICAgICAgIHRoaXMuX2dldFN0b3JlKCdzbmFwX2xvY2F0aW9uJykud3JpdGUodGhpcy5vcHRpb25zLmxvY2F0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbmZpZ3MnLCBbXSlcbiAgICAgICAgICAuY29uc3RhbnQoJ1NOQVBMb2NhdGlvbicsIHRoaXMubG9jYXRpb24pXG4gICAgICAgICAgLmNvbnN0YW50KCdTTkFQRW52aXJvbm1lbnQnLCB0aGlzLmVudmlyb25tZW50KVxuICAgICAgICAgIC5jb25zdGFudCgnU05BUEhvc3RzJywgdGhpcy5ob3N0cyk7XG5cbiAgICAgICAgaWYgKHRoaXMuaG9zdHMuc3RhdGljLmhvc3QpIHtcbiAgICAgICAgICAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybFdoaXRlbGlzdChbICdzZWxmJywgbmV3IFJlZ0V4cCgnLionICsgdGhpcy5ob3N0cy5zdGF0aWMuaG9zdCArICcuKicpIF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGFwcCA9IGFuZ3VsYXIubW9kdWxlKHRoaXMubmFtZSwgdGhpcy5kZXBlbmRlbmNpZXMpO1xuXG4gICAgICAgIHJlc29sdmUoYXBwKTtcbiAgICAgIH0sIHJlamVjdCk7XG4gICAgfSk7XG4gIH1cblxuICBydW4oKSB7XG4gICAgYW5ndWxhci5ib290c3RyYXAoZG9jdW1lbnQsIFt0aGlzLm5hbWVdKTtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgSGVscGVyIG1ldGhvZHNcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIF9nZXRQYXJ0aWFsVXJsKG5hbWUpIHtcbiAgICBpZiAoIXRoaXMuaG9zdHMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBob3N0cyBjb25maWd1cmF0aW9uLicpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5sb2NhdGlvbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIGxvY2F0aW9uIGNvbmZpZ3VyYXRpb24uJyk7XG4gICAgfVxuXG4gICAgdmFyIHBhdGggPSB0aGlzLmhvc3RzLnN0YXRpYy5ob3N0ID9cbiAgICAgIGAvLyR7dGhpcy5ob3N0cy5zdGF0aWMuaG9zdH0ke3RoaXMuaG9zdHMuc3RhdGljLnBhdGh9YCA6XG4gICAgICBgJHt0aGlzLmhvc3RzLnN0YXRpYy5wYXRofWA7XG5cbiAgICByZXR1cm4gYCR7cGF0aH1hc3NldHMvJHt0aGlzLmxvY2F0aW9uLnRoZW1lLmxheW91dH0vcGFydGlhbHMvJHtuYW1lfS5odG1sYDtcbiAgfVxuXG4gIF9nZXRTdG9yZShpZCkge1xuICAgIHN3aXRjaCAodGhpcy5lbnZpcm9ubWVudC5wbGF0Zm9ybSkge1xuICAgICAgY2FzZSAnbW9iaWxlJzpcbiAgICAgICAgcmV0dXJuIG5ldyBhcHAuQ29yZG92YUxvY2FsU3RvcmFnZVN0b3JlKGlkKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBuZXcgYXBwLkxvY2FsU3RvcmFnZVN0b3JlKGlkKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vL1xuLy8gIFNuYXBBcHBsaWNhdGlvbkJvb3RzdHJhcGVyXG4vL1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxud2luZG93LmFwcC5TbmFwQXBwbGljYXRpb25Cb290c3RyYXBlciA9IGNsYXNzIFNuYXBBcHBsaWNhdGlvbkJvb3RzdHJhcGVyIGV4dGVuZHMgYXBwLkFwcGxpY2F0aW9uQm9vdHN0cmFwZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoJ1NOQVBBcHBsaWNhdGlvbicsIG9wdGlvbnMpO1xuICB9XG5cbiAgY29uZmlndXJlKCkge1xuICAgIHJldHVybiBzdXBlci5jb25maWd1cmUoKS50aGVuKGFwcCA9PiBhcHAuY29uZmlnKFxuICAgICAgWyckbG9jYXRpb25Qcm92aWRlcicsICckcm91dGVQcm92aWRlcicsICckc2NlRGVsZWdhdGVQcm92aWRlcicsXG4gICAgICAoJGxvY2F0aW9uUHJvdmlkZXIsICRyb3V0ZVByb3ZpZGVyLCAkc2NlRGVsZWdhdGVQcm92aWRlcikgPT4ge1xuXG4gICAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoZmFsc2UpO1xuXG4gICAgICAkcm91dGVQcm92aWRlci53aGVuKCcvJywgeyB0ZW1wbGF0ZTogJyAnLCBjb250cm9sbGVyOiAnSG9tZUJhc2VDdHJsJyB9KTtcbiAgICAgICRyb3V0ZVByb3ZpZGVyLndoZW4oJy9tZW51Lzp0b2tlbicsIHsgdGVtcGxhdGU6ICcgJywgY29udHJvbGxlcjogJ01lbnVCYXNlQ3RybCcgfSk7XG4gICAgICAkcm91dGVQcm92aWRlci53aGVuKCcvY2F0ZWdvcnkvOnRva2VuJywgeyB0ZW1wbGF0ZTogJyAnLCBjb250cm9sbGVyOiAnQ2F0ZWdvcnlCYXNlQ3RybCcgfSk7XG4gICAgICAkcm91dGVQcm92aWRlci53aGVuKCcvaXRlbS86dG9rZW4nLCB7IHRlbXBsYXRlOiAnICcsIGNvbnRyb2xsZXI6ICdJdGVtQmFzZUN0cmwnIH0pO1xuICAgICAgJHJvdXRlUHJvdmlkZXIud2hlbignL2NoZWNrb3V0JywgeyB0ZW1wbGF0ZVVybDogdGhpcy5fZ2V0UGFydGlhbFVybCgnY2hlY2tvdXQnKSwgY29udHJvbGxlcjogJ0NoZWNrb3V0Q3RybCcgfSk7XG4gICAgICAkcm91dGVQcm92aWRlci53aGVuKCcvc2lnbmluJywgeyB0ZW1wbGF0ZVVybDogdGhpcy5fZ2V0UGFydGlhbFVybCgnc2lnbmluJyksIGNvbnRyb2xsZXI6ICdTaWduSW5DdHJsJyB9KTtcbiAgICAgICRyb3V0ZVByb3ZpZGVyLndoZW4oJy9hY2NvdW50JywgeyB0ZW1wbGF0ZVVybDogdGhpcy5fZ2V0UGFydGlhbFVybCgnYWNjb3VudCcpLCBjb250cm9sbGVyOiAnQWNjb3VudEN0cmwnIH0pO1xuICAgICAgJHJvdXRlUHJvdmlkZXIud2hlbignL2NoYXQnLCB7IHRlbXBsYXRlVXJsOiB0aGlzLl9nZXRQYXJ0aWFsVXJsKCdjaGF0JyksIGNvbnRyb2xsZXI6ICdDaGF0Q3RybCcgfSk7XG4gICAgICAkcm91dGVQcm92aWRlci53aGVuKCcvY2hhdG1hcCcsIHsgdGVtcGxhdGVVcmw6IHRoaXMuX2dldFBhcnRpYWxVcmwoJ2NoYXRtYXAnKSwgY29udHJvbGxlcjogJ0NoYXRNYXBDdHJsJyB9KTtcbiAgICAgICRyb3V0ZVByb3ZpZGVyLndoZW4oJy9zdXJ2ZXknLCB7IHRlbXBsYXRlVXJsOiB0aGlzLl9nZXRQYXJ0aWFsVXJsKCdzdXJ2ZXknKSwgY29udHJvbGxlcjogJ1N1cnZleUN0cmwnIH0pO1xuICAgICAgJHJvdXRlUHJvdmlkZXIub3RoZXJ3aXNlKHsgcmVkaXJlY3RUbzogJy8nIH0pO1xuICAgIH1dKSk7XG4gIH1cbn07XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vL1xuLy8gIFN0YXJ0dXBBcHBsaWNhdGlvbkJvb3RzdHJhcGVyXG4vL1xuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxud2luZG93LmFwcC5TdGFydHVwQXBwbGljYXRpb25Cb290c3RyYXBlciA9IGNsYXNzIFN0YXJ0dXBBcHBsaWNhdGlvbkJvb3RzdHJhcGVyIGV4dGVuZHMgYXBwLkFwcGxpY2F0aW9uQm9vdHN0cmFwZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoJ1NOQVBTdGFydHVwJywgb3B0aW9ucyk7XG4gIH1cbn07XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vL1xuLy8gIFJlc2V0QXBwbGljYXRpb25Cb290c3RyYXBlclxuLy9cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbndpbmRvdy5hcHAuUmVzZXRBcHBsaWNhdGlvbkJvb3RzdHJhcGVyID0gY2xhc3MgUmVzZXRBcHBsaWNhdGlvbkJvb3RzdHJhcGVyIGV4dGVuZHMgYXBwLkFwcGxpY2F0aW9uQm9vdHN0cmFwZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoJ1NOQVBSZXNldCcsIG9wdGlvbnMpO1xuICB9XG59O1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy9cbi8vICBGbGFzaEFwcGxpY2F0aW9uQm9vdHN0cmFwZXJcbi8vXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG53aW5kb3cuYXBwLkZsYXNoQXBwbGljYXRpb25Cb290c3RyYXBlciA9IGNsYXNzIEZsYXNoQXBwbGljYXRpb25Cb290c3RyYXBlciBleHRlbmRzIGFwcC5BcHBsaWNhdGlvbkJvb3RzdHJhcGVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCdTTkFQRmxhc2gnLCBvcHRpb25zKTtcbiAgfVxufTtcblxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy9cbi8vICBTbmFwQXV4aWxpYXJlc0FwcGxpY2F0aW9uQm9vdHN0cmFwZXJcbi8vXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG53aW5kb3cuYXBwLlNuYXBBdXhpbGlhcmVzQXBwbGljYXRpb25Cb290c3RyYXBlciA9IGNsYXNzIFNuYXBBdXhpbGlhcmVzQXBwbGljYXRpb25Cb290c3RyYXBlciBleHRlbmRzIGFwcC5BcHBsaWNhdGlvbkJvb3RzdHJhcGVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCdTTkFQQXV4aWxpYXJlcycsIG9wdGlvbnMpO1xuICB9XG5cbiAgY29uZmlndXJlKCkge1xuICAgIHJldHVybiBzdXBlci5jb25maWd1cmUoKS50aGVuKGFwcCA9PiBhcHAuY29uZmlnKFxuICAgICAgWyckbG9jYXRpb25Qcm92aWRlcicsICckcm91dGVQcm92aWRlcicsXG4gICAgICAoJGxvY2F0aW9uUHJvdmlkZXIsICRyb3V0ZVByb3ZpZGVyKSA9PiB7XG5cbiAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZShmYWxzZSk7XG5cbiAgICAgICRyb3V0ZVByb3ZpZGVyLndoZW4oJy8nLCB7IHRlbXBsYXRlVXJsOiB0aGlzLl9nZXRQYXJ0aWFsVXJsKCdjaGF0cm9vbScpLCBjb250cm9sbGVyOiAnQ2hhdFJvb21DdHJsJyB9KTtcbiAgICAgICRyb3V0ZVByb3ZpZGVyLm90aGVyd2lzZSh7IHJlZGlyZWN0VG86ICcvJyB9KTtcbiAgICB9XSkpO1xuICB9XG59O1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9fYmFzZS5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycsIFsnYW5ndWxhci1iYWNvbiddKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvYWNjb3VudC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQWNjb3VudEN0cmwnLCBbJyRzY29wZScsICdDdXN0b21lck1hbmFnZXInLCAnRGlhbG9nTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsIGZ1bmN0aW9uKCRzY29wZSwgQ3VzdG9tZXJNYW5hZ2VyLCBEaWFsb2dNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlcikge1xuXG4gIGlmICghQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZCB8fCAhQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCkge1xuICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnaG9tZScgfTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgQ29uc3RhbnRzXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFByb3BlcnRpZXNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIFByb2ZpbGVcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5wcm9maWxlID0gQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLnByb2ZpbGU7XG4gICRzY29wZS5jYW5DaGFuZ2VQYXNzd29yZCA9IEN1c3RvbWVyTWFuYWdlci5tb2RlbC5oYXNDcmVkZW50aWFscztcbiAgdmFyIHByb2ZpbGUgPSAkc2NvcGUuJHdhdGNoQXNQcm9wZXJ0eSgncHJvZmlsZScpO1xuXG4gIEN1c3RvbWVyTWFuYWdlci5tb2RlbC5wcm9maWxlQ2hhbmdlZC5hZGQoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAkc2NvcGUucHJvZmlsZSA9IHZhbHVlO1xuICAgICRzY29wZS5jYW5DaGFuZ2VQYXNzd29yZCA9IEN1c3RvbWVyTWFuYWdlci5tb2RlbC5oYXNDcmVkZW50aWFscztcbiAgICAkc2NvcGUuY2FuQ2hhbmdlRW1haWwgPSBDdXN0b21lck1hbmFnZXIubW9kZWwuaGFzQ3JlZGVudGlhbHM7XG4gIH0pO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgU3BsYXNoIHNjcmVlblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLmVkaXRQcm9maWxlID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnByb2ZpbGVlZGl0ID0gYW5ndWxhci5jb3B5KCRzY29wZS5wcm9maWxlKTtcbiAgICAkc2NvcGUuc2hvd1Byb2ZpbGVFZGl0ID0gdHJ1ZTtcbiAgfTtcblxuICAkc2NvcGUuZWRpdFBhc3N3b3JkID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnBhc3N3b3JkZWRpdCA9IHtcbiAgICAgIG9sZF9wYXNzd29yZDogJycsXG4gICAgICBuZXdfcGFzc3dvcmQ6ICcnXG4gICAgfTtcbiAgICAkc2NvcGUuc2hvd1Byb2ZpbGVFZGl0ID0gZmFsc2U7XG4gICAgJHNjb3BlLnNob3dQYXNzd29yZEVkaXQgPSB0cnVlO1xuICB9O1xuXG4gICRzY29wZS5lZGl0UGF5bWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5zaG93UGF5bWVudEVkaXQgPSB0cnVlO1xuICB9O1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgUHJvZmlsZSBlZGl0IHNjcmVlblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLnByb2ZpbGVFZGl0U3VibWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcblxuICAgIEN1c3RvbWVyTWFuYWdlci51cGRhdGVQcm9maWxlKCRzY29wZS5wcm9maWxlZWRpdCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICAkc2NvcGUuc2hvd1Byb2ZpbGVFZGl0ID0gZmFsc2U7XG4gICAgfSwgZnVuY3Rpb24oZSkge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5wcm9maWxlRWRpdENhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5zaG93UHJvZmlsZUVkaXQgPSBmYWxzZTtcbiAgfTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIFBhc3N3b3JkIGVkaXQgc2NyZWVuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUucGFzc3dvcmRFZGl0U3VibWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcblxuICAgIEN1c3RvbWVyTWFuYWdlci5jaGFuZ2VQYXNzd29yZCgkc2NvcGUucGFzc3dvcmRlZGl0KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICRzY29wZS5zaG93UGFzc3dvcmRFZGl0ID0gZmFsc2U7XG4gICAgfSwgZnVuY3Rpb24oZSkge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5wYXNzd29yZEVkaXRDYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUuc2hvd1Bhc3N3b3JkRWRpdCA9IGZhbHNlO1xuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9iYWNrZ3JvdW5kLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdCYWNrZ3JvdW5kQ3RybCcsIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ1NoZWxsTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsIGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQsIFNoZWxsTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIpIHtcblxuICBmdW5jdGlvbiBzaG93SW1hZ2VzKHZhbHVlcykge1xuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLmltYWdlcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3JjOiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwoaXRlbS5tZWRpYSwgMTkyMCwgMTA4MCwgJ2pwZycpLFxuICAgICAgICAgIHR5cGU6IFNoZWxsTWFuYWdlci5nZXRNZWRpYVR5cGUoaXRlbS5tZWRpYSlcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIGJhY2tncm91bmRzID0gU2hlbGxNYW5hZ2VyLm1vZGVsLmJhY2tncm91bmRzLFxuICAgICAgcGFnZUJhY2tncm91bmRzID0gbnVsbDtcblxuICBzaG93SW1hZ2VzKGJhY2tncm91bmRzKTtcbiAgU2hlbGxNYW5hZ2VyLm1vZGVsLmJhY2tncm91bmRzQ2hhbmdlZC5hZGQodmFsdWUgPT4ge1xuICAgIGJhY2tncm91bmRzID0gdmFsdWU7XG4gICAgc2hvd0ltYWdlcyhiYWNrZ3JvdW5kcyk7XG4gIH0pO1xuXG4gIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uQ2hhbmdlZC5hZGQoZnVuY3Rpb24obG9jYXRpb24pIHtcbiAgICB2YXIgbmV3UGFnZUJhY2tncm91bmRzID0gU2hlbGxNYW5hZ2VyLmdldFBhZ2VCYWNrZ3JvdW5kcyhsb2NhdGlvbik7XG5cbiAgICBpZiAobmV3UGFnZUJhY2tncm91bmRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHBhZ2VCYWNrZ3JvdW5kcyA9IG5ld1BhZ2VCYWNrZ3JvdW5kcztcbiAgICAgIHNob3dJbWFnZXMocGFnZUJhY2tncm91bmRzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocGFnZUJhY2tncm91bmRzKSB7XG4gICAgICBzd2l0Y2ggKGxvY2F0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnbWVudSc6XG4gICAgICAgIGNhc2UgJ2NhdGVnb3J5JzpcbiAgICAgICAgY2FzZSAnaXRlbSc6XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBhZ2VCYWNrZ3JvdW5kcyA9IG51bGw7XG4gICAgc2hvd0ltYWdlcyhiYWNrZ3JvdW5kcyk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jYXJ0LmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdDYXJ0Q3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJyRzY2UnLCAnQ3VzdG9tZXJNYW5hZ2VyJywgJ1NoZWxsTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdPcmRlck1hbmFnZXInLCAnRGlhbG9nTWFuYWdlcicsICdDYXJ0TW9kZWwnLCAnTG9jYXRpb25Nb2RlbCcsICdDaGF0TWFuYWdlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCAkc2NlLCBDdXN0b21lck1hbmFnZXIsIFNoZWxsTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIE9yZGVyTWFuYWdlciwgRGlhbG9nTWFuYWdlciwgQ2FydE1vZGVsLCBMb2NhdGlvbk1vZGVsLCBDaGF0TWFuYWdlcikgPT4ge1xuXG4gICRzY29wZS5nZXRNZWRpYVVybCA9IChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKSA9PiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwobWVkaWEsIHdpZHRoLCBoZWlnaHQsIGV4dGVuc2lvbik7XG4gICRzY29wZS5mb3JtYXRQcmljZSA9IHZhbHVlID0+IFNoZWxsTWFuYWdlci5mb3JtYXRQcmljZSh2YWx1ZSk7XG4gICRzY29wZS5vcHRpb25zID0ge307XG5cbiAgJHNjb3BlLnN0YXRlID0gQ2FydE1vZGVsLmNhcnRTdGF0ZTtcbiAgQ2FydE1vZGVsLmNhcnRTdGF0ZUNoYW5nZWQuYWRkKHN0YXRlID0+ICR0aW1lb3V0KCgpID0+ICRzY29wZS5zdGF0ZSA9IHN0YXRlKSk7XG5cbiAgJHNjb3BlLmN1cnJlbnRPcmRlciA9IE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNhcnQ7XG4gIE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNhcnRDaGFuZ2VkLmFkZCh2YWx1ZSA9PiAkc2NvcGUuY3VycmVudE9yZGVyID0gdmFsdWUpO1xuXG4gICRzY29wZS50b3RhbE9yZGVyID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2hlY2s7XG4gIE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNoZWNrQ2hhbmdlZC5hZGQodmFsdWUgPT4gJHNjb3BlLnRvdGFsT3JkZXIgPSB2YWx1ZSk7XG5cbiAgJHNjb3BlLmdpZnRTZWF0ID0gTG9jYXRpb25Nb2RlbC5nZXRTZWF0KENoYXRNYW5hZ2VyLm1vZGVsLmdpZnRTZWF0KTtcbiAgQ2hhdE1hbmFnZXIubW9kZWwuZ2lmdFNlYXRDaGFuZ2VkLmFkZCh0b2tlbiA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmdpZnRTZWF0ID0gTG9jYXRpb25Nb2RlbC5nZXRTZWF0KHRva2VuKSk7XG4gIH0pO1xuXG4gICRzY29wZS5yZXF1ZXN0QXNzaXN0YW5jZUF2YWlsYWJsZSA9IHRydWU7XG4gICRzY29wZS5yZXF1ZXN0Q2xvc2VvdXRBdmFpbGFibGUgPSB0cnVlO1xuICAkc2NvcGUuY2hlY2tvdXRFbmFibGVkID0gQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZDtcbiAgJHNjb3BlLnRvR29PcmRlciA9IGZhbHNlO1xuICAkc2NvcGUudmlzaWJsZSA9IENhcnRNb2RlbC5pc0NhcnRPcGVuO1xuXG4gIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uQ2hhbmdpbmcuYWRkKGxvY2F0aW9uID0+IHtcbiAgICBpZiAobG9jYXRpb24udHlwZSAhPT0gJ2NhdGVnb3J5Jykge1xuICAgICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gIENhcnRNb2RlbC5pc0NhcnRPcGVuQ2hhbmdlZC5hZGQodmFsdWUgPT4ge1xuICAgICRzY29wZS5zaG93Q2FydCgpO1xuICAgICRzY29wZS52aXNpYmxlID0gdmFsdWU7XG4gIH0pO1xuXG4gICRzY29wZS5zZWF0X25hbWUgPSBMb2NhdGlvbk1vZGVsLnNlYXQgP1xuICAgIExvY2F0aW9uTW9kZWwuc2VhdC5uYW1lIDpcbiAgICAnVGFibGUnO1xuXG4gIExvY2F0aW9uTW9kZWwuc2VhdENoYW5nZWQuYWRkKHNlYXQgPT4gJHNjb3BlLnNlYXRfbmFtZSA9IHNlYXQgPyBzZWF0Lm5hbWUgOiAnVGFibGUnKTtcblxuICB2YXIgcmVmcmVzaEFzc2lzdGFuY2VSZXF1ZXN0ID0gKCkgPT4ge1xuICAgICRzY29wZS5yZXF1ZXN0QXNzaXN0YW5jZUF2YWlsYWJsZSA9IE9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdCA9PT0gbnVsbDtcbiAgfTtcbiAgdmFyIHJlZnJlc2hDbG9zZW91dFJlcXVlc3QgPSAoKSA9PiB7XG4gICAgJHNjb3BlLnJlcXVlc3RDbG9zZW91dEF2YWlsYWJsZSA9IE9yZGVyTWFuYWdlci5tb2RlbC5jbG9zZW91dFJlcXVlc3QgPT09IG51bGw7XG4gIH07XG5cbiAgT3JkZXJNYW5hZ2VyLm1vZGVsLmFzc2lzdGFuY2VSZXF1ZXN0Q2hhbmdlZC5hZGQocmVmcmVzaEFzc2lzdGFuY2VSZXF1ZXN0KTtcbiAgT3JkZXJNYW5hZ2VyLm1vZGVsLmNsb3Nlb3V0UmVxdWVzdENoYW5nZWQuYWRkKHJlZnJlc2hDbG9zZW91dFJlcXVlc3QpO1xuICByZWZyZXNoQXNzaXN0YW5jZVJlcXVlc3QoKTtcbiAgcmVmcmVzaENsb3Nlb3V0UmVxdWVzdCgpO1xuXG4gICRzY29wZS5jYWxjdWxhdGVEZXNjcmlwdGlvbiA9IGVudHJ5ID0+IHtcbiAgICB2YXIgcmVzdWx0ID0gZW50cnkubmFtZSB8fCBlbnRyeS5pdGVtLnRpdGxlO1xuXG4gICAgcmVzdWx0ICs9IGVudHJ5Lm1vZGlmaWVycy5yZWR1Y2UoKG91dHB1dCwgY2F0ZWdvcnkpID0+IHtcbiAgICAgIHJldHVybiBvdXRwdXQgKyBjYXRlZ29yeS5tb2RpZmllcnMucmVkdWNlKChvdXRwdXQsIG1vZGlmaWVyKSA9PiB7XG4gICAgICAgIHJldHVybiBvdXRwdXQgKyAobW9kaWZpZXIuaXNTZWxlY3RlZCA/XG4gICAgICAgICAgJzxici8+LSAnICsgbW9kaWZpZXIuZGF0YS50aXRsZSA6XG4gICAgICAgICAgJycpO1xuICAgICAgfSwgJycpO1xuICAgIH0sICcnKTtcblxuICAgIHJldHVybiAkc2NlLnRydXN0QXNIdG1sKHJlc3VsdCk7XG4gIH07XG5cbiAgJHNjb3BlLmNhbGN1bGF0ZVByaWNlID0gZW50cnkgPT4gT3JkZXJNYW5hZ2VyLmNhbGN1bGF0ZVByaWNlKGVudHJ5KTtcbiAgJHNjb3BlLmNhbGN1bGF0ZVRvdGFsUHJpY2UgPSBlbnRyaWVzID0+IE9yZGVyTWFuYWdlci5jYWxjdWxhdGVUb3RhbFByaWNlKGVudHJpZXMpO1xuXG4gICRzY29wZS5lZGl0SXRlbSA9IGVudHJ5ID0+IENhcnRNb2RlbC5vcGVuRWRpdG9yKGVudHJ5LCBmYWxzZSk7XG4gICRzY29wZS5yZW1vdmVGcm9tQ2FydCA9IGVudHJ5ID0+ICRzY29wZS5jdXJyZW50T3JkZXIgPSBPcmRlck1hbmFnZXIucmVtb3ZlRnJvbUNhcnQoZW50cnkpO1xuICAkc2NvcGUucmVvcmRlckl0ZW0gPSBlbnRyeSA9PiAkc2NvcGUuY3VycmVudE9yZGVyID0gT3JkZXJNYW5hZ2VyLmFkZFRvQ2FydChlbnRyeS5jbG9uZSgpKTtcblxuICAkc2NvcGUuc3VibWl0Q2FydCA9ICgpID0+IHtcbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgdmFyIG9wdGlvbnMgPSAkc2NvcGUub3B0aW9ucy50b19nb19vcmRlciA/IDIgOiAwO1xuXG4gICAgT3JkZXJNYW5hZ2VyLnN1Ym1pdENhcnQob3B0aW9ucykudGhlbihmdW5jdGlvbigpIHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG5cbiAgICAgICRzY29wZS4kYXBwbHkoKCkgPT4ge1xuICAgICAgICAkc2NvcGUuY3VycmVudE9yZGVyID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2FydDtcbiAgICAgICAgJHNjb3BlLnRvdGFsT3JkZXIgPSBPcmRlck1hbmFnZXIubW9kZWwub3JkZXJDaGVjaztcbiAgICAgICAgJHNjb3BlLnRvR29PcmRlciA9IGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9PUkRFUl9TRU5UKTtcbiAgICB9LCAoKSA9PiB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLmNsZWFyQ2FydCA9ICgpID0+IHtcbiAgICAkc2NvcGUudG9Hb09yZGVyID0gZmFsc2U7XG4gICAgJHNjb3BlLmN1cnJlbnRPcmRlciA9IE9yZGVyTWFuYWdlci5jbGVhckNhcnQoKTtcbiAgfTtcblxuICAkc2NvcGUuY2xvc2VDYXJ0ID0gKCkgPT4ge1xuICAgIENhcnRNb2RlbC5pc0NhcnRPcGVuID0gZmFsc2U7XG4gICAgJHNjb3BlLnNob3dDYXJ0KCk7XG4gIH07XG5cbiAgJHNjb3BlLnNob3dIaXN0b3J5ID0gKCkgPT4gQ2FydE1vZGVsLmNhcnRTdGF0ZSA9IENhcnRNb2RlbC5TVEFURV9ISVNUT1JZO1xuICAkc2NvcGUuc2hvd0NhcnQgPSAoKSA9PiBDYXJ0TW9kZWwuY2FydFN0YXRlID0gQ2FydE1vZGVsLlNUQVRFX0NBUlQ7XG5cbiAgJHNjb3BlLnBheUNoZWNrID0gKCkgPT4gTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdjaGVja291dCcgfTtcblxuICAkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2UgPSAoKSA9PiB7XG4gICAgaWYgKCEkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2VBdmFpbGFibGUpe1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIERpYWxvZ01hbmFnZXIuY29uZmlybShBTEVSVF9UQUJMRV9BU1NJU1RBTkNFKS50aGVuKCgpID0+IHtcbiAgICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICAgIE9yZGVyTWFuYWdlci5yZXF1ZXN0QXNzaXN0YW5jZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfQVNTSVNUQU5DRV9TRU5UKTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUucmVxdWVzdENsb3Nlb3V0ID0gKCkgPT4ge1xuICAgIGlmICghJHNjb3BlLnJlcXVlc3RDbG9zZW91dEF2YWlsYWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICBPcmRlck1hbmFnZXIucmVxdWVzdENsb3Nlb3V0KCkudGhlbigoKSA9PiB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX0NMT1NFT1VUX1NFTlQpO1xuICAgIH0sICgpID0+IHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICB9KTtcbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY2F0ZWdvcnkuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NhdGVnb3J5QmFzZUN0cmwnLCBbJyRzY29wZScsICckdGltZW91dCcsICdEYXRhTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsIGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQsIERhdGFNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlcikge1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2F0ZWdvcnlDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnRGF0YU1hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnU05BUEVudmlyb25tZW50JywgJ1NoZWxsTWFuYWdlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBEYXRhTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIFNOQVBFbnZpcm9ubWVudCwgU2hlbGxNYW5hZ2VyKSA9PiB7XG5cbiAgdmFyIENhdGVnb3J5TGlzdCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHRpbGVDbGFzc05hbWUgPSBTaGVsbE1hbmFnZXIudGlsZVN0eWxlO1xuICAgICAgdmFyIHJvd3MgPSB0aGlzLnByb3BzLnRpbGVzLm1hcChmdW5jdGlvbih0aWxlLCBpKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgUmVhY3QuRE9NLnRkKHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogdGlsZUNsYXNzTmFtZSxcbiAgICAgICAgICAgIGtleTogaVxuICAgICAgICAgIH0sIFJlYWN0LkRPTS5hKHtcbiAgICAgICAgICAgIG9uQ2xpY2s6IGUgPT4ge1xuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0gdGlsZS5kZXN0aW5hdGlvbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoJyArIFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybCh0aWxlLmltYWdlLCAzNzAsIDM3MCkgKyAnKSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4obnVsbCwgdGlsZS50aXRsZSlcbiAgICAgICAgICApKVxuICAgICAgICApO1xuICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGkpIHtcbiAgICAgICAgcmVzdWx0W2kgJSAyXS5wdXNoKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sIFtbXSwgW11dKVxuICAgICAgLm1hcChmdW5jdGlvbihyb3csIGkpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LkRPTS50cih7IGtleTogaSB9LCByb3cpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBSZWFjdC5ET00udGFibGUoeyBjbGFzc05hbWU6ICd0aWxlLXRhYmxlJyB9LCByb3dzKTtcbiAgICB9XG4gIH0pO1xuXG4gIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uQ2hhbmdpbmcuYWRkKGZ1bmN0aW9uKGxvY2F0aW9uKSB7XG4gICAgRGF0YU1hbmFnZXIuY2F0ZWdvcnkgPSBsb2NhdGlvbi50eXBlID09PSAnY2F0ZWdvcnknID8gbG9jYXRpb24udG9rZW4gOiB1bmRlZmluZWQ7XG4gICAgJHNjb3BlLnZpc2libGUgPSBCb29sZWFuKERhdGFNYW5hZ2VyLmNhdGVnb3J5KTtcbiAgICAkdGltZW91dChmdW5jdGlvbigpIHsgJHNjb3BlLiRhcHBseSgpOyB9KTtcbiAgfSk7XG5cbiAgRGF0YU1hbmFnZXIuY2F0ZWdvcnlDaGFuZ2VkLmFkZChmdW5jdGlvbihkYXRhKSB7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRpbGVzLFxuICAgICAgICBjYXRlZ29yaWVzID0gZGF0YS5jYXRlZ29yaWVzIHx8IFtdO1xuICAgIHRpbGVzID0gZGF0YS5pdGVtcyB8fCBbXTtcbiAgICB0aWxlcyA9IGNhdGVnb3JpZXMuY29uY2F0KHRpbGVzKTtcblxuICAgIGlmIChTTkFQRW52aXJvbm1lbnQucGxhdGZvcm0gIT09ICdkZXNrdG9wJykge1xuICAgICAgdGlsZXMgPSB0aWxlcy5maWx0ZXIodGlsZSA9PiB0aWxlLnR5cGUgIT09IDMpO1xuICAgIH1cblxuICAgIHRpbGVzLmZvckVhY2godGlsZSA9PiB7XG4gICAgICB0aWxlLnVybCA9ICcjJyArIE5hdmlnYXRpb25NYW5hZ2VyLmdldFBhdGgodGlsZS5kZXN0aW5hdGlvbik7XG4gICAgfSk7XG5cbiAgICBSZWFjdC5yZW5kZXIoXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENhdGVnb3J5TGlzdCwgeyB0aWxlczogdGlsZXMgfSksXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudC1jYXRlZ29yeScpXG4gICAgKTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NoYXQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NoYXRDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnQ3VzdG9tZXJNYW5hZ2VyJywgJ0NoYXRNYW5hZ2VyJywgJ0RpYWxvZ01hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnTG9jYXRpb25Nb2RlbCcsICdTaGVsbE1hbmFnZXInLCAnU05BUExvY2F0aW9uJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIEN1c3RvbWVyTWFuYWdlciwgQ2hhdE1hbmFnZXIsIERpYWxvZ01hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyLCBMb2NhdGlvbk1vZGVsLCBTaGVsbE1hbmFnZXIsIFNOQVBMb2NhdGlvbikgPT4ge1xuXG4gIGlmICghU05BUExvY2F0aW9uLmNoYXQpIHtcbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2hvbWUnIH07XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgJHNjb3BlLmxvY2F0aW9uTmFtZSA9IFNOQVBMb2NhdGlvbi5sb2NhdGlvbl9uYW1lO1xuXG4gICRzY29wZS5nZXRQYXJ0aWFsVXJsID0gbmFtZSA9PiBTaGVsbE1hbmFnZXIuZ2V0UGFydGlhbFVybChuYW1lKTtcblxuICAkc2NvcGUuY2hhdEVuYWJsZWQgPSBDaGF0TWFuYWdlci5tb2RlbC5pc0VuYWJsZWQ7XG4gIENoYXRNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZENoYW5nZWQuYWRkKHZhbHVlID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuY2hhdEVuYWJsZWQgPSB2YWx1ZSk7XG4gIH0pO1xuXG4gICRzY29wZS5hY3RpdmVEZXZpY2VzID0gQ2hhdE1hbmFnZXIubW9kZWwuYWN0aXZlRGV2aWNlcztcbiAgQ2hhdE1hbmFnZXIubW9kZWwuYWN0aXZlRGV2aWNlc0NoYW5nZWQuYWRkKHZhbHVlID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuYWN0aXZlRGV2aWNlcyA9IHZhbHVlKTtcbiAgfSk7XG5cbiAgJHNjb3BlLmdpZnRTZWF0ID0gTG9jYXRpb25Nb2RlbC5nZXRTZWF0KENoYXRNYW5hZ2VyLm1vZGVsLmdpZnRTZWF0KTtcbiAgQ2hhdE1hbmFnZXIubW9kZWwuZ2lmdFNlYXRDaGFuZ2VkLmFkZCh0b2tlbiA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmdpZnRTZWF0ID0gTG9jYXRpb25Nb2RlbC5nZXRTZWF0KHRva2VuKSk7XG4gIH0pO1xuXG4gICRzY29wZS5naWZ0RGV2aWNlID0gQ2hhdE1hbmFnZXIubW9kZWwuZ2lmdERldmljZTtcbiAgQ2hhdE1hbmFnZXIubW9kZWwuZ2lmdERldmljZUNoYW5nZWQuYWRkKHZhbHVlID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuZ2lmdERldmljZSA9IHZhbHVlKTtcbiAgfSk7XG5cbiAgJHNjb3BlLnRvZ2dsZUNoYXQgPSAoKSA9PiB7XG4gICAgQ2hhdE1hbmFnZXIubW9kZWwuaXNFbmFibGVkID0gIUNoYXRNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZDtcbiAgfTtcblxuICAkc2NvcGUub3Blbk1hcCA9ICgpID0+IHtcbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2NoYXRtYXAnIH07XG4gIH07XG5cbiAgJHNjb3BlLmdldERldmljZU5hbWUgPSBkZXZpY2VfdG9rZW4gPT4gQ2hhdE1hbmFnZXIuZ2V0RGV2aWNlTmFtZShkZXZpY2VfdG9rZW4pO1xuXG4gICRzY29wZS5nZXRTZWF0TnVtYmVyID0gZGV2aWNlX3Rva2VuID0+IHtcbiAgICB2YXIgZGV2aWNlID0gTG9jYXRpb25Nb2RlbC5nZXREZXZpY2UoZGV2aWNlX3Rva2VuKTtcblxuICAgIGZvciAodmFyIHAgaW4gTG9jYXRpb25Nb2RlbC5zZWF0cykge1xuICAgICAgaWYgKExvY2F0aW9uTW9kZWwuc2VhdHNbcF0udG9rZW4gPT09IGRldmljZS5zZWF0KSB7XG4gICAgICAgIGxldCBtYXRjaCA9IExvY2F0aW9uTW9kZWwuc2VhdHNbcF0ubmFtZS5tYXRjaCgvXFxkKy8pO1xuICAgICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFswXSB8fCAnJyA6ICcnO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfTtcblxuICAkc2NvcGUuY2xvc2VDaGF0ID0gZGV2aWNlX3Rva2VuID0+IHtcbiAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd291bGQgbGlrZSB0byBjbG9zZSB0aGUgY2hhdCB3aXRoICcgKyAkc2NvcGUuZ2V0RGV2aWNlTmFtZShkZXZpY2VfdG9rZW4pICsgJz8nKVxuICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgQ2hhdE1hbmFnZXIuZGVjbGluZURldmljZShkZXZpY2VfdG9rZW4pO1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5nZXRVbnJlYWRDb3VudCA9IGRldmljZV90b2tlbiA9PiBDaGF0TWFuYWdlci5nZXRVbnJlYWRDb3VudChkZXZpY2VfdG9rZW4pO1xuXG4gICRzY29wZS5zZW5kR2lmdCA9IGRldmljZV90b2tlbiA9PiB7XG4gICAgdmFyIGRldmljZSA9IExvY2F0aW9uTW9kZWwuZ2V0RGV2aWNlKGRldmljZV90b2tlbiksXG4gICAgICAgIHNlYXQgPSBMb2NhdGlvbk1vZGVsLmdldFNlYXQoZGV2aWNlLnNlYXQpO1xuXG4gICAgaWYgKCFzZWF0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgRGlhbG9nTWFuYWdlci5jb25maXJtKGBBcmUgeW91IHN1cmUgdGhhdCB5b3Ugd2FudCB0byBzZW5kIGEgZ2lmdCB0byAke3NlYXQubmFtZX0/YCkudGhlbigoKSA9PiB7XG4gICAgICBDaGF0TWFuYWdlci5zdGFydEdpZnQoZGV2aWNlX3Rva2VuKTtcbiAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnaG9tZScgfTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUuY2FuY2VsR2lmdCA9ICgpID0+IENoYXRNYW5hZ2VyLmVuZEdpZnQoKTtcblxuICBDaGF0TWFuYWdlci5pc1ByZXNlbnQgPSB0cnVlO1xuXG4gIHZhciB3YXRjaExvY2F0aW9uID0gdHJ1ZTtcblxuICAkc2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdGFydCcsICgpID0+IHtcbiAgICBpZiAod2F0Y2hMb2NhdGlvbikge1xuICAgICAgQ2hhdE1hbmFnZXIubW9kZWwuaXNQcmVzZW50ID0gZmFsc2U7XG4gICAgICB3YXRjaExvY2F0aW9uID0gZmFsc2U7XG4gICAgfVxuICB9KTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY2hhdGJveC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2hhdEJveEN0cmwnLCBbJyRzY29wZScsICckdGltZW91dCcsICckYXR0cnMnLCAnQ2hhdE1hbmFnZXInLCAnTG9jYXRpb25Nb2RlbCcsIGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQsICRhdHRycywgQ2hhdE1hbmFnZXIsIExvY2F0aW9uTW9kZWwpIHtcbiAgdmFyIHRvX2RldmljZSA9ICRzY29wZS5kZXZpY2UsXG4gICAgICB0eXBlID0gdG9fZGV2aWNlID9cbiAgICAgICAgQ2hhdE1hbmFnZXIuTUVTU0FHRV9UWVBFUy5ERVZJQ0UgOlxuICAgICAgICBDaGF0TWFuYWdlci5NRVNTQUdFX1RZUEVTLkxPQ0FUSU9OO1xuXG4gIHZhciBkZXZpY2UgPSB0b19kZXZpY2UgPyBMb2NhdGlvbk1vZGVsLmdldERldmljZSh0b19kZXZpY2UpIDogbnVsbDtcblxuICAkc2NvcGUucmVhZG9ubHkgPSBCb29sZWFuKCRhdHRycy5yZWFkb25seSk7XG4gICRzY29wZS5jaGF0ID0ge307XG4gICRzY29wZS5tZXNzYWdlcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIHNob3dNZXNzYWdlcygpIHtcbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAkc2NvcGUubWVzc2FnZXMgPSBDaGF0TWFuYWdlci5tb2RlbC5oaXN0b3J5LmZpbHRlcihtZXNzYWdlID0+IHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2UudHlwZSA9PT0gdHlwZSAmJiAoXG4gICAgICAgICAgbWVzc2FnZS5kZXZpY2UgPT09IHRvX2RldmljZSB8fFxuICAgICAgICAgIG1lc3NhZ2UudG9fZGV2aWNlID09PSB0b19kZXZpY2VcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgJHNjb3BlLmNoYXRFbmFibGVkID0gQ2hhdE1hbmFnZXIubW9kZWwuaXNFbmFibGVkO1xuICBDaGF0TWFuYWdlci5tb2RlbC5pc0VuYWJsZWRDaGFuZ2VkLmFkZCh2YWx1ZSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmNoYXRFbmFibGVkID0gdmFsdWUpO1xuICB9KTtcblxuICAkc2NvcGUuaXNDb25uZWN0ZWQgPSBDaGF0TWFuYWdlci5tb2RlbC5pc0Nvbm5lY3RlZDtcbiAgQ2hhdE1hbmFnZXIubW9kZWwuaXNDb25uZWN0ZWRDaGFuZ2VkLmFkZCh2YWx1ZSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmlzQ29ubmVjdGVkID0gdmFsdWUpO1xuICB9KTtcblxuICAkc2NvcGUuc2VuZE1lc3NhZ2UgPSAoKSA9PiB7XG4gICAgaWYgKCEkc2NvcGUuaXNDb25uZWN0ZWQgfHwgISRzY29wZS5jaGF0Lm1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbWVzc2FnZSA9IHtcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICB0b19kZXZpY2U6IHRvX2RldmljZSxcbiAgICAgIHRleHQ6ICRzY29wZS5jaGF0Lm1lc3NhZ2VcbiAgICB9O1xuXG4gICAgQ2hhdE1hbmFnZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSk7XG5cbiAgICAkc2NvcGUuY2hhdC5tZXNzYWdlID0gJyc7XG4gIH07XG5cbiAgJHNjb3BlLmdldEZyb21OYW1lID0gbWVzc2FnZSA9PiBDaGF0TWFuYWdlci5nZXRNZXNzYWdlTmFtZShtZXNzYWdlKTtcblxuICAkc2NvcGUuZ2V0U3RhdHVzVGV4dCA9IG1lc3NhZ2UgPT4ge1xuICAgIGlmIChtZXNzYWdlLnRvX2RldmljZSA9PT0gdG9fZGV2aWNlKSB7XG4gICAgICBzd2l0Y2gobWVzc2FnZS5zdGF0dXMpIHtcbiAgICAgICAgY2FzZSBDaGF0TWFuYWdlci5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfUkVRVUVTVDpcbiAgICAgICAgICByZXR1cm4gJ1lvdSBoYXZlIHJlcXVlc3RlZCB0byBjaGF0IHdpdGggJyArIENoYXRNYW5hZ2VyLmdldERldmljZU5hbWUobWVzc2FnZS50b19kZXZpY2UpO1xuICAgICAgICBjYXNlIENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuQ0hBVF9SRVFVRVNUX0FDQ0VQVEVEOlxuICAgICAgICAgIHJldHVybiAnQWNjZXB0ZWQgY2hhdCByZXF1ZXN0JztcbiAgICAgICAgY2FzZSBDaGF0TWFuYWdlci5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfUkVRVUVTVF9ERUNMSU5FRDpcbiAgICAgICAgICByZXR1cm4gJ0RlY2xpbmVkIGNoYXQgcmVxdWVzdCc7XG4gICAgICAgIGNhc2UgQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX0NMT1NFRDpcbiAgICAgICAgICByZXR1cm4gJ0Nsb3NlZCB0aGUgY2hhdCc7XG4gICAgICAgIGNhc2UgQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5HSUZUX1JFUVVFU1Q6XG4gICAgICAgICAgcmV0dXJuICdHaWZ0IHJlcXVlc3Qgc2VudCc7XG4gICAgICAgIGNhc2UgQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5HSUZUX1JFUVVFU1RfQUNDRVBURUQ6XG4gICAgICAgICAgcmV0dXJuICdBY2NlcHRlZCBhIGdpZnQnO1xuICAgICAgICBjYXNlIENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuR0lGVF9SRVFVRVNUX0RFQ0xJTkVEOlxuICAgICAgICAgIHJldHVybiAnRGVjbGluZWQgYSBnaWZ0JztcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAobWVzc2FnZS5kZXZpY2UgPT09IHRvX2RldmljZSkge1xuICAgICAgc3dpdGNoKG1lc3NhZ2Uuc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX1JFUVVFU1Q6XG4gICAgICAgICAgcmV0dXJuICRzY29wZS5nZXRGcm9tTmFtZShtZXNzYWdlKSArICcgd291bGQgbGlrZSB0byBjaGF0IHdpdGggeW91JztcbiAgICAgICAgY2FzZSBDaGF0TWFuYWdlci5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfUkVRVUVTVF9BQ0NFUFRFRDpcbiAgICAgICAgICByZXR1cm4gJ0FjY2VwdGVkIGNoYXQgcmVxdWVzdCc7XG4gICAgICAgIGNhc2UgQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX1JFUVVFU1RfREVDTElORUQ6XG4gICAgICAgICAgcmV0dXJuICdEZWNsaW5lZCBjaGF0IHJlcXVlc3QnO1xuICAgICAgICBjYXNlIENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuQ0hBVF9DTE9TRUQ6XG4gICAgICAgICAgcmV0dXJuICdDbG9zZWQgdGhlIGNoYXQnO1xuICAgICAgICBjYXNlIENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuR0lGVF9SRVFVRVNUOlxuICAgICAgICAgIHJldHVybiAnV291bGQgbGlrZSB0byBzZW5kIHlvdSBhIGdpZnQnO1xuICAgICAgICBjYXNlIENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuR0lGVF9SRVFVRVNUX0FDQ0VQVEVEOlxuICAgICAgICAgIHJldHVybiAnQWNjZXB0ZWQgYSBnaWZ0JztcbiAgICAgICAgY2FzZSBDaGF0TWFuYWdlci5NRVNTQUdFX1NUQVRVU0VTLkdJRlRfUkVRVUVTVF9ERUNMSU5FRDpcbiAgICAgICAgICByZXR1cm4gJ0RlY2xpbmVkIGEgZ2lmdCc7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5pc1VucmVhZCA9IG1lc3NhZ2UgPT4ge1xuICAgIGlmIChtZXNzYWdlLnRvX2RldmljZSA9PT0gdG9fZGV2aWNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIENoYXRNYW5hZ2VyLmNoZWNrSWZVbnJlYWQodG9fZGV2aWNlLCBtZXNzYWdlKTtcbiAgfTtcblxuICAkc2NvcGUubWFya0FzUmVhZCA9ICgpID0+IHtcbiAgICBpZiAoIXRvX2RldmljZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIENoYXRNYW5hZ2VyLm1hcmtBc1JlYWQodG9fZGV2aWNlKTtcbiAgfTtcblxuICAkc2NvcGUub25LZXlkb3duID0ga2V5Y29kZSA9PiB7XG4gICAgaWYgKGtleWNvZGUgPT09IDEzKSB7XG4gICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLnNlbmRNZXNzYWdlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgTG9jYXRpb25Nb2RlbC5kZXZpY2VzQ2hhbmdlZC5hZGQoc2hvd01lc3NhZ2VzKTtcbiAgTG9jYXRpb25Nb2RlbC5zZWF0c0NoYW5nZWQuYWRkKHNob3dNZXNzYWdlcyk7XG4gIENoYXRNYW5hZ2VyLm1vZGVsLmhpc3RvcnlDaGFuZ2VkLmFkZChzaG93TWVzc2FnZXMpO1xuICBzaG93TWVzc2FnZXMoKTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY2hhdG1hcC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2hhdE1hcEN0cmwnLFxuWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnQ2hhdE1hbmFnZXInLCAnU2hlbGxNYW5hZ2VyJywgJ0RpYWxvZ01hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnTG9jYXRpb25Nb2RlbCcsXG4oJHNjb3BlLCAkdGltZW91dCwgQ2hhdE1hbmFnZXIsIFNoZWxsTWFuYWdlciwgRGlhbG9nTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIExvY2F0aW9uTW9kZWwpID0+IHtcblxuICAkc2NvcGUuc2VhdHMgPSBbXTtcblxuICAkc2NvcGUubWFwSW1hZ2UgPSBTaGVsbE1hbmFnZXIubW9kZWwuZWxlbWVudHMubG9jYXRpb25fbWFwO1xuICBTaGVsbE1hbmFnZXIubW9kZWwuZWxlbWVudHNDaGFuZ2VkLmFkZCgoKSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLm1hcEltYWdlID0gU2hlbGxNYW5hZ2VyLm1vZGVsLmVsZW1lbnRzLmxvY2F0aW9uX21hcCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGJ1aWxkTWFwKCkge1xuICAgIGlmICghTG9jYXRpb25Nb2RlbC5zZWF0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuc2VhdHMgPSBMb2NhdGlvbk1vZGVsLnNlYXRzXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oc2VhdCkgeyByZXR1cm4gc2VhdC50b2tlbiAhPT0gTG9jYXRpb25Nb2RlbC5zZWF0LnRva2VuOyB9KVxuICAgICAgICAubWFwKGZ1bmN0aW9uKHNlYXQpIHtcbiAgICAgICAgICB2YXIgZGV2aWNlcyA9IExvY2F0aW9uTW9kZWwuZGV2aWNlc1xuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihkZXZpY2UpIHsgcmV0dXJuIGRldmljZS5zZWF0ID09PSBzZWF0LnRva2VuOyB9KVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbihkZXZpY2UpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogZGV2aWNlLnRva2VuLFxuICAgICAgICAgICAgICAgIHNlYXQ6IGRldmljZS5zZWF0LFxuICAgICAgICAgICAgICAgIGlzX2F2YWlsYWJsZTogZGV2aWNlLmlzX2F2YWlsYWJsZSxcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogZGV2aWNlLnVzZXJuYW1lXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b2tlbjogc2VhdC50b2tlbixcbiAgICAgICAgICAgIG5hbWU6IHNlYXQubmFtZSxcbiAgICAgICAgICAgIGRldmljZXM6IGRldmljZXMsXG4gICAgICAgICAgICBtYXBfcG9zaXRpb25feDogc2VhdC5tYXBfcG9zaXRpb25feCxcbiAgICAgICAgICAgIG1hcF9wb3NpdGlvbl95OiBzZWF0Lm1hcF9wb3NpdGlvbl95LFxuICAgICAgICAgICAgaXNfYXZhaWxhYmxlOiBkZXZpY2VzXG4gICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oZGV2aWNlKSB7IHJldHVybiBkZXZpY2UuaXNfYXZhaWxhYmxlOyB9KVxuICAgICAgICAgICAgICAubGVuZ3RoID4gMFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgTG9jYXRpb25Nb2RlbC5kZXZpY2VzQ2hhbmdlZC5hZGQoYnVpbGRNYXApO1xuICBMb2NhdGlvbk1vZGVsLnNlYXRzQ2hhbmdlZC5hZGQoYnVpbGRNYXApO1xuICBMb2NhdGlvbk1vZGVsLnNlYXRDaGFuZ2VkLmFkZChidWlsZE1hcCk7XG4gIGJ1aWxkTWFwKCk7XG5cbiAgJHNjb3BlLmNob29zZVNlYXQgPSBmdW5jdGlvbihzZWF0KSB7XG4gICAgdmFyIGRldmljZSA9IHNlYXQuZGV2aWNlc1swXTtcblxuICAgIGlmICghc2VhdC5pc19hdmFpbGFibGUgfHwgIWRldmljZSkge1xuICAgICAgdmFyIGRldmljZU5hbWUgPSBkZXZpY2UgJiYgZGV2aWNlLnVzZXJuYW1lID8gZGV2aWNlLnVzZXJuYW1lIDogc2VhdC5uYW1lO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChkZXZpY2VOYW1lICsgJyBpcyB1bmF2YWlsYWJsZSBmb3IgY2hhdCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIENoYXRNYW5hZ2VyLmFwcHJvdmVEZXZpY2UoZGV2aWNlLnRva2VuKTtcbiAgICAkc2NvcGUuZXhpdE1hcCgpO1xuICB9O1xuXG4gICRzY29wZS5leGl0TWFwID0gZnVuY3Rpb24oKSB7XG4gICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdjaGF0JyB9O1xuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jaGF0cm9vbS5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2hhdFJvb21DdHJsJyxcblsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0NoYXRNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ1NoZWxsTWFuYWdlcicsICdTTkFQTG9jYXRpb24nLFxuKCRzY29wZSwgJHRpbWVvdXQsIENoYXRNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgU2hlbGxNYW5hZ2VyLCBTTkFQTG9jYXRpb24pID0+IHtcbiAgXG4gIGlmICghU05BUExvY2F0aW9uLmNoYXQpIHtcbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2hvbWUnIH07XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgJHNjb3BlLmxvY2F0aW9uTmFtZSA9IFNOQVBMb2NhdGlvbi5sb2NhdGlvbl9uYW1lO1xuXG4gICRzY29wZS5nZXRQYXJ0aWFsVXJsID0gbmFtZSA9PiBTaGVsbE1hbmFnZXIuZ2V0UGFydGlhbFVybChuYW1lKTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY2hlY2tvdXQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NoZWNrb3V0Q3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0N1c3RvbWVyTWFuYWdlcicsICdPcmRlck1hbmFnZXInLCAnRGlhbG9nTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdTZXNzaW9uTWFuYWdlcicsICdTaGVsbE1hbmFnZXInLCAnTG9jYXRpb25Nb2RlbCcsICdTdXJ2ZXlNYW5hZ2VyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIEN1c3RvbWVyTWFuYWdlciwgT3JkZXJNYW5hZ2VyLCBEaWFsb2dNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgU2Vzc2lvbk1hbmFnZXIsIFNoZWxsTWFuYWdlciwgTG9jYXRpb25Nb2RlbCwgU3VydmV5TWFuYWdlcikgPT4ge1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBDb25zdGFudHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIENoZWNrIHNwbGl0IHR5cGVcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5DSEVDS19TUExJVF9OT05FID0gMDtcbiAgJHNjb3BlLkNIRUNLX1NQTElUX0JZX0lURU1TID0gMTtcbiAgJHNjb3BlLkNIRUNLX1NQTElUX0VWRU5MWSA9IDI7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBQYXltZW50IG1ldGhvZFxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLlBBWU1FTlRfTUVUSE9EX0NBUkQgPSAxO1xuICAkc2NvcGUuUEFZTUVOVF9NRVRIT0RfQ0FTSCA9IDI7XG4gICRzY29wZS5QQVlNRU5UX01FVEhPRF9QQVlQQUwgPSAzO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgUmVjZWlwdCBtZXRob2RcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5SRUNFSVBUX01FVEhPRF9OT05FID0gMDtcbiAgJHNjb3BlLlJFQ0VJUFRfTUVUSE9EX0VNQUlMID0gMTtcbiAgJHNjb3BlLlJFQ0VJUFRfTUVUSE9EX1NNUyA9IDI7XG4gICRzY29wZS5SRUNFSVBUX01FVEhPRF9QUklOVCA9IDM7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBDaGVja291dCBzdGVwXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUuU1RFUF9DSEVDS19TUExJVCA9IDA7XG4gICRzY29wZS5TVEVQX1BBWU1FTlQgPSAxO1xuICAkc2NvcGUuU1RFUF9USVBQSU5HID0gMjtcbiAgJHNjb3BlLlNURVBfU0lHTkFUVVJFID0gMztcbiAgJHNjb3BlLlNURVBfUkVDRUlQVCA9IDQ7XG4gICRzY29wZS5TVEVQX0NPTVBMRVRFID0gNTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHJvcGVydGllc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5vcHRpb25zID0ge307XG4gICRzY29wZS5kYXRhID0gW3tcbiAgICBpdGVtczogT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2hlY2tcbiAgfV07XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBDaGVja1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy9DaGVja3MgZGF0YVxuICB2YXIgZGF0YSA9ICRzY29wZS4kd2F0Y2hBc1Byb3BlcnR5KCdkYXRhJyk7XG4gIGRhdGFcbiAgLmNoYW5nZXMoKVxuICAuc3Vic2NyaWJlKHZhbHVlID0+IHtcbiAgICBpZiAodmFsdWUudmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdmFsdWUudmFsdWUoKTtcbiAgICAgICRzY29wZS5vcHRpb25zLmNvdW50ID0gZGF0YS5sZW5ndGg7XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wdGlvbnMuaW5kZXggPSAwO1xuICB9KTtcblxuICAvL01pbmltdW0gbnVtYmVyIG9mIGd1ZXN0c1xuICAkc2NvcGUub3B0aW9ucy5ndWVzdF9jb3VudF9taW4gPSAyO1xuXG4gIC8vTWF4aW11bSBudW1iZXIgb2YgZ3Vlc3RzXG4gICRzY29wZS5vcHRpb25zLmd1ZXN0X2NvdW50X21heCA9IDk7LypNYXRoLm1heChcbiAgICBTZXNzaW9uTWFuYWdlci5ndWVzdENvdW50LFxuICAgIE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNoZWNrLnJlZHVjZSgoaSwgaXRlbSkgPT4gaSArIGl0ZW0ucXVhbnRpdHksIDApXG4gICk7Ki9cblxuICAvL051bWJlciBvZiBndWVzdHNcbiAgJHNjb3BlLm9wdGlvbnMuZ3Vlc3RfY291bnQgPSBTZXNzaW9uTWFuYWdlci5ndWVzdENvdW50O1xuXG4gIC8vQ2hlY2sgc3BsaXQgbW9kZVxuICAkc2NvcGUub3B0aW9ucy5jaGVja19zcGxpdCA9ICRzY29wZS5DSEVDS19TUExJVF9OT05FO1xuXG4gIC8vQ2hlY2sgaW5kZXhcbiAgJHNjb3BlLm9wdGlvbnMuaW5kZXggPSAwO1xuICB2YXIgaW5kZXggPSAkc2NvcGUuJHdhdGNoQXNQcm9wZXJ0eSgnb3B0aW9ucy5pbmRleCcpO1xuICBCYWNvbi5jb21iaW5lQXNBcnJheShpbmRleCwgZGF0YSlcbiAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgJHNjb3BlLmN1cnJlbnQgPSAkc2NvcGUuZGF0YVskc2NvcGUub3B0aW9ucy5pbmRleF07XG5cbiAgICBpZiAoQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCAmJiAhQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzR3Vlc3QpIHtcbiAgICAgICRzY29wZS5jdXJyZW50LnJlY2VpcHRfcGhvbmUgPSAkc2NvcGUuY3VycmVudC5yZWNlaXB0X3Bob25lIHx8IEN1c3RvbWVyTWFuYWdlci5tb2RlbC5wcm9maWxlLnBob25lO1xuICAgICAgJHNjb3BlLmN1cnJlbnQucmVjZWlwdF9lbWFpbCA9IEN1c3RvbWVyTWFuYWdlci5tb2RlbC5oYXNDcmVkZW50aWFscyA/XG4gICAgICAgIEN1c3RvbWVyTWFuYWdlci5tb2RlbC5wcm9maWxlLmVtYWlsIDpcbiAgICAgICAgJHNjb3BlLmN1cnJlbnQucmVjZWlwdF9lbWFpbDtcbiAgICB9XG5cbiAgICBpZiAoJHNjb3BlLmN1cnJlbnQuaXRlbXMpIHtcbiAgICAgICRzY29wZS5jdXJyZW50LnN1YnRvdGFsID0gT3JkZXJNYW5hZ2VyLmNhbGN1bGF0ZVRvdGFsUHJpY2UoJHNjb3BlLmN1cnJlbnQuaXRlbXMpO1xuICAgICAgJHNjb3BlLmN1cnJlbnQudGF4ID0gT3JkZXJNYW5hZ2VyLmNhbGN1bGF0ZVRheCgkc2NvcGUuY3VycmVudC5pdGVtcyk7XG4gICAgfVxuXG4gICAgaWYgKCEkc2NvcGUuY3VycmVudC50aXApIHtcbiAgICAgICRzY29wZS5jdXJyZW50LnRpcCA9IDA7XG4gICAgfVxuXG4gICAgJHNjb3BlLmNoZWNrTmFtZSA9ICRzY29wZS5jdXJyZW50Lm5hbWUgJiYgJHNjb3BlLm9wdGlvbnMuc3RlcCAhPT0gJHNjb3BlLlNURVBfQ0hFQ0tfU1BMSVQgP1xuICAgICAkc2NvcGUuY3VycmVudC5uYW1lIDpcbiAgICAgYCR7Q3VzdG9tZXJNYW5hZ2VyLmN1c3RvbWVyTmFtZX0gQmlsbGA7XG4gIH0pO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgTmF2aWdhdGlvblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy9DdXJyZW50IHN0ZXBcbiAgJHNjb3BlLm9wdGlvbnMuc3RlcCA9ICRzY29wZS5vcHRpb25zLmd1ZXN0X2NvdW50X21heCA+IDEgP1xuICAgICRzY29wZS5TVEVQX0NIRUNLX1NQTElUIDpcbiAgICAkc2NvcGUuU1RFUF9USVBQSU5HO1xuICB2YXIgc3RlcCA9ICRzY29wZS4kd2F0Y2hBc1Byb3BlcnR5KCdvcHRpb25zLnN0ZXAnKTtcbiAgc3RlcFxuICAgIC5za2lwRHVwbGljYXRlcygpXG4gICAgLnN1YnNjcmliZSh2YWx1ZSA9PiB7XG4gICAgICBpZiAoIXZhbHVlLnZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0ZXAgPSB2YWx1ZS52YWx1ZSgpO1xuXG4gICAgICBpZiAoc3RlcCA9PT0gJHNjb3BlLlNURVBfQ09NUExFVEUpIHtcbiAgICAgICAgc3RhcnROZXh0Q2hlY2soKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIE1pc2NcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vU2VhdCBuYW1lXG4gICRzY29wZS5vcHRpb25zLnNlYXQgPSBMb2NhdGlvbk1vZGVsLnNlYXQgPyBMb2NhdGlvbk1vZGVsLnNlYXQubmFtZSA6ICdUYWJsZSc7XG4gIExvY2F0aW9uTW9kZWwuc2VhdENoYW5nZWQuYWRkKHNlYXQgPT4ge1xuICAgICRzY29wZS5vcHRpb25zLnNlYXQgPSBzZWF0ID8gc2VhdC5uYW1lIDogJ1RhYmxlJztcbiAgfSk7XG5cbiAgJHNjb3BlLmN1cnJlbmN5ID0gU2hlbGxNYW5hZ2VyLm1vZGVsLmN1cnJlbmN5O1xuICBTaGVsbE1hbmFnZXIubW9kZWwuY3VycmVuY3lDaGFuZ2VkLmFkZChjdXJyZW5jeSA9PiAkdGltZW91dCgoKSA9PiAkc2NvcGUuY3VycmVuY3kgPSBjdXJyZW5jeSkpO1xuXG4gICRzY29wZS5jaGVja05hbWUgPSBudWxsO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBQcml2YXRlIG1ldGhvZHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvL1Byb2NlZWQgd2l0aCB0aGUgbmV4dCBjaGVja1xuICBmdW5jdGlvbiBzdGFydE5leHRDaGVjaygpIHtcbiAgICB2YXIgY2hlY2sgPSAkc2NvcGUuY3VycmVudDtcblxuICAgIGlmICgkc2NvcGUub3B0aW9ucy5pbmRleCA9PT0gJHNjb3BlLm9wdGlvbnMuY291bnQgLSAxKSB7XG4gICAgICBPcmRlck1hbmFnZXIuY2xlYXJDaGVjaygpO1xuICAgICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7XG4gICAgICAgIHR5cGU6IFN1cnZleU1hbmFnZXIubW9kZWwuaXNFbmFibGVkID8gJ3N1cnZleScgOiAnaG9tZSdcbiAgICAgIH07XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgJHNjb3BlLm9wdGlvbnMuaW5kZXgrKztcbiAgICAgICRzY29wZS5vcHRpb25zLnN0ZXAgPSAkc2NvcGUuU1RFUF9USVBQSU5HO1xuICAgIH0pO1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFB1YmxpYyBtZXRob2RzXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLmdldFBhcnRpYWxVcmwgPSBuYW1lID0+IFNoZWxsTWFuYWdlci5nZXRQYXJ0aWFsVXJsKG5hbWUpO1xuXG4gIC8vQ2FsY3VsYXRlIGEgY2FydCBpdGVtIHRpdGxlXG4gICRzY29wZS5jYWxjdWxhdGVUaXRsZSA9IGVudHJ5ID0+IGVudHJ5Lm5hbWUgfHwgZW50cnkuaXRlbS50aXRsZTtcblxuICAvL0NhbGN1bGF0ZSBhIGNhcnQgaXRlbSBwcmljZVxuICAkc2NvcGUuY2FsY3VsYXRlUHJpY2UgPSBlbnRyeSA9PiBPcmRlck1hbmFnZXIuY2FsY3VsYXRlUHJpY2UoZW50cnkpO1xuXG4gIC8vQ2FsY3VsYXRlIGNhcnQgaXRlbXMgcHJpY2VcbiAgJHNjb3BlLmNhbGN1bGF0ZVRvdGFsUHJpY2UgPSBlbnRyaWVzID0+IE9yZGVyTWFuYWdlci5jYWxjdWxhdGVUb3RhbFByaWNlKGVudHJpZXMpO1xuXG4gIC8vT3V0cHV0IGEgZm9ybWF0dGVkIHByaWNlIHN0cmluZ1xuICAkc2NvcGUuZm9ybWF0UHJpY2UgPSB2YWx1ZSA9PiBTaGVsbE1hbmFnZXIuZm9ybWF0UHJpY2UodmFsdWUgfHwgMCk7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFN0YXJ0dXBcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBpZiAoIUN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ3NpZ25pbicgfTtcbiAgICByZXR1cm47XG4gIH1cblxuICAkc2NvcGUuaW5pdGlhbGl6ZWQgPSB0cnVlO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jaGVja291dHBheW1lbnQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NoZWNrb3V0UGF5bWVudEN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdDdXN0b21lck1vZGVsJywgJ0NhcmRSZWFkZXInLCAnRGlhbG9nTWFuYWdlcicsICdPcmRlck1hbmFnZXInLCAnTG9nZ2VyJywgJ1NOQVBFbnZpcm9ubWVudCcsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBDdXN0b21lck1vZGVsLCBDYXJkUmVhZGVyLCBEaWFsb2dNYW5hZ2VyLCBPcmRlck1hbmFnZXIsIExvZ2dlciwgU05BUEVudmlyb25tZW50KSA9PiB7XG5cbiAgQ2FyZFJlYWRlci5vblJlY2VpdmVkLmFkZChkYXRhID0+IHtcbiAgICBMb2dnZXIuZGVidWcoYENhcmQgcmVhZGVyIHJlc3VsdDogJHtKU09OLnN0cmluZ2lmeShkYXRhKX1gKTtcbiAgICB2YXIgY2FyZCA9IHtcbiAgICAgIG51bWJlcjogZGF0YS5jYXJkX251bWJlcixcbiAgICAgIG1vbnRoOiBkYXRhLmV4cGlyYXRpb25fbW9udGgsXG4gICAgICB5ZWFyOiBkYXRhLmV4cGlyYXRpb25feWVhcixcbiAgICAgIGRhdGE6IGRhdGEuZGF0YVxuICAgIH07XG5cbiAgICBDYXJkUmVhZGVyLnN0b3AoKTtcbiAgICBjYXJkRGF0YVJlY2VpdmVkKGNhcmQpO1xuICB9KTtcblxuICBDYXJkUmVhZGVyLm9uRXJyb3IuYWRkKGUgPT4ge1xuICAgIExvZ2dlci5kZWJ1ZyhgQ2FyZCByZWFkZXIgZXJyb3I6ICR7SlNPTi5zdHJpbmdpZnkoZSl9YCk7XG4gICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9DQVJEUkVBREVSX0VSUk9SKS50aGVuKCgpID0+IHtcbiAgICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS5wYXlDYXJkQ2FuY2VsKCkpO1xuICAgIH0pO1xuICB9KTtcblxuICAkc2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdGFydCcsICgpID0+IHtcbiAgICBDYXJkUmVhZGVyLnN0b3AoKTtcbiAgfSk7XG5cbiAgLy9HZW5lcmF0ZSBhIHBheW1lbnQgdG9rZW5cbiAgZnVuY3Rpb24gZ2VuZXJhdGVQYXltZW50VG9rZW4oKSB7XG4gICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcblxuICAgIE9yZGVyTWFuYWdlci5nZW5lcmF0ZVBheW1lbnRUb2tlbigpLnRoZW4oKCkgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICB9LCBlID0+IHtcbiAgICAgIExvZ2dlci5kZWJ1ZyhgUGF5bWVudCB0b2tlbiBnZW5lcmF0aW9uIGVycm9yOiAke0pTT04uc3RyaW5naWZ5KGUpfWApO1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgIH0pO1xuICB9XG5cbiAgLy9DYWxsZWQgd2hlbiBhIGNhcmQgZGF0YSBpcyByZWNlaXZlZFxuICBmdW5jdGlvbiBjYXJkRGF0YVJlY2VpdmVkKGNhcmQpIHtcbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoJHNjb3BlLmN1cnJlbnQuaXRlbXMpIHtcbiAgICAgICAgT3JkZXJNYW5hZ2VyLmNsZWFyQ2hlY2soJHNjb3BlLmN1cnJlbnQuaXRlbXMpO1xuICAgICAgfVxuICAgICAgJHNjb3BlLmN1cnJlbnQuY2FyZF9kYXRhID0gY2FyZC5kYXRhO1xuICAgICAgJHNjb3BlLm9wdGlvbnMuc3RlcCA9ICRzY29wZS5TVEVQX1NJR05BVFVSRTtcbiAgICB9KTtcbiAgfVxuXG4gICRzY29wZS5jYW5QYXlDYXJkID0gU05BUEVudmlyb25tZW50LnBsYXRmb3JtICE9PSAnd2ViJztcblxuICAvL0Nob29zZSB0byBwYXkgd2l0aCBhIGNyZWRpdCBjYXJkXG4gICRzY29wZS5wYXlDYXJkID0gKCkgPT4ge1xuICAgICRzY29wZS5jdXJyZW50LnBheW1lbnRfbWV0aG9kID0gJHNjb3BlLlBBWU1FTlRfTUVUSE9EX0NBUkQ7XG4gICAgQ2FyZFJlYWRlci5zdGFydCgpO1xuICB9O1xuXG4gICRzY29wZS5wYXlDYXJkQ2FuY2VsID0gKCkgPT4ge1xuICAgICRzY29wZS5jdXJyZW50LnBheW1lbnRfbWV0aG9kID0gdW5kZWZpbmVkO1xuICAgIENhcmRSZWFkZXIuc3RvcCgpO1xuICB9O1xuXG4gIC8vQ2hvb3NlIHRvIHBheSB3aXRoIGNhc2hcbiAgJHNjb3BlLnBheUNhc2ggPSAoKSA9PiB7XG4gICAgJHNjb3BlLmN1cnJlbnQucGF5bWVudF9tZXRob2QgPSAkc2NvcGUuUEFZTUVOVF9NRVRIT0RfQ0FTSDtcblxuICAgIGlmIChPcmRlck1hbmFnZXIubW9kZWwuY2xvc2VvdXRSZXF1ZXN0ICE9PSBudWxsKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfQ0xPU0VPVVRfU0VOVCk7XG4gICAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICgkc2NvcGUuY3VycmVudC5pdGVtcykge1xuICAgICAgICAgIE9yZGVyTWFuYWdlci5jbGVhckNoZWNrKCRzY29wZS5jdXJyZW50Lml0ZW1zKTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUub3B0aW9ucy5zdGVwID0gJHNjb3BlLlNURVBfQ09NUExFVEU7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgT3JkZXJNYW5hZ2VyLnJlcXVlc3RDbG9zZW91dCgpLnRoZW4oKCkgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9DTE9TRU9VVF9TRU5UKTtcbiAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKCRzY29wZS5jdXJyZW50Lml0ZW1zKSB7XG4gICAgICAgICAgT3JkZXJNYW5hZ2VyLmNsZWFyQ2hlY2soJHNjb3BlLmN1cnJlbnQuaXRlbXMpO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5vcHRpb25zLnN0ZXAgPSAkc2NvcGUuU1RFUF9DT01QTEVURTtcbiAgICAgIH0pO1xuICAgIH0sIGUgPT4ge1xuICAgICAgTG9nZ2VyLmRlYnVnKGBSZXF1ZXN0IGNsb3Nlb3V0IGVycm9yOiAke0pTT04uc3RyaW5naWZ5KGUpfWApO1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgIH0pO1xuICB9O1xuXG4gIGdlbmVyYXRlUGF5bWVudFRva2VuKCk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NoZWNrb3V0cmVjZWlwdC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2hlY2tvdXRSZWNlaXB0Q3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0RpYWxvZ01hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIERpYWxvZ01hbmFnZXIsIE9yZGVyTWFuYWdlcikgPT4ge1xuXG4gICRzY29wZS5lbWFpbEVkaXRvck9wZW4gPSBmYWxzZTtcblxuICAvL0Nob29zZSB0byBoYXZlIG5vIHJlY2VpcHRcbiAgJHNjb3BlLnJlY2VpcHROb25lID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLmN1cnJlbnQucmVjZWlwdF9tZXRob2QgPSAkc2NvcGUuUkVDRUlQVF9NRVRIT0RfTk9ORTtcbiAgICAkc2NvcGUub3B0aW9ucy5zdGVwID0gJHNjb3BlLlNURVBfQ09NUExFVEU7XG4gIH07XG5cbiAgLy9DaG9vc2UgdG8gcmVjZWl2ZSBhIHJlY2VpcHQgYnkgZS1tYWlsXG4gICRzY29wZS5yZWNlaXB0RW1haWwgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5jdXJyZW50LnJlY2VpcHRfZW1haWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAkc2NvcGUuY3VycmVudC5yZWNlaXB0X21ldGhvZCA9ICRzY29wZS5SRUNFSVBUX01FVEhPRF9FTUFJTDtcbiAgICByZXF1ZXN0UmVjZWlwdCgpO1xuICB9O1xuXG4gIC8vQ2hvb3NlIHRvIHJlY2VpdmUgYSByZWNlaXB0IGJ5IHNtc1xuICAkc2NvcGUucmVjZWlwdFNtcyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghJHNjb3BlLmN1cnJlbnQucmVjZWlwdF9waG9uZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgICRzY29wZS5jdXJyZW50LnJlY2VpcHRfcGhvbmUgPSAkc2NvcGUuUkVDRUlQVF9NRVRIT0RfU01TO1xuICAgIHJlcXVlc3RSZWNlaXB0KCk7XG4gIH07XG5cbiAgLy9DaG9vc2UgdG8gcmVjZWl2ZSBhIHByaW50ZWQgcmVjZWlwdFxuICAkc2NvcGUucmVjZWlwdFByaW50ID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLmN1cnJlbnQucmVjZWlwdF9tZXRob2QgPSAkc2NvcGUuUkVDRUlQVF9NRVRIT0RfUFJJTlQ7XG4gICAgcmVxdWVzdFJlY2VpcHQoKTtcbiAgfTtcblxuICAvL09wZW4gYW4gZS1tYWlsIGVkaXRvclxuICAkc2NvcGUucmVjZWlwdEVkaXRFbWFpbCA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5lbWFpbEVkaXRvck9wZW4gPSB0cnVlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHJlcXVlc3RSZWNlaXB0KCkge1xuICAgIHZhciBpdGVtID0gJHNjb3BlLmN1cnJlbnQ7XG5cbiAgICB2YXIgcmVxdWVzdCA9IHtcbiAgICAgIGNoZWNrb3V0X3Rva2VuOiBpdGVtLmNoZWNrb3V0X3Rva2VuLFxuICAgICAgcmVjZWlwdF9tZXRob2Q6IGl0ZW0ucmVjZWlwdF9tZXRob2RcbiAgICB9O1xuXG4gICAgaWYgKGl0ZW0ucmVjZWlwdF9tZXRob2QgPT09ICRzY29wZS5SRUNFSVBUX01FVEhPRF9FTUFJTCkge1xuICAgICAgcmVxdWVzdC5yZWNlaXB0X2VtYWlsID0gaXRlbS5yZWNlaXB0X2VtYWlsO1xuICAgIH1cbiAgICBlbHNlIGlmIChpdGVtLnJlY2VpcHRfbWV0aG9kID09PSAkc2NvcGUuUkVDRUlQVF9NRVRIT0RfU01TKSB7XG4gICAgICByZXF1ZXN0LnJlY2VpcHRfcGhvbmUgPSBpdGVtLnJlY2VpcHRfcGhvbmU7XG4gICAgfVxuXG4gICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcblxuICAgIE9yZGVyTWFuYWdlci5yZXF1ZXN0UmVjZWlwdChyZXF1ZXN0KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcblxuICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAkc2NvcGUub3B0aW9ucy5zdGVwID0gJHNjb3BlLlNURVBfQ09NUExFVEU7XG4gICAgICAgICRzY29wZS5lbWFpbEVkaXRvck9wZW4gPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uKGUpIHtcbiAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgJHNjb3BlLmVtYWlsRWRpdG9yT3BlbiA9IGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICB9KTtcbiAgfVxufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jaGVja291dHNpZ25hdHVyZS5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignQ2hlY2tvdXRTaWduYXR1cmVDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnRGlhbG9nTWFuYWdlcicsICdPcmRlck1hbmFnZXInLCAnTG9nZ2VyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIERpYWxvZ01hbmFnZXIsIE9yZGVyTWFuYWdlciwgTG9nZ2VyKSA9PiB7XG5cbiAgLy9DbGVhciB0aGUgY3VycmVudCBzaWduYXR1cmVcbiAgdmFyIHJlc2V0U2lnbmF0dXJlID0gKCkgPT4ge1xuICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICRzY29wZS5jdXJyZW50LnNpZ25hdHVyZV90b2tlbiA9IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIHNpZ25hdHVyZSA9ICQoJyNjaGVja291dC1zaWduYXR1cmUtaW5wdXQnKTtcbiAgICAgIHNpZ25hdHVyZS5lbXB0eSgpO1xuICAgICAgc2lnbmF0dXJlLmpTaWduYXR1cmUoJ2luaXQnLCB7XG4gICAgICAgICdjb2xvcicgOiAnIzAwMCcsXG4gICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJyNmZmYnLFxuICAgICAgICAnZGVjb3ItY29sb3InOiAnI2ZmZicsXG4gICAgICAgICd3aWR0aCc6ICcxMDAlJyxcbiAgICAgICAgJ2hlaWdodCc6ICcyMDBweCdcbiAgICAgIH0pO1xuICAgIH0sIDMwMCk7XG4gIH07XG5cbiAgLy9TdWJtaXQgdGhlIGN1cnJlbnQgc2lnbmF0dXJlIGlucHV0XG4gICRzY29wZS5zaWduYXR1cmVTdWJtaXQgPSAoKSA9PiB7XG4gICAgdmFyIHNpZ25hdHVyZSA9ICQoJyNjaGVja291dC1zaWduYXR1cmUtaW5wdXQnKTtcblxuICAgIGlmIChzaWduYXR1cmUualNpZ25hdHVyZSgnZ2V0RGF0YScsICduYXRpdmUnKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuICAgIHZhciBzaWcgPSBzaWduYXR1cmUualNpZ25hdHVyZSgnZ2V0RGF0YScsICdpbWFnZScpO1xuXG4gICAgT3JkZXJNYW5hZ2VyLnVwbG9hZFNpZ25hdHVyZShzaWdbMV0pLnRoZW4odG9rZW4gPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcblxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS5jdXJyZW50LnNpZ25hdHVyZV90b2tlbiA9IHRva2VuO1xuICAgICAgICBjb21wbGV0ZUNoZWNrb3V0KCk7XG4gICAgICB9KTtcbiAgICB9LCBlID0+IHtcbiAgICAgIExvZ2dlci5kZWJ1ZyhgU2lnbmF0dXJlIHVwbG9hZCBlcnJvcjogJHtKU09OLnN0cmluZ2lmeShlKX1gKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICB9KTtcbiAgfTtcblxuICAvL0NhbmNlbCB0aGUgY3VycmVudCBzaWduYXR1cmUgaW5wdXRcbiAgJHNjb3BlLnNpZ25hdHVyZUNhbmNlbCA9ICgpID0+IHtcbiAgICByZXNldFNpZ25hdHVyZSgpO1xuICB9O1xuXG4gIC8vQ29tcGxldGUgdGhlIGNoZWNrb3V0XG4gIGZ1bmN0aW9uIGNvbXBsZXRlQ2hlY2tvdXQoKSB7XG4gICAgdmFyIGl0ZW0gPSAkc2NvcGUuY3VycmVudDtcbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgdmFyIHJlcXVlc3QgPSB7XG4gICAgICBhbW91bnRfc3VidG90YWw6IGl0ZW0uc3VidG90YWwsXG4gICAgICBhbW91bnRfdGF4OiBpdGVtLnRheCxcbiAgICAgIGFtb3VudF90aXA6IGl0ZW0udGlwLFxuICAgICAgY2FyZF9kYXRhOiBpdGVtLmNhcmRfZGF0YSxcbiAgICAgIHNpZ25hdHVyZV90b2tlbjogaXRlbS5zaWduYXR1cmVfdG9rZW4sXG4gICAgICBvcmRlcl90b2tlbnM6IGl0ZW0uaXRlbXMgIT09IG51bGwgP1xuICAgICAgICBpdGVtLml0ZW1zLnJlZHVjZShmdW5jdGlvbihyZXN1bHQsIGl0ZW0pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbS5xdWFudGl0eTsgaSsrKSB7XG4gICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0ucmVxdWVzdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfSwgW10pXG4gICAgICAgIDogbnVsbFxuICAgIH07XG5cbiAgICBPcmRlck1hbmFnZXIucGF5T3JkZXIocmVxdWVzdCkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9DTE9TRU9VVF9TRU5UKTtcblxuICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAkc2NvcGUuY3VycmVudC5jaGVja291dF90b2tlbiA9IHJlc3VsdC50b2tlbjtcbiAgICAgICAgJHNjb3BlLm9wdGlvbnMuc3RlcCA9ICRzY29wZS5TVEVQX1JFQ0VJUFQ7XG4gICAgICB9KTtcbiAgICB9LCBlID0+IHtcbiAgICAgIExvZ2dlci5kZWJ1ZyhgT3JkZXIgcGF5bWVudCBlcnJvcjogJHtKU09OLnN0cmluZ2lmeShlKX1gKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBzdGVwID0gJHNjb3BlLiR3YXRjaEFzUHJvcGVydHkoJ29wdGlvbnMuc3RlcCcpO1xuICBzdGVwXG4gIC5za2lwRHVwbGljYXRlcygpXG4gIC5zdWJzY3JpYmUodmFsdWUgPT4ge1xuICAgIGlmICghdmFsdWUudmFsdWUgfHwgdmFsdWUudmFsdWUoKSAhPT0gJHNjb3BlLlNURVBfU0lHTkFUVVJFKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVzZXRTaWduYXR1cmUoKTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NoZWNrb3V0c3BsaXQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NoZWNrb3V0U3BsaXRDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnT3JkZXJNYW5hZ2VyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIE9yZGVyTWFuYWdlcikgPT4ge1xuXG4gIC8vU3BsaXQgdGhlIGN1cnJlbnQgb3JkZXIgaW4gdGhlIHNlbGVjdGVkIHdheVxuICAkc2NvcGUuc3BsaXRDaGVjayA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICB2YXIgaSwgZGF0YSA9IFtdO1xuXG4gICAgaWYgKHR5cGUgPT09ICRzY29wZS5DSEVDS19TUExJVF9OT05FKSB7XG4gICAgICBkYXRhLnB1c2goe1xuICAgICAgICBpdGVtczogT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2hlY2tcbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUub3B0aW9ucy5ndWVzdF9jb3VudCA9IDE7XG4gICAgICAkc2NvcGUub3B0aW9ucy5zdGVwID0gJHNjb3BlLlNURVBfVElQUElORztcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJHNjb3BlLkNIRUNLX1NQTElUX0VWRU5MWSkge1xuICAgICAgdmFyIGNoZWNrID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2hlY2ssXG4gICAgICAgICAgc3VidG90YWwgPSBPcmRlck1hbmFnZXIuY2FsY3VsYXRlVG90YWxQcmljZShjaGVjayksXG4gICAgICAgICAgdGF4ID0gT3JkZXJNYW5hZ2VyLmNhbGN1bGF0ZVRheChjaGVjayk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCAkc2NvcGUub3B0aW9ucy5ndWVzdF9jb3VudDsgaSsrKSB7XG4gICAgICAgIGRhdGEucHVzaCh7XG4gICAgICAgICAgc3VidG90YWw6IE1hdGgucm91bmQoKHN1YnRvdGFsIC8gJHNjb3BlLm9wdGlvbnMuZ3Vlc3RfY291bnQpICogMTAwKSAvIDEwMCxcbiAgICAgICAgICB0YXg6IE1hdGgucm91bmQoKHRheCAvICRzY29wZS5vcHRpb25zLmd1ZXN0X2NvdW50KSAqIDEwMCkgLyAxMDBcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgICRzY29wZS5vcHRpb25zLnN0ZXAgPSAkc2NvcGUuU1RFUF9USVBQSU5HO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSAkc2NvcGUuQ0hFQ0tfU1BMSVRfQllfSVRFTVMpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCAkc2NvcGUub3B0aW9ucy5ndWVzdF9jb3VudDsgaSsrKSB7XG4gICAgICAgIGRhdGEucHVzaCh7XG4gICAgICAgICAgaXRlbXM6IFtdXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUuc3BsaXRfaXRlbXMgPSBPcmRlck1hbmFnZXIuY29weUl0ZW1zKE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNoZWNrKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuJHBhcmVudC5kYXRhID0gZGF0YTtcbiAgICAkc2NvcGUub3B0aW9ucy5jaGVja19zcGxpdCA9IHR5cGU7XG4gIH07XG5cbiAgLy9Nb3ZlIGFuIGl0ZW0gdG8gdGhlIGN1cnJlbnQgY2hlY2tcbiAgJHNjb3BlLmFkZFRvQ2hlY2sgPSBmdW5jdGlvbihlbnRyeSkge1xuICAgICRzY29wZS5zcGxpdF9pdGVtcyA9ICRzY29wZS5zcGxpdF9pdGVtc1xuICAgIC5tYXAoaXRlbSA9PiB7XG4gICAgICBpZiAoaXRlbS5yZXF1ZXN0ICE9PSBlbnRyeS5yZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbS5xdWFudGl0eSA+IDEpIHtcbiAgICAgICAgaXRlbS5xdWFudGl0eS0tO1xuICAgICAgICByZXR1cm4gaXRlbS5jbG9uZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9KVxuICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtICE9PSBudWxsKTtcblxuICAgIHZhciBleGlzdHMgPSBmYWxzZTtcblxuICAgICRzY29wZS5jdXJyZW50Lml0ZW1zID0gJHNjb3BlLmN1cnJlbnQuaXRlbXNcbiAgICAubWFwKGl0ZW0gPT4ge1xuICAgICAgaWYgKGl0ZW0ucmVxdWVzdCA9PT0gZW50cnkucmVxdWVzdCkge1xuICAgICAgICBleGlzdHMgPSB0cnVlO1xuICAgICAgICBpdGVtLnF1YW50aXR5Kys7XG4gICAgICAgIHJldHVybiBpdGVtLmNsb25lKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpdGVtO1xuICAgIH0pO1xuXG4gICAgaWYgKCFleGlzdHMpIHtcbiAgICAgIHZhciBjbG9uZSA9IGVudHJ5LmNsb25lKCk7XG4gICAgICBjbG9uZS5xdWFudGl0eSA9IDE7XG5cbiAgICAgICRzY29wZS5jdXJyZW50Lml0ZW1zLnB1c2goY2xvbmUpO1xuICAgIH1cbiAgfTtcblxuICAvL1JlbW92ZSBhbiBpdGVtIGZyb20gdGhlIGN1cnJlbnQgY2hlY2tcbiAgJHNjb3BlLnJlbW92ZUZyb21DaGVjayA9IGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgJHNjb3BlLmN1cnJlbnQuaXRlbXMgPSAkc2NvcGUuY3VycmVudC5pdGVtc1xuICAgIC5tYXAoaXRlbSA9PiB7XG4gICAgICBpZiAoaXRlbS5yZXF1ZXN0ICE9PSBlbnRyeS5yZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbS5xdWFudGl0eSA+IDEpIHtcbiAgICAgICAgaXRlbS5xdWFudGl0eS0tO1xuICAgICAgICByZXR1cm4gaXRlbS5jbG9uZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9KVxuICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtICE9PSBudWxsKTtcblxuICAgIHZhciBleGlzdHMgPSBmYWxzZTtcblxuICAgICRzY29wZS5zcGxpdF9pdGVtcyA9ICRzY29wZS5zcGxpdF9pdGVtc1xuICAgIC5tYXAoaXRlbSA9PiB7XG4gICAgICBpZiAoaXRlbS5yZXF1ZXN0ID09PSBlbnRyeS5yZXF1ZXN0KSB7XG4gICAgICAgIGV4aXN0cyA9IHRydWU7XG4gICAgICAgIGl0ZW0ucXVhbnRpdHkrKztcbiAgICAgICAgcmV0dXJuIGl0ZW0uY2xvbmUoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfSk7XG5cbiAgICBpZiAoIWV4aXN0cykge1xuICAgICAgdmFyIGNsb25lID0gZW50cnkuY2xvbmUoKTtcbiAgICAgIGNsb25lLnF1YW50aXR5ID0gMTtcblxuICAgICAgJHNjb3BlLnNwbGl0X2l0ZW1zLnB1c2goY2xvbmUpO1xuICAgIH1cbiAgfTtcblxuICAvL01vdmUgYWxsIGF2YWlsYWJsZSBpdGVtcyB0byB0aGUgY3VycmVudCBjaGVja1xuICAkc2NvcGUuYWRkQWxsVG9DaGVjayA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5zcGxpdF9pdGVtcy5mb3JFYWNoKCRzY29wZS5hZGRUb0NoZWNrKTtcblxuICAgICRzY29wZS5zcGxpdF9pdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgJHNjb3BlLmN1cnJlbnQuaXRlbXMuZm9yRWFjaChuZXdpdGVtID0+IHtcbiAgICAgICAgaWYgKG5ld2l0ZW0ucmVxdWVzdCA9PT0gaXRlbS5yZXF1ZXN0KSB7XG4gICAgICAgICAgbmV3aXRlbS5xdWFudGl0eSArPSBpdGVtLnF1YW50aXR5O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgICRzY29wZS5zcGxpdF9pdGVtcyA9IFtdO1xuICB9O1xuXG4gIC8vUmVtb3ZlIGFsbCBpdGVtcyBmcm9tIHRoZSBjdXJyZW50IGNoZWNrXG4gICRzY29wZS5yZW1vdmVBbGxGcm9tQ2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUuY3VycmVudC5pdGVtcy5mb3JFYWNoKCRzY29wZS5yZW1vdmVGcm9tQ2hlY2spO1xuXG4gICAgJHNjb3BlLmN1cnJlbnQuaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICRzY29wZS5zcGxpdF9pdGVtcy5mb3JFYWNoKG5ld2l0ZW0gPT4ge1xuICAgICAgICBpZiAobmV3aXRlbS5yZXF1ZXN0ID09PSBpdGVtLnJlcXVlc3QpIHtcbiAgICAgICAgICBuZXdpdGVtLnF1YW50aXR5ICs9IGl0ZW0ucXVhbnRpdHk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLmN1cnJlbnQuaXRlbXMgPSBbXTtcbiAgfTtcblxuICAvL1Byb2NlZWQgd2l0aCB0aGUgbmV4dCBjaGVjayBzcGxpdHRpbmdcbiAgJHNjb3BlLnNwbGl0TmV4dENoZWNrID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCRzY29wZS5vcHRpb25zLmluZGV4IDwgJHNjb3BlLm9wdGlvbnMuY291bnQgLSAxICYmICRzY29wZS5zcGxpdF9pdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAkc2NvcGUub3B0aW9ucy5pbmRleCsrO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICgkc2NvcGUuc3BsaXRfaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgJHNjb3BlLmFkZEFsbFRvQ2hlY2soKTtcbiAgICB9XG5cbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAkc2NvcGUuJHBhcmVudC5kYXRhID0gJHNjb3BlLiRwYXJlbnQuZGF0YS5maWx0ZXIoZnVuY3Rpb24oY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIGNoZWNrLml0ZW1zLmxlbmd0aCA+IDA7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLm9wdGlvbnMuc3RlcCA9ICRzY29wZS5TVEVQX1RJUFBJTkc7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHN0ZXAgPSAkc2NvcGUuJHdhdGNoQXNQcm9wZXJ0eSgnb3B0aW9ucy5zdGVwJyk7XG4gIHN0ZXBcbiAgLnNraXBEdXBsaWNhdGVzKClcbiAgLnN1YnNjcmliZShmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICghdmFsdWUudmFsdWUgfHwgdmFsdWUudmFsdWUoKSAhPT0gJHNjb3BlLlNURVBfQ0hFQ0tfU1BMSVQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAkc2NvcGUub3B0aW9ucy5jaGVja19zcGxpdCA9ICRzY29wZS5DSEVDS19TUExJVF9OT05FO1xuICAgIH0pO1xuICB9KTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY2hlY2tvdXR0aXAuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0NoZWNrb3V0VGlwQ3RybCcsIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ09yZGVyTWFuYWdlcicsIGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQsIE9yZGVyTWFuYWdlcikge1xuXG4gICRzY29wZS50aXBFZGl0b3JPcGVuID0gZmFsc2U7XG4gICRzY29wZS5kYXRhID0ge1xuICAgIHRpcEFtb3VudDogMC4wXG4gIH07XG5cbiAgLy9BZGQgYSB0aXBcbiAgJHNjb3BlLmFkZFRpcCA9IGZ1bmN0aW9uKGFtb3VudCkge1xuICAgIGlmIChhbW91bnQgPj0gMCkge1xuICAgICAgJHNjb3BlLmRhdGEudGlwQW1vdW50ID0gYW1vdW50O1xuICAgICAgJHNjb3BlLmN1cnJlbnQudGlwID0gTWF0aC5yb3VuZCgoJHNjb3BlLmN1cnJlbnQuc3VidG90YWwgKiBhbW91bnQpICogMTAwKSAvIDEwMDtcbiAgICB9XG4gIH07XG5cbiAgLy9BcHBseSB0aGUgc2VsZWN0ZWQgdGlwIGFtb3VudCBhbmQgcHJvY2VlZCBmdXJ0aGVyXG4gICRzY29wZS5hcHBseVRpcCA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5vcHRpb25zLnN0ZXAgPSAkc2NvcGUuU1RFUF9QQVlNRU5UO1xuICAgICRzY29wZS50aXBFZGl0b3JPcGVuID0gZmFsc2U7XG4gIH07XG5cbiAgLy9FZGl0IHRpcCBhbW91bnRcbiAgJHNjb3BlLmVkaXRUaXAgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUudGlwRWRpdG9yT3BlbiA9IHRydWU7XG4gICAgJHNjb3BlLmFkZFRpcCgwLjIpO1xuICB9O1xuXG4gIC8vRWRpdCB0aXAgYW1vdW50XG4gICRzY29wZS5jYW5jZWxFZGl0VGlwID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnRpcEVkaXRvck9wZW4gPSBmYWxzZTtcbiAgICAkc2NvcGUuYWRkVGlwKDAuMCk7XG4gIH07XG5cbiAgJHNjb3BlLiR3YXRjaEFzUHJvcGVydHkoJ2RhdGEudGlwQW1vdW50JylcbiAgICAuc2tpcER1cGxpY2F0ZXMoKVxuICAgIC5zdWJzY3JpYmUoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUudmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgYW1vdW50ID0gcGFyc2VGbG9hdCh2YWx1ZS52YWx1ZSgpKTtcblxuICAgICAgaWYgKGFtb3VudCA+PSAwKSB7XG4gICAgICAgICRzY29wZS5hZGRUaXAoYW1vdW50KTtcbiAgICAgIH1cbiAgICB9KTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY29tbWFuZHMvYm9vdC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uZmFjdG9yeSgnQ29tbWFuZEJvb3QnLFxuICBbJ0F1dGhlbnRpY2F0aW9uTWFuYWdlcicsICdMb2NhdGlvbk1hbmFnZXInLFxuICAoQXV0aGVudGljYXRpb25NYW5hZ2VyLCBMb2NhdGlvbk1hbmFnZXIpID0+IHtcblxuICBmdW5jdGlvbiBsb2FkTG9jYXRpb24oKSB7XG4gICAgcmV0dXJuIExvY2F0aW9uTWFuYWdlci5sb2FkQ29uZmlnKClcbiAgICAgIC50aGVuKCgpID0+IExvY2F0aW9uTWFuYWdlci5sb2FkU2VhdHMoKSk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEF1dGhlbnRpY2F0aW9uTWFuYWdlci52YWxpZGF0ZSgpLnRoZW4oYXV0aG9yaXplZCA9PiB7XG4gICAgICBpZiAoYXV0aG9yaXplZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIEF1dGhlbnRpY2F0aW9uTWFuYWdlci5hdXRob3JpemUoKS50aGVuKCgpID0+IGxvYWRMb2NhdGlvbigpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxvYWRMb2NhdGlvbigpO1xuICAgIH0pO1xuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jb21tYW5kcy9jbG9zZXRhYmxlLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5mYWN0b3J5KCdDb21tYW5kQ2xvc2VUYWJsZScsIFtcbiAgJ01hbmFnZW1lbnRTZXJ2aWNlJyxcbiAgKE1hbmFnZW1lbnRTZXJ2aWNlKSA9PiB7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBNYW5hZ2VtZW50U2VydmljZS5sb2FkUmVzZXQoKTtcbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY29tbWFuZHMvY3VzdG9tZXJndWVzdGxvZ2luLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5mYWN0b3J5KCdDb21tYW5kQ3VzdG9tZXJHdWVzdExvZ2luJyxcbiAgWydBdXRoZW50aWNhdGlvbk1hbmFnZXInLCAnQ3VzdG9tZXJNYW5hZ2VyJyxcbiAgKEF1dGhlbnRpY2F0aW9uTWFuYWdlciwgQ3VzdG9tZXJNYW5hZ2VyKSA9PiB7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBDdXN0b21lck1hbmFnZXIuZ3Vlc3RMb2dpbigpO1xuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jb21tYW5kcy9jdXN0b21lcmxvZ2luLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5mYWN0b3J5KCdDb21tYW5kQ3VzdG9tZXJMb2dpbicsXG4gIFsnQXV0aGVudGljYXRpb25NYW5hZ2VyJywgJ0N1c3RvbWVyTWFuYWdlcicsXG4gIChBdXRoZW50aWNhdGlvbk1hbmFnZXIsIEN1c3RvbWVyTWFuYWdlcikgPT4ge1xuXG4gIHJldHVybiBmdW5jdGlvbihjcmVkZW50aWFscykge1xuICAgIHJldHVybiBBdXRoZW50aWNhdGlvbk1hbmFnZXIuY3VzdG9tZXJMb2dpblJlZ3VsYXIoY3JlZGVudGlhbHMpLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIEN1c3RvbWVyTWFuYWdlci5sb2dpbihjcmVkZW50aWFscyk7XG4gICAgfSk7XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NvbW1hbmRzL2N1c3RvbWVyc2lnbnVwLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5mYWN0b3J5KCdDb21tYW5kQ3VzdG9tZXJTaWdudXAnLFxuICBbJ0F1dGhlbnRpY2F0aW9uTWFuYWdlcicsICdDdXN0b21lck1hbmFnZXInLFxuICAoQXV0aGVudGljYXRpb25NYW5hZ2VyLCBDdXN0b21lck1hbmFnZXIpID0+IHtcblxuICByZXR1cm4gZnVuY3Rpb24ocmVnaXN0cmF0aW9uKSB7XG4gICAgcmV0dXJuIEN1c3RvbWVyTWFuYWdlci5zaWduVXAocmVnaXN0cmF0aW9uKS50aGVuKCgpID0+IHtcbiAgICAgIHZhciBjcmVkZW50aWFscyA9IHtcbiAgICAgICAgbG9naW46IHJlZ2lzdHJhdGlvbi51c2VybmFtZSxcbiAgICAgICAgcGFzc3dvcmQ6IHJlZ2lzdHJhdGlvbi5wYXNzd29yZFxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIEF1dGhlbnRpY2F0aW9uTWFuYWdlci5jdXN0b21lckxvZ2luUmVndWxhcihjcmVkZW50aWFscykudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiBDdXN0b21lck1hbmFnZXIubG9naW4oY3JlZGVudGlhbHMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NvbW1hbmRzL2N1c3RvbWVyc29jaWFsbG9naW4uanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmZhY3RvcnkoJ0NvbW1hbmRDdXN0b21lclNvY2lhbExvZ2luJyxcbiAgWydBdXRoZW50aWNhdGlvbk1hbmFnZXInLCAnQ3VzdG9tZXJNYW5hZ2VyJywgJ1NvY2lhbE1hbmFnZXInLFxuICAoQXV0aGVudGljYXRpb25NYW5hZ2VyLCBDdXN0b21lck1hbmFnZXIsIFNvY2lhbE1hbmFnZXIpID0+IHtcblxuICBmdW5jdGlvbiBkb0xvZ2luKGF1dGgpIHtcbiAgICByZXR1cm4gQXV0aGVudGljYXRpb25NYW5hZ2VyLmN1c3RvbWVyTG9naW5Tb2NpYWwoYXV0aCkudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gQ3VzdG9tZXJNYW5hZ2VyLmxvZ2luU29jaWFsKGF1dGgpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBmYWNlYm9vazogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gU29jaWFsTWFuYWdlci5sb2dpbkZhY2Vib29rKCkudGhlbihkb0xvZ2luKTtcbiAgICB9LFxuICAgIGdvb2dsZXBsdXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFNvY2lhbE1hbmFnZXIubG9naW5Hb29nbGVQbHVzKCkudGhlbihkb0xvZ2luKTtcbiAgICB9LFxuICAgIHR3aXR0ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFNvY2lhbE1hbmFnZXIubG9naW5Ud2l0dGVyKCkudGhlbihkb0xvZ2luKTtcbiAgICB9XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2NvbW1hbmRzL2ZsaXBzY3JlZW4uanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmZhY3RvcnkoJ0NvbW1hbmRGbGlwU2NyZWVuJywgWydNYW5hZ2VtZW50U2VydmljZScsIGZ1bmN0aW9uKE1hbmFnZW1lbnRTZXJ2aWNlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBNYW5hZ2VtZW50U2VydmljZS5yb3RhdGVTY3JlZW4oKTtcbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY29tbWFuZHMvcmVzZXQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmZhY3RvcnkoJ0NvbW1hbmRSZXNldCcsXG4gIFsnQW5hbHl0aWNzTWFuYWdlcicsICdDaGF0TWFuYWdlcicsICdDdXN0b21lck1hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJywgJ1Nlc3Npb25NYW5hZ2VyJywgJ1N1cnZleU1hbmFnZXInLCAnTWFuYWdlbWVudFNlcnZpY2UnLCAnTG9nZ2VyJyxcbiAgKEFuYWx5dGljc01hbmFnZXIsIENoYXRNYW5hZ2VyLCBDdXN0b21lck1hbmFnZXIsIE9yZGVyTWFuYWdlciwgU2Vzc2lvbk1hbmFnZXIsIFN1cnZleU1hbmFnZXIsIE1hbmFnZW1lbnRTZXJ2aWNlLCBMb2dnZXIpID0+IHtcblxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIFEuYWxsKFtcbiAgICAgICAgQW5hbHl0aWNzTWFuYWdlci5pbml0aWFsaXplKCksXG4gICAgICAgIFNlc3Npb25NYW5hZ2VyLmluaXRpYWxpemUoKVxuICAgICAgXSkudGhlbigoKSA9PiB7XG4gICAgICAgIFNlc3Npb25NYW5hZ2VyLmVuZFNlc3Npb24oKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBRLmFsbFNldHRsZWQoW1xuICAgICAgICAgICAgQW5hbHl0aWNzTWFuYWdlci5zdWJtaXQoKSxcbiAgICAgICAgICAgIE9yZGVyTWFuYWdlci5yZXNldCgpLFxuICAgICAgICAgICAgU3VydmV5TWFuYWdlci5yZXNldCgpLFxuICAgICAgICAgICAgQ3VzdG9tZXJNYW5hZ2VyLnJlc2V0KCksXG4gICAgICAgICAgICBDaGF0TWFuYWdlci5yZXNldCgpXG4gICAgICAgICAgXSkuc3ByZWFkKCgpID0+IHtcbiAgICAgICAgICAgIExvZ2dlci5kZWJ1ZygnUmVzZXQgY29tcGxldGVkIHN1Y2Nlc3NmdWxseS4nKTtcbiAgICAgICAgICB9LCBlID0+IHtcbiAgICAgICAgICAgIExvZ2dlci53YXJuKGBVbmFibGUgdG8gcmVzZXQgcHJvcGVybHk6ICR7ZX1gKTtcbiAgICAgICAgICB9KS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0sIHJlamVjdCk7XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9jb21tYW5kcy9zdGFydHVwLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5mYWN0b3J5KCdDb21tYW5kU3RhcnR1cCcsXG4gIFsnTG9nZ2VyJywgJ0FuYWx5dGljc01hbmFnZXInLCAnQ2hhdE1hbmFnZXInLCAnU2hlbGxNYW5hZ2VyJywgJ0N1c3RvbWVyTWFuYWdlcicsICdEYXRhTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdTZXNzaW9uTWFuYWdlcicsICdTdXJ2ZXlNYW5hZ2VyJywgJ1NOQVBMb2NhdGlvbicsXG4gIChMb2dnZXIsIEFuYWx5dGljc01hbmFnZXIsIENoYXRNYW5hZ2VyLCBTaGVsbE1hbmFnZXIsIEN1c3RvbWVyTWFuYWdlciwgRGF0YU1hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyLCBTZXNzaW9uTWFuYWdlciwgU3VydmV5TWFuYWdlciwgU05BUExvY2F0aW9uKSA9PiB7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzdWx0LCByZWplY3QpID0+IHtcbiAgICAgIFEuYWxsU2V0dGxlZChbXG4gICAgICAgIEFuYWx5dGljc01hbmFnZXIuaW5pdGlhbGl6ZSgpLFxuICAgICAgICBDaGF0TWFuYWdlci5pbml0aWFsaXplKCksXG4gICAgICAgIEN1c3RvbWVyTWFuYWdlci5pbml0aWFsaXplKCksXG4gICAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmluaXRpYWxpemUoKSxcbiAgICAgICAgU2hlbGxNYW5hZ2VyLmluaXRpYWxpemUoKSxcbiAgICAgICAgU2Vzc2lvbk1hbmFnZXIuaW5pdGlhbGl6ZSgpLFxuICAgICAgICBTdXJ2ZXlNYW5hZ2VyLmluaXRpYWxpemUoKVxuICAgICAgXSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKEN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0VuYWJsZWQpIHtcbiAgICAgICAgICBpZiAoIUN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnc2lnbmluJyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBDdXN0b21lck1hbmFnZXIuZ3Vlc3RMb2dpbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgRGF0YU1hbmFnZXIuaW5pdGlhbGl6ZSgpO1xuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvY29tbWFuZHMvc3VibWl0b3JkZXIuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmZhY3RvcnkoJ0NvbW1hbmRTdWJtaXRPcmRlcicsXG4gIFsnRGlhbG9nTWFuYWdlcicsICdMb2NhdGlvbk1vZGVsJywgJ09yZGVyTWFuYWdlcicsXG4gIChEaWFsb2dNYW5hZ2VyLCBMb2NhdGlvbk1vZGVsLCBPcmRlck1hbmFnZXIpID0+IHtcblxuICByZXR1cm4gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghTG9jYXRpb25Nb2RlbC5zZWF0IHx8ICFMb2NhdGlvbk1vZGVsLnNlYXQudG9rZW4pIHtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfRVJST1JfTk9fU0VBVCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IDA7XG5cbiAgICBPcmRlck1hbmFnZXIuc3VibWl0Q2FydChvcHRpb25zKS50aGVuKCgpID0+IHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfT1JERVJfU0VOVCk7XG4gICAgfSwgKCkgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgIH0pO1xuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9kaWFsb2cuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0RpYWxvZ0N0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdBY3Rpdml0eU1vbml0b3InLCAnRGlhbG9nTWFuYWdlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBBY3Rpdml0eU1vbml0b3IsIERpYWxvZ01hbmFnZXIpID0+IHtcblxuICB2YXIgYWxlcnRTdGFjayA9IFtdLFxuICAgICAgY29uZmlybVN0YWNrID0gW107XG4gIHZhciBhbGVydEluZGV4ID0gLTEsXG4gICAgICBjb25maXJtSW5kZXggPSAtMTtcbiAgdmFyIGFsZXJ0VGltZXI7XG5cbiAgZnVuY3Rpb24gdXBkYXRlVmlzaWJpbGl0eShpc0J1c3ksIHNob3dBbGVydCwgc2hvd0NvbmZpcm0pIHtcbiAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5pc0J1c3kgPSBpc0J1c3kgIT09IHVuZGVmaW5lZCA/IGlzQnVzeSA6ICRzY29wZS5pc0J1c3k7XG4gICAgICAkc2NvcGUuc2hvd0FsZXJ0ID0gc2hvd0FsZXJ0ICE9PSB1bmRlZmluZWQgPyBzaG93QWxlcnQgOiAkc2NvcGUuc2hvd0FsZXJ0O1xuICAgICAgJHNjb3BlLnNob3dDb25maXJtID0gc2hvd0NvbmZpcm0gIT09IHVuZGVmaW5lZCA/IHNob3dDb25maXJtIDogJHNjb3BlLnNob3dDb25maXJtO1xuICAgICAgJHNjb3BlLnZpc2libGUgPSAkc2NvcGUuaXNCdXN5IHx8ICRzY29wZS5zaG93QWxlcnQgfHwgJHNjb3BlLnNob3dDb25maXJtO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd05leHRBbGVydCgpIHtcbiAgICBpZiAoYWxlcnRUaW1lcikge1xuICAgICAgJHRpbWVvdXQuY2FuY2VsKGFsZXJ0VGltZXIpO1xuICAgIH1cblxuICAgIHZhciBhbGVydCA9IGFsZXJ0U3RhY2tbYWxlcnRJbmRleF07XG5cbiAgICBpZiAoYWxlcnQgJiYgYWxlcnQucmVzb2x2ZSkge1xuICAgICAgYWxlcnQucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGFsZXJ0SW5kZXgrKztcblxuICAgIGlmIChhbGVydEluZGV4ID09PSBhbGVydFN0YWNrLmxlbmd0aCkge1xuICAgICAgdXBkYXRlVmlzaWJpbGl0eSh1bmRlZmluZWQsIGZhbHNlKTtcbiAgICAgIGFsZXJ0U3RhY2sgPSBbXTtcbiAgICAgIGFsZXJ0SW5kZXggPSAtMTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5hbGVydFRpdGxlID0gYWxlcnRTdGFja1thbGVydEluZGV4XS50aXRsZTtcbiAgICAgICRzY29wZS5hbGVydFRleHQgPSBhbGVydFN0YWNrW2FsZXJ0SW5kZXhdLm1lc3NhZ2U7XG4gICAgICB1cGRhdGVWaXNpYmlsaXR5KHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBhbGVydFRpbWVyID0gJHRpbWVvdXQoc2hvd05leHRBbGVydCwgMTAwMDApO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd05leHRDb25maXJtKCkge1xuICAgIGNvbmZpcm1JbmRleCsrO1xuXG4gICAgaWYgKGNvbmZpcm1JbmRleCA9PT0gY29uZmlybVN0YWNrLmxlbmd0aCkge1xuICAgICAgdXBkYXRlVmlzaWJpbGl0eSh1bmRlZmluZWQsIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgICAgY29uZmlybVN0YWNrID0gW107XG4gICAgICBjb25maXJtSW5kZXggPSAtMTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5jb25maXJtVGV4dCA9IGNvbmZpcm1TdGFja1tjb25maXJtSW5kZXhdLm1lc3NhZ2U7XG4gICAgICB1cGRhdGVWaXNpYmlsaXR5KHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSAnc3RyaW5nJykge1xuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UpIHtcbiAgICAgICAgICBjYXNlIEFMRVJUX0dFTkVSSUNfRVJST1I6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJPb3BzISBNeSBiaXRzIGFyZSBmaWRkbGVkLiBPdXIgcmVxdWVzdCBzeXN0ZW0gaGFzIGJlZW4gZGlzY29ubmVjdGVkLiBQbGVhc2Ugbm90aWZ5IGEgc2VydmVyLlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIk9vcHMhIE15IGJpdHMgYXJlIGZpZGRsZWQuIE91ciByZXF1ZXN0IHN5c3RlbSBoYXMgYmVlbiBkaXNjb25uZWN0ZWQuIFBsZWFzZSBub3RpZnkgYSBzZXJ2ZXIuXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEFMRVJUX1JFUVVFU1RfQVNTSVNUQU5DRV9TRU5UOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiQ2FsbCBTZXJ2ZXIgcmVxdWVzdCB3YXMgc2VudCBzdWNjZXNzZnVsbHkuXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEFMRVJUX1JFUVVFU1RfQVNTSVNUQU5DRV9SRUNFSVZFRDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIllvdXIgcmVxdWVzdCBmb3Igc2VydmVyIGFzc2lzdGFuY2UgaGFzIGJlZW4gc2VlbiwgYW5kIGFjY2VwdGVkLlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9SRVFVRVNUX0NMT1NFT1VUX1NFTlQ6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJSZXF1ZXN0IGNoZWNrIHJlcXVlc3Qgd2FzIHNlbnQgc3VjY2Vzc2Z1bGx5LlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9SRVFVRVNUX0NMT1NFT1VUX1JFQ0VJVkVEOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiWW91ciBjaGVjayByZXF1ZXN0IGhhcyBiZWVuIHNlZW4sIGFuZCBhY2NlcHRlZC5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfUkVRVUVTVF9PUkRFUl9TRU5UOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiT3JkZXIgc2VudCEgWW91IHdpbGwgYmUgbm90aWZpZWQgd2hlbiB5b3VyIHdhaXRlciBhY2NlcHRzIHRoZSBvcmRlci5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfUkVRVUVTVF9PUkRFUl9SRUNFSVZFRDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIllvdXIgb3JkZXIgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGFjY2VwdGVkLlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9TSUdOSU5fUkVRVUlSRUQ6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJZb3UgbXVzdCBiZSBsb2dnZWQgaW50byBTTkFQIHRvIGFjY2VzcyB0aGlzIHBhZ2UuXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEFMRVJUX1RBQkxFX0FTU0lTVEFOQ0U6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY2FsbCB0aGUgd2FpdGVyP1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9UQUJMRV9DTE9TRU9VVDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZXF1ZXN0IHlvdXIgY2hlY2s/XCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIEFMRVJUX1RBQkxFX1JFU0VUOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlc2V0P1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9ERUxFVF9DQVJEOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlbW92ZSB0aGlzIHBheW1lbnQgbWV0aG9kP1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9QQVNTV09SRF9SRVNFVF9DT01QTEVURTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkEgbGluayB0byBjaGFuZ2UgeW91ciBwYXNzd29yZCBoYXMgYmVlbiBlbWFpbGVkLlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9TT0ZUV0FSRV9PVVREQVRFRDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkEgc29mdHdhcmUgdXBkYXRlIGlzIGF2YWlsYWJsZS4gUGxlYXNlIHJlc3RhcnQgdGhlIGFwcGxpY2F0aW9uLlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9DQVJEUkVBREVSX0VSUk9SOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiVW5hYmxlIHRvIHJlYWQgdGhlIGNhcmQgZGF0YS4gUGxlYXNlIHRyeSBhZ2Fpbi5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQUxFUlRfRVJST1JfTk9fU0VBVDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkRldmljZSBpcyBub3QgYXNzaWduZWQgdG8gYW55IHRhYmxlLlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBBTEVSVF9FUlJPUl9TVEFSVFVQOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiVW5hYmxlIHRvIHN0YXJ0IHRoZSBhcHBsaWNhdGlvbi5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG5cbiAgJHNjb3BlLnZpc2libGUgPSBmYWxzZTtcbiAgJHNjb3BlLmlzQnVzeSA9IGZhbHNlO1xuICAkc2NvcGUuc2hvd0FsZXJ0ID0gZmFsc2U7XG4gICRzY29wZS5zaG93Q29uZmlybSA9IGZhbHNlO1xuXG4gICRzY29wZS5jbG9zZUFsZXJ0ID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgc2hvd05leHRBbGVydCgpO1xuICB9O1xuXG4gICRzY29wZS5jbG9zZUNvbmZpcm0gPSBjb25maXJtZWQgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG5cbiAgICB2YXIgY29uZmlybSA9IGNvbmZpcm1TdGFja1tjb25maXJtSW5kZXhdO1xuXG4gICAgaWYgKGNvbmZpcm0pIHtcbiAgICAgIGlmIChjb25maXJtZWQpIHtcbiAgICAgICAgaWYgKGNvbmZpcm0ucmVzb2x2ZSkge1xuICAgICAgICAgIGNvbmZpcm0ucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKGNvbmZpcm0ucmVqZWN0KSB7XG4gICAgICAgICAgY29uZmlybS5yZWplY3QoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHNob3dOZXh0Q29uZmlybSgpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGFsZXJ0UmVxdWVzdGVkKG1lc3NhZ2UsIHRpdGxlLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICBtZXNzYWdlID0gZ2V0TWVzc2FnZShtZXNzYWdlKTtcblxuICAgIGFsZXJ0U3RhY2sucHVzaCh7IHRpdGxlOiB0aXRsZSwgbWVzc2FnZTogbWVzc2FnZSwgcmVzb2x2ZTogcmVzb2x2ZSwgcmVqZWN0OiByZWplY3QgfSk7XG5cbiAgICBpZiAoISRzY29wZS5zaG93QWxlcnQpIHtcbiAgICAgICR0aW1lb3V0KHNob3dOZXh0QWxlcnQpO1xuICAgIH1cbiAgfVxuXG4gIERpYWxvZ01hbmFnZXIuYWxlcnRSZXF1ZXN0ZWQuYWRkKGFsZXJ0UmVxdWVzdGVkKTtcblxuICBmdW5jdGlvbiBjb25maXJtUmVxdWVzdGVkKG1lc3NhZ2UsIHJlc29sdmUsIHJlamVjdCkge1xuICAgIG1lc3NhZ2UgPSBnZXRNZXNzYWdlKG1lc3NhZ2UpO1xuXG4gICAgY29uZmlybVN0YWNrLnB1c2goeyBtZXNzYWdlOiBtZXNzYWdlLCByZXNvbHZlOiByZXNvbHZlLCByZWplY3Q6IHJlamVjdCB9KTtcblxuICAgIGlmICghJHNjb3BlLnNob3dDb25maXJtKSB7XG4gICAgICAkdGltZW91dChzaG93TmV4dENvbmZpcm0pO1xuICAgIH1cbiAgfVxuXG4gIERpYWxvZ01hbmFnZXIuY29uZmlybVJlcXVlc3RlZC5hZGQoY29uZmlybVJlcXVlc3RlZCk7XG5cbiAgZnVuY3Rpb24gam9iU3RhcnRlZCgpIHtcbiAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVWaXNpYmlsaXR5KHRydWUpO1xuICB9XG5cbiAgRGlhbG9nTWFuYWdlci5qb2JTdGFydGVkLmFkZChqb2JTdGFydGVkKTtcbiAgRGlhbG9nTWFuYWdlci5qb2JFbmRlZC5hZGQoZnVuY3Rpb24oKSB7XG4gICAgdXBkYXRlVmlzaWJpbGl0eShmYWxzZSk7XG4gIH0pO1xuXG4gIGlmIChEaWFsb2dNYW5hZ2VyLmpvYnMgPiAwKSB7XG4gICAgam9iU3RhcnRlZCgpO1xuICB9XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2ZsYXNoLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdGbGFzaEN0cmwnLFxuICBbJyR0aW1lb3V0JywgJ0ZsYXNoU3RhcnRlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdTaGVsbE1hbmFnZXInLCAoJHRpbWVvdXQsIEZsYXNoU3RhcnRlciwgTmF2aWdhdGlvbk1hbmFnZXIsIFNoZWxsTWFuYWdlcikgPT4ge1xuXG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgbGV0IHVybCA9IFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybCh7XG4gICAgICAgIHRva2VuOiBOYXZpZ2F0aW9uTWFuYWdlci5nZXRRdWVyeVBhcmFtZXRlcignbWVkaWEnKSxcbiAgICAgICAgbWltZV90eXBlOiAnYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2gnXG4gICAgICB9KTtcblxuICAgICAgRmxhc2hTdGFydGVyLnN0YXJ0KFxuICAgICAgICAnbWVkaWEtY29udGFpbmVyJyxcbiAgICAgICAgdXJsLFxuICAgICAgICBOYXZpZ2F0aW9uTWFuYWdlci5nZXRRdWVyeVBhcmFtZXRlcignd2lkdGgnKSxcbiAgICAgICAgTmF2aWdhdGlvbk1hbmFnZXIuZ2V0UXVlcnlQYXJhbWV0ZXIoJ2hlaWdodCcpXG4gICAgICApO1xuICAgIH0sIDEwMDApO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9nYWxheGllcy9hZHZlcnRpc2VtZW50LmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdHYWxheGllc0FkdmVydGlzZW1lbnRDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnQWN0aXZpdHlNb25pdG9yJywgJ0FuYWx5dGljc01vZGVsJywgJ1NoZWxsTWFuYWdlcicsICdEYXRhTWFuYWdlcicsICdEYXRhTW9kZWwnLCAnRGlhbG9nTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdDb21tYW5kRmxpcFNjcmVlbicsICdTaGVsbE1hbmFnZXInLCAnV2ViQnJvd3NlcicsICdTTkFQRW52aXJvbm1lbnQnLFxuICAoJHNjb3BlLCAkdGltZW91dCwgQWN0aXZpdHlNb25pdG9yLCBBbmFseXRpY3NNb2RlbCwgaGVsbE1hbmFnZXIsIERhdGFNYW5hZ2VyLCBEYXRhTW9kZWwsIERpYWxvZ01hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyLCBDb21tYW5kRmxpcFNjcmVlbiwgU2hlbGxNYW5hZ2VyLCBXZWJCcm93c2VyLCBTTkFQRW52aXJvbm1lbnQpID0+IHtcblxuICAkc2NvcGUudmlzaWJsZSA9IGZhbHNlO1xuXG4gICRzY29wZS5hZHZlcnRpc2VtZW50Q2xpY2sgPSBpdGVtID0+IHtcbiAgICBpZiAoQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZCAmJiAhQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9TSUdOSU5fUkVRVUlSRUQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIEFuYWx5dGljc01vZGVsLmxvZ0FkdmVydGlzZW1lbnQoe1xuICAgICAgdG9rZW46IGl0ZW0udG9rZW4sXG4gICAgICB0eXBlOiAnY2xpY2snXG4gICAgfSk7XG5cbiAgICBpZiAoaXRlbS5ocmVmKSB7XG4gICAgICBXZWJCcm93c2VyLm9wZW4oaXRlbS5ocmVmLnVybCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5hZHZlcnRpc2VtZW50SW1wcmVzc2lvbiA9IGl0ZW0gPT4ge1xuICAgIGlmIChBY3Rpdml0eU1vbml0b3IuYWN0aXZlICYmICRzY29wZS52aXNpYmxlKSB7XG4gICAgICBBbmFseXRpY3NNb2RlbC5sb2dBZHZlcnRpc2VtZW50KHtcbiAgICAgICAgdG9rZW46IGl0ZW0udG9rZW4sXG4gICAgICAgIHR5cGU6ICdpbXByZXNzaW9uJ1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5hZHZlcnRpc2VtZW50cyA9IFtdO1xuXG4gIERhdGFNb2RlbC5hZHZlcnRpc2VtZW50cygpLnRoZW4oZGF0YSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgJHNjb3BlLmFkdmVydGlzZW1lbnRzID0gZGF0YS5tYWluXG4gICAgICAgIC5tYXAoYWQgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzcmM6IFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybChhZC5zcmMsIDk3MCwgOTApLFxuICAgICAgICAgICAgaHJlZjogYWQuaHJlZixcbiAgICAgICAgICAgIHR5cGU6IFNoZWxsTWFuYWdlci5nZXRNZWRpYVR5cGUoYWQuc3JjKSxcbiAgICAgICAgICAgIHRva2VuOiBhZC50b2tlblxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbkNoYW5naW5nLmFkZChsb2NhdGlvbiA9PiB7XG4gICAgJHNjb3BlLnZpc2libGUgPSBsb2NhdGlvbi50eXBlID09PSAnaG9tZSc7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLiRhcHBseSgpKTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2dhbGF4aWVzL2NhcnQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuICAuY29udHJvbGxlcignR2FsYXhpZXNDYXJ0Q3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJyRzY2UnLCAnQ3VzdG9tZXJNYW5hZ2VyJywgJ1NoZWxsTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdPcmRlck1hbmFnZXInLCAnRGlhbG9nTWFuYWdlcicsICdDYXJ0TW9kZWwnLCAnTG9jYXRpb25Nb2RlbCcsICdDaGF0TWFuYWdlcicsXG4gICAgKCRzY29wZSwgJHRpbWVvdXQsICRzY2UsIEN1c3RvbWVyTWFuYWdlciwgU2hlbGxNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgT3JkZXJNYW5hZ2VyLCBEaWFsb2dNYW5hZ2VyLCBDYXJ0TW9kZWwsIExvY2F0aW9uTW9kZWwsIENoYXRNYW5hZ2VyKSA9PiB7XG5cbiAgICAgICRzY29wZS5TVEFURV9DQVJUID0gQ2FydE1vZGVsLlNUQVRFX0NBUlQ7XG4gICAgICAkc2NvcGUuU1RBVEVfSElTVE9SWSA9IENhcnRNb2RlbC5TVEFURV9ISVNUT1JZO1xuXG4gICAgICAkc2NvcGUuZ2V0TWVkaWFVcmwgPSAobWVkaWEsIHdpZHRoLCBoZWlnaHQsIGV4dGVuc2lvbikgPT4gU2hlbGxNYW5hZ2VyLmdldE1lZGlhVXJsKG1lZGlhLCB3aWR0aCwgaGVpZ2h0LCBleHRlbnNpb24pO1xuICAgICAgJHNjb3BlLmZvcm1hdFByaWNlID0gdmFsdWUgPT4gU2hlbGxNYW5hZ2VyLmZvcm1hdFByaWNlKHZhbHVlKTtcbiAgICAgICRzY29wZS5vcHRpb25zID0ge307XG5cbiAgICAgICRzY29wZS5jdXJyZW5jeSA9IFNoZWxsTWFuYWdlci5tb2RlbC5jdXJyZW5jeTtcbiAgICAgIFNoZWxsTWFuYWdlci5tb2RlbC5jdXJyZW5jeUNoYW5nZWQuYWRkKGN1cnJlbmN5ID0+ICR0aW1lb3V0KCgpID0+ICRzY29wZS5jdXJyZW5jeSA9IGN1cnJlbmN5KSk7XG5cbiAgICAgICRzY29wZS5zdGF0ZSA9IENhcnRNb2RlbC5jYXJ0U3RhdGU7XG4gICAgICBDYXJ0TW9kZWwuY2FydFN0YXRlQ2hhbmdlZC5hZGQoc3RhdGUgPT4gJHRpbWVvdXQoKCkgPT4gJHNjb3BlLnN0YXRlID0gc3RhdGUpKTtcblxuICAgICAgJHNjb3BlLmVkaXRhYmxlSXRlbSA9IENhcnRNb2RlbC5lZGl0YWJsZUl0ZW07XG4gICAgICBDYXJ0TW9kZWwuZWRpdGFibGVJdGVtQ2hhbmdlZC5hZGQoaXRlbSA9PiAkdGltZW91dCgoKSA9PiAkc2NvcGUuZWRpdGFibGVJdGVtID0gaXRlbSkpO1xuXG4gICAgICAkc2NvcGUuY3VycmVudE9yZGVyID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2FydDtcbiAgICAgIE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNhcnRDaGFuZ2VkLmFkZCh2YWx1ZSA9PiAkc2NvcGUuY3VycmVudE9yZGVyID0gdmFsdWUpO1xuXG4gICAgICAkc2NvcGUudG90YWxPcmRlciA9IE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNoZWNrO1xuICAgICAgT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2hlY2tDaGFuZ2VkLmFkZCh2YWx1ZSA9PiAkc2NvcGUudG90YWxPcmRlciA9IHZhbHVlKTtcblxuICAgICAgJHNjb3BlLmdpZnRTZWF0ID0gTG9jYXRpb25Nb2RlbC5nZXRTZWF0KENoYXRNYW5hZ2VyLm1vZGVsLmdpZnRTZWF0KTtcbiAgICAgIENoYXRNYW5hZ2VyLm1vZGVsLmdpZnRTZWF0Q2hhbmdlZC5hZGQodG9rZW4gPT4ge1xuICAgICAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuZ2lmdFNlYXQgPSBMb2NhdGlvbk1vZGVsLmdldFNlYXQodG9rZW4pKTtcbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuY3VzdG9tZXJOYW1lID0gQ3VzdG9tZXJNYW5hZ2VyLmN1c3RvbWVyTmFtZTtcbiAgICAgIEN1c3RvbWVyTWFuYWdlci5tb2RlbC5wcm9maWxlQ2hhbmdlZC5hZGQoKCkgPT4ge1xuICAgICAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuY3VzdG9tZXJOYW1lID0gQ3VzdG9tZXJNYW5hZ2VyLmN1c3RvbWVyTmFtZSk7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLmNoZWNrb3V0RW5hYmxlZCA9IEN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0VuYWJsZWQ7XG4gICAgICAkc2NvcGUudmlzaWJsZSA9IENhcnRNb2RlbC5pc0NhcnRPcGVuO1xuXG4gICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbkNoYW5naW5nLmFkZChsb2NhdGlvbiA9PiB7XG4gICAgICAgIGlmIChsb2NhdGlvbi50eXBlICE9PSAnY2F0ZWdvcnknKSB7XG4gICAgICAgICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSBmYWxzZTtcbiAgICAgICAgICBDYXJ0TW9kZWwuY2xvc2VFZGl0b3IoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIENhcnRNb2RlbC5pc0NhcnRPcGVuQ2hhbmdlZC5hZGQodmFsdWUgPT4ge1xuICAgICAgICAkc2NvcGUuc2hvd0NhcnQoKTtcbiAgICAgICAgJHNjb3BlLnZpc2libGUgPSB2YWx1ZTtcbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuc2VhdF9uYW1lID0gTG9jYXRpb25Nb2RlbC5zZWF0ID9cbiAgICAgICAgTG9jYXRpb25Nb2RlbC5zZWF0Lm5hbWUgOlxuICAgICAgICAnVGFibGUnO1xuXG4gICAgICBMb2NhdGlvbk1vZGVsLnNlYXRDaGFuZ2VkLmFkZChzZWF0ID0+ICRzY29wZS5zZWF0X25hbWUgPSBzZWF0ID8gc2VhdC5uYW1lIDogJ1RhYmxlJyk7XG5cbiAgICAgIHZhciByZWZyZXNoQXNzaXN0YW5jZVJlcXVlc3QgPSAoKSA9PiB7XG4gICAgICAgICRzY29wZS5yZXF1ZXN0QXNzaXN0YW5jZUF2YWlsYWJsZSA9IE9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdCA9PT0gbnVsbDtcbiAgICAgIH07XG4gICAgICB2YXIgcmVmcmVzaENsb3Nlb3V0UmVxdWVzdCA9ICgpID0+IHtcbiAgICAgICAgJHNjb3BlLnJlcXVlc3RDbG9zZW91dEF2YWlsYWJsZSA9IE9yZGVyTWFuYWdlci5tb2RlbC5jbG9zZW91dFJlcXVlc3QgPT09IG51bGw7XG4gICAgICB9O1xuXG4gICAgICBPcmRlck1hbmFnZXIubW9kZWwuYXNzaXN0YW5jZVJlcXVlc3RDaGFuZ2VkLmFkZChyZWZyZXNoQXNzaXN0YW5jZVJlcXVlc3QpO1xuICAgICAgT3JkZXJNYW5hZ2VyLm1vZGVsLmNsb3Nlb3V0UmVxdWVzdENoYW5nZWQuYWRkKHJlZnJlc2hDbG9zZW91dFJlcXVlc3QpO1xuXG4gICAgICAkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2VBdmFpbGFibGUgPSBPcmRlck1hbmFnZXIubW9kZWwuYXNzaXN0YW5jZVJlcXVlc3QgPT09IG51bGw7XG4gICAgICAkc2NvcGUucmVxdWVzdENsb3Nlb3V0QXZhaWxhYmxlID0gT3JkZXJNYW5hZ2VyLm1vZGVsLmNsb3Nlb3V0UmVxdWVzdCA9PT0gbnVsbDtcblxuICAgICAgJHNjb3BlLmdldE1vZGlmaWVycyA9IGVudHJ5ID0+IHtcbiAgICAgICAgaWYgKCFlbnRyeS5tb2RpZmllcnMpIHtcbiAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZW50cnkubW9kaWZpZXJzLnJlZHVjZSgocmVzdWx0LCBjYXRlZ29yeSkgPT4ge1xuICAgICAgICAgIGxldCBtb2RpZmllcnMgPSBjYXRlZ29yeS5tb2RpZmllcnMuZmlsdGVyKG1vZGlmaWVyID0+IG1vZGlmaWVyLmlzU2VsZWN0ZWQpO1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQobW9kaWZpZXJzKTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LCBbXSk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuY2FsY3VsYXRlUHJpY2UgPSBlbnRyeSA9PiBPcmRlck1hbmFnZXIuY2FsY3VsYXRlUHJpY2UoZW50cnkpO1xuICAgICAgJHNjb3BlLmNhbGN1bGF0ZVRvdGFsUHJpY2UgPSBlbnRyaWVzID0+IE9yZGVyTWFuYWdlci5jYWxjdWxhdGVUb3RhbFByaWNlKGVudHJpZXMpO1xuXG4gICAgICAkc2NvcGUuZWRpdEl0ZW0gPSBlbnRyeSA9PiBDYXJ0TW9kZWwub3BlbkVkaXRvcihlbnRyeSwgZmFsc2UpO1xuXG4gICAgICAkc2NvcGUudXBkYXRlTW9kaWZpZXJzID0gKGNhdGVnb3J5LCBtb2RpZmllcikgPT4ge1xuICAgICAgICBpZiAoY2F0ZWdvcnkuZGF0YS5zZWxlY3Rpb24gPT09IDEpIHtcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goY2F0ZWdvcnkubW9kaWZpZXJzLCBtID0+IG0uaXNTZWxlY3RlZCA9IChtID09PSBtb2RpZmllcikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIG1vZGlmaWVyLmlzU2VsZWN0ZWQgPSAhbW9kaWZpZXIuaXNTZWxlY3RlZDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnJlbW92ZUZyb21DYXJ0ID0gZW50cnkgPT4gJHNjb3BlLmN1cnJlbnRPcmRlciA9IE9yZGVyTWFuYWdlci5yZW1vdmVGcm9tQ2FydChlbnRyeSk7XG4gICAgICAkc2NvcGUucmVvcmRlckl0ZW0gPSBlbnRyeSA9PiAkc2NvcGUuY3VycmVudE9yZGVyID0gT3JkZXJNYW5hZ2VyLmFkZFRvQ2FydChlbnRyeS5jbG9uZSgpKTtcblxuICAgICAgJHNjb3BlLnN1Ym1pdENhcnQgPSAoKSA9PiB7XG4gICAgICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSAkc2NvcGUub3B0aW9ucy50b0dvID8gMiA6IDA7XG5cbiAgICAgICAgT3JkZXJNYW5hZ2VyLnN1Ym1pdENhcnQob3B0aW9ucykudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuXG4gICAgICAgICAgJHNjb3BlLiRhcHBseSgoKSA9PiB7XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudE9yZGVyID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2FydDtcbiAgICAgICAgICAgICRzY29wZS50b3RhbE9yZGVyID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2hlY2s7XG4gICAgICAgICAgICAkc2NvcGUub3B0aW9ucy50b0dvID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfT1JERVJfU0VOVCk7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5jbGVhckNhcnQgPSAoKSA9PiB7XG4gICAgICAgICRzY29wZS5vcHRpb25zLnRvR28gPSBmYWxzZTtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRPcmRlciA9IE9yZGVyTWFuYWdlci5jbGVhckNhcnQoKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5jbG9zZUVkaXRvciA9ICgpID0+IHtcbiAgICAgICAgQ2FydE1vZGVsLmNsb3NlRWRpdG9yKCk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuY2xvc2VDYXJ0ID0gKCkgPT4ge1xuICAgICAgICBDYXJ0TW9kZWwuaXNDYXJ0T3BlbiA9IGZhbHNlO1xuICAgICAgICBDYXJ0TW9kZWwuc3RhdGUgPSBDYXJ0TW9kZWwuU1RBVEVfQ0FSVDtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5zaG93SGlzdG9yeSA9ICgpID0+IENhcnRNb2RlbC5zdGF0ZSA9IENhcnRNb2RlbC5TVEFURV9ISVNUT1JZO1xuICAgICAgJHNjb3BlLnNob3dDYXJ0ID0gKCkgPT4gQ2FydE1vZGVsLnN0YXRlID0gQ2FydE1vZGVsLlNUQVRFX0NBUlQ7XG5cbiAgICAgICRzY29wZS5wYXlDaGVjayA9ICgpID0+IE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnY2hlY2tvdXQnIH07XG5cbiAgICAgICRzY29wZS5yZXF1ZXN0QXNzaXN0YW5jZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKCEkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2VBdmFpbGFibGUpe1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIERpYWxvZ01hbmFnZXIuY29uZmlybShBTEVSVF9UQUJMRV9BU1NJU1RBTkNFKS50aGVuKCgpID0+IHtcbiAgICAgICAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgICAgICAgT3JkZXJNYW5hZ2VyLnJlcXVlc3RBc3Npc3RhbmNlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX0FTU0lTVEFOQ0VfU0VOVCk7XG4gICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5yZXF1ZXN0Q2xvc2VvdXQgPSAoKSA9PiB7XG4gICAgICAgIGlmICghJHNjb3BlLnJlcXVlc3RDbG9zZW91dEF2YWlsYWJsZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICAgICAgT3JkZXJNYW5hZ2VyLnJlcXVlc3RDbG9zZW91dCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX0NMT1NFT1VUX1NFTlQpO1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvZ2FsYXhpZXMvY2F0ZWdvcnkuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0dhbGF4aWVzQ2F0ZWdvcnlDdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnRGF0YU1hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnU2hlbGxNYW5hZ2VyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIERhdGFNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgU2hlbGxNYW5hZ2VyKSA9PiB7XG5cbiAgJHNjb3BlLmdvQmFjayA9ICgpID0+IE5hdmlnYXRpb25NYW5hZ2VyLmdvQmFjaygpO1xuXG4gIHZhciBDYXRlZ29yeUxpc3QgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByb3dzID0gdGhpcy5wcm9wcy50aWxlcy5tYXAoKHRpbGUsIGkpID0+IHtcbiAgICAgICAgdmFyIGJhY2tncm91bmQgPSBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwodGlsZS5pbWFnZSwgNDcwLCA0MTApO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFJlYWN0LkRPTS50ZCh7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICd0aWxlIHRpbGUtcmVndWxhcicsXG4gICAgICAgICAgICBrZXk6IGlcbiAgICAgICAgICB9LCBSZWFjdC5ET00uYSh7XG4gICAgICAgICAgICBvbkNsaWNrOiBlID0+IHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHRpbGUuZGVzdGluYXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBiYWNrZ3JvdW5kID8gJ3VybChcIicgKyBiYWNrZ3JvdW5kICsgJ1wiKScgOiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKG51bGwsIHRpbGUudGl0bGUpXG4gICAgICAgICAgKSlcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAucmVkdWNlKChyZXN1bHQsIHZhbHVlLCBpKSA9PiB7XG4gICAgICAgIHJlc3VsdFtpICUgMl0ucHVzaCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LCBbW10sIFtdXSlcbiAgICAgIC5tYXAoKHJvdywgaSkgPT4gUmVhY3QuRE9NLnRyKHsga2V5OiBpIH0sIHJvdykpO1xuXG4gICAgICByZXR1cm4gUmVhY3QuRE9NLnRhYmxlKHtcbiAgICAgICAgY2xhc3NOYW1lOiAndGlsZS10YWJsZSdcbiAgICAgIH0sIHJvd3MpO1xuICAgIH1cbiAgfSk7XG5cbiAgRGF0YU1hbmFnZXIuY2F0ZWdvcnlDaGFuZ2VkLmFkZChjYXRlZ29yeSA9PiB7XG4gICAgaWYgKCFjYXRlZ29yeSkge1xuICAgICAgcmV0dXJuICR0aW1lb3V0KCgpID0+ICRzY29wZS5jYXRlZ29yeSA9IG51bGwpO1xuICAgIH1cblxuICAgIHZhciBpdGVtcyA9IGNhdGVnb3J5ICYmIGNhdGVnb3J5Lml0ZW1zID8gY2F0ZWdvcnkuaXRlbXMgOiBbXSxcbiAgICAgICAgY2F0ZWdvcmllcyA9IGNhdGVnb3J5ICYmIGNhdGVnb3J5LmNhdGVnb3JpZXMgPyBjYXRlZ29yeS5jYXRlZ29yaWVzIDogW107XG5cbiAgICB2YXIgdGlsZXMgPSBjYXRlZ29yaWVzLmNvbmNhdChpdGVtcykubWFwKGl0ZW0gPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsXG4gICAgICAgIGltYWdlOiBpdGVtLmltYWdlLFxuICAgICAgICB1cmw6ICcjJyArIE5hdmlnYXRpb25NYW5hZ2VyLmdldFBhdGgoaXRlbS5kZXN0aW5hdGlvbiksXG4gICAgICAgIGRlc3RpbmF0aW9uOiBpdGVtLmRlc3RpbmF0aW9uXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS1jYXRlZ29yeS1jb250ZW50Jyk7XG5cbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgUmVhY3QucmVuZGVyKFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENhdGVnb3J5TGlzdCwgeyB0aWxlczogdGlsZXMgfSksXG4gICAgICAgIGVsZW1lbnRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmNhdGVnb3J5ID0gY2F0ZWdvcnk7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLiRhcHBseSgpKTtcbiAgfSk7XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2luZy5hZGQoZnVuY3Rpb24obG9jYXRpb24pIHtcbiAgICBpZiAobG9jYXRpb24udHlwZSA9PT0gJ2l0ZW0nKSB7XG4gICAgICAkc2NvcGUuc2hvd01vZGFsID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2hvd01vZGFsID0gZmFsc2U7XG5cbiAgICBEYXRhTWFuYWdlci5jYXRlZ29yeSA9IGxvY2F0aW9uLnR5cGUgPT09ICdjYXRlZ29yeScgPyBsb2NhdGlvbi50b2tlbiA6IHVuZGVmaW5lZDtcbiAgICAkc2NvcGUudmlzaWJsZSA9IEJvb2xlYW4oRGF0YU1hbmFnZXIuY2F0ZWdvcnkpO1xuICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS1jYXRlZ29yeS1jb250ZW50LWNvbnRhaW5lcicpO1xuICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICBjb250YWluZXIuc2Nyb2xsTGVmdCA9IDA7XG4gICAgICB9XG5cbiAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICB9KTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2dhbGF4aWVzL2NoZWNrb3V0c3BsaXQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0dhbGF4aWVzQ2hlY2tvdXRTcGxpdEN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdDdXN0b21lck1hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIEN1c3RvbWVyTWFuYWdlciwgT3JkZXJNYW5hZ2VyKSA9PiB7XG5cbiAgdmFyIG9yaWdpbmFsRGF0YTtcblxuICAvL09wZW4gZ3Vlc3QgY291bnQgZWRpdG9yXG4gICRzY29wZS5lZGl0R3Vlc3RDb3VudCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PT0gJHNjb3BlLkNIRUNLX1NQTElUX0VWRU5MWSB8fCB0eXBlID09PSAkc2NvcGUuQ0hFQ0tfU1BMSVRfQllfSVRFTVMpIHtcbiAgICAgIG9yaWdpbmFsRGF0YSA9ICRzY29wZS4kcGFyZW50LmRhdGE7XG4gICAgICAkc2NvcGUub3B0aW9ucy5ndWVzdF9jb3VudCA9ICRzY29wZS5vcHRpb25zLmd1ZXN0X2NvdW50X21pbjtcbiAgICB9XG5cbiAgICAkc2NvcGUuZ3Vlc3RFZGl0b3JUeXBlID0gdHlwZTtcbiAgfTtcblxuICAvL0Nsb3NlIGd1ZXN0IGNvdW50IGVkaXRvclxuICAkc2NvcGUuY2FuY2VsRWRpdEd1ZXN0Q291bnQgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUuZ3Vlc3RFZGl0b3JUeXBlID0gdW5kZWZpbmVkO1xuICAgIG9yaWdpbmFsRGF0YSA9IHVuZGVmaW5lZDtcbiAgfTtcblxuICAvL1NwbGl0IHRoZSBjdXJyZW50IG9yZGVyIGluIHRoZSBzZWxlY3RlZCB3YXlcbiAgJHNjb3BlLnNwbGl0Q2hlY2sgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgdmFyIGksIGRhdGEgPSBbXTtcblxuICAgIGlmICh0eXBlID09PSAkc2NvcGUuQ0hFQ0tfU1BMSVRfTk9ORSkge1xuICAgICAgZGF0YS5wdXNoKHtcbiAgICAgICAgaXRlbXM6IE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNoZWNrXG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLm9wdGlvbnMuZ3Vlc3RfY291bnQgPSAxO1xuICAgICAgJHNjb3BlLmRvbmVTcGxpdHRpbmcoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJHNjb3BlLkNIRUNLX1NQTElUX0VWRU5MWSkge1xuICAgICAgdmFyIGNoZWNrID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2hlY2ssXG4gICAgICAgICAgc3VidG90YWwgPSBPcmRlck1hbmFnZXIuY2FsY3VsYXRlVG90YWxQcmljZShjaGVjayksXG4gICAgICAgICAgdGF4ID0gT3JkZXJNYW5hZ2VyLmNhbGN1bGF0ZVRheChjaGVjayk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCAkc2NvcGUub3B0aW9ucy5ndWVzdF9jb3VudDsgaSsrKSB7XG4gICAgICAgIGRhdGEucHVzaCh7XG4gICAgICAgICAgbmFtZTogYENoZWNrIDAke2kgKyAxfWAsXG4gICAgICAgICAgc3VidG90YWw6IE1hdGgucm91bmQoKHN1YnRvdGFsIC8gJHNjb3BlLm9wdGlvbnMuZ3Vlc3RfY291bnQpICogMTAwKSAvIDEwMCxcbiAgICAgICAgICB0YXg6IE1hdGgucm91bmQoKHRheCAvICRzY29wZS5vcHRpb25zLmd1ZXN0X2NvdW50KSAqIDEwMCkgLyAxMDBcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgICRzY29wZS5kb25lU3BsaXR0aW5nKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICRzY29wZS5DSEVDS19TUExJVF9CWV9JVEVNUykge1xuICAgICAgZm9yIChpID0gMDsgaSA8ICRzY29wZS5vcHRpb25zLmd1ZXN0X2NvdW50OyBpKyspIHtcbiAgICAgICAgZGF0YS5wdXNoKHtcbiAgICAgICAgICBuYW1lOiBgQ2hlY2sgMCR7aSArIDF9YCxcbiAgICAgICAgICBpdGVtczogW11cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgICRzY29wZS5zcGxpdF9pdGVtcyA9IE9yZGVyTWFuYWdlclxuICAgICAgICAuY29weUl0ZW1zKE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNoZWNrKVxuICAgICAgICAucmVkdWNlKChyZXN1bHQsIGl0ZW0pID0+IHtcbiAgICAgICAgICB3aGlsZSAoaXRlbS5xdWFudGl0eSA+IDApIHtcbiAgICAgICAgICAgIGxldCBzdWJpdGVtID0gaXRlbS5jbG9uZSgpO1xuICAgICAgICAgICAgc3ViaXRlbS5xdWFudGl0eSA9IDE7XG4gICAgICAgICAgICByZXN1bHQucHVzaChzdWJpdGVtKTtcbiAgICAgICAgICAgIGl0ZW0ucXVhbnRpdHktLTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LCBbXSk7XG5cbiAgICAgICRzY29wZS5zcGxpdF9pdGVtcy5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jaGVjayA9IGRhdGFbMF0pO1xuICAgICAgZGF0YVswXS5pdGVtcyA9IGRhdGFbMF0uaXRlbXMuY29uY2F0KCRzY29wZS5zcGxpdF9pdGVtcyk7XG4gICAgfVxuXG4gICAgJHNjb3BlLiRwYXJlbnQuZGF0YSA9IGRhdGE7XG4gICAgJHNjb3BlLm9wdGlvbnMuY2hlY2tfc3BsaXQgPSB0eXBlO1xuICAgICRzY29wZS5ndWVzdEVkaXRvclR5cGUgPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgJHNjb3BlLmdldE1vZGlmaWVycyA9IGVudHJ5ID0+IHtcbiAgICBpZiAoIWVudHJ5Lm1vZGlmaWVycykge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHJldHVybiBlbnRyeS5tb2RpZmllcnMucmVkdWNlKChyZXN1bHQsIGNhdGVnb3J5KSA9PiB7XG4gICAgICBsZXQgbW9kaWZpZXJzID0gY2F0ZWdvcnkubW9kaWZpZXJzLmZpbHRlcihtb2RpZmllciA9PiBtb2RpZmllci5pc1NlbGVjdGVkKTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQobW9kaWZpZXJzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSwgW10pO1xuICB9O1xuXG4gICRzY29wZS5jYWxjdWxhdGVDaGVja3MgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUuJHBhcmVudC5kYXRhLmZvckVhY2goY2hlY2sgPT4ge1xuICAgICAgY2hlY2suaXRlbXMgPSAkc2NvcGUuc3BsaXRfaXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5jaGVjayA9PT0gY2hlY2spO1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5jYW5jZWxTcGxpdHRpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUuZ3Vlc3RFZGl0b3JUeXBlID0gJHNjb3BlLm9wdGlvbnMuY2hlY2tfc3BsaXQgPSB1bmRlZmluZWQ7XG4gICAgJHNjb3BlLiRwYXJlbnQuZGF0YSA9IG9yaWdpbmFsRGF0YTtcbiAgICBvcmlnaW5hbERhdGEgPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgJHNjb3BlLmRvbmVTcGxpdHRpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUuJHBhcmVudC5kYXRhID0gJHNjb3BlLiRwYXJlbnQuZGF0YS5maWx0ZXIoY2hlY2sgPT4gY2hlY2suc3VidG90YWwgPiAwIHx8IChjaGVjay5pdGVtcyAmJiBjaGVjay5pdGVtcy5sZW5ndGggPiAwKSk7XG4gICAgJHNjb3BlLm9wdGlvbnMuc3RlcCA9ICRzY29wZS5TVEVQX1RJUFBJTkc7XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2dhbGF4aWVzL2hvbWUuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ0dhbGF4aWVzSG9tZUN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdEYXRhTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdTaGVsbE1hbmFnZXInLCAnU05BUExvY2F0aW9uJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIERhdGFNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgU2hlbGxNYW5hZ2VyLCBTTkFQTG9jYXRpb24pID0+IHtcblxuICB2YXIgSG9tZU1lbnUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIGxldCByb3dzID0gW10sXG4gICAgICAgICAgaG9tZSA9IHRoaXMucHJvcHMuaG9tZTtcblxuICAgICAgaWYgKEJvb2xlYW4oaG9tZS5pbnRybykpIHtcbiAgICAgICAgcm93cy5wdXNoKFJlYWN0LkRPTS50ZCh7XG4gICAgICAgICAgY2xhc3NOYW1lOiAndGlsZSB0aWxlLWluZm8nLFxuICAgICAgICAgIGtleTogJ2ludHJvJ1xuICAgICAgICB9LCBSZWFjdC5ET00uZGl2KHt9LCBbXG4gICAgICAgICAgICBSZWFjdC5ET00uaDEoeyBrZXk6ICdpbnRyby10aXRsZScgfSxcbiAgICAgICAgICAgICAgaG9tZS5pbnRyby50aXRsZSB8fCBgV2VsY29tZSB0byAke1NOQVBMb2NhdGlvbi5sb2NhdGlvbl9uYW1lfWBcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBSZWFjdC5ET00ucCh7IGtleTogJ2ludHJvLXRleHQnIH0sXG4gICAgICAgICAgICAgIGhvbWUuaW50cm8udGV4dFxuICAgICAgICAgICAgKVxuICAgICAgICBdKVxuICAgICAgICApKTtcbiAgICAgIH1cblxuICAgICAgbGV0IHRpbGVzID0gdGhpcy5wcm9wcy50aWxlcy5tYXAoKHRpbGUsIGkpID0+IHtcbiAgICAgICAgdmFyIGJhY2tncm91bmQgPSBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwodGlsZS5pbWFnZSwgNDcwLCA0MTApO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFJlYWN0LkRPTS50ZCh7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICd0aWxlIHRpbGUtcmVndWxhcicsXG4gICAgICAgICAgICBrZXk6IGlcbiAgICAgICAgICB9LCBSZWFjdC5ET00uYSh7XG4gICAgICAgICAgICBvbkNsaWNrOiBlID0+IHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHRpbGUuZGVzdGluYXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBiYWNrZ3JvdW5kID8gJ3VybChcIicgKyBiYWNrZ3JvdW5kICsgJ1wiKScgOiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKG51bGwsIHRpbGUudGl0bGUpXG4gICAgICAgICAgKSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuXG4gICAgICByb3dzID0gcm93cy5jb25jYXQodGlsZXMpXG4gICAgICAucmVkdWNlKChyZXN1bHQsIHZhbHVlKSA9PiB7XG4gICAgICAgIHJlc3VsdFswXS5wdXNoKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sIFtbXV0pXG4gICAgICAubWFwKChyb3csIGkpID0+IFJlYWN0LkRPTS50cih7IGtleTogaSB9LCByb3cpKTtcblxuICAgICAgcmV0dXJuIFJlYWN0LkRPTS50YWJsZSh7XG4gICAgICAgIGNsYXNzTmFtZTogJ3RpbGUtdGFibGUnXG4gICAgICB9LCByb3dzKTtcbiAgICB9XG4gIH0pO1xuXG4gIERhdGFNYW5hZ2VyLmhvbWVDaGFuZ2VkLmFkZChob21lID0+IHtcbiAgICBpZiAoIWhvbWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGlsZXMgPSBob21lLm1lbnVzXG4gICAgLm1hcChtZW51ID0+IHtcbiAgICAgIGxldCBkZXN0aW5hdGlvbiA9IHtcbiAgICAgICAgdHlwZTogJ21lbnUnLFxuICAgICAgICB0b2tlbjogbWVudS50b2tlblxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IG1lbnUudGl0bGUsXG4gICAgICAgIGltYWdlOiBtZW51LmltYWdlLFxuICAgICAgICB1cmw6ICcjJyArIE5hdmlnYXRpb25NYW5hZ2VyLmdldFBhdGgoZGVzdGluYXRpb24pLFxuICAgICAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb25cbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLWhvbWUtbWVudScpO1xuXG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIFJlYWN0LnJlbmRlcihcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChIb21lTWVudSwgeyB0aWxlczogdGlsZXMsIGhvbWU6IGhvbWUgfSksXG4gICAgICAgIGVsZW1lbnRcbiAgICAgICk7XG4gICAgfVxuICB9KTtcblxuICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbkNoYW5naW5nLmFkZChsb2NhdGlvbiA9PiB7XG4gICAgJHNjb3BlLnZpc2libGUgPSBCb29sZWFuKGxvY2F0aW9uLnR5cGUgPT09ICdob21lJyk7XG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLWhvbWUtbWVudS1jb250YWluZXInKTtcbiAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgY29udGFpbmVyLnNjcm9sbExlZnQgPSAwO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICBEYXRhTWFuYWdlci5ob21lID0gJHNjb3BlLnZpc2libGU7XG4gICAgfSk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9nYWxheGllcy9pdGVtLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdHYWxheGllc0l0ZW1DdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnRGF0YU1hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJywgJ1NoZWxsTWFuYWdlcicsICdXZWJCcm93c2VyJywgJ0NvbW1hbmRTdWJtaXRPcmRlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBEYXRhTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIE9yZGVyTWFuYWdlciwgU2hlbGxNYW5hZ2VyLCBXZWJCcm93c2VyLCBDb21tYW5kU3VibWl0T3JkZXIpID0+IHtcblxuICAkc2NvcGUuZ29CYWNrID0gKCkgPT4gTmF2aWdhdGlvbk1hbmFnZXIuZ29CYWNrKCk7XG5cbiAgZnVuY3Rpb24gb25DbG9zZSgpIHtcbiAgICBpZiAoTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24udHlwZSA9PT0gJ2l0ZW0nKSB7XG4gICAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuZ29CYWNrKCkpO1xuICAgIH1cbiAgfVxuXG4gIERhdGFNYW5hZ2VyLml0ZW1DaGFuZ2VkLmFkZChpdGVtID0+IHtcbiAgICBpZiAoIWl0ZW0pIHtcbiAgICAgIHJldHVybiAkdGltZW91dCgoKSA9PiB7XG4gICAgICAgICRzY29wZS5lbnRyeSA9ICRzY29wZS5lbnRyaWVzID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLnR5cGUgPSAxO1xuICAgICAgICAkc2NvcGUuc3RlcCA9IDA7XG4gICAgICAgICRzY29wZS5lbnRyeUluZGV4ID0gMDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciB0eXBlID0gaXRlbS50eXBlO1xuXG4gICAgaWYgKHR5cGUgPT09IDIgJiYgaXRlbS53ZWJzaXRlKSB7XG4gICAgICBXZWJCcm93c2VyXG4gICAgICAgIC5vcGVuKGl0ZW0ud2Vic2l0ZS51cmwpXG4gICAgICAgIC50aGVuKGJyb3dzZXIgPT4gYnJvd3Nlci5vbkV4aXQuYWRkT25jZShvbkNsb3NlKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09IDMgJiYgaXRlbS5mbGFzaCkge1xuICAgICAgbGV0IHVybCA9IFdlYkJyb3dzZXIuZ2V0Rmxhc2hVcmwoaXRlbS5mbGFzaC5tZWRpYS50b2tlbiwgaXRlbS5mbGFzaC53aWR0aCwgaXRlbS5mbGFzaC5oZWlnaHQpO1xuXG4gICAgICBXZWJCcm93c2VyXG4gICAgICAgIC5vcGVuKHVybClcbiAgICAgICAgLnRoZW4oYnJvd3NlciA9PiBicm93c2VyLm9uRXhpdC5hZGRPbmNlKG9uQ2xvc2UpKTtcbiAgICB9XG5cbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodHlwZSA9PT0gMSkge1xuICAgICAgICAkc2NvcGUuZW50cnkgPSBuZXcgYXBwLkNhcnRJdGVtKGl0ZW0sIDEpO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUudHlwZSA9IHR5cGU7XG4gICAgICAkc2NvcGUuc3RlcCA9IDA7XG4gICAgICAkc2NvcGUuZW50cnlJbmRleCA9IDA7XG4gICAgfSk7XG4gIH0pO1xuXG4gICRzY29wZS5nZXRNZWRpYVVybCA9IChtZWRpYSwgdywgaCwgZXh0ZW5zaW9uKSA9PiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwobWVkaWEsIHcsIGgsIGV4dGVuc2lvbik7XG4gICRzY29wZS5mb3JtYXRQcmljZSA9IHZhbHVlID0+IHZhbHVlID8gU2hlbGxNYW5hZ2VyLmZvcm1hdFByaWNlKHZhbHVlKSA6IDA7XG5cbiAgJHNjb3BlLm5leHRTdGVwID0gKCkgPT4ge1xuICAgIGlmICgkc2NvcGUuc3RlcCA9PT0gMCkge1xuICAgICAgaWYgKCRzY29wZS5lbnRyeS5oYXNNb2RpZmllcnMpIHtcbiAgICAgICAgJHNjb3BlLmVudHJpZXMgPSAkc2NvcGUuZW50cnkuY2xvbmVNYW55KCk7XG4gICAgICAgICRzY29wZS5jdXJyZW50RW50cnkgPSAkc2NvcGUuZW50cmllc1skc2NvcGUuZW50cnlJbmRleCA9IDBdO1xuICAgICAgICAkc2NvcGUuc3RlcCA9IDE7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgT3JkZXJNYW5hZ2VyLmFkZFRvQ2FydCgkc2NvcGUuZW50cnkpO1xuICAgICAgICAkc2NvcGUuc3RlcCA9IDI7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKCRzY29wZS5zdGVwID09PSAxKSB7XG4gICAgICBpZiAoJHNjb3BlLmVudHJ5SW5kZXggPT09ICRzY29wZS5lbnRyaWVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgJHNjb3BlLmVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiBPcmRlck1hbmFnZXIuYWRkVG9DYXJ0KGVudHJ5KSk7XG4gICAgICAgICRzY29wZS5zdGVwID0gMjtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAkc2NvcGUuY3VycmVudEVudHJ5ID0gJHNjb3BlLmVudHJpZXNbKyskc2NvcGUuZW50cnlJbmRleF07XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5wcmV2aW91c1N0ZXAgPSAoKSA9PiB7XG4gICAgaWYgKCRzY29wZS5zdGVwID09PSAxICYmICRzY29wZS5lbnRyeUluZGV4ID4gMCkge1xuICAgICAgJHNjb3BlLmN1cnJlbnRFbnRyeSA9ICRzY29wZS5lbnRyaWVzWy0tJHNjb3BlLmVudHJ5SW5kZXhdO1xuICAgIH1cbiAgICBlbHNlIGlmICgkc2NvcGUuc3RlcCA9PT0gMCkge1xuICAgICAgJHNjb3BlLmdvQmFjaygpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICRzY29wZS5zdGVwLS07XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS51cGRhdGVNb2RpZmllcnMgPSAoY2F0ZWdvcnksIG1vZGlmaWVyKSA9PiB7XG4gICAgaWYgKGNhdGVnb3J5LmRhdGEuc2VsZWN0aW9uID09PSAxKSB7XG4gICAgICBhbmd1bGFyLmZvckVhY2goY2F0ZWdvcnkubW9kaWZpZXJzLCBtID0+IG0uaXNTZWxlY3RlZCA9IChtID09PSBtb2RpZmllcikpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIG1vZGlmaWVyLmlzU2VsZWN0ZWQgPSAhbW9kaWZpZXIuaXNTZWxlY3RlZDtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLnN1Ym1pdE9yZGVyID0gKCkgPT4ge1xuICAgIENvbW1hbmRTdWJtaXRPcmRlcigpO1xuICAgICRzY29wZS5nb0JhY2soKTtcbiAgfTtcblxuICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbkNoYW5naW5nLmFkZChsb2NhdGlvbiA9PiB7XG4gICAgRGF0YU1hbmFnZXIuaXRlbSA9IGxvY2F0aW9uLnR5cGUgPT09ICdpdGVtJyA/IGxvY2F0aW9uLnRva2VuIDogdW5kZWZpbmVkO1xuICAgICRzY29wZS52aXNpYmxlID0gQm9vbGVhbihEYXRhTWFuYWdlci5pdGVtKTtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuJGFwcGx5KCkpO1xuICB9KTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvZ2FsYXhpZXMvaXRlbWVkaXQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuICAuY29udHJvbGxlcignR2FsYXhpZXNJdGVtRWRpdEN0cmwnLFxuICBbJyRzY29wZScsICdTaGVsbE1hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJywgJ0NhcnRNb2RlbCcsICdDb21tYW5kU3VibWl0T3JkZXInLFxuICAgICgkc2NvcGUsIFNoZWxsTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIE9yZGVyTWFuYWdlciwgQ2FydE1vZGVsLCBDb21tYW5kU3VibWl0T3JkZXIpID0+IHtcblxuICAgICAgJHNjb3BlLmdldE1lZGlhVXJsID0gKG1lZGlhLCB3aWR0aCwgaGVpZ2h0LCBleHRlbnNpb24pID0+IFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKTtcbiAgICAgICRzY29wZS5mb3JtYXRQcmljZSA9IHZhbHVlID0+IFNoZWxsTWFuYWdlci5mb3JtYXRQcmljZSh2YWx1ZSk7XG5cbiAgICAgIHZhciBjdXJyZW50SW5kZXggPSAtMTtcblxuICAgICAgdmFyIHJlZnJlc2hOYXZpZ2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkc2NvcGUuZW50cnkgJiYgJHNjb3BlLmVudHJ5Lmhhc01vZGlmaWVycykge1xuICAgICAgICAgICRzY29wZS5oYXNOZXh0Q2F0ZWdvcnkgPSAkc2NvcGUuZW50cnkubW9kaWZpZXJzLmxlbmd0aCA+IDEgJiZcbiAgICAgICAgICAgIGN1cnJlbnRJbmRleCA8ICRzY29wZS5lbnRyeS5tb2RpZmllcnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAkc2NvcGUuaGFzUHJldmlvdXNDYXRlZ29yeSA9IGN1cnJlbnRJbmRleCA+IDA7XG4gICAgICAgICAgJHNjb3BlLmNhdGVnb3J5ID0gJHNjb3BlLmVudHJ5Lm1vZGlmaWVyc1tjdXJyZW50SW5kZXhdO1xuICAgICAgICAgICRzY29wZS5jYW5FeGl0ID0gQ2FydE1vZGVsLmVkaXRhYmxlSXRlbU5ldztcbiAgICAgICAgICAkc2NvcGUuY2FuRG9uZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uQ2hhbmdpbmcuYWRkKGZ1bmN0aW9uKGxvY2F0aW9uKSB7XG4gICAgICAgIGlmIChsb2NhdGlvbi50eXBlICE9PSAnbWVudScgJiYgbG9jYXRpb24udHlwZSAhPT0gJ2NhdGVnb3J5Jykge1xuICAgICAgICAgICRzY29wZS5leGl0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBDYXJ0TW9kZWwuaXNDYXJ0T3BlbkNoYW5nZWQuYWRkKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICRzY29wZS5leGl0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB2YXIgaW5pdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICRzY29wZS5lbnRyeSA9IHZhbHVlO1xuICAgICAgICAkc2NvcGUudmlzaWJsZSA9ICRzY29wZS5lbnRyeSAhPT0gbnVsbDtcblxuICAgICAgICBjdXJyZW50SW5kZXggPSAwO1xuXG4gICAgICAgIHJlZnJlc2hOYXZpZ2F0aW9uKCk7XG4gICAgICB9O1xuXG4gICAgICBpbml0KENhcnRNb2RlbC5lZGl0YWJsZUl0ZW0pO1xuXG4gICAgICBDYXJ0TW9kZWwuZWRpdGFibGVJdGVtQ2hhbmdlZC5hZGQoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaW5pdCh2YWx1ZSk7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLmdldE1vZGlmaWVyVGl0bGUgPSBmdW5jdGlvbihtb2RpZmllcikge1xuICAgICAgICByZXR1cm4gbW9kaWZpZXIuZGF0YS50aXRsZSArIChtb2RpZmllci5kYXRhLnByaWNlID4gMCA/XG4gICAgICAgICAgICAnICgrJyArIFNoZWxsTWFuYWdlci5mb3JtYXRQcmljZShtb2RpZmllci5kYXRhLnByaWNlKSArICcpJyA6XG4gICAgICAgICAgICAgICcnXG4gICAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5sZWZ0QnV0dG9uQ2xpY2sgPSBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgcmVzdWx0ID0gKGN1cnJlbnRJbmRleCA+IDApID8gKCRzY29wZS5wcmV2aW91c0NhdGVnb3J5KCkpIDogJHNjb3BlLmV4aXQoKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5sZWZ0QnV0dG9uVGV4dCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiAoY3VycmVudEluZGV4ID4gMCkgPyAnQmFjaycgOiAnRXhpdCc7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuc2hvd0xlZnRCdXR0b24gPSBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gKGN1cnJlbnRJbmRleCA+IDApO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnJpZ2h0QnV0dG9uQ2xpY2sgPSBmdW5jdGlvbigpe1xuICAgICAgICAvL01ha2Ugc3VyZSBQaWNrIDEgbW9kaWZpZXIgY2F0ZWdvcmllcyBoYXZlIG1ldCB0aGUgc2VsZWN0aW9uIGNvbmRpdGlvbi5cbiAgICAgICAgaWYoJHNjb3BlLmVudHJ5Lm1vZGlmaWVyc1tjdXJyZW50SW5kZXhdLmRhdGEuc2VsZWN0aW9uID09PSAxKSB7XG4gICAgICAgICAgdmFyIG51bVNlbGVjdGVkID0gMDtcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmVudHJ5Lm1vZGlmaWVyc1tjdXJyZW50SW5kZXhdLm1vZGlmaWVycywgZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgaWYgKG0uaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICBudW1TZWxlY3RlZCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYobnVtU2VsZWN0ZWQgIT09IDEpIHtcbiAgICAgICAgICAgIC8vVE9ETzogQWRkIG1vZGFsIHBvcHVwLiBNdXN0IG1ha2UgMSBzZWxlY3Rpb24hXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICgkc2NvcGUuaGFzTmV4dENhdGVnb3J5KSA/ICRzY29wZS5uZXh0Q2F0ZWdvcnkoKSA6ICRzY29wZS5kb25lKCk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUucmlnaHRCdXR0b25UZXh0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuICgkc2NvcGUuaGFzTmV4dENhdGVnb3J5KSA/ICdOZXh0JyA6ICdEb25lJztcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5zaG93UmlnaHRCdXR0b24gPSBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gKCRzY29wZS5oYXNOZXh0Q2F0ZWdvcnkpO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnByZXZpb3VzQ2F0ZWdvcnkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY3VycmVudEluZGV4LS07XG4gICAgICAgIHJlZnJlc2hOYXZpZ2F0aW9uKCk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUubmV4dENhdGVnb3J5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGN1cnJlbnRJbmRleCsrO1xuICAgICAgICByZWZyZXNoTmF2aWdhdGlvbigpO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnVwZGF0ZU1vZGlmaWVycyA9IGZ1bmN0aW9uKGNhdGVnb3J5LCBtb2RpZmllcikge1xuICAgICAgICBtb2RpZmllci5pc1NlbGVjdGVkID0gIW1vZGlmaWVyLmlzU2VsZWN0ZWQ7XG5cbiAgICAgICAgaWYgKG1vZGlmaWVyLmlzU2VsZWN0ZWQgJiYgY2F0ZWdvcnkuZGF0YS5zZWxlY3Rpb24gPT09IDEpIHtcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goY2F0ZWdvcnkubW9kaWZpZXJzLCBmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICBtLmlzU2VsZWN0ZWQgPSBtID09PSBtb2RpZmllcjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnN1Ym1pdENoYW5nZXMgPSBmdW5jdGlvbigpe1xuICAgICAgICBPcmRlck1hbmFnZXIucmVtb3ZlRnJvbUNhcnQoJHNjb3BlLmVudHJ5KTtcbiAgICAgICAgT3JkZXJNYW5hZ2VyLmFkZFRvQ2FydCgkc2NvcGUuZW50cnkpO1xuICAgICAgICAkc2NvcGUuZXhpdCgpO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLmRvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKENhcnRNb2RlbC5lZGl0YWJsZUl0ZW1OZXcpIHtcbiAgICAgICAgICBPcmRlck1hbmFnZXIuYWRkVG9DYXJ0KENhcnRNb2RlbC5lZGl0YWJsZUl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLmV4aXQoKTtcbiAgICAgICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSB0cnVlO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLmV4aXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgQ2FydE1vZGVsLmNsb3NlRWRpdG9yKCk7XG4gICAgICB9O1xuICAgIH1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvZ2FsYXhpZXMvbWVudS5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignR2FsYXhpZXNNZW51Q3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0RhdGFNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ1NoZWxsTWFuYWdlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBEYXRhTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIFNoZWxsTWFuYWdlcikgPT4ge1xuXG4gICRzY29wZS5nb0JhY2sgPSAoKSA9PiBOYXZpZ2F0aW9uTWFuYWdlci5nb0JhY2soKTtcblxuICB2YXIgTWVudUxpc3QgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByb3dzID0gdGhpcy5wcm9wcy50aWxlcy5tYXAoKHRpbGUsIGkpID0+IHtcbiAgICAgICAgdmFyIGJhY2tncm91bmQgPSBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwodGlsZS5pbWFnZSwgNDcwLCA0MTApO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIFJlYWN0LkRPTS50ZCh7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICd0aWxlIHRpbGUtcmVndWxhcicsXG4gICAgICAgICAgICBrZXk6IGlcbiAgICAgICAgICB9LCBSZWFjdC5ET00uYSh7XG4gICAgICAgICAgICBvbkNsaWNrOiBlID0+IHtcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHRpbGUuZGVzdGluYXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBiYWNrZ3JvdW5kID8gJ3VybChcIicgKyBiYWNrZ3JvdW5kICsgJ1wiKScgOiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAgIFJlYWN0LkRPTS5zcGFuKG51bGwsIHRpbGUudGl0bGUpXG4gICAgICAgICAgKSlcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAucmVkdWNlKChyZXN1bHQsIHZhbHVlLCBpKSA9PiB7XG4gICAgICAgIHJlc3VsdFtpICUgMl0ucHVzaCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LCBbW10sIFtdXSlcbiAgICAgIC5tYXAoKHJvdywgaSkgPT4gUmVhY3QuRE9NLnRyKHsga2V5OiBpIH0sIHJvdykpO1xuXG4gICAgICByZXR1cm4gUmVhY3QuRE9NLnRhYmxlKHtcbiAgICAgICAgY2xhc3NOYW1lOiAndGlsZS10YWJsZSdcbiAgICAgIH0sIHJvd3MpO1xuICAgIH1cbiAgfSk7XG5cbiAgRGF0YU1hbmFnZXIubWVudUNoYW5nZWQuYWRkKG1lbnUgPT4ge1xuICAgIGlmICghbWVudSkge1xuICAgICAgcmV0dXJuICR0aW1lb3V0KCgpID0+ICRzY29wZS5tZW51ID0gbnVsbCk7XG4gICAgfVxuXG4gICAgdmFyIHRpbGVzID0gbWVudS5jYXRlZ29yaWVzXG4gICAgICAubWFwKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgbGV0IGRlc3RpbmF0aW9uID0ge1xuICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsXG4gICAgICAgICAgdG9rZW46IGNhdGVnb3J5LnRva2VuXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aXRsZTogY2F0ZWdvcnkudGl0bGUsXG4gICAgICAgICAgaW1hZ2U6IGNhdGVnb3J5LmltYWdlLFxuICAgICAgICAgIHVybDogJyMnICsgTmF2aWdhdGlvbk1hbmFnZXIuZ2V0UGF0aChkZXN0aW5hdGlvbiksXG4gICAgICAgICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2UtbWVudS1jb250ZW50Jyk7XG5cbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgUmVhY3QucmVuZGVyKFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE1lbnVMaXN0LCB7IHRpbGVzOiB0aWxlcyB9KSxcbiAgICAgICAgZWxlbWVudFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAkc2NvcGUubWVudSA9IG1lbnU7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLiRhcHBseSgpKTtcbiAgfSk7XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2luZy5hZGQobG9jYXRpb24gPT4ge1xuICAgIERhdGFNYW5hZ2VyLm1lbnUgPSBsb2NhdGlvbi50eXBlID09PSAnbWVudScgPyBsb2NhdGlvbi50b2tlbiA6IHVuZGVmaW5lZDtcbiAgICAkc2NvcGUudmlzaWJsZSA9IEJvb2xlYW4oRGF0YU1hbmFnZXIubWVudSk7XG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLW1lbnUtY29udGVudC1jb250YWluZXInKTtcbiAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgY29udGFpbmVyLnNjcm9sbExlZnQgPSAwO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgfSk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9nYWxheGllcy9uYXZpZ2F0aW9uLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdHYWxheGllc05hdmlnYXRpb25DdHJsJyxcbiAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnQWN0aXZpdHlNb25pdG9yJywgJ0N1c3RvbWVyTWFuYWdlcicsICdBbmFseXRpY3NNb2RlbCcsICdDYXJ0TW9kZWwnLCAnU2hlbGxNYW5hZ2VyJywgJ0RhdGFNYW5hZ2VyJywgJ0RhdGFNb2RlbCcsICdEaWFsb2dNYW5hZ2VyJywgJ0xvY2F0aW9uTW9kZWwnLCAnTWFuYWdlbWVudFNlcnZpY2UnLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJywgJ0NvbW1hbmRDbG9zZVRhYmxlJywgJ0NvbW1hbmRTdWJtaXRPcmRlcicsICdDb21tYW5kRmxpcFNjcmVlbicsICdTTkFQRW52aXJvbm1lbnQnLCAnV2ViQnJvd3NlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBBY3Rpdml0eU1vbml0b3IsIEN1c3RvbWVyTWFuYWdlciwgQW5hbHl0aWNzTW9kZWwsIENhcnRNb2RlbCwgU2hlbGxNYW5hZ2VyLCBEYXRhTWFuYWdlciwgRGF0YU1vZGVsLCBEaWFsb2dNYW5hZ2VyLCBMb2NhdGlvbk1vZGVsLCBNYW5hZ2VtZW50U2VydmljZSwgTmF2aWdhdGlvbk1hbmFnZXIsIE9yZGVyTWFuYWdlciwgQ29tbWFuZENsb3NlVGFibGUsIENvbW1hbmRTdWJtaXRPcmRlciwgQ29tbWFuZEZsaXBTY3JlZW4sIFNOQVBFbnZpcm9ubWVudCwgV2ViQnJvd3NlcikgPT4ge1xuXG4gICRzY29wZS5tZW51cyA9IFtdO1xuICAkc2NvcGUuc2hvd1ZvbHVtZSA9ICRzY29wZS5zaG93QnJpZ2h0bmVzcyA9IFNOQVBFbnZpcm9ubWVudC5wbGF0Zm9ybSAhPT0gJ3dlYic7XG4gICRzY29wZS5zaG93Um90YXRlID0gU05BUEVudmlyb25tZW50LnBsYXRmb3JtICE9PSAnd2ViJztcblxuICBEYXRhTW9kZWwuaG9tZSgpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgbG9jYXRpb24gPSBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbixcbiAgICAgICAgbGltaXQgPSBTTkFQRW52aXJvbm1lbnQucGxhdGZvcm0gPT09ICdkZXNrdG9wJyA/IDQgOiAzO1xuXG4gICAgJHNjb3BlLm1lbnVzID0gcmVzcG9uc2UubWVudXNcbiAgICAgIC5maWx0ZXIobWVudSA9PiBTTkFQRW52aXJvbm1lbnQucGxhdGZvcm0gPT09ICdkZXNrdG9wJyB8fCBtZW51LnR5cGUgIT09IDMpXG4gICAgICAuZmlsdGVyKChtZW51LCBpKSA9PiBpIDwgbGltaXQpXG4gICAgICAubWFwKG1lbnUgPT4ge1xuICAgICAgICBsZXQgZGVzdGluYXRpb24gPSB7XG4gICAgICAgICAgdHlwZTogJ21lbnUnLFxuICAgICAgICAgIHRva2VuOiBtZW51LnRva2VuXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdG9rZW46IG1lbnUudG9rZW4sXG4gICAgICAgICAgdGl0bGU6IG1lbnUudGl0bGUsXG4gICAgICAgICAgdXJsOiAnIycgKyBOYXZpZ2F0aW9uTWFuYWdlci5nZXRQYXRoKGRlc3RpbmF0aW9uKSxcbiAgICAgICAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgICAgICAgc2VsZWN0ZWQ6IGxvY2F0aW9uLnR5cGUgPT09ICdtZW51JyAmJiBtZW51LnRva2VuID09PSBsb2NhdGlvbi50b2tlblxuICAgICAgICB9O1xuICAgICAgfSk7XG4gIH0pO1xuXG4gICRzY29wZS5hZHZlcnRpc2VtZW50Q2xpY2sgPSBpdGVtID0+IHtcbiAgICBpZiAoaXRlbS5ocmVmKSB7XG4gICAgICBXZWJCcm93c2VyLm9wZW4oaXRlbS5ocmVmLnVybCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5jdXJyZW50QWR2ZXJ0aXNlbWVudCA9IG51bGw7XG5cbiAgJHNjb3BlLmFkdmVydGlzZW1lbnRJbXByZXNzaW9uID0gaXRlbSA9PiB7XG4gICAgJHNjb3BlLmN1cnJlbnRBZHZlcnRpc2VtZW50ID0gaXRlbTtcblxuICAgIGlmIChBY3Rpdml0eU1vbml0b3IuYWN0aXZlICYmICRzY29wZS5tZW51T3Blbikge1xuICAgICAgQW5hbHl0aWNzTW9kZWwubG9nQWR2ZXJ0aXNlbWVudCh7XG4gICAgICAgIHRva2VuOiBpdGVtLnRva2VuLFxuICAgICAgICB0eXBlOiAnaW1wcmVzc2lvbidcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuYWR2ZXJ0aXNlbWVudHMgPSBbXTtcblxuICBEYXRhTW9kZWwuYWR2ZXJ0aXNlbWVudHMoKS50aGVuKGRhdGEgPT4ge1xuICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICRzY29wZS5hZHZlcnRpc2VtZW50cyA9IGRhdGEubWlzY1xuICAgICAgICAubWFwKGFkID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3JjOiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwoYWQuc3JjLCAzMDAsIDI1MCksXG4gICAgICAgICAgICBocmVmOiBhZC5ocmVmLFxuICAgICAgICAgICAgdHlwZTogU2hlbGxNYW5hZ2VyLmdldE1lZGlhVHlwZShhZC5zcmMpLFxuICAgICAgICAgICAgdG9rZW46IGFkLnRva2VuXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gICRzY29wZS5uYXZpZ2F0ZUhvbWUgPSAoKSA9PiB7XG4gICAgQWN0aXZpdHlNb25pdG9yLmFjdGl2aXR5RGV0ZWN0ZWQoKTtcbiAgICAkc2NvcGUuc2V0dGluZ3NPcGVuID0gZmFsc2U7XG4gICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdob21lJyB9O1xuICB9O1xuXG4gICRzY29wZS5uYXZpZ2F0ZUJhY2sgPSAoKSA9PiB7XG4gICAgQWN0aXZpdHlNb25pdG9yLmFjdGl2aXR5RGV0ZWN0ZWQoKTtcbiAgICAkc2NvcGUuc2V0dGluZ3NPcGVuID0gZmFsc2U7XG4gICAgTmF2aWdhdGlvbk1hbmFnZXIuZ29CYWNrKCk7XG4gIH07XG5cbiAgJHNjb3BlLnJvdGF0ZVNjcmVlbiA9ICgpID0+IHtcbiAgICBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICRzY29wZS5zZXR0aW5nc09wZW4gPSBmYWxzZTtcbiAgICBDb21tYW5kRmxpcFNjcmVlbigpO1xuICB9O1xuXG4gICRzY29wZS5vcGVuQ2FydCA9ICgpID0+IHtcbiAgICBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICRzY29wZS5zZXR0aW5nc09wZW4gPSBmYWxzZTtcbiAgICBDYXJ0TW9kZWwuaXNDYXJ0T3BlbiA9ICFDYXJ0TW9kZWwuaXNDYXJ0T3BlbjtcbiAgfTtcblxuICAkc2NvcGUuc2VhdE5hbWUgPSBMb2NhdGlvbk1vZGVsLnNlYXQgPyBMb2NhdGlvbk1vZGVsLnNlYXQubmFtZSA6ICdUYWJsZSc7XG4gIExvY2F0aW9uTW9kZWwuc2VhdENoYW5nZWQuYWRkKHZhbHVlID0+ICR0aW1lb3V0KCgpID0+ICRzY29wZS5zZWF0TmFtZSA9IHZhbHVlID8gdmFsdWUubmFtZSA6ICdUYWJsZScpKTtcblxuICAkc2NvcGUucmVzZXRUYWJsZSA9ICgpID0+IHtcbiAgICBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICRzY29wZS5zZXR0aW5nc09wZW4gPSBmYWxzZTtcbiAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oQUxFUlRfVEFCTEVfUkVTRVQpLnRoZW4oKCkgPT4ge1xuICAgICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcbiAgICAgIENvbW1hbmRDbG9zZVRhYmxlKCkudGhlbigoKSA9PiBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpKTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUubWVudU9wZW4gPSBmYWxzZTtcblxuICAkc2NvcGUudG9nZ2xlTWVudSA9ICgpID0+IHtcbiAgICBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICRzY29wZS5tZW51T3BlbiA9ICEkc2NvcGUubWVudU9wZW47XG5cbiAgICBpZiAoJHNjb3BlLmN1cnJlbnRBZHZlcnRpc2VtZW50ICYmICRzY29wZS5tZW51T3Blbikge1xuICAgICAgQW5hbHl0aWNzTW9kZWwubG9nQWR2ZXJ0aXNlbWVudCh7XG4gICAgICAgIHRva2VuOiAkc2NvcGUuY3VycmVudEFkdmVydGlzZW1lbnQudG9rZW4sXG4gICAgICAgIHR5cGU6ICdpbXByZXNzaW9uJ1xuICAgICAgfSk7XG4gICAgICAkc2NvcGUuY3VycmVudEFkdmVydGlzZW1lbnQgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuc2V0dGluZ3NPcGVuID0gZmFsc2U7XG5cbiAgJHNjb3BlLnRvZ2dsZVNldHRpbmdzID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgJHNjb3BlLnNldHRpbmdzT3BlbiA9ICEkc2NvcGUuc2V0dGluZ3NPcGVuO1xuICB9O1xuXG4gICRzY29wZS5lbGVtZW50cyA9IFNoZWxsTWFuYWdlci5tb2RlbC5lbGVtZW50cztcbiAgU2hlbGxNYW5hZ2VyLm1vZGVsLmVsZW1lbnRzQ2hhbmdlZC5hZGQodmFsdWUgPT4ge1xuICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS5lbGVtZW50cyA9IHZhbHVlKTtcbiAgfSk7XG5cbiAgJHNjb3BlLmNhcnRDb3VudCA9IE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNhcnQubGVuZ3RoO1xuICBPcmRlck1hbmFnZXIubW9kZWwub3JkZXJDYXJ0Q2hhbmdlZC5hZGQoY2FydCA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLmNhcnRDb3VudCA9IGNhcnQubGVuZ3RoKTtcbiAgfSk7XG5cbiAgJHNjb3BlLmNoZWNrb3V0RW5hYmxlZCA9IEN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0VuYWJsZWQ7XG5cbiAgJHNjb3BlLnRvdGFsT3JkZXIgPSBPcmRlck1hbmFnZXIubW9kZWwub3JkZXJDaGVjaztcbiAgT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2hlY2tDaGFuZ2VkLmFkZCh2YWx1ZSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4gJHNjb3BlLnRvdGFsT3JkZXIgPSB2YWx1ZSk7XG4gIH0pO1xuXG4gICRzY29wZS5yZXF1ZXN0QXNzaXN0YW5jZSA9ICgpID0+IHtcbiAgICBpZiAoISRzY29wZS5yZXF1ZXN0QXNzaXN0YW5jZUF2YWlsYWJsZSl7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQWN0aXZpdHlNb25pdG9yLmFjdGl2aXR5RGV0ZWN0ZWQoKTtcbiAgICAkc2NvcGUuc2V0dGluZ3NPcGVuID0gZmFsc2U7XG5cbiAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oQUxFUlRfVEFCTEVfQVNTSVNUQU5DRSkudGhlbigoKSA9PiB7XG4gICAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgICBPcmRlck1hbmFnZXIucmVxdWVzdEFzc2lzdGFuY2UoKS50aGVuKCgpID0+IHtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX0FTU0lTVEFOQ0VfU0VOVCk7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHJlZnJlc2hBc3Npc3RhbmNlUmVxdWVzdCA9ICgpID0+IHtcbiAgICAkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2VBdmFpbGFibGUgPSAhQm9vbGVhbihPcmRlck1hbmFnZXIubW9kZWwuYXNzaXN0YW5jZVJlcXVlc3QpO1xuICB9O1xuICBPcmRlck1hbmFnZXIubW9kZWwuYXNzaXN0YW5jZVJlcXVlc3RDaGFuZ2VkLmFkZChyZWZyZXNoQXNzaXN0YW5jZVJlcXVlc3QpO1xuICByZWZyZXNoQXNzaXN0YW5jZVJlcXVlc3QoKTtcblxuICAkc2NvcGUuc3VibWl0T3JkZXIgPSAoKSA9PiB7XG4gICAgQWN0aXZpdHlNb25pdG9yLmFjdGl2aXR5RGV0ZWN0ZWQoKTtcbiAgICAkc2NvcGUuc2V0dGluZ3NPcGVuID0gZmFsc2U7XG5cbiAgICBDb21tYW5kU3VibWl0T3JkZXIoKTtcbiAgfTtcblxuICAkc2NvcGUudmlld09yZGVyID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgJHNjb3BlLnNldHRpbmdzT3BlbiA9IGZhbHNlO1xuXG4gICAgaWYgKEN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0VuYWJsZWQgJiYgIUN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfU0lHTklOX1JFUVVJUkVEKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBDYXJ0TW9kZWwuY2FydFN0YXRlID0gQ2FydE1vZGVsLlNUQVRFX0NBUlQ7XG4gICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSB0cnVlO1xuICB9O1xuXG4gICRzY29wZS5wYXlCaWxsID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgJHNjb3BlLnNldHRpbmdzT3BlbiA9IGZhbHNlO1xuXG4gICAgaWYgKEN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0VuYWJsZWQgJiYgIUN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfU0lHTklOX1JFUVVJUkVEKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBDYXJ0TW9kZWwuY2FydFN0YXRlID0gQ2FydE1vZGVsLlNUQVRFX0hJU1RPUlk7XG4gICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSB0cnVlO1xuICB9O1xuXG4gICRzY29wZS5jdXN0b21lck5hbWUgPSBDdXN0b21lck1hbmFnZXIuY3VzdG9tZXJOYW1lIHx8ICdHdWVzdCc7XG4gIEN1c3RvbWVyTWFuYWdlci5tb2RlbC5wcm9maWxlQ2hhbmdlZC5hZGQoKCkgPT4ge1xuICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS5jdXN0b21lck5hbWUgPSBDdXN0b21lck1hbmFnZXIuY3VzdG9tZXJOYW1lIHx8ICdHdWVzdCcpO1xuICB9KTtcblxuICAkc2NvcGUuc2V0dGluZ3MgPSB7XG4gICAgZGlzcGxheUJyaWdodG5lc3M6IDEwMCxcbiAgICBzb3VuZFZvbHVtZTogMTAwXG4gIH07XG5cbiAgaWYgKCRzY29wZS5zaG93Vm9sdW1lKSB7XG4gICAgTWFuYWdlbWVudFNlcnZpY2UuZ2V0U291bmRWb2x1bWUoKS50aGVuKFxuICAgICAgdmFsdWUgPT4gJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAkc2NvcGUuc2V0dGluZ3Muc291bmRWb2x1bWUgPSB2YWx1ZTtcblxuICAgICAgICAkc2NvcGUuJHdhdGNoKCdzZXR0aW5ncy5zb3VuZFZvbHVtZScsICh2YWx1ZSwgb2xkKSA9PiB7XG4gICAgICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA9PT0gb2xkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFsdWUgPSBwYXJzZUludCh2YWx1ZSk7XG5cbiAgICAgICAgICBBY3Rpdml0eU1vbml0b3IuYWN0aXZpdHlEZXRlY3RlZCgpO1xuICAgICAgICAgIE1hbmFnZW1lbnRTZXJ2aWNlLnNldFNvdW5kVm9sdW1lKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KSxcbiAgICAgIGUgPT4geyB9XG4gICAgKTtcbiAgfVxuXG4gIGlmICgkc2NvcGUuc2hvd0JyaWdodG5lc3MpIHtcbiAgICBNYW5hZ2VtZW50U2VydmljZS5nZXREaXNwbGF5QnJpZ2h0bmVzcygpLnRoZW4oXG4gICAgICB2YWx1ZSA9PiAkdGltZW91dCgoKSA9PiB7XG4gICAgICAgICRzY29wZS5zZXR0aW5ncy5kaXNwbGF5QnJpZ2h0bmVzcyA9IHZhbHVlO1xuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ3NldHRpbmdzLmRpc3BsYXlCcmlnaHRuZXNzJywgKHZhbHVlLCBvbGQpID0+IHtcbiAgICAgICAgICBpZiAoIXZhbHVlIHx8IHZhbHVlID09PSBvbGQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YWx1ZSA9IHBhcnNlSW50KHZhbHVlKTtcblxuICAgICAgICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgICAgICAgTWFuYWdlbWVudFNlcnZpY2Uuc2V0RGlzcGxheUJyaWdodG5lc3ModmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pLFxuICAgICAgZSA9PiB7IH1cbiAgICApO1xuICB9XG5cbiAgJHNjb3BlLm5hdmlnYXRlID0gZGVzdGluYXRpb24gPT4gTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSBkZXN0aW5hdGlvbjtcblxuICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbkNoYW5naW5nLmFkZChsb2NhdGlvbiA9PiB7XG4gICAgJHNjb3BlLnZpc2libGUgPSBsb2NhdGlvbi50eXBlICE9PSAnc2lnbmluJztcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuJGFwcGx5KCkpO1xuICB9KTtcblxuICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbkNoYW5nZWQuYWRkKGxvY2F0aW9uID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAobG9jYXRpb24udHlwZSAhPT0gJ2NhdGVnb3J5JyAmJiBsb2NhdGlvbi50eXBlICE9PSAnaXRlbScpIHtcbiAgICAgICAgJHNjb3BlLm1lbnVzLmZvckVhY2gobWVudSA9PiB7XG4gICAgICAgICAgbWVudS5zZWxlY3RlZCA9IChsb2NhdGlvbi50eXBlID09PSAnbWVudScgJiYgbWVudS50b2tlbiA9PT0gbG9jYXRpb24udG9rZW4pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgJHNjb3BlLm1lbnVPcGVuID0gZmFsc2U7XG4gICAgICAkc2NvcGUuc2V0dGluZ3NPcGVuID0gZmFsc2U7XG4gICAgfSk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9ob21lLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdIb21lQmFzZUN0cmwnLCBbJyRzY29wZScsICckdGltZW91dCcsICdEYXRhTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsIGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQsIERhdGFNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlcikge1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignSG9tZUN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdDaGF0TWFuYWdlcicsICdEYXRhTW9kZWwnLCAnU2hlbGxNYW5hZ2VyJywgJ0N1c3RvbWVyTWFuYWdlcicsICdPcmRlck1hbmFnZXInLCAnRGlhbG9nTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdMb2NhdGlvbk1vZGVsJywgJ1N1cnZleU1hbmFnZXInLCAnU05BUExvY2F0aW9uJywgJ1NOQVBFbnZpcm9ubWVudCcsICdDb21tYW5kQ2xvc2VUYWJsZScsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBDaGF0TWFuYWdlciwgRGF0YU1vZGVsLCBTaGVsbE1hbmFnZXIsIEN1c3RvbWVyTWFuYWdlciwgT3JkZXJNYW5hZ2VyLCBEaWFsb2dNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgTG9jYXRpb25Nb2RlbCwgU3VydmV5TWFuYWdlciwgU05BUExvY2F0aW9uLCBTTkFQRW52aXJvbm1lbnQsIENvbW1hbmRDbG9zZVRhYmxlKSA9PiB7XG5cbiAgdmFyIEhvbWVNZW51ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gWyBSZWFjdC5ET00udGQoeyBrZXk6IC0xIH0pIF07XG5cbiAgICAgIHZhciByb3dzID0gdGhpcy5wcm9wcy50aWxlcy5tYXAoKHRpbGUsIGkpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBSZWFjdC5ET00udGQoe1xuICAgICAgICAgICAgY2xhc3NOYW1lOiAnaG9tZS1tZW51LWl0ZW0nLFxuICAgICAgICAgICAga2V5OiBpXG4gICAgICAgICAgfSwgUmVhY3QuRE9NLmEoe1xuICAgICAgICAgICAgb25DbGljazogZSA9PiB7XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB0aWxlLmRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgICBSZWFjdC5ET00uaW1nKHtcbiAgICAgICAgICAgICAgc3JjOiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwodGlsZS5pbWFnZSwgMTYwLCAxNjApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICkpXG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChyb3dzKTtcbiAgICAgIHJlc3VsdC5wdXNoKFJlYWN0LkRPTS50ZCh7IGtleTogcmVzdWx0Lmxlbmd0aCB9KSk7XG5cbiAgICAgIHJldHVybiBSZWFjdC5ET00udGFibGUobnVsbCwgcmVzdWx0KTtcbiAgICB9XG4gIH0pO1xuXG4gIERhdGFNb2RlbC5ob21lKCkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0aWxlcyA9IFtdO1xuXG4gICAgcmVzcG9uc2UubWVudXNcbiAgICAuZmlsdGVyKG1lbnUgPT4gU05BUEVudmlyb25tZW50LnBsYXRmb3JtID09PSAnZGVza3RvcCcgfHwgbWVudS50eXBlICE9PSAzKVxuICAgIC5yZWR1Y2UoKHRpbGVzLCBtZW51KSA9PiB7XG4gICAgICBpZiAobWVudS5wcm9tb3MgJiYgbWVudS5wcm9tb3MubGVuZ3RoID4gMCkge1xuICAgICAgICBtZW51LnByb21vc1xuICAgICAgICAuZmlsdGVyKHByb21vID0+IFNOQVBFbnZpcm9ubWVudC5wbGF0Zm9ybSA9PT0gJ2Rlc2t0b3AnIHx8IHByb21vLnR5cGUgIT09IDMpXG4gICAgICAgIC5mb3JFYWNoKHByb21vID0+IHtcbiAgICAgICAgICB0aWxlcy5wdXNoKHtcbiAgICAgICAgICAgIHRpdGxlOiBwcm9tby50aXRsZSxcbiAgICAgICAgICAgIGltYWdlOiBwcm9tby5pbWFnZSxcbiAgICAgICAgICAgIHVybDogJyMnICsgTmF2aWdhdGlvbk1hbmFnZXIuZ2V0UGF0aChwcm9tby5kZXN0aW5hdGlvbiksXG4gICAgICAgICAgICBkZXN0aW5hdGlvbjogcHJvbW8uZGVzdGluYXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbGV0IGRlc3RpbmF0aW9uID0ge1xuICAgICAgICAgIHR5cGU6ICdtZW51JyxcbiAgICAgICAgICB0b2tlbjogbWVudS50b2tlblxuICAgICAgICB9O1xuXG4gICAgICAgIHRpbGVzLnB1c2goe1xuICAgICAgICAgIHRpdGxlOiBtZW51LnRpdGxlLFxuICAgICAgICAgIGltYWdlOiBtZW51LmltYWdlLFxuICAgICAgICAgIHVybDogJyMnICsgTmF2aWdhdGlvbk1hbmFnZXIuZ2V0UGF0aChkZXN0aW5hdGlvbiksXG4gICAgICAgICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGlsZXM7XG4gICAgfSwgdGlsZXMpO1xuXG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgUmVhY3QucmVuZGVyKFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEhvbWVNZW51LCB7IHRpbGVzOiB0aWxlcyB9KSxcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hvbWUtbWVudS1tYWluJylcbiAgICAgICk7XG4gICAgfSwgMTAwMCk7XG4gIH0pO1xuXG4gIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uQ2hhbmdpbmcuYWRkKGxvY2F0aW9uID0+IHtcbiAgICAkc2NvcGUudmlzaWJsZSA9IGxvY2F0aW9uLnR5cGUgPT09ICdob21lJztcbiAgICAkdGltZW91dCgoKSA9PiB7ICRzY29wZS4kYXBwbHkoKTsgfSk7XG4gIH0pO1xuXG4gICRzY29wZS5wcmVsb2FkID0gZGVzdGluYXRpb24gPT4ge1xuICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0gZGVzdGluYXRpb247XG4gIH07XG5cbiAgJHNjb3BlLmdldE1lZGlhVXJsID0gKG1lZGlhLCB3aWR0aCwgaGVpZ2h0LCBleHRlbnNpb24pID0+IFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKTtcbiAgJHNjb3BlLnByZWRpY2F0ZUV2ZW4gPSBTaGVsbE1hbmFnZXIucHJlZGljYXRlRXZlbjtcbiAgJHNjb3BlLnByZWRpY2F0ZU9kZCA9IFNoZWxsTWFuYWdlci5wcmVkaWNhdGVPZGQ7XG5cbiAgJHNjb3BlLnNlYXRfbmFtZSA9IExvY2F0aW9uTW9kZWwuc2VhdCA/IExvY2F0aW9uTW9kZWwuc2VhdC5uYW1lIDogJ1RhYmxlJztcbiAgTG9jYXRpb25Nb2RlbC5zZWF0Q2hhbmdlZC5hZGQodmFsdWUgPT4ge1xuICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICRzY29wZS5zZWF0X25hbWUgPSB2YWx1ZSA/IHZhbHVlLm5hbWUgOiAnVGFibGUnO1xuICAgIH0pO1xuICB9KTtcblxuICAkc2NvcGUuY3VzdG9tZXJfbmFtZSA9IEN1c3RvbWVyTWFuYWdlci5jdXN0b21lck5hbWU7XG4gIEN1c3RvbWVyTWFuYWdlci5tb2RlbC5wcm9maWxlQ2hhbmdlZC5hZGQoKCkgPT4ge1xuICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS5jdXN0b21lcl9uYW1lID0gQ3VzdG9tZXJNYW5hZ2VyLmN1c3RvbWVyTmFtZSk7XG4gIH0pO1xuXG4gICRzY29wZS5lbGVtZW50cyA9IFNoZWxsTWFuYWdlci5tb2RlbC5lbGVtZW50cztcbiAgU2hlbGxNYW5hZ2VyLm1vZGVsLmVsZW1lbnRzQ2hhbmdlZC5hZGQodmFsdWUgPT4ge1xuICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS5lbGVtZW50cyA9IHZhbHVlKTtcbiAgfSk7XG5cbiAgdmFyIHJlZnJlc2hBc3Npc3RhbmNlUmVxdWVzdCA9ICgpID0+IHtcbiAgICAkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2VBdmFpbGFibGUgPSAhQm9vbGVhbihPcmRlck1hbmFnZXIubW9kZWwuYXNzaXN0YW5jZVJlcXVlc3QpO1xuICB9O1xuICB2YXIgcmVmcmVzaENsb3Nlb3V0UmVxdWVzdCA9ICgpID0+IHtcbiAgICAkc2NvcGUucmVxdWVzdENsb3Nlb3V0QXZhaWxhYmxlID0gIUJvb2xlYW4oT3JkZXJNYW5hZ2VyLm1vZGVsLmNsb3Nlb3V0UmVxdWVzdCk7XG4gIH07XG4gIHZhciByZWZyZXNoU3VydmV5ID0gKCkgPT4ge1xuICAgICRzY29wZS5zdXJ2ZXlBdmFpbGFibGUgPSBTdXJ2ZXlNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZCAmJiBTdXJ2ZXlNYW5hZ2VyLm1vZGVsLmZlZWRiYWNrU3VydmV5ICYmICFTdXJ2ZXlNYW5hZ2VyLm1vZGVsLmZlZWRiYWNrU3VydmV5Q29tcGxldGU7XG4gIH07XG4gIE9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdENoYW5nZWQuYWRkKHJlZnJlc2hBc3Npc3RhbmNlUmVxdWVzdCk7XG4gIE9yZGVyTWFuYWdlci5tb2RlbC5jbG9zZW91dFJlcXVlc3RDaGFuZ2VkLmFkZChyZWZyZXNoQ2xvc2VvdXRSZXF1ZXN0KTtcbiAgU3VydmV5TWFuYWdlci5tb2RlbC5mZWVkYmFja1N1cnZleUNoYW5nZWQuYWRkKHJlZnJlc2hTdXJ2ZXkpO1xuICBTdXJ2ZXlNYW5hZ2VyLm1vZGVsLnN1cnZleUNvbXBsZXRlZC5hZGQocmVmcmVzaFN1cnZleSk7XG4gIHJlZnJlc2hBc3Npc3RhbmNlUmVxdWVzdCgpO1xuICByZWZyZXNoQ2xvc2VvdXRSZXF1ZXN0KCk7XG4gIHJlZnJlc2hTdXJ2ZXkoKTtcblxuICAkc2NvcGUuY2hhdEF2YWlsYWJsZSA9IEJvb2xlYW4oU05BUExvY2F0aW9uLmNoYXQpO1xuXG4gICRzY29wZS5yZXF1ZXN0QXNzaXN0YW5jZSA9ICgpID0+IHtcbiAgICBpZiAoISRzY29wZS5yZXF1ZXN0QXNzaXN0YW5jZUF2YWlsYWJsZSl7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgRGlhbG9nTWFuYWdlci5jb25maXJtKEFMRVJUX1RBQkxFX0FTU0lTVEFOQ0UpLnRoZW4oKCkgPT4ge1xuICAgICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcblxuICAgICAgT3JkZXJNYW5hZ2VyLnJlcXVlc3RBc3Npc3RhbmNlKCkudGhlbigoKSA9PiB7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9BU1NJU1RBTkNFX1NFTlQpO1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5yZXF1ZXN0Q2xvc2VvdXQgPSAoKSA9PiB7XG4gICAgaWYgKCEkc2NvcGUucmVxdWVzdENsb3Nlb3V0QXZhaWxhYmxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgRGlhbG9nTWFuYWdlci5jb25maXJtKEFMRVJUX1RBQkxFX0NMT1NFT1VUKS50aGVuKCgpID0+IHtcbiAgICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICAgIE9yZGVyTWFuYWdlci5yZXF1ZXN0Q2xvc2VvdXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX0NMT1NFT1VUX1NFTlQpO1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5vcGVuU3VydmV5ID0gKCkgPT4ge1xuICAgIGlmICghJHNjb3BlLnN1cnZleUF2YWlsYWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnc3VydmV5JyB9O1xuICB9O1xuXG4gICRzY29wZS5zZWF0Q2xpY2tlZCA9ICgpID0+IHtcbiAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oQUxFUlRfVEFCTEVfUkVTRVQpLnRoZW4oKCkgPT4ge1xuICAgICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcbiAgICAgIENvbW1hbmRDbG9zZVRhYmxlKCkudGhlbigoKSA9PiBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpKTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUuY3VzdG9tZXJDbGlja2VkID0gKCkgPT4ge1xuICAgIGlmICghQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChDdXN0b21lck1hbmFnZXIubW9kZWwuaXNBdXRoZW50aWNhdGVkICYmICFDdXN0b21lck1hbmFnZXIubW9kZWwuaXNHdWVzdCkge1xuICAgICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdhY2NvdW50JyB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfU0lHTklOX1JFUVVJUkVEKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLm9wZW5DaGF0ID0gKCkgPT4ge1xuICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnY2hhdCcgfTtcbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvaXRlbS5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignSXRlbUJhc2VDdHJsJyxcbiAgWyckc2NvcGUnLCAoJHNjb3BlKSA9PiB7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdJdGVtQ3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0FuYWx5dGljc01vZGVsJywgJ0N1c3RvbWVyTW9kZWwnLCAnRGF0YU1hbmFnZXInLCAnRGlhbG9nTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdPcmRlck1hbmFnZXInLCAnQ2FydE1vZGVsJywgJ0xvY2F0aW9uTW9kZWwnLCAnU2hlbGxNYW5hZ2VyJywgJ1NOQVBFbnZpcm9ubWVudCcsICdDaGF0TWFuYWdlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBBbmFseXRpY3NNb2RlbCwgQ3VzdG9tZXJNb2RlbCwgRGF0YU1hbmFnZXIsIERpYWxvZ01hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyLCBPcmRlck1hbmFnZXIsIENhcnRNb2RlbCwgTG9jYXRpb25Nb2RlbCwgU2hlbGxNYW5hZ2VyLCBTTkFQRW52aXJvbm1lbnQsIENoYXRNYW5hZ2VyKSA9PiB7XG5cbiAgdmFyIEl0ZW1JbWFnZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFJlYWN0LkRPTS5pbWcoe1xuICAgICAgICBzcmM6IFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybCh0aGlzLnByb3BzLm1lZGlhLCA2MDAsIDYwMClcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2luZy5hZGQobG9jYXRpb24gPT4ge1xuICAgIERhdGFNYW5hZ2VyLml0ZW0gPSBsb2NhdGlvbi50eXBlID09PSAnaXRlbScgPyBsb2NhdGlvbi50b2tlbiA6IHVuZGVmaW5lZDtcbiAgICAkc2NvcGUudmlzaWJsZSA9IEJvb2xlYW4oRGF0YU1hbmFnZXIuaXRlbSk7XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7ICRzY29wZS4kYXBwbHkoKTsgfSk7XG4gIH0pO1xuXG4gIERhdGFNYW5hZ2VyLml0ZW1DaGFuZ2VkLmFkZChyZXNwb25zZSA9PiB7XG4gICAgaWYgKCFyZXNwb25zZSAmJiAoJHNjb3BlLndlYnNpdGVVcmwgfHwgJHNjb3BlLmZsYXNoVXJsKSkge1xuICAgICAgV2ViQnJvd3Nlci5jbG9zZSgpO1xuICAgIH1cblxuICAgICRzY29wZS53ZWJzaXRlVXJsID0gbnVsbDtcbiAgICAkc2NvcGUuZmxhc2hVcmwgPSBudWxsO1xuXG4gICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgJHNjb3BlLmVudHJ5ID0gbnVsbDtcblxuICAgICAgaWYgKCRzY29wZS50eXBlID09PSAxKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpdGVtLXBob3RvJykuaW5uZXJIVE1MID0gJyc7XG4gICAgICB9XG5cbiAgICAgICRzY29wZS50eXBlID0gMTtcbiAgICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS4kYXBwbHkoKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHR5cGUgPSByZXNwb25zZS50eXBlO1xuXG4gICAgaWYgKHR5cGUgPT09IDIgJiYgcmVzcG9uc2Uud2Vic2l0ZSkge1xuICAgICAgJHNjb3BlLndlYnNpdGVVcmwgPSByZXNwb25zZS53ZWJzaXRlLnVybDtcbiAgICAgIFdlYkJyb3dzZXIub3Blbigkc2NvcGUud2Vic2l0ZVVybCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09IDMgJiYgcmVzcG9uc2UuZmxhc2gpIHtcbiAgICAgIGxldCB1cmwgPSBXZWJCcm93c2VyLmdldEZsYXNoVXJsKHJlc3BvbnNlLmZsYXNoLm1lZGlhLnRva2VuLCByZXNwb25zZS5mbGFzaC53aWR0aCwgcmVzcG9uc2UuZmxhc2guaGVpZ2h0KTtcbiAgICAgICRzY29wZS5mbGFzaFVybCA9IHVybDtcbiAgICAgIFdlYkJyb3dzZXIub3Blbigkc2NvcGUuZmxhc2hVcmwpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSAxKSB7XG4gICAgICAkc2NvcGUuZW50cnkgPSBuZXcgYXBwLkNhcnRJdGVtKHJlc3BvbnNlLCAxKTtcblxuICAgICAgUmVhY3QucmVuZGVyKFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEl0ZW1JbWFnZSwgeyBtZWRpYTogJHNjb3BlLmVudHJ5Lml0ZW0uaW1hZ2UgfSksXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpdGVtLXBob3RvJylcbiAgICAgICk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnR5cGUgPSB0eXBlO1xuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkgeyAkc2NvcGUuJGFwcGx5KCk7IH0pO1xuICB9KTtcblxuICAkc2NvcGUuZ2V0TWVkaWFVcmwgPSAobWVkaWEsIHdpZHRoLCBoZWlnaHQsIGV4dGVuc2lvbikgPT4gU2hlbGxNYW5hZ2VyLmdldE1lZGlhVXJsKG1lZGlhLCB3aWR0aCwgaGVpZ2h0LCBleHRlbnNpb24pO1xuICAkc2NvcGUuZm9ybWF0UHJpY2UgPSB2YWx1ZSA9PiB2YWx1ZSA/IFNoZWxsTWFuYWdlci5mb3JtYXRQcmljZSh2YWx1ZSkgOiAwO1xuXG4gICRzY29wZS5hZGRUb0NhcnQgPSAoKSA9PiB7XG4gICAgaWYgKEN1c3RvbWVyTW9kZWwuaXNFbmFibGVkICYmICFDdXN0b21lck1vZGVsLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9TSUdOSU5fUkVRVUlSRUQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBlbnRyeSA9ICRzY29wZS5lbnRyeTtcblxuICAgIGlmIChlbnRyeS5oYXNNb2RpZmllcnMpIHtcbiAgICAgIENhcnRNb2RlbC5vcGVuRWRpdG9yKGVudHJ5LCB0cnVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBPcmRlck1hbmFnZXIuYWRkVG9DYXJ0KGVudHJ5KTtcbiAgICAgIENhcnRNb2RlbC5pc0NhcnRPcGVuID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5nb0JhY2soKTtcbiAgfTtcblxuICAkc2NvcGUuY2FuY2VsR2lmdCA9ICgpID0+IENoYXRNYW5hZ2VyLmNhbmNlbEdpZnQoKTtcblxuICAkc2NvcGUuZ2lmdFNlYXQgPSBMb2NhdGlvbk1vZGVsLmdldFNlYXQoQ2hhdE1hbmFnZXIubW9kZWwuZ2lmdFNlYXQpO1xuICBDaGF0TWFuYWdlci5tb2RlbC5naWZ0U2VhdENoYW5nZWQuYWRkKHRva2VuID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuZ2lmdFNlYXQgPSBMb2NhdGlvbk1vZGVsLmdldFNlYXQodG9rZW4pKTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL2l0ZW1lZGl0LmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdJdGVtRWRpdEN0cmwnLFxuICBbJyRzY29wZScsICdTaGVsbE1hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnT3JkZXJNYW5hZ2VyJywgJ0NhcnRNb2RlbCcsXG4gICgkc2NvcGUsIFNoZWxsTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIE9yZGVyTWFuYWdlciwgQ2FydE1vZGVsKSA9PiB7XG5cbiAgJHNjb3BlLmdldE1lZGlhVXJsID0gKG1lZGlhLCB3aWR0aCwgaGVpZ2h0LCBleHRlbnNpb24pID0+IFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKTtcbiAgJHNjb3BlLmZvcm1hdFByaWNlID0gdmFsdWUgPT4gU2hlbGxNYW5hZ2VyLmZvcm1hdFByaWNlKHZhbHVlKTtcblxuICB2YXIgY3VycmVudEluZGV4ID0gLTE7XG5cbiAgdmFyIHJlZnJlc2hOYXZpZ2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCRzY29wZS5lbnRyeSAmJiAkc2NvcGUuZW50cnkuaGFzTW9kaWZpZXJzKSB7XG4gICAgICAkc2NvcGUuaGFzTmV4dENhdGVnb3J5ID0gJHNjb3BlLmVudHJ5Lm1vZGlmaWVycy5sZW5ndGggPiAxICYmXG4gICAgICAgIGN1cnJlbnRJbmRleCA8ICRzY29wZS5lbnRyeS5tb2RpZmllcnMubGVuZ3RoIC0gMTtcbiAgICAgICRzY29wZS5oYXNQcmV2aW91c0NhdGVnb3J5ID0gY3VycmVudEluZGV4ID4gMDtcbiAgICAgICRzY29wZS5jYXRlZ29yeSA9ICRzY29wZS5lbnRyeS5tb2RpZmllcnNbY3VycmVudEluZGV4XTtcbiAgICAgICRzY29wZS5jYW5FeGl0ID0gQ2FydE1vZGVsLmVkaXRhYmxlSXRlbU5ldztcbiAgICAgICRzY29wZS5jYW5Eb25lID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2luZy5hZGQoZnVuY3Rpb24obG9jYXRpb24pIHtcbiAgICBpZiAobG9jYXRpb24udHlwZSAhPT0gJ21lbnUnICYmIGxvY2F0aW9uLnR5cGUgIT09ICdjYXRlZ29yeScpIHtcbiAgICAgICRzY29wZS5leGl0KCk7XG4gICAgfVxuICB9KTtcblxuICBDYXJ0TW9kZWwuaXNDYXJ0T3BlbkNoYW5nZWQuYWRkKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICAkc2NvcGUuZXhpdCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGluaXQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICRzY29wZS5lbnRyeSA9IHZhbHVlO1xuICAgICRzY29wZS52aXNpYmxlID0gJHNjb3BlLmVudHJ5ICE9PSBudWxsO1xuXG4gICAgY3VycmVudEluZGV4ID0gMDtcblxuICAgIHJlZnJlc2hOYXZpZ2F0aW9uKCk7XG4gIH07XG5cbiAgaW5pdChDYXJ0TW9kZWwuZWRpdGFibGVJdGVtKTtcblxuICBDYXJ0TW9kZWwuZWRpdGFibGVJdGVtQ2hhbmdlZC5hZGQoZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpbml0KHZhbHVlKTtcbiAgfSk7XG5cbiAgJHNjb3BlLmdldE1vZGlmaWVyVGl0bGUgPSBmdW5jdGlvbihtb2RpZmllcikge1xuICAgIHJldHVybiBtb2RpZmllci5kYXRhLnRpdGxlICsgKG1vZGlmaWVyLmRhdGEucHJpY2UgPiAwID9cbiAgICAgICcgKCsnICsgU2hlbGxNYW5hZ2VyLmZvcm1hdFByaWNlKG1vZGlmaWVyLmRhdGEucHJpY2UpICsgJyknIDpcbiAgICAgICcnXG4gICAgKTtcbiAgfTtcblxuICAkc2NvcGUubGVmdEJ1dHRvbkNsaWNrID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgcmVzdWx0ID0gKGN1cnJlbnRJbmRleCA+IDApID8gKCRzY29wZS5wcmV2aW91c0NhdGVnb3J5KCkpIDogJHNjb3BlLmV4aXQoKTtcbiAgfTtcblxuICAkc2NvcGUubGVmdEJ1dHRvblRleHQgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiAoY3VycmVudEluZGV4ID4gMCkgPyAnQmFjaycgOiAnRXhpdCc7XG4gIH07XG5cbiAgJHNjb3BlLnJpZ2h0QnV0dG9uQ2xpY2sgPSBmdW5jdGlvbigpe1xuICAgIC8vTWFrZSBzdXJlIFBpY2sgMSBtb2RpZmllciBjYXRlZ29yaWVzIGhhdmUgbWV0IHRoZSBzZWxlY3Rpb24gY29uZGl0aW9uLlxuICAgIGlmKCRzY29wZS5lbnRyeS5tb2RpZmllcnNbY3VycmVudEluZGV4XS5kYXRhLnNlbGVjdGlvbiA9PT0gMSkge1xuICAgICAgdmFyIG51bVNlbGVjdGVkID0gMDtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuZW50cnkubW9kaWZpZXJzW2N1cnJlbnRJbmRleF0ubW9kaWZpZXJzLCBmdW5jdGlvbihtKSB7XG4gICAgICAgIGlmIChtLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICBudW1TZWxlY3RlZCsrO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYobnVtU2VsZWN0ZWQgIT09IDEpIHtcbiAgICAgICAgLy9UT0RPOiBBZGQgbW9kYWwgcG9wdXAuIE11c3QgbWFrZSAxIHNlbGVjdGlvbiFcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciByZXN1bHQgPSAoJHNjb3BlLmhhc05leHRDYXRlZ29yeSkgPyAkc2NvcGUubmV4dENhdGVnb3J5KCkgOiAkc2NvcGUuZG9uZSgpO1xuICB9O1xuXG4gICRzY29wZS5yaWdodEJ1dHRvblRleHQgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiAoJHNjb3BlLmhhc05leHRDYXRlZ29yeSkgPyAnTmV4dCcgOiAnRG9uZSc7XG4gIH07XG5cbiAgJHNjb3BlLnByZXZpb3VzQ2F0ZWdvcnkgPSBmdW5jdGlvbigpIHtcbiAgICBjdXJyZW50SW5kZXgtLTtcbiAgICByZWZyZXNoTmF2aWdhdGlvbigpO1xuICB9O1xuXG4gICRzY29wZS5uZXh0Q2F0ZWdvcnkgPSBmdW5jdGlvbigpIHtcbiAgICBjdXJyZW50SW5kZXgrKztcbiAgICByZWZyZXNoTmF2aWdhdGlvbigpO1xuICB9O1xuXG4gICRzY29wZS51cGRhdGVNb2RpZmllcnMgPSBmdW5jdGlvbihjYXRlZ29yeSwgbW9kaWZpZXIpIHtcbiAgICBtb2RpZmllci5pc1NlbGVjdGVkID0gIW1vZGlmaWVyLmlzU2VsZWN0ZWQ7XG5cbiAgICBpZiAobW9kaWZpZXIuaXNTZWxlY3RlZCAmJiBjYXRlZ29yeS5kYXRhLnNlbGVjdGlvbiA9PT0gMSkge1xuICAgICAgYW5ndWxhci5mb3JFYWNoKGNhdGVnb3J5Lm1vZGlmaWVycywgZnVuY3Rpb24obSkge1xuICAgICAgICBtLmlzU2VsZWN0ZWQgPSBtID09PSBtb2RpZmllcjtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuZG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChDYXJ0TW9kZWwuZWRpdGFibGVJdGVtTmV3KSB7XG4gICAgICBPcmRlck1hbmFnZXIuYWRkVG9DYXJ0KENhcnRNb2RlbC5lZGl0YWJsZUl0ZW0pO1xuICAgIH1cblxuICAgICRzY29wZS5leGl0KCk7XG4gICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSB0cnVlO1xuICB9O1xuXG4gICRzY29wZS5leGl0ID0gZnVuY3Rpb24oKSB7XG4gICAgQ2FydE1vZGVsLmNsb3NlRWRpdG9yKCk7XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL21haW5hdXguanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ01haW5BdXhDdHJsJywgWyckc2NvcGUnLCAnQ29tbWFuZFN0YXJ0dXAnLCBmdW5jdGlvbigkc2NvcGUsIENvbW1hbmRTdGFydHVwKSB7XG4gIENvbW1hbmRTdGFydHVwKCk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL21haW5zbmFwLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdNYWluU25hcEN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdDdXN0b21lck1hbmFnZXInLCAnQWN0aXZpdHlNb25pdG9yJywgJ0NoYXRNYW5hZ2VyJywgJ1NoZWxsTWFuYWdlcicsICdEYXRhTWFuYWdlcicsICdEaWFsb2dNYW5hZ2VyJywgJ09yZGVyTWFuYWdlcicsICdMb2NhdGlvbk1vZGVsJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ1NvZnR3YXJlTWFuYWdlcicsICdTTkFQTG9jYXRpb24nLCAnQ29tbWFuZFN0YXJ0dXAnLFxuICAoJHNjb3BlLCAkdGltZW91dCwgQ3VzdG9tZXJNYW5hZ2VyLCBBY3Rpdml0eU1vbml0b3IsIENoYXRNYW5hZ2VyLCBTaGVsbE1hbmFnZXIsIERhdGFNYW5hZ2VyLCBEaWFsb2dNYW5hZ2VyLCBPcmRlck1hbmFnZXIsIExvY2F0aW9uTW9kZWwsIE5hdmlnYXRpb25NYW5hZ2VyLCBTb2Z0d2FyZU1hbmFnZXIsIFNOQVBMb2NhdGlvbiwgQ29tbWFuZFN0YXJ0dXApID0+IHtcblxuICBDb21tYW5kU3RhcnR1cCgpO1xuXG4gICRzY29wZS50b3VjaCA9ICgpID0+IEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG5cbiAgT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyUmVxdWVzdENoYW5nZWQuYWRkKGl0ZW0gPT4ge1xuICAgIGlmICghaXRlbSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpdGVtLnByb21pc2UudGhlbigoKSA9PiBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfT1JERVJfUkVDRUlWRUQpKTtcbiAgfSk7XG5cbiAgT3JkZXJNYW5hZ2VyLm1vZGVsLmFzc2lzdGFuY2VSZXF1ZXN0Q2hhbmdlZC5hZGQoaXRlbSA9PiB7XG4gICAgaWYgKCFpdGVtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGl0ZW0ucHJvbWlzZS50aGVuKCgpID0+IERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9BU1NJU1RBTkNFX1JFQ0VJVkVEKSk7XG4gIH0pO1xuXG4gIE9yZGVyTWFuYWdlci5tb2RlbC5jbG9zZW91dFJlcXVlc3RDaGFuZ2VkLmFkZChpdGVtID0+IHtcbiAgICBpZiAoIWl0ZW0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaXRlbS5wcm9taXNlLnRoZW4oKCkgPT4gRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX0NMT1NFT1VUX1JFQ0VJVkVEKSk7XG4gIH0pO1xuXG4gIENoYXRNYW5hZ2VyLm1vZGVsLmNoYXRSZXF1ZXN0UmVjZWl2ZWQuYWRkKHRva2VuID0+IHtcbiAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oQ2hhdE1hbmFnZXIuZ2V0RGV2aWNlTmFtZSh0b2tlbikgKyAnIHdvdWxkIGxpa2UgdG8gY2hhdCB3aXRoIHlvdS4nKS50aGVuKCgpID0+IHtcbiAgICAgIENoYXRNYW5hZ2VyLmFwcHJvdmVEZXZpY2UodG9rZW4pO1xuICAgICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdjaGF0JyB9O1xuICAgIH0sICgpID0+IENoYXRNYW5hZ2VyLmRlY2xpbmVEZXZpY2UodG9rZW4pKTtcbiAgfSk7XG5cbiAgQ2hhdE1hbmFnZXIubW9kZWwuZ2lmdFJlcXVlc3RSZWNlaXZlZC5hZGQoKHRva2VuLCBkZXNjcmlwdGlvbikgPT4ge1xuICAgIERpYWxvZ01hbmFnZXIuY29uZmlybShDaGF0TWFuYWdlci5nZXREZXZpY2VOYW1lKHRva2VuKSArICcgd291bGQgbGlrZSB0byBnaWZ0IHlvdSBhICcgKyBkZXNjcmlwdGlvbikudGhlbigoKSA9PiB7XG4gICAgICBDaGF0TWFuYWdlci5hY2NlcHRHaWZ0KHRva2VuKTtcbiAgICB9LCAoKSA9PiBDaGF0TWFuYWdlci5kZWNsaW5lR2lmdCh0b2tlbikpO1xuICB9KTtcblxuICBDaGF0TWFuYWdlci5tb2RlbC5tZXNzYWdlUmVjZWl2ZWQuYWRkKG1lc3NhZ2UgPT4ge1xuICAgIHZhciBkZXZpY2UgPSBMb2NhdGlvbk1vZGVsLmdldERldmljZShtZXNzYWdlLmRldmljZSk7XG5cbiAgICBpZiAoIWRldmljZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChtZXNzYWdlLnN0YXR1cyA9PT0gQ2hhdE1hbmFnZXIuTUVTU0FHRV9TVEFUVVNFUy5DSEFUX1JFUVVFU1RfREVDTElORUQpIHtcbiAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoJ0NoYXQgd2l0aCAnICsgQ2hhdE1hbmFnZXIuZ2V0RGV2aWNlTmFtZShkZXZpY2UudG9rZW4pICsgJyB3YXMgZGVjbGluZWQuICcgK1xuICAgICAgJ1RvIHN0b3AgcmVjaWV2aW5nIGNoYXQgcmVxdWVzdHMsIG9wZW4gdGhlIGNoYXQgc2NyZWVuIGFuZCB0b3VjaCB0aGUgXCJDaGF0IG9uL29mZlwiIGJ1dHRvbi4nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobWVzc2FnZS5zdGF0dXMgPT09IENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuQ0hBVF9SRVFVRVNUX0FDQ0VQVEVEKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KCdZb3VyIGNoYXQgcmVxdWVzdCB0byAnICsgQ2hhdE1hbmFnZXIuZ2V0RGV2aWNlTmFtZShkZXZpY2UudG9rZW4pICsgJyB3YXMgYWNjZXB0ZWQuJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1lc3NhZ2Uuc3RhdHVzID09PSBDaGF0TWFuYWdlci5NRVNTQUdFX1NUQVRVU0VTLkdJRlRfUkVRVUVTVF9BQ0NFUFRFRCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChDaGF0TWFuYWdlci5nZXREZXZpY2VOYW1lKGRldmljZS50b2tlbikgKyAnIGhhcyBhY2NlcHRlZCB5b3VyIGdpZnQuIFRoZSBpdGVtIHdpbGwgYmUgYWRkZWQgdG8geW91ciBjaGVjay4nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobWVzc2FnZS5zdGF0dXMgPT09IENoYXRNYW5hZ2VyLk1FU1NBR0VfU1RBVFVTRVMuR0lGVF9SRVFVRVNUX0RFQ0xJTkVEKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KENoYXRNYW5hZ2VyLmdldERldmljZU5hbWUoZGV2aWNlLnRva2VuKSArICcgaGFzIGRlY2xpbmVkIHlvdXIgZ2lmdC4gVGhlIGl0ZW0gd2lsbCBOT1QgYmUgYWRkZWQgdG8geW91ciBjaGVjay4nKTtcbiAgICB9XG5cbiAgICBpZiAoTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24udHlwZSA9PT0gJ2NoYXQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG1lc3NhZ2Uuc3RhdHVzID09PSBDaGF0TWFuYWdlci5NRVNTQUdFX1NUQVRVU0VTLkNIQVRfQ0xPU0VEKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLm5vdGlmaWNhdGlvbihDaGF0TWFuYWdlci5nZXREZXZpY2VOYW1lKGRldmljZS50b2tlbikgKyAnIGhhcyBjbG9zZWQgdGhlIGNoYXQnKTtcbiAgICB9XG4gICAgZWxzZSBpZighbWVzc2FnZS5zdGF0dXMgJiYgbWVzc2FnZS50b19kZXZpY2UpIHtcbiAgICAgIERpYWxvZ01hbmFnZXIubm90aWZpY2F0aW9uKCdOZXcgbWVzc2FnZSBmcm9tICcgKyBDaGF0TWFuYWdlci5nZXREZXZpY2VOYW1lKGRldmljZS50b2tlbikpO1xuICAgIH1cbiAgfSk7XG5cbiAgQ2hhdE1hbmFnZXIubW9kZWwuZ2lmdFJlYWR5LmFkZCgoKSA9PiB7XG4gICAgQ2hhdE1hbmFnZXIuc2VuZEdpZnQoT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2FydCk7XG4gICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdjaGF0JyB9O1xuICB9KTtcblxuICBDaGF0TWFuYWdlci5tb2RlbC5naWZ0QWNjZXB0ZWQuYWRkKHN0YXR1cyA9PiB7XG4gICAgaWYgKCFzdGF0dXMgfHwgIUNoYXRNYW5hZ2VyLm1vZGVsLmdpZnREZXZpY2UpIHtcbiAgICAgIENoYXRNYW5hZ2VyLm1vZGVsLmdpZnRTZWF0ID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgICBPcmRlck1hbmFnZXIuc3VibWl0Q2FydCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2NoYXQnIH07XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfUkVRVUVTVF9TVUJNSVRfRVJST1IpO1xuXG4gICAgICAgIENoYXRNYW5hZ2VyLmVuZEdpZnQoKTtcbiAgICAgICAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb24gPSB7IHR5cGU6ICdjaGF0JyB9O1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvbWVudS5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignTWVudUJhc2VDdHJsJywgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnRGF0YU1hbmFnZXInLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAoJHNjb3BlLCAkdGltZW91dCwgRGF0YU1hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyKSA9PiB7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdNZW51Q3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0RhdGFNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ1NoZWxsTWFuYWdlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBEYXRhTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIFNoZWxsTWFuYWdlcikgPT4ge1xuXG4gIHZhciBNZW51TGlzdCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHRpbGVDbGFzc05hbWUgPSBTaGVsbE1hbmFnZXIudGlsZVN0eWxlO1xuICAgICAgdmFyIHJvd3MgPSB0aGlzLnByb3BzLnRpbGVzLm1hcChmdW5jdGlvbih0aWxlLCBpKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgUmVhY3QuRE9NLnRkKHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogdGlsZUNsYXNzTmFtZSxcbiAgICAgICAgICAgIGtleTogaVxuICAgICAgICAgIH0sIFJlYWN0LkRPTS5hKHtcbiAgICAgICAgICAgIG9uQ2xpY2s6IGUgPT4ge1xuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0gdGlsZS5kZXN0aW5hdGlvbjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoJyArIFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybCh0aWxlLmltYWdlLCAzNzAsIDM3MCkgKyAnKSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgICAgUmVhY3QuRE9NLnNwYW4obnVsbCwgdGlsZS50aXRsZSlcbiAgICAgICAgICApKVxuICAgICAgICApO1xuICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGkpIHtcbiAgICAgICAgcmVzdWx0W2kgJSAyXS5wdXNoKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sIFtbXSwgW11dKVxuICAgICAgLm1hcChmdW5jdGlvbihyb3csIGkpIHtcbiAgICAgICAgcmV0dXJuIFJlYWN0LkRPTS50cih7IGtleTogaSB9LCByb3cpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBSZWFjdC5ET00udGFibGUoeyBjbGFzc05hbWU6ICd0aWxlLXRhYmxlJyB9LCByb3dzKTtcbiAgICB9XG4gIH0pO1xuXG4gIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uQ2hhbmdpbmcuYWRkKGZ1bmN0aW9uKGxvY2F0aW9uKSB7XG4gICAgRGF0YU1hbmFnZXIubWVudSA9IGxvY2F0aW9uLnR5cGUgPT09ICdtZW51JyA/IGxvY2F0aW9uLnRva2VuIDogdW5kZWZpbmVkO1xuICAgICRzY29wZS52aXNpYmxlID0gQm9vbGVhbihEYXRhTWFuYWdlci5tZW51KTtcbiAgICAkdGltZW91dChmdW5jdGlvbigpIHsgJHNjb3BlLiRhcHBseSgpOyB9KTtcbiAgfSk7XG5cbiAgRGF0YU1hbmFnZXIubWVudUNoYW5nZWQuYWRkKGZ1bmN0aW9uKG1lbnUpIHtcbiAgICBpZiAoIW1lbnUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBtZW51LmNhdGVnb3JpZXMuZm9yRWFjaCh0aWxlID0+IHtcbiAgICAgIHRpbGUudXJsID0gJyMnICsgTmF2aWdhdGlvbk1hbmFnZXIuZ2V0UGF0aCh0aWxlLmRlc3RpbmF0aW9uKTtcbiAgICB9KTtcblxuICAgIFJlYWN0LnJlbmRlcihcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVudUxpc3QsIHsgdGlsZXM6IG1lbnUuY2F0ZWdvcmllcyB9KSxcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50LW1lbnUnKVxuICAgICk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9uYXZpZ2F0aW9uLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdOYXZpZ2F0aW9uQ3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0FjdGl2aXR5TW9uaXRvcicsICdDdXN0b21lck1hbmFnZXInLCAnQW5hbHl0aWNzTW9kZWwnLCAnQ2FydE1vZGVsJywgJ1NoZWxsTWFuYWdlcicsICdEYXRhTWFuYWdlcicsICdEYXRhTW9kZWwnLCAnRGlhbG9nTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdPcmRlck1hbmFnZXInLCAnQ29tbWFuZENsb3NlVGFibGUnLCAnQ29tbWFuZEZsaXBTY3JlZW4nLCAnV2ViQnJvd3NlcicsICdTTkFQRW52aXJvbm1lbnQnLFxuICAoJHNjb3BlLCAkdGltZW91dCwgQWN0aXZpdHlNb25pdG9yLCBDdXN0b21lck1hbmFnZXIsIEFuYWx5dGljc01vZGVsLCBDYXJ0TW9kZWwsIFNoZWxsTWFuYWdlciwgRGF0YU1hbmFnZXIsIERhdGFNb2RlbCwgRGlhbG9nTWFuYWdlciwgTmF2aWdhdGlvbk1hbmFnZXIsIE9yZGVyTWFuYWdlciwgQ29tbWFuZENsb3NlVGFibGUsIENvbW1hbmRGbGlwU2NyZWVuLCBXZWJCcm93c2VyLCBTTkFQRW52aXJvbm1lbnQpID0+IHtcblxuICAkc2NvcGUubWVudXMgPSBbXTtcblxuICBEYXRhTW9kZWwuaG9tZSgpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgbG9jYXRpb24gPSBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbixcbiAgICAgICAgbGltaXQgPSBTTkFQRW52aXJvbm1lbnQucGxhdGZvcm0gPT09ICdkZXNrdG9wJyA/IDQgOiAzO1xuXG4gICAgJHNjb3BlLm1lbnVzID0gcmVzcG9uc2UubWVudXNcbiAgICAgIC5maWx0ZXIobWVudSA9PiBTTkFQRW52aXJvbm1lbnQucGxhdGZvcm0gPT09ICdkZXNrdG9wJyB8fCBtZW51LnR5cGUgIT09IDMpXG4gICAgICAuZmlsdGVyKChtZW51LCBpKSA9PiBpIDwgbGltaXQpXG4gICAgICAubWFwKG1lbnUgPT4ge1xuICAgICAgICBsZXQgZGVzdGluYXRpb24gPSB7XG4gICAgICAgICAgdHlwZTogJ21lbnUnLFxuICAgICAgICAgIHRva2VuOiBtZW51LnRva2VuXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdG9rZW46IG1lbnUudG9rZW4sXG4gICAgICAgICAgdGl0bGU6IG1lbnUudGl0bGUsXG4gICAgICAgICAgdXJsOiAnIycgKyBOYXZpZ2F0aW9uTWFuYWdlci5nZXRQYXRoKGRlc3RpbmF0aW9uKSxcbiAgICAgICAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgICAgICAgc2VsZWN0ZWQ6IGxvY2F0aW9uLnR5cGUgPT09ICdtZW51JyAmJiBtZW51LnRva2VuID09PSBsb2NhdGlvbi50b2tlblxuICAgICAgICB9O1xuICAgICAgfSk7XG4gIH0pO1xuXG4gICRzY29wZS5uYXZpZ2F0ZUhvbWUgPSAoKSA9PiB7XG4gICAgQWN0aXZpdHlNb25pdG9yLmFjdGl2aXR5RGV0ZWN0ZWQoKTtcblxuICAgIGlmIChDdXN0b21lck1hbmFnZXIubW9kZWwuaXNFbmFibGVkICYmICFDdXN0b21lck1hbmFnZXIubW9kZWwuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oQUxFUlRfVEFCTEVfUkVTRVQpLnRoZW4oKCkgPT4ge1xuICAgICAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuICAgICAgICBDb21tYW5kQ2xvc2VUYWJsZSgpLnRoZW4oKCkgPT4gRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2hvbWUnIH07XG4gICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSBmYWxzZTtcbiAgfTtcblxuICAkc2NvcGUubmF2aWdhdGVCYWNrID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG5cbiAgICBpZiAoQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZCAmJiAhQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9TSUdOSU5fUkVRVUlSRUQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIE5hdmlnYXRpb25NYW5hZ2VyLmdvQmFjaygpO1xuXG4gICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSBmYWxzZTtcbiAgfTtcblxuICAkc2NvcGUucm90YXRlU2NyZWVuID0gKCkgPT4ge1xuICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgQ29tbWFuZEZsaXBTY3JlZW4oKTtcbiAgfTtcblxuICAkc2NvcGUub3BlbkNhcnQgPSAoKSA9PiB7XG4gICAgQWN0aXZpdHlNb25pdG9yLmFjdGl2aXR5RGV0ZWN0ZWQoKTtcblxuICAgIGlmIChDdXN0b21lck1hbmFnZXIubW9kZWwuaXNFbmFibGVkICYmICFDdXN0b21lck1hbmFnZXIubW9kZWwuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1NJR05JTl9SRVFVSVJFRCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQ2FydE1vZGVsLmlzQ2FydE9wZW4gPSAhQ2FydE1vZGVsLmlzQ2FydE9wZW47XG4gIH07XG5cbiAgJHNjb3BlLm9wZW5TZXR0aW5ncyA9ICgpID0+IHtcbiAgICBEaWFsb2dNYW5hZ2VyLmNvbmZpcm0oQUxFUlRfVEFCTEVfUkVTRVQpLnRoZW4oKCkgPT4ge1xuICAgICAgdmFyIGpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcbiAgICAgIENvbW1hbmRDbG9zZVRhYmxlKCkudGhlbigoKSA9PiBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpKTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUubWVudU9wZW4gPSBmYWxzZTtcblxuICAkc2NvcGUudG9nZ2xlTWVudSA9ICgpID0+IHtcbiAgICAkc2NvcGUubWVudU9wZW4gPSAhJHNjb3BlLm1lbnVPcGVuO1xuICB9O1xuXG4gICRzY29wZS5hZHZlcnRpc2VtZW50Q2xpY2sgPSBpdGVtID0+IHtcbiAgICBpZiAoQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzRW5hYmxlZCAmJiAhQ3VzdG9tZXJNYW5hZ2VyLm1vZGVsLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9TSUdOSU5fUkVRVUlSRUQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIEFuYWx5dGljc01vZGVsLmxvZ0FkdmVydGlzZW1lbnQoe1xuICAgICAgdG9rZW46IGl0ZW0udG9rZW4sXG4gICAgICB0eXBlOiAnY2xpY2snXG4gICAgfSk7XG5cbiAgICBpZiAoaXRlbS5ocmVmKSB7XG4gICAgICBXZWJCcm93c2VyLm9wZW4oaXRlbS5ocmVmLnVybCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5hZHZlcnRpc2VtZW50SW1wcmVzc2lvbiA9IGl0ZW0gPT4ge1xuICAgIGlmIChBY3Rpdml0eU1vbml0b3IuYWN0aXZlICYmICEkc2NvcGUud2lkZSkge1xuICAgICAgQW5hbHl0aWNzTW9kZWwubG9nQWR2ZXJ0aXNlbWVudCh7XG4gICAgICAgIHRva2VuOiBpdGVtLnRva2VuLFxuICAgICAgICB0eXBlOiAnaW1wcmVzc2lvbidcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuZWxlbWVudHMgPSBTaGVsbE1hbmFnZXIubW9kZWwuZWxlbWVudHM7XG4gIFNoZWxsTWFuYWdlci5tb2RlbC5lbGVtZW50c0NoYW5nZWQuYWRkKHZhbHVlID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuZWxlbWVudHMgPSB2YWx1ZSk7XG4gIH0pO1xuXG4gICRzY29wZS5hZHZlcnRpc2VtZW50c0FsbCA9IFtdO1xuICAkc2NvcGUuYWR2ZXJ0aXNlbWVudHNUb3AgPSBbXTtcbiAgJHNjb3BlLmFkdmVydGlzZW1lbnRzQm90dG9tID0gW107XG4gIHZhciBtYXBBZHZlcnRpc2VtZW50ID0gYWQgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBzcmM6IFNoZWxsTWFuYWdlci5nZXRNZWRpYVVybChhZC5zcmMsIDk3MCwgOTApLFxuICAgICAgaHJlZjogYWQuaHJlZixcbiAgICAgIHR5cGU6IFNoZWxsTWFuYWdlci5nZXRNZWRpYVR5cGUoYWQuc3JjKSxcbiAgICAgIHRva2VuOiBhZC50b2tlblxuICAgIH07XG4gIH07XG4gIERhdGFNb2RlbC5hZHZlcnRpc2VtZW50cygpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICRzY29wZS5hZHZlcnRpc2VtZW50c1RvcCA9IHJlc3BvbnNlLnRvcC5tYXAobWFwQWR2ZXJ0aXNlbWVudCk7XG4gICAgICAkc2NvcGUuYWR2ZXJ0aXNlbWVudHNCb3R0b20gPSByZXNwb25zZS5ib3R0b20ubWFwKG1hcEFkdmVydGlzZW1lbnQpO1xuICAgICAgJHNjb3BlLmFkdmVydGlzZW1lbnRzQWxsID0gJHNjb3BlLmFkdmVydGlzZW1lbnRzVG9wLmNvbmNhdCgkc2NvcGUuYWR2ZXJ0aXNlbWVudHNCb3R0b20pO1xuICAgIH0pO1xuICB9KTtcblxuICAkc2NvcGUuY2FydENvdW50ID0gT3JkZXJNYW5hZ2VyLm1vZGVsLm9yZGVyQ2FydC5sZW5ndGg7XG4gIE9yZGVyTWFuYWdlci5tb2RlbC5vcmRlckNhcnRDaGFuZ2VkLmFkZChjYXJ0ID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuY2FydENvdW50ID0gY2FydC5sZW5ndGgpO1xuICB9KTtcblxuICAkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2UgPSAoKSA9PiB7XG4gICAgaWYgKCEkc2NvcGUucmVxdWVzdEFzc2lzdGFuY2VBdmFpbGFibGUpe1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIERpYWxvZ01hbmFnZXIuY29uZmlybShBTEVSVF9UQUJMRV9BU1NJU1RBTkNFKS50aGVuKCgpID0+IHtcbiAgICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICAgIE9yZGVyTWFuYWdlci5yZXF1ZXN0QXNzaXN0YW5jZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfQVNTSVNUQU5DRV9TRU5UKTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgcmVmcmVzaEFzc2lzdGFuY2VSZXF1ZXN0ID0gKCkgPT4ge1xuICAgICRzY29wZS5yZXF1ZXN0QXNzaXN0YW5jZUF2YWlsYWJsZSA9ICFCb29sZWFuKE9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdCk7XG4gIH07XG4gIE9yZGVyTWFuYWdlci5tb2RlbC5hc3Npc3RhbmNlUmVxdWVzdENoYW5nZWQuYWRkKHJlZnJlc2hBc3Npc3RhbmNlUmVxdWVzdCk7XG4gIHJlZnJlc2hBc3Npc3RhbmNlUmVxdWVzdCgpO1xuXG4gICRzY29wZS5jdXN0b21lck5hbWUgPSBDdXN0b21lck1hbmFnZXIuY3VzdG9tZXJOYW1lO1xuICBDdXN0b21lck1hbmFnZXIubW9kZWwucHJvZmlsZUNoYW5nZWQuYWRkKCgpID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiAkc2NvcGUuY3VzdG9tZXJOYW1lID0gQ3VzdG9tZXJNYW5hZ2VyLmN1c3RvbWVyTmFtZSk7XG4gIH0pO1xuXG4gICRzY29wZS5uYXZpZ2F0ZSA9IGRlc3RpbmF0aW9uID0+IE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0gZGVzdGluYXRpb247XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2VkLmFkZChsb2NhdGlvbiA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgJHNjb3BlLm1lbnVzLmZvckVhY2gobWVudSA9PiB7XG4gICAgICAgIC8vbWVudS5zZWxlY3RlZCA9IChsb2NhdGlvbi50eXBlID09PSAnbWVudScgJiYgbWVudS50b2tlbiA9PT0gbG9jYXRpb24udG9rZW4pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9ub3RpZmljYXRpb24uanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ05vdGlmaWNhdGlvbkN0cmwnLCBbJyRzY29wZScsICckdGltZW91dCcsICdEaWFsb2dNYW5hZ2VyJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwgRGlhbG9nTWFuYWdlcikge1xuICB2YXIgdGltZXI7XG5cbiAgJHNjb3BlLm1lc3NhZ2VzID0gW107XG5cbiAgZnVuY3Rpb24gdXBkYXRlVmlzaWJpbGl0eShpc1Zpc2libGUpIHtcbiAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS52aXNpYmxlID0gaXNWaXNpYmxlO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGlkZU5leHQoKSB7XG4gICAgdmFyIG1lc3NhZ2VzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8ICRzY29wZS5tZXNzYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbWVzc2FnZXMucHVzaCgkc2NvcGUubWVzc2FnZXNbaV0pO1xuICAgIH1cblxuICAgICRzY29wZS5tZXNzYWdlcyA9IG1lc3NhZ2VzO1xuXG4gICAgaWYgKCRzY29wZS5tZXNzYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHVwZGF0ZVZpc2liaWxpdHkoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRpbWVyID0gJHRpbWVvdXQoaGlkZU5leHQsIDQwMDApO1xuICB9XG5cbiAgJHNjb3BlLnZpc2libGUgPSBmYWxzZTtcblxuICBEaWFsb2dNYW5hZ2VyLm5vdGlmaWNhdGlvblJlcXVlc3RlZC5hZGQoZnVuY3Rpb24obWVzc2FnZSkge1xuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLm1lc3NhZ2VzLnB1c2goeyB0ZXh0OiBtZXNzYWdlIH0pO1xuICAgIH0pO1xuXG4gICAgdXBkYXRlVmlzaWJpbGl0eSh0cnVlKTtcblxuICAgIGlmICh0aW1lcikge1xuICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcbiAgICB9XG5cbiAgICB0aW1lciA9ICR0aW1lb3V0KGhpZGVOZXh0LCA0MDAwKTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL3Jlc2V0LmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdSZXNldEN0cmwnLFxuICBbJyRzY29wZScsICdDb21tYW5kUmVzZXQnLCAnRGlhbG9nTWFuYWdlcicsICdNYW5hZ2VtZW50U2VydmljZScsICdTTkFQRW52aXJvbm1lbnQnLFxuICAoJHNjb3BlLCBDb21tYW5kUmVzZXQsIERpYWxvZ01hbmFnZXIsIE1hbmFnZW1lbnRTZXJ2aWNlLCBTTkFQRW52aXJvbm1lbnQpID0+IHtcblxuICAkc2NvcGUudmVyc2lvbiA9IFNOQVBFbnZpcm9ubWVudC52ZXJzaW9uO1xuXG4gIENvbW1hbmRSZXNldCgpLnRoZW4oKCkgPT4ge1xuICAgIE1hbmFnZW1lbnRTZXJ2aWNlLmxvYWRTdGFydHVwKCk7XG4gIH0sICgpID0+IHtcbiAgICBNYW5hZ2VtZW50U2VydmljZS5sb2FkU3RhcnR1cCgpO1xuICB9KTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvc2NyZWVuc2F2ZXIuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ1NjcmVlbnNhdmVyQ3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ1NoZWxsTWFuYWdlcicsICdBY3Rpdml0eU1vbml0b3InLCAnRGF0YU1vZGVsJyxcbiAgKCRzY29wZSwgJHRpbWVvdXQsIFNoZWxsTWFuYWdlciwgQWN0aXZpdHlNb25pdG9yLCBEYXRhTW9kZWwpID0+IHtcbiAgICBcbiAgJHNjb3BlLnZpc2libGUgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBzaG93SW1hZ2VzKHZhbHVlcykge1xuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLmltYWdlcyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3JjOiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwoaXRlbS5tZWRpYSwgMTkyMCwgMTA4MCwgJ2pwZycpLFxuICAgICAgICAgIHR5cGU6IFNoZWxsTWFuYWdlci5nZXRNZWRpYVR5cGUoaXRlbS5tZWRpYSlcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgc2hvd0ltYWdlcyhTaGVsbE1hbmFnZXIubW9kZWwuc2NyZWVuc2F2ZXJzKTtcbiAgU2hlbGxNYW5hZ2VyLm1vZGVsLnNjcmVlbnNhdmVyc0NoYW5nZWQuYWRkKHNob3dJbWFnZXMpO1xuXG4gIEFjdGl2aXR5TW9uaXRvci5hY3RpdmVDaGFuZ2VkLmFkZCh2YWx1ZSA9PiB7XG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgJHNjb3BlLnZpc2libGUgPSB2YWx1ZSA9PT0gZmFsc2UgJiYgKCRzY29wZS5pbWFnZXMgJiYgJHNjb3BlLmltYWdlcy5sZW5ndGggPiAwKTtcbiAgICB9KTtcbiAgfSk7XG59XSk7XG5cbi8vc3JjL2pzL2NvbnRyb2xsZXJzL3NpZ25pbi5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5jb250cm9sbGVycycpXG4uY29udHJvbGxlcignU2lnbkluQ3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0NvbW1hbmRDdXN0b21lckxvZ2luJywgJ0NvbW1hbmRDdXN0b21lckd1ZXN0TG9naW4nLCAnQ29tbWFuZEN1c3RvbWVyU29jaWFsTG9naW4nLCAnQ29tbWFuZEN1c3RvbWVyU2lnbnVwJywgJ0N1c3RvbWVyTWFuYWdlcicsICdEaWFsb2dNYW5hZ2VyJywgJ05hdmlnYXRpb25NYW5hZ2VyJywgJ1Nlc3Npb25NYW5hZ2VyJywgJ1NOQVBMb2NhdGlvbicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBDb21tYW5kQ3VzdG9tZXJMb2dpbiwgQ29tbWFuZEN1c3RvbWVyR3Vlc3RMb2dpbiwgQ29tbWFuZEN1c3RvbWVyU29jaWFsTG9naW4sIENvbW1hbmRDdXN0b21lclNpZ251cCwgQ3VzdG9tZXJNYW5hZ2VyLCBEaWFsb2dNYW5hZ2VyLCBOYXZpZ2F0aW9uTWFuYWdlciwgU2Vzc2lvbk1hbmFnZXIsIFNOQVBMb2NhdGlvbikgPT4ge1xuXG4gIHZhciBTVEVQX1NQTEFTSCA9IDEsXG4gICAgICBTVEVQX0xPR0lOID0gMixcbiAgICAgIFNURVBfUkVHSVNUUkFUSU9OID0gMyxcbiAgICAgIFNURVBfR1VFU1RTID0gNCxcbiAgICAgIFNURVBfRVZFTlQgPSA1LFxuICAgICAgU1RFUF9SRVNFVCA9IDY7XG5cbiAgJHNjb3BlLlNURVBfU1BMQVNIID0gU1RFUF9TUExBU0g7XG4gICRzY29wZS5TVEVQX0xPR0lOID0gU1RFUF9MT0dJTjtcbiAgJHNjb3BlLlNURVBfUkVHSVNUUkFUSU9OID0gU1RFUF9SRUdJU1RSQVRJT047XG4gICRzY29wZS5TVEVQX0dVRVNUUyA9IFNURVBfR1VFU1RTO1xuICAkc2NvcGUuU1RFUF9FVkVOVCA9IFNURVBfRVZFTlQ7XG4gICRzY29wZS5TVEVQX1JFU0VUID0gU1RFUF9SRVNFVDtcblxuICAkc2NvcGUubG9jYXRpb25OYW1lID0gU05BUExvY2F0aW9uLmxvY2F0aW9uX25hbWU7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFB1YmxpYyBtZXRob2RzXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBMb2dpblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLmxvZ2luID0gKCkgPT4ge1xuICAgICRzY29wZS5jcmVkZW50aWFscyA9IHt9O1xuICAgICRzY29wZS5zdGVwID0gU1RFUF9MT0dJTjtcbiAgfTtcblxuICAkc2NvcGUuZ3Vlc3RMb2dpbiA9ICgpID0+IHtcbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgQ29tbWFuZEN1c3RvbWVyR3Vlc3RMb2dpbigpLnRoZW4oKCkgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS5zdGVwID0gU1RFUF9HVUVTVFMpO1xuICAgIH0sICgpID0+IHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUuZG9Mb2dpbiA9IChjcmVkZW50aWFscykgPT4ge1xuICAgIHZhciBqb2IgPSBEaWFsb2dNYW5hZ2VyLnN0YXJ0Sm9iKCk7XG5cbiAgICAkc2NvcGUuY3JlZGVudGlhbHMudXNlcm5hbWUgPSAkc2NvcGUuY3JlZGVudGlhbHMuZW1haWw7XG5cbiAgICBDb21tYW5kQ3VzdG9tZXJMb2dpbigkc2NvcGUuY3JlZGVudGlhbHMpLnRoZW4oKCkgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS5zdGVwID0gU1RFUF9HVUVTVFMpO1xuICAgIH0sICgpID0+IHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX0dFTkVSSUNfRVJST1IpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgU29jaWFsIGxvZ2luXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUubG9naW5GYWNlYm9vayA9ICgpID0+IHtcbiAgICBzb2NpYWxCdXN5KCk7XG4gICAgQ29tbWFuZEN1c3RvbWVyU29jaWFsTG9naW4uZmFjZWJvb2soKS50aGVuKHNvY2lhbExvZ2luLCBzb2NpYWxFcnJvcik7XG4gIH07XG5cbiAgJHNjb3BlLmxvZ2luVHdpdHRlciA9ICgpID0+IHtcbiAgICBzb2NpYWxCdXN5KCk7XG4gICAgQ29tbWFuZEN1c3RvbWVyU29jaWFsTG9naW4udHdpdHRlcigpLnRoZW4oc29jaWFsTG9naW4sIHNvY2lhbEVycm9yKTtcbiAgfTtcblxuICAkc2NvcGUubG9naW5Hb29nbGUgPSAoKSA9PiB7XG4gICAgc29jaWFsQnVzeSgpO1xuICAgIENvbW1hbmRDdXN0b21lclNvY2lhbExvZ2luLmdvb2dsZXBsdXMoKS50aGVuKHNvY2lhbExvZ2luLCBzb2NpYWxFcnJvcik7XG4gIH07XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBSZWdpc3RyYXRpb25cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5yZWdpc3RlciA9ICgpID0+IHtcbiAgICAkc2NvcGUucmVnaXN0cmF0aW9uID0ge307XG4gICAgJHNjb3BlLnN0ZXAgPSBTVEVQX1JFR0lTVFJBVElPTjtcbiAgfTtcblxuICAkc2NvcGUuZG9SZWdpc3RyYXRpb24gPSAoKSA9PiB7XG4gICAgJHNjb3BlLnJlZ2lzdHJhdGlvbi51c2VybmFtZSA9ICRzY29wZS5yZWdpc3RyYXRpb24uZW1haWw7XG5cbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgQ29tbWFuZEN1c3RvbWVyU2lnbnVwKCRzY29wZS5yZWdpc3RyYXRpb24pLnRoZW4oKCkgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS5zdGVwID0gU1RFUF9HVUVTVFMpO1xuICAgIH0sICgpID0+IHtcbiAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1JFUVVFU1RfU1VCTUlUX0VSUk9SKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIEd1ZXN0IGNvdW50XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUuc2Vzc2lvbiA9IHtcbiAgICBndWVzdENvdW50OiAxLFxuICAgIHNwZWNpYWw6IGZhbHNlXG4gIH07XG5cbiAgJHNjb3BlLnN1Ym1pdEd1ZXN0Q291bnQgPSAoKSA9PiB7XG4gICAgaWYgKCRzY29wZS5zZXNzaW9uLmd1ZXN0Q291bnQgPiAxKSB7XG4gICAgICBTZXNzaW9uTWFuYWdlci5ndWVzdENvdW50ID0gJHNjb3BlLnNlc3Npb24uZ3Vlc3RDb3VudDtcbiAgICAgICRzY29wZS5zdGVwID0gU1RFUF9FVkVOVDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBlbmRTaWduSW4oKTtcbiAgICB9XG4gIH07XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBFdmVudFxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLnN1Ym1pdFNwZWNpYWxFdmVudCA9ICh2YWx1ZSkgPT4ge1xuICAgICRzY29wZS5zZXNzaW9uLnNwZWNpYWwgPSBTZXNzaW9uTWFuYWdlci5zcGVjaWFsRXZlbnQgPSBCb29sZWFuKHZhbHVlKTtcbiAgICBlbmRTaWduSW4oKTtcbiAgfTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIFJlc2V0IHBhc3N3b3JkXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUucmVzZXRQYXNzd29yZCA9ICgpID0+IHtcbiAgICAkc2NvcGUucGFzc3dvcmRyZXNldCA9IHt9O1xuICAgICRzY29wZS5zdGVwID0gU1RFUF9SRVNFVDtcbiAgfTtcblxuICAkc2NvcGUucGFzc3dvcmRSZXNldFN1Ym1pdCA9ICgpID0+IHtcbiAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuXG4gICAgQ3VzdG9tZXJNYW5hZ2VyLnJlc2V0UGFzc3dvcmQoJHNjb3BlLnBhc3N3b3JkcmVzZXQpLnRoZW4oKCkgPT4ge1xuICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICRzY29wZS5wYXNzd29yZFJlc2V0ID0gZmFsc2U7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX1BBU1NXT1JEX1JFU0VUX0NPTVBMRVRFKTtcbiAgICB9LCAoKSA9PiB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgRGlhbG9nTWFuYWdlci5hbGVydChBTEVSVF9SRVFVRVNUX1NVQk1JVF9FUlJPUik7XG4gICAgfSk7XG4gIH07XG5cbiAgJHNjb3BlLnBhc3N3b3JkUmVzZXRDYW5jZWwgPSAoKSA9PiB7XG4gICAgJHNjb3BlLnN0ZXAgPSBTVEVQX1NQTEFTSDtcbiAgfTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHJpdmF0ZSBtZXRob2RzXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgZnVuY3Rpb24gc29jaWFsTG9naW4oKSB7XG4gICAgc29jaWFsQnVzeUVuZCgpO1xuICAgICR0aW1lb3V0KCgpID0+ICRzY29wZS5zdGVwID0gU1RFUF9HVUVTVFMpO1xuICB9XG5cbiAgZnVuY3Rpb24gc29jaWFsRXJyb3IoKSB7XG4gICAgc29jaWFsQnVzeUVuZCgpO1xuICAgIERpYWxvZ01hbmFnZXIuYWxlcnQoQUxFUlRfR0VORVJJQ19FUlJPUik7XG4gIH1cblxuICB2YXIgc29jaWFsSm9iLCBzb2NpYWxUaW1lcjtcblxuICBmdW5jdGlvbiBzb2NpYWxCdXN5KCkge1xuICAgIHNvY2lhbEJ1c3lFbmQoKTtcblxuICAgIHNvY2lhbEpvYiA9IERpYWxvZ01hbmFnZXIuc3RhcnRKb2IoKTtcbiAgICBzb2NpYWxUaW1lciA9ICR0aW1lb3V0KHNvY2lhbEJ1c3lFbmQsIDEyMCAqIDEwMDApO1xuICB9XG5cbiAgZnVuY3Rpb24gc29jaWFsQnVzeUVuZCgpIHtcbiAgICBpZiAoc29jaWFsSm9iKSB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihzb2NpYWxKb2IpO1xuICAgICAgc29jaWFsSm9iID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoc29jaWFsVGltZXIpIHtcbiAgICAgICR0aW1lb3V0LmNhbmNlbChzb2NpYWxUaW1lcik7XG4gICAgICBzb2NpYWxUaW1lciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZW5kU2lnbkluKCkge1xuICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnaG9tZScgfTtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBTdGF0ZVxuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS4kd2F0Y2hBc1Byb3BlcnR5KCdzdGVwJylcbiAgICAuc2tpcER1cGxpY2F0ZXMoKVxuICAgIC5zdWJzY3JpYmUodmFsdWUgPT4ge1xuICAgICAgaWYgKCF2YWx1ZS52YWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGVwID0gdmFsdWUudmFsdWUoKTtcblxuICAgICAgaWYgKHN0ZXAgPT09ICRzY29wZS5TVEVQX0dVRVNUUykge1xuICAgICAgICAkc2NvcGUuc3VibWl0R3Vlc3RDb3VudCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBTdGFydHVwXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgaWYgKCFDdXN0b21lck1hbmFnZXIubW9kZWwuaXNFbmFibGVkIHx8IEN1c3RvbWVyTWFuYWdlci5tb2RlbC5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICByZXR1cm4gZW5kU2lnbkluKCk7XG4gIH1cblxuICAkc2NvcGUuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAkc2NvcGUuc3RlcCA9IFNURVBfU1BMQVNIO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy9zdGFydHVwLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdTdGFydHVwQ3RybCcsXG4gIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ0NvbW1hbmRCb290JywgJ0RpYWxvZ01hbmFnZXInLCAnTG9jYXRpb25Nb2RlbCcsICdNYW5hZ2VtZW50U2VydmljZScsICdTTkFQRW52aXJvbm1lbnQnLFxuICAoJHNjb3BlLCAkdGltZW91dCwgQ29tbWFuZEJvb3QsIERpYWxvZ01hbmFnZXIsIExvY2F0aW9uTW9kZWwsIE1hbmFnZW1lbnRTZXJ2aWNlLCBTTkFQRW52aXJvbm1lbnQpID0+IHtcblxuICAkc2NvcGUudmVyc2lvbiA9IFNOQVBFbnZpcm9ubWVudC52ZXJzaW9uO1xuXG4gIGZ1bmN0aW9uIHdvcmtmbG93KCkge1xuICAgIENvbW1hbmRCb290KCkudGhlbigoKSA9PiB7XG4gICAgICBNYW5hZ2VtZW50U2VydmljZS5sb2FkQXBwbGljYXRpb24oTG9jYXRpb25Nb2RlbC5sb2NhdGlvbik7XG4gICAgfSwgZSA9PiB7XG4gICAgICBEaWFsb2dNYW5hZ2VyLmFsZXJ0KEFMRVJUX0VSUk9SX1NUQVJUVVApLnRoZW4oKCkgPT4gd29ya2Zsb3coKSk7XG4gICAgfSk7XG4gIH1cblxuICAkdGltZW91dCgoKSA9PiB3b3JrZmxvdygpLCAxMDAwKTtcbn1dKTtcblxuLy9zcmMvanMvY29udHJvbGxlcnMvc3VydmV5LmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmNvbnRyb2xsZXJzJylcbi5jb250cm9sbGVyKCdTdXJ2ZXlDdHJsJywgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnQW5hbHl0aWNzTW9kZWwnLCAnQ3VzdG9tZXJNYW5hZ2VyJywgJ0N1c3RvbWVyTW9kZWwnLCAnRGlhbG9nTWFuYWdlcicsICdOYXZpZ2F0aW9uTWFuYWdlcicsICdPcmRlck1hbmFnZXInLCAnU3VydmV5TWFuYWdlcicsIGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQsIEFuYWx5dGljc01vZGVsLCBDdXN0b21lck1hbmFnZXIsIEN1c3RvbWVyTW9kZWwsIERpYWxvZ01hbmFnZXIsIE5hdmlnYXRpb25NYW5hZ2VyLCBPcmRlck1hbmFnZXIsIFN1cnZleU1hbmFnZXIpIHtcblxuICBpZiAoIVN1cnZleU1hbmFnZXIubW9kZWwuaXNFbmFibGVkIHx8ICFTdXJ2ZXlNYW5hZ2VyLm1vZGVsLmZlZWRiYWNrU3VydmV5IHx8IFN1cnZleU1hbmFnZXIubW9kZWwuZmVlZGJhY2tTdXJ2ZXlDb21wbGV0ZSkge1xuICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnaG9tZScgfTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHJvcGVydGllc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5jb21tZW50ID0gJyc7XG4gICRzY29wZS5lbWFpbCA9ICcnO1xuICAkc2NvcGUuaGFkX3Byb2JsZW1zID0gZmFsc2U7XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyAgICBQYWdlc1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLnBhZ2VzID0gW107XG4gIHZhciBwYWdlcyA9ICRzY29wZS4kd2F0Y2hBc1Byb3BlcnR5KCdwYWdlcycpO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gICAgSW5kZXhcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICRzY29wZS5wYWdlSW5kZXggPSAtMTtcbiAgdmFyIHBhZ2VJbmRleCA9ICRzY29wZS4kd2F0Y2hBc1Byb3BlcnR5KCdwYWdlSW5kZXgnKTtcbiAgcGFnZUluZGV4LmNoYW5nZXMoKVxuICAgIC5zdWJzY3JpYmUoZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUucGFnZSA9ICRzY29wZS5wYWdlSW5kZXggPiAtMSA/ICRzY29wZS5wYWdlc1skc2NvcGUucGFnZUluZGV4XSA6IHsgcXVlc3Rpb25zOiBbXSB9O1xuXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgJHNjb3BlLnBhZ2UuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgaWYgKGl0ZW0udHlwZSAhPT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICQoJyNyYXRlLScgKyBpdGVtLnRva2VuKS5yYXRlaXQoe1xuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiA1LFxuICAgICAgICAgICAgc3RlcDogMSxcbiAgICAgICAgICAgIHJlc2V0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICBiYWNraW5nZmxkOiAnI3JhbmdlLScgKyBpdGVtLnRva2VuXG4gICAgICAgICAgfSkuYmluZCgncmF0ZWQnLCBmdW5jdGlvbihldmVudCwgdmFsdWUpIHtcbiAgICAgICAgICAgIGl0ZW0uZmVlZGJhY2sgPSB2YWx1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vICAgIENvdW50XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAkc2NvcGUucGFnZUNvdW50ID0gMDtcbiAgcGFnZXMuY2hhbmdlcygpXG4gICAgLnN1YnNjcmliZShmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5wYWdlQ291bnQgPSAkc2NvcGUucGFnZXMubGVuZ3RoO1xuICAgIH0pO1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBQcml2YXRlIG1ldGhvZHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICB2YXIgZ2VuZXJhdGVQYXNzd29yZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZW5ndGggPSA4LFxuICAgICAgICBjaGFyc2V0ID0gJ2FiY2RlZmdoa25wcXJzdHV2d3h5ekFCQ0RFRkdIS01OUFFSU1RVVldYWVoyMzQ1Njc4OScsXG4gICAgICAgIHJlc3VsdCA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwLCBuID0gY2hhcnNldC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0ICs9IGNoYXJzZXQuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG4pKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICB2YXIgc3VibWl0RmVlZGJhY2sgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUucGFnZXMucmVkdWNlKChhbnN3ZXJzLCBwYWdlKSA9PiB7XG4gICAgICByZXR1cm4gcGFnZS5yZWR1Y2UoKGFuc3dlcnMsIHF1ZXN0aW9uKSA9PiB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHBhcnNlSW50KHF1ZXN0aW9uLmZlZWRiYWNrKTtcblxuICAgICAgICBpZiAodmFsdWUgPiAwKSB7XG4gICAgICAgICAgYW5zd2Vycy5wdXNoKHtcbiAgICAgICAgICAgIHN1cnZleTogU3VydmV5TWFuYWdlci5tb2RlbC5mZWVkYmFja1N1cnZleS50b2tlbixcbiAgICAgICAgICAgIHF1ZXN0aW9uOiBxdWVzdGlvbi50b2tlbixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFuc3dlcnM7XG4gICAgICB9LCBhbnN3ZXJzKTtcbiAgICB9LCBbXSlcbiAgICAuZm9yRWFjaChhbnN3ZXIgPT4gQW5hbHl0aWNzTW9kZWwubG9nQW5zd2VyKGFuc3dlcikpO1xuXG4gICAgaWYgKCRzY29wZS5jb21tZW50ICYmICRzY29wZS5jb21tZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgIEFuYWx5dGljc01vZGVsLmxvZ0NvbW1lbnQoe1xuICAgICAgICB0eXBlOiAnZmVlZGJhY2snLFxuICAgICAgICB0ZXh0OiAkc2NvcGUuY29tbWVudFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgU3VydmV5TWFuYWdlci5tb2RlbC5mZWVkYmFja1N1cnZleUNvbXBsZXRlID0gdHJ1ZTtcblxuICAgIGlmICgkc2NvcGUuaGFkX3Byb2JsZW1zICYmICFPcmRlck1hbmFnZXIubW9kZWwuYXNzaXN0YW5jZVJlcXVlc3QpIHtcbiAgICAgIE9yZGVyTWFuYWdlci5yZXF1ZXN0QXNzaXN0YW5jZSgpO1xuICAgIH1cblxuICAgIGlmIChDdXN0b21lck1vZGVsLmlzR3Vlc3QgJiYgJHNjb3BlLmVtYWlsICYmICRzY29wZS5lbWFpbC5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgam9iID0gRGlhbG9nTWFuYWdlci5zdGFydEpvYigpO1xuICAgICAgdmFyIHBhc3N3b3JkID0gZ2VuZXJhdGVQYXNzd29yZCgpO1xuXG4gICAgICBDdXN0b21lck1hbmFnZXIubG9naW4oe1xuICAgICAgICBlbWFpbDogJHNjb3BlLmVtYWlsLFxuICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIEN1c3RvbWVyTWFuYWdlci5sb2dpbih7XG4gICAgICAgICAgbG9naW46ICRzY29wZS5lbWFpbCxcbiAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBEaWFsb2dNYW5hZ2VyLmVuZEpvYihqb2IpO1xuICAgICAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnaG9tZScgfTtcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgRGlhbG9nTWFuYWdlci5lbmRKb2Ioam9iKTtcbiAgICAgICAgICBOYXZpZ2F0aW9uTWFuYWdlci5sb2NhdGlvbiA9IHsgdHlwZTogJ2hvbWUnIH07XG4gICAgICAgIH0pO1xuICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIERpYWxvZ01hbmFnZXIuZW5kSm9iKGpvYik7XG4gICAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnaG9tZScgfTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnaG9tZScgfTtcbiAgICB9XG4gIH07XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIFB1YmxpYyBtZXRob2RzXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgJHNjb3BlLnByZXZpb3VzUGFnZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICgkc2NvcGUucGFnZUluZGV4ID4gMCkge1xuICAgICAgJHNjb3BlLnBhZ2VJbmRleC0tO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUubmV4dFBhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoJHNjb3BlLnBhZ2VJbmRleCA8ICRzY29wZS5wYWdlQ291bnQgLSAxKSB7XG4gICAgICAkc2NvcGUucGFnZUluZGV4Kys7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgJHNjb3BlLm5leHRTdGVwKCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5uZXh0U3RlcCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChDdXN0b21lck1vZGVsLmlzR3Vlc3QgJiYgJHNjb3BlLnN0ZXAgPCAzKSB7XG4gICAgICAkc2NvcGUuc3RlcCsrO1xuICAgIH1cbiAgICBlbHNlIGlmICghQ3VzdG9tZXJNb2RlbC5pc0d1ZXN0ICYmICRzY29wZS5zdGVwIDwgMikge1xuICAgICAgJHNjb3BlLnN0ZXArKztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzdWJtaXRGZWVkYmFjaygpO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuc3VibWl0UHJvYmxlbSA9IGZ1bmN0aW9uKHN0YXR1cykge1xuICAgICRzY29wZS5oYWRfcHJvYmxlbXMgPSBCb29sZWFuKHN0YXR1cyk7XG4gICAgJHNjb3BlLm5leHRTdGVwKCk7XG4gIH07XG5cbiAgJHNjb3BlLmV4aXQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoJHNjb3BlLnN0ZXAgPiAwKSB7XG4gICAgICBzdWJtaXRGZWVkYmFjaygpO1xuICAgIH1cblxuICAgIE5hdmlnYXRpb25NYW5hZ2VyLmxvY2F0aW9uID0geyB0eXBlOiAnaG9tZScgfTtcbiAgfTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgU3RhcnR1cFxuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIChmdW5jdGlvbigpIHtcbiAgICB2YXIgcGFnZTtcblxuICAgICRzY29wZS5oYXNfZW1haWwgPSBDdXN0b21lck1vZGVsLmhhc0NyZWRlbnRpYWxzO1xuXG4gICAgZnVuY3Rpb24gYnVpbGRTdXJ2ZXkoKSB7XG4gICAgICBTdXJ2ZXlNYW5hZ2VyLm1vZGVsLmZlZWRiYWNrU3VydmV5LnF1ZXN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW0udHlwZSAhPT0gMSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcGFnZSB8fCBwYWdlLmxlbmd0aCA+IDQpIHtcbiAgICAgICAgICBwYWdlID0gW107XG4gICAgICAgICAgJHNjb3BlLnBhZ2VzLnB1c2gocGFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpdGVtLmZlZWRiYWNrID0gMDtcbiAgICAgICAgcGFnZS5wdXNoKGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKFN1cnZleU1hbmFnZXIubW9kZWwuaXNFbmFibGVkICYmIFN1cnZleU1hbmFnZXIubW9kZWwuZmVlZGJhY2tTdXJ2ZXkpIHtcbiAgICAgIGJ1aWxkU3VydmV5KCk7XG4gICAgfVxuXG4gICAgU3VydmV5TWFuYWdlci5tb2RlbC5mZWVkYmFja1N1cnZleUNoYW5nZWQuYWRkKCgpID0+IGJ1aWxkU3VydmV5KCkpO1xuXG4gICAgJHNjb3BlLnBhZ2VJbmRleCA9IDA7XG4gICAgJHNjb3BlLnN0ZXAgPSAwO1xuICB9KSgpO1xufV0pO1xuXG4vL3NyYy9qcy9jb250cm9sbGVycy93ZWIuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuY29udHJvbGxlcnMnKVxuLmNvbnRyb2xsZXIoJ1dlYkN0cmwnLFxuICBbJyRzY29wZScsICckdGltZW91dCcsICdBY3Rpdml0eU1vbml0b3InLCAnTmF2aWdhdGlvbk1hbmFnZXInLCAnV2ViQnJvd3NlcicsXG4gICgkc2NvcGUsICR0aW1lb3V0LCBBY3Rpdml0eU1vbml0b3IsIE5hdmlnYXRpb25NYW5hZ2VyLCBXZWJCcm93c2VyKSA9PiB7XG5cbiAgJHNjb3BlLmNsb3NlID0gKCkgPT4gV2ViQnJvd3Nlci5jbG9zZSgpO1xuICAkc2NvcGUudXJsID0gJyc7XG5cbiAgV2ViQnJvd3Nlci5vbk9wZW5lZC5hZGQocmVmZXJlbmNlID0+IHtcbiAgICBBY3Rpdml0eU1vbml0b3IuZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgJHNjb3BlLmJyb3dzZXJVcmwgPSBXZWJCcm93c2VyLmlzUHJpdmF0ZVVybChyZWZlcmVuY2UudXJsKSA/ICcnIDogcmVmZXJlbmNlLnVybDtcbiAgICAgICRzY29wZS50eXBlID0gcmVmZXJlbmNlLnR5cGU7XG4gICAgICAkc2NvcGUudmlzaWJsZSA9IHRydWU7XG4gICAgfSk7XG5cbiAgICBzd2l0Y2ggKHJlZmVyZW5jZS50eXBlKSB7XG4gICAgICBjYXNlICdpZnJhbWUnOlxuICAgICAgICByZWZlcmVuY2UuYXR0YWNoKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLXdlYi1pZnJhbWUnKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnd2Vidmlldyc6XG4gICAgICAgIHJlZmVyZW5jZS5hdHRhY2goZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2Utd2ViLXdlYnZpZXcnKSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJlZmVyZW5jZS5vbk5hdmlnYXRlZC5hZGQodXJsID0+ICR0aW1lb3V0KCgpID0+ICRzY29wZS5icm93c2VyVXJsID0gV2ViQnJvd3Nlci5pc1ByaXZhdGVVcmwodXJsKSA/ICcnIDogdXJsKSk7XG4gIH0pO1xuXG4gIFdlYkJyb3dzZXIub25DbG9zZWQuYWRkKCgpID0+IHtcbiAgICBBY3Rpdml0eU1vbml0b3IuZW5hYmxlZCA9IHRydWU7XG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgJHNjb3BlLnVybCA9ICcnO1xuICAgICAgJHNjb3BlLnZpc2libGUgPSBmYWxzZTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgTmF2aWdhdGlvbk1hbmFnZXIubG9jYXRpb25DaGFuZ2luZy5hZGQobG9jYXRpb24gPT4ge1xuICAgIFdlYkJyb3dzZXIuY2xvc2UoKTtcbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAkc2NvcGUud2lkZSA9IGxvY2F0aW9uLnR5cGUgIT09ICdob21lJyAmJiBsb2NhdGlvbi50eXBlICE9PSAnc2lnbmluJztcbiAgICAgICRzY29wZS5mdWxsc2NyZWVuID0gbG9jYXRpb24udHlwZSA9PT0gJ3NpZ25pbic7XG4gICAgfSk7XG4gIH0pO1xufV0pO1xuXG4vL3NyYy9qcy9kaXJlY3RpdmVzL19iYXNlLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmRpcmVjdGl2ZXMnLCBbJ2FuZ3VsYXItYmFjb24nXSk7XG5cbi8vc3JjL2pzL2RpcmVjdGl2ZXMvZW1haWwuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuZGlyZWN0aXZlcycpXG4uZGlyZWN0aXZlKCdlbWFpbCcsXG4gIFsnJHRpbWVvdXQnLCAnU2hlbGxNYW5hZ2VyJyxcbiAgKCR0aW1lb3V0LCBTaGVsbE1hbmFnZXIpID0+IHtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHNjb3BlOiB7XG4gICAgICBkaXNhYmxlZDogJz0/JyxcbiAgICAgIG5nTW9kZWw6ICc9JyxcbiAgICAgIHBsYWNlaG9sZGVyOiAnQCdcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiBTaGVsbE1hbmFnZXIuZ2V0UGFydGlhbFVybCgnaW5wdXQtZW1haWwnKVxuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9kaXJlY3RpdmVzL2dhbGxlcnkuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuZGlyZWN0aXZlcycpXG4uZGlyZWN0aXZlKCdnYWxsZXJ5JywgW1xuICAnQWN0aXZpdHlNb25pdG9yJywgJ1NoZWxsTWFuYWdlcicsICckdGltZW91dCcsXG4gIChBY3Rpdml0eU1vbml0b3IsIFNoZWxsTWFuYWdlciwgJHRpbWVvdXQpID0+IHtcblxuICB2YXIgc2xpZGVyLFxuICAgICAgc2V0dGluZ3MgPSB7XG4gICAgICAgIG1vZGU6ICdmYWRlJyxcbiAgICAgICAgd3JhcHBlckNsYXNzOiAncGhvdG8tZ2FsbGVyeSdcbiAgICAgIH07XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHJlcGxhY2U6IGZhbHNlLFxuICAgIHNjb3BlOiB7XG4gICAgICBpbWFnZXM6ICc9JyxcbiAgICAgIGltYWdld2lkdGggOiAnPT8nLFxuICAgICAgaW1hZ2VoZWlnaHQ6ICc9PydcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiBTaGVsbE1hbmFnZXIuZ2V0UGFydGlhbFVybCgnZ2FsbGVyeScpLFxuICAgIGxpbms6IChzY29wZSwgZWxlbSwgYXR0cnMpID0+IHtcbiAgICAgIGVsZW0ucmVhZHkoKCkgPT4ge1xuICAgICAgICBzbGlkZXIgPSAkKCcuYnhzbGlkZXInLCBlbGVtKS5ieFNsaWRlcihzZXR0aW5ncyk7XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCdpbWFnZXMnLCAoKSA9PiB7XG4gICAgICAgIHNjb3BlLm1lZGlhcyA9IChzY29wZS5pbWFnZXMgfHwgW10pLm1hcChpbWFnZSA9PiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwoaW1hZ2UsIGF0dHJzLmltYWdld2lkdGgsIGF0dHJzLmltYWdlaGVpZ2h0KSk7XG4gICAgICAgIHNldHRpbmdzLnBhZ2VyID0gc2NvcGUubWVkaWFzLmxlbmd0aCA+IDE7XG4gICAgICAgICR0aW1lb3V0KCgpID0+IHNsaWRlci5yZWxvYWRTbGlkZXIoc2V0dGluZ3MpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dKTtcblxuLy9zcmMvanMvZGlyZWN0aXZlcy9vbmlmcmFtZWxvYWQuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuZGlyZWN0aXZlcycpXG4uZGlyZWN0aXZlKCdvbklmcmFtZUxvYWQnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHNjb3BlOiB7XG4gICAgICBjYWxsYmFjazogJyZvbklmcmFtZUxvYWQnXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIGVsZW1lbnQuYmluZCgnbG9hZCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiAoc2NvcGUuY2FsbGJhY2spID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgc2NvcGUuY2FsbGJhY2soeyBldmVudDogZSB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSk7XG5cbi8vc3JjL2pzL2RpcmVjdGl2ZXMvb25rZXlkb3duLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmRpcmVjdGl2ZXMnKVxuLmRpcmVjdGl2ZSgnb25LZXlkb3duJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMpIHtcbiAgICAgIHZhciBmdW5jdGlvblRvQ2FsbCA9IHNjb3BlLiRldmFsKGF0dHJzLm9uS2V5ZG93bik7XG4gICAgICBlbGVtLm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGZ1bmN0aW9uVG9DYWxsKGUud2hpY2gpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSk7XG5cbi8vc3JjL2pzL2RpcmVjdGl2ZXMvcXVhbnRpdHkuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuZGlyZWN0aXZlcycpXG4uZGlyZWN0aXZlKCdxdWFudGl0eScsXG4gIFsnJHRpbWVvdXQnLCAnU2hlbGxNYW5hZ2VyJyxcbiAgKCR0aW1lb3V0LCBTaGVsbE1hbmFnZXIpID0+IHtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZToge1xuICAgICAgcXVhbnRpdHk6ICc9JyxcbiAgICAgIG1pbjogJz0nLFxuICAgICAgbWF4OiAnPSdcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbSkge1xuICAgICAgc2NvcGUubWluID0gc2NvcGUubWluIHx8IDE7XG4gICAgICBzY29wZS5tYXggPSBzY29wZS5tYXggfHwgOTtcbiAgICAgIHNjb3BlLmRhdGEgPSB7XG4gICAgICAgIG1pbjogc2NvcGUubWluLFxuICAgICAgICBtYXg6IHNjb3BlLm1heCxcbiAgICAgICAgcXVhbnRpdHk6IHBhcnNlSW50KHNjb3BlLnF1YW50aXR5KVxuICAgICAgfTtcblxuICAgICAgc2NvcGUuZGVjcmVhc2UgPSAoKSA9PiB7XG4gICAgICAgIHNjb3BlLnF1YW50aXR5ID0gc2NvcGUuZGF0YS5xdWFudGl0eSA9IHNjb3BlLmRhdGEucXVhbnRpdHkgPiBzY29wZS5kYXRhLm1pbiA/XG4gICAgICAgICAgc2NvcGUuZGF0YS5xdWFudGl0eSAtIDEgOlxuICAgICAgICAgIHNjb3BlLmRhdGEubWluO1xuICAgICAgfTtcblxuICAgICAgc2NvcGUuaW5jcmVhc2UgPSAoKSA9PiB7XG4gICAgICAgIHNjb3BlLnF1YW50aXR5ID0gc2NvcGUuZGF0YS5xdWFudGl0eSA9IHNjb3BlLmRhdGEucXVhbnRpdHkgPCBzY29wZS5kYXRhLm1heCA/XG4gICAgICAgICAgc2NvcGUuZGF0YS5xdWFudGl0eSArIDEgOlxuICAgICAgICAgIHNjb3BlLmRhdGEubWF4O1xuICAgICAgfTtcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiBTaGVsbE1hbmFnZXIuZ2V0UGFydGlhbFVybCgnaW5wdXQtcXVhbnRpdHknKVxuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9kaXJlY3RpdmVzL3Njcm9sbGVyLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmRpcmVjdGl2ZXMnKVxuLmRpcmVjdGl2ZSgnc2Nyb2xsZXInLCBbJ0FjdGl2aXR5TW9uaXRvcicsICdTTkFQRW52aXJvbm1lbnQnLCBmdW5jdGlvbiAoQWN0aXZpdHlNb25pdG9yLCBTTkFQRW52aXJvbm1lbnQpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0MnLFxuICAgIHJlcGxhY2U6IGZhbHNlLFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbSkge1xuICAgICAgaWYgKFNOQVBFbnZpcm9ubWVudC5wbGF0Zm9ybSA9PT0gJ2Rlc2t0b3AnKSB7XG4gICAgICAgICQoZWxlbSkua2luZXRpYyh7XG4gICAgICAgICAgeTogZmFsc2UsIHN0b3BwZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIEFjdGl2aXR5TW9uaXRvci5hY3Rpdml0eURldGVjdGVkKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2RpcmVjdGl2ZXMvc2Nyb2xsZ2x1ZS5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5kaXJlY3RpdmVzJylcbi5kaXJlY3RpdmUoJ3Njcm9sbGdsdWUnLCBbJyRwYXJzZScsIGZ1bmN0aW9uICgkcGFyc2UpIHtcbiAgZnVuY3Rpb24gdW5ib3VuZFN0YXRlKGluaXRWYWx1ZSl7XG4gICAgdmFyIGFjdGl2YXRlZCA9IGluaXRWYWx1ZTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0VmFsdWU6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiBhY3RpdmF0ZWQ7XG4gICAgICB9LFxuICAgICAgc2V0VmFsdWU6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgYWN0aXZhdGVkID0gdmFsdWU7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uZVdheUJpbmRpbmdTdGF0ZShnZXR0ZXIsIHNjb3BlKXtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0VmFsdWU6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiBnZXR0ZXIoc2NvcGUpO1xuICAgICAgfSxcbiAgICAgIHNldFZhbHVlOiBmdW5jdGlvbigpe31cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gdHdvV2F5QmluZGluZ1N0YXRlKGdldHRlciwgc2V0dGVyLCBzY29wZSl7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldFZhbHVlOiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gZ2V0dGVyKHNjb3BlKTtcbiAgICAgIH0sXG4gICAgICBzZXRWYWx1ZTogZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICBpZih2YWx1ZSAhPT0gZ2V0dGVyKHNjb3BlKSl7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIHZhbHVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVBY3RpdmF0aW9uU3RhdGUoYXR0ciwgc2NvcGUpe1xuICAgIGlmKGF0dHIgIT09IFwiXCIpe1xuICAgICAgdmFyIGdldHRlciA9ICRwYXJzZShhdHRyKTtcbiAgICAgIGlmKGdldHRlci5hc3NpZ24gIT09IHVuZGVmaW5lZCl7XG4gICAgICAgIHJldHVybiB0d29XYXlCaW5kaW5nU3RhdGUoZ2V0dGVyLCBnZXR0ZXIuYXNzaWduLCBzY29wZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gb25lV2F5QmluZGluZ1N0YXRlKGdldHRlciwgc2NvcGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5ib3VuZFN0YXRlKHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcHJpb3JpdHk6IDEsXG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgJGVsLCBhdHRycyl7XG4gICAgICB2YXIgZWwgPSAkZWxbMF0sXG4gICAgICBhY3RpdmF0aW9uU3RhdGUgPSBjcmVhdGVBY3RpdmF0aW9uU3RhdGUoYXR0cnMuc2Nyb2xsZ2x1ZSwgc2NvcGUpO1xuXG4gICAgICBmdW5jdGlvbiBzY3JvbGxUb0JvdHRvbSgpe1xuICAgICAgICBlbC5zY3JvbGxUb3AgPSBlbC5zY3JvbGxIZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uU2NvcGVDaGFuZ2VzKCl7XG4gICAgICAgIGlmKGFjdGl2YXRpb25TdGF0ZS5nZXRWYWx1ZSgpICYmICFzaG91bGRBY3RpdmF0ZUF1dG9TY3JvbGwoKSl7XG4gICAgICAgICAgc2Nyb2xsVG9Cb3R0b20oKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzaG91bGRBY3RpdmF0ZUF1dG9TY3JvbGwoKXtcbiAgICAgICAgcmV0dXJuIGVsLnNjcm9sbFRvcCArIGVsLmNsaWVudEhlaWdodCArIDEgPj0gZWwuc2Nyb2xsSGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvblNjcm9sbCgpe1xuICAgICAgICBhY3RpdmF0aW9uU3RhdGUuc2V0VmFsdWUoc2hvdWxkQWN0aXZhdGVBdXRvU2Nyb2xsKCkpO1xuICAgICAgfVxuXG4gICAgICBzY29wZS4kd2F0Y2gob25TY29wZUNoYW5nZXMpO1xuICAgICAgJGVsLmJpbmQoJ3Njcm9sbCcsIG9uU2Nyb2xsKTtcbiAgICB9XG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2RpcmVjdGl2ZXMvc2xpZGVyLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmRpcmVjdGl2ZXMnKVxuLmRpcmVjdGl2ZSgnc2xpZGVyJyxcbiAgWyckdGltZW91dCcsICdTaGVsbE1hbmFnZXInLFxuICAoJHRpbWVvdXQsIFNoZWxsTWFuYWdlcikgPT4ge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQUUnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHtcbiAgICAgIHNvdXJjZTogJz0nLFxuICAgICAgc2xpZGVjbGljazogJz0nLFxuICAgICAgc2xpZGVzaG93OiAnPScsXG4gICAgICB0aW1lb3V0OiAnPSdcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbSkge1xuICAgICAgdmFyIHRpbWVvdXQgPSBzY29wZS50aW1lb3V0IHx8IDUwMDA7XG4gICAgICBzY29wZS5zb3VyY2UgPSBzY29wZS5zb3VyY2UgfHwgW107XG4gICAgICBzY29wZS5jdXJyZW50SW5kZXggPSAtMTtcblxuICAgICAgdmFyIGNoYW5nZUltYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChzY29wZS5zb3VyY2UubGVuZ3RoID09PSAwIHx8IHNjb3BlLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcblxuICAgICAgICBzY29wZS5zb3VyY2UuZm9yRWFjaChmdW5jdGlvbihlbnRyeSwgaSl7XG4gICAgICAgICAgZW50cnkudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgZW50cnkgPSBzY29wZS5zb3VyY2Vbc2NvcGUuY3VycmVudEluZGV4XTtcbiAgICAgICAgZW50cnkudmlzaWJsZSA9IHRydWU7XG5cbiAgICAgICAgaWYgKHNjb3BlLnNsaWRlc2hvdykge1xuICAgICAgICAgIHNjb3BlLnNsaWRlc2hvdyhlbnRyeSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgICAgIHZhciB2ID0gJCgndmlkZW8nLCBlbGVtKTtcbiAgICAgICAgICB2LmF0dHIoJ3NyYycsIGVudHJ5LnNyYyk7XG4gICAgICAgICAgdmFyIHZpZGVvID0gdi5nZXQoMCk7XG5cbiAgICAgICAgICBpZiAoIXZpZGVvKSB7XG4gICAgICAgICAgICB0aW1lciA9ICR0aW1lb3V0KHNsaWRlckZ1bmMsIDMwMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIG9uVmlkZW9FbmRlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBvblZpZGVvRW5kZWQsIGZhbHNlKTtcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkgeyBzY29wZS5uZXh0KCk7IH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgb25WaWRlb0Vycm9yID0gZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgIHZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25WaWRlb0Vycm9yLCBmYWxzZSk7XG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHsgc2NvcGUubmV4dCgpOyB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBvblZpZGVvRW5kZWQsIGZhbHNlKTtcbiAgICAgICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uVmlkZW9FcnJvciwgZmFsc2UpO1xuXG4gICAgICAgICAgdHJ5XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmlkZW8ubG9hZCgpO1xuICAgICAgICAgICAgdmlkZW8ucGxheSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXRjaChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gcGxheSB2aWRlbzogJyArIGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aW1lciA9ICR0aW1lb3V0KHNsaWRlckZ1bmMsIHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzY29wZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChzY29wZS5jdXJyZW50SW5kZXggPCBzY29wZS5zb3VyY2UubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHNjb3BlLmN1cnJlbnRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNjb3BlLmN1cnJlbnRJbmRleCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjaGFuZ2VJbWFnZSgpO1xuICAgICAgfTtcblxuICAgICAgc2NvcGUucHJldiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoc2NvcGUuY3VycmVudEluZGV4ID4gMCkge1xuICAgICAgICAgIHNjb3BlLmN1cnJlbnRJbmRleC0tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNjb3BlLmN1cnJlbnRJbmRleCA9IHNjb3BlLnNvdXJjZS5sZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjaGFuZ2VJbWFnZSgpO1xuICAgICAgfTtcblxuICAgICAgdmFyIHRpbWVyO1xuXG4gICAgICB2YXIgc2xpZGVyRnVuYyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoc2NvcGUuc291cmNlLmxlbmd0aCA9PT0gMCB8fCBzY29wZS5kaXNhYmxlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLm5leHQoKTtcbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLiR3YXRjaCgnc291cmNlJywgZnVuY3Rpb24oKXtcbiAgICAgICAgc2NvcGUuY3VycmVudEluZGV4ID0gLTE7XG4gICAgICAgIHNsaWRlckZ1bmMoKTtcbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS4kd2F0Y2goJ2Rpc2FibGVkJywgZnVuY3Rpb24oKXtcbiAgICAgICAgc2NvcGUuY3VycmVudEluZGV4ID0gLTE7XG4gICAgICAgIHNsaWRlckZ1bmMoKTtcbiAgICAgIH0pO1xuXG4gICAgICBzbGlkZXJGdW5jKCk7XG5cbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6IFNoZWxsTWFuYWdlci5nZXRQYXJ0aWFsVXJsKCdzbGlkZXInKVxuICB9O1xufV0pO1xuXG4vL3NyYy9qcy9kaXJlY3RpdmVzL3N3aXRjaC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5kaXJlY3RpdmVzJylcbi5kaXJlY3RpdmUoJ3N3aXRjaCcsXG4gIFsnJHRpbWVvdXQnLCAnU2hlbGxNYW5hZ2VyJyxcbiAgKCR0aW1lb3V0LCBTaGVsbE1hbmFnZXIpID0+IHtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZToge1xuICAgICAgZGlzYWJsZWQ6ICc9PycsXG4gICAgICBzZWxlY3RlZDogJz0/J1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtKSB7XG4gICAgICBzY29wZS5kaXNhYmxlZCA9IEJvb2xlYW4oc2NvcGUuZGlzYWJsZWQpO1xuICAgICAgc2NvcGUuc2VsZWN0ZWQgPSBCb29sZWFuKHNjb3BlLnNlbGVjdGVkKTtcbiAgICAgIHNjb3BlLmRhdGEgPSB7XG4gICAgICAgIGRpc2FibGVkOiBCb29sZWFuKHNjb3BlLmRpc2FibGVkKSxcbiAgICAgICAgc2VsZWN0ZWQ6IEJvb2xlYW4oc2NvcGUuc2VsZWN0ZWQpLFxuICAgICAgICBjaGFuZ2VkOiBmYWxzZVxuICAgICAgfTtcblxuICAgICAgc2NvcGUudG9nZ2xlID0gKCkgPT4ge1xuICAgICAgICBpZiAoc2NvcGUuZGlzYWJsZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS5zZWxlY3RlZCA9IHNjb3BlLmRhdGEuc2VsZWN0ZWQgPSAhc2NvcGUuZGF0YS5zZWxlY3RlZDtcbiAgICAgICAgc2NvcGUuZGF0YS5jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH07XG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogU2hlbGxNYW5hZ2VyLmdldFBhcnRpYWxVcmwoJ2lucHV0LXN3aXRjaCcpXG4gIH07XG59XSk7XG5cbi8vc3JjL2pzL2ZpbHRlcnMvX2Jhc2UuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuZmlsdGVycycsIFtdKTtcblxuLy9zcmMvanMvZmlsdGVycy9wYXJ0aWFsLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLmZpbHRlcnMnKVxuLmZpbHRlcigncGFydGlhbCcsIFsnU2hlbGxNYW5hZ2VyJywgKFNoZWxsTWFuYWdlcikgPT4ge1xuICByZXR1cm4gKG5hbWUpID0+IFNoZWxsTWFuYWdlci5nZXRQYXJ0aWFsVXJsKG5hbWUpO1xufV0pO1xuXG4vL3NyYy9qcy9maWx0ZXJzL3RodW1ibmFpbC5qc1xuXG5hbmd1bGFyLm1vZHVsZSgnU05BUC5maWx0ZXJzJylcbi5maWx0ZXIoJ3RodW1ibmFpbCcsIFsnU2hlbGxNYW5hZ2VyJywgU2hlbGxNYW5hZ2VyID0+IHtcbiAgcmV0dXJuIChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKSA9PiBTaGVsbE1hbmFnZXIuZ2V0TWVkaWFVcmwobWVkaWEsIHdpZHRoLCBoZWlnaHQsIGV4dGVuc2lvbik7XG59XSk7XG5cbi8vc3JjL2pzL2ZpbHRlcnMvdHJ1c3R1cmwuanNcblxuYW5ndWxhci5tb2R1bGUoJ1NOQVAuZmlsdGVycycpXG4uZmlsdGVyKCd0cnVzdFVybCcsIFsnJHNjZScsIGZ1bmN0aW9uKCRzY2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHJldHVybiAkc2NlLnRydXN0QXNSZXNvdXJjZVVybCh2YWwpO1xuICAgIH07XG59XSk7XG5cbi8vc3JjL2pzL3NlcnZpY2VzLmpzXG5cbmFuZ3VsYXIubW9kdWxlKCdTTkFQLnNlcnZpY2VzJywgWyduZ1Jlc291cmNlJywgJ1NOQVAuY29uZmlncyddKVxuXG4gIC5mYWN0b3J5KCdGbGFzaFN0YXJ0ZXInLCBbJ0xvZ2dlcicsICdTTkFQSG9zdHMnLCAoTG9nZ2VyLCBTTkFQSG9zdHMpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5GbGFzaFN0YXJ0ZXIoTG9nZ2VyLCBTTkFQSG9zdHMpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ0xvZ2dlcicsIFsnU05BUEVudmlyb25tZW50JywgKFNOQVBFbnZpcm9ubWVudCkgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkxvZ2dlcihTTkFQRW52aXJvbm1lbnQpO1xuICB9XSlcbiAgLmZhY3RvcnkoJyRleGNlcHRpb25IYW5kbGVyJywgWydMb2dnZXInLCAoTG9nZ2VyKSA9PiB7XG4gICAgcmV0dXJuIChleGNlcHRpb24sIGNhdXNlKSA9PiB7XG4gICAgICBMb2dnZXIuZmF0YWwoZXhjZXB0aW9uLnN0YWNrLCBjYXVzZSwgZXhjZXB0aW9uKTtcbiAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICB9O1xuICB9XSlcblxuICAvL1NlcnZpY2VzXG5cbiAgLmZhY3RvcnkoJ0NhcmRSZWFkZXInLCBbJ01hbmFnZW1lbnRTZXJ2aWNlJywgJ1NOQVBFbnZpcm9ubWVudCcsIChNYW5hZ2VtZW50U2VydmljZSwgU05BUEVudmlyb25tZW50KSA9PiB7XG4gICAgdmFyIHJlYWRlcjtcblxuICAgIHN3aXRjaCAoU05BUEVudmlyb25tZW50LnBsYXRmb3JtKSB7XG4gICAgICBjYXNlICdtb2JpbGUnOlxuICAgICAgICByZWFkZXIgPSBuZXcgYXBwLkNvcmRvdmFDYXJkUmVhZGVyKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmVhZGVyID0gbmV3IGFwcC5DYXJkUmVhZGVyKE1hbmFnZW1lbnRTZXJ2aWNlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgd2luZG93LlNuYXBDYXJkUmVhZGVyID0gcmVhZGVyO1xuXG4gICAgcmV0dXJuIHJlYWRlcjtcbiAgfV0pXG4gIC5mYWN0b3J5KCdEdHNBcGknLCBbJ1NOQVBIb3N0cycsICdTZXNzaW9uTW9kZWwnLCAoU05BUEhvc3RzLCBTZXNzaW9uTW9kZWwpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5CYWNrZW5kQXBpKFNOQVBIb3N0cywgU2Vzc2lvbk1vZGVsKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdNYW5hZ2VtZW50U2VydmljZScsIFsnU05BUEVudmlyb25tZW50JywgKFNOQVBFbnZpcm9ubWVudCkgPT4ge1xuICAgIHN3aXRjaCAoU05BUEVudmlyb25tZW50LnBsYXRmb3JtKSB7XG4gICAgICBjYXNlICdkZXNrdG9wJzpcbiAgICAgICAgLy9yZXR1cm4gbmV3IGFwcC5FbGVjdHJvbk1hbmFnZW1lbnRTZXJ2aWNlKCk7XG4gICAgICAgIHJldHVybiBuZXcgYXBwLkdlbmVyaWNNYW5hZ2VtZW50U2VydmljZSgpO1xuICAgICAgY2FzZSAnbW9iaWxlJzpcbiAgICAgICAgcmV0dXJuIG5ldyBhcHAuQ29yZG92YU1hbmFnZW1lbnRTZXJ2aWNlKCk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbmV3IGFwcC5HZW5lcmljTWFuYWdlbWVudFNlcnZpY2UoKTtcbiAgICB9XG4gIH1dKVxuICAuZmFjdG9yeSgnU29ja2V0Q2xpZW50JywgWydTZXNzaW9uTW9kZWwnLCAnU05BUEhvc3RzJywgJ0xvZ2dlcicsIChTZXNzaW9uTW9kZWwsIFNOQVBIb3N0cywgTG9nZ2VyKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuU29ja2V0Q2xpZW50KFNlc3Npb25Nb2RlbCwgU05BUEhvc3RzLCBMb2dnZXIpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ1RlbGVtZXRyeVNlcnZpY2UnLCBbJyRyZXNvdXJjZScsICgkcmVzb3VyY2UpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5UZWxlbWV0cnlTZXJ2aWNlKCRyZXNvdXJjZSk7XG4gIH1dKVxuICAuZmFjdG9yeSgnV2ViQnJvd3NlcicsIFsnQW5hbHl0aWNzTW9kZWwnLCAnTWFuYWdlbWVudFNlcnZpY2UnLCAnU05BUEVudmlyb25tZW50JywgJ1NOQVBIb3N0cycsIChBbmFseXRpY3NNb2RlbCwgTWFuYWdlbWVudFNlcnZpY2UsIFNOQVBFbnZpcm9ubWVudCwgU05BUEhvc3RzKSA9PiB7XG4gICAgd2luZG93LlNuYXBXZWJCcm93c2VyID0gbmV3IGFwcC5XZWJCcm93c2VyKEFuYWx5dGljc01vZGVsLCBNYW5hZ2VtZW50U2VydmljZSwgU05BUEVudmlyb25tZW50LCBTTkFQSG9zdHMpO1xuICAgIHJldHVybiB3aW5kb3cuU25hcFdlYkJyb3dzZXI7XG4gIH1dKVxuXG4gIC8vTW9kZWxzXG5cbiAgLmZhY3RvcnkoJ0FuYWx5dGljc01vZGVsJywgWydTdG9yYWdlUHJvdmlkZXInLCAnSGVhdE1hcCcsICdMb2dnZXInLCAoU3RvcmFnZVByb3ZpZGVyLCBIZWF0TWFwLCBMb2dnZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5BbmFseXRpY3NNb2RlbChTdG9yYWdlUHJvdmlkZXIsIEhlYXRNYXAsIExvZ2dlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnQ2FydE1vZGVsJywgKCkgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkNhcnRNb2RlbCgpO1xuICB9KVxuICAuZmFjdG9yeSgnQ2hhdE1vZGVsJywgWydTTkFQTG9jYXRpb24nLCAnU05BUEVudmlyb25tZW50JywgJ1N0b3JhZ2VQcm92aWRlcicsIChTTkFQTG9jYXRpb24sIFNOQVBFbnZpcm9ubWVudCwgU3RvcmFnZVByb3ZpZGVyKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuQ2hhdE1vZGVsKFNOQVBMb2NhdGlvbiwgU05BUEVudmlyb25tZW50LCBTdG9yYWdlUHJvdmlkZXIpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ0N1c3RvbWVyTW9kZWwnLCBbJ1NOQVBMb2NhdGlvbicsICdTdG9yYWdlUHJvdmlkZXInLCAoU05BUExvY2F0aW9uLCBTdG9yYWdlUHJvdmlkZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5DdXN0b21lck1vZGVsKFNOQVBMb2NhdGlvbiwgU3RvcmFnZVByb3ZpZGVyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdEYXRhTW9kZWwnLCBbJ1NOQVBMb2NhdGlvbicsICdEdHNBcGknLCAnU3RvcmFnZVByb3ZpZGVyJywgKFNOQVBMb2NhdGlvbiwgRHRzQXBpLCBTdG9yYWdlUHJvdmlkZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5EYXRhTW9kZWwoU05BUExvY2F0aW9uLCBEdHNBcGksIFN0b3JhZ2VQcm92aWRlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnSGVhdE1hcCcsICgpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5IZWF0TWFwKGRvY3VtZW50LmJvZHkpO1xuICB9KVxuICAuZmFjdG9yeSgnTG9jYXRpb25Nb2RlbCcsIFsnRHRzQXBpJywgJ1NOQVBFbnZpcm9ubWVudCcsICdTTkFQTG9jYXRpb24nLCAnU3RvcmFnZVByb3ZpZGVyJywgKER0c0FwaSwgU05BUEVudmlyb25tZW50LCBTTkFQTG9jYXRpb24sIFN0b3JhZ2VQcm92aWRlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkxvY2F0aW9uTW9kZWwoRHRzQXBpLCBTTkFQRW52aXJvbm1lbnQsIFNOQVBMb2NhdGlvbiwgU3RvcmFnZVByb3ZpZGVyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdPcmRlck1vZGVsJywgWydTdG9yYWdlUHJvdmlkZXInLCAoU3RvcmFnZVByb3ZpZGVyKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuT3JkZXJNb2RlbChTdG9yYWdlUHJvdmlkZXIpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ1NoZWxsTW9kZWwnLCAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuU2hlbGxNb2RlbCgpO1xuICB9KVxuICAuZmFjdG9yeSgnU3VydmV5TW9kZWwnLCBbJ1NOQVBMb2NhdGlvbicsICdTdG9yYWdlUHJvdmlkZXInLCAoU05BUExvY2F0aW9uLCBTdG9yYWdlUHJvdmlkZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5TdXJ2ZXlNb2RlbChTTkFQTG9jYXRpb24sIFN0b3JhZ2VQcm92aWRlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnU2Vzc2lvbk1vZGVsJywgWydTdG9yYWdlUHJvdmlkZXInLCAoU3RvcmFnZVByb3ZpZGVyKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuU2Vzc2lvbk1vZGVsKFN0b3JhZ2VQcm92aWRlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnU3RvcmFnZVByb3ZpZGVyJywgWydMb2dnZXInLCAnU05BUEVudmlyb25tZW50JywgKExvZ2dlciwgU05BUEVudmlyb25tZW50KSA9PiAge1xuICAgIHJldHVybiAoaWQpID0+IHtcbiAgICAgIHN3aXRjaCAoU05BUEVudmlyb25tZW50LnBsYXRmb3JtKSB7XG4gICAgICAgIGNhc2UgJ21vYmlsZSc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBhcHAuQ29yZG92YUxvY2FsU3RvcmFnZVN0b3JlKGlkLCBMb2dnZXIpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBuZXcgYXBwLkxvY2FsU3RvcmFnZVN0b3JlKGlkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XSlcblxuICAvL01hbmFnZXJzXG5cbiAgLmZhY3RvcnkoJ0FjdGl2aXR5TW9uaXRvcicsIFsnJHJvb3RTY29wZScsICckdGltZW91dCcsICdTTkFQRW52aXJvbm1lbnQnLCAoJHJvb3RTY29wZSwgJHRpbWVvdXQsIFNOQVBFbnZpcm9ubWVudCkgPT4ge1xuICAgIHZhciBtb25pdG9yID0gbmV3IGFwcC5BY3Rpdml0eU1vbml0b3IoJHJvb3RTY29wZSwgJHRpbWVvdXQpO1xuICAgIG1vbml0b3IudGltZW91dCA9IDMwMDAwO1xuXG4gICAgaWYgKFNOQVBFbnZpcm9ubWVudC5kZWJ1Zykge1xuICAgICAgbW9uaXRvci50aW1lb3V0ICo9IDkwMDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vbml0b3I7XG4gIH1dKVxuICAuZmFjdG9yeSgnQW5hbHl0aWNzTWFuYWdlcicsIFsnVGVsZW1ldHJ5U2VydmljZScsICdBbmFseXRpY3NNb2RlbCcsICdMb2dnZXInLCAoVGVsZW1ldHJ5U2VydmljZSwgQW5hbHl0aWNzTW9kZWwsIExvZ2dlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkFuYWx5dGljc01hbmFnZXIoVGVsZW1ldHJ5U2VydmljZSwgQW5hbHl0aWNzTW9kZWwsIExvZ2dlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnQXV0aGVudGljYXRpb25NYW5hZ2VyJywgWydEdHNBcGknLCAnU2Vzc2lvbk1vZGVsJywgJ1NOQVBFbnZpcm9ubWVudCcsICdXZWJCcm93c2VyJywgJ0xvZ2dlcicsIChEdHNBcGksIFNlc3Npb25Nb2RlbCwgU05BUEVudmlyb25tZW50LCBXZWJCcm93c2VyLCBMb2dnZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5BdXRoZW50aWNhdGlvbk1hbmFnZXIoRHRzQXBpLCBTZXNzaW9uTW9kZWwsIFNOQVBFbnZpcm9ubWVudCwgV2ViQnJvd3NlciwgTG9nZ2VyKTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdDdXN0b21lck1hbmFnZXInLCBbJ0R0c0FwaScsICdDdXN0b21lck1vZGVsJywgJ1Nlc3Npb25Nb2RlbCcsICdMb2dnZXInLCAnU05BUEVudmlyb25tZW50JywgKER0c0FwaSwgQ3VzdG9tZXJNb2RlbCwgU2Vzc2lvbk1vZGVsLCBMb2dnZXIsIFNOQVBFbnZpcm9ubWVudCkgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLkN1c3RvbWVyTWFuYWdlcihEdHNBcGksIEN1c3RvbWVyTW9kZWwsIFNlc3Npb25Nb2RlbCwgTG9nZ2VyLCBTTkFQRW52aXJvbm1lbnQpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ0NoYXRNYW5hZ2VyJywgWydBbmFseXRpY3NNb2RlbCcsICdDaGF0TW9kZWwnLCAnQ3VzdG9tZXJNb2RlbCcsICdMb2NhdGlvbk1vZGVsJywgJ1NvY2tldENsaWVudCcsICdMb2dnZXInLCAoQW5hbHl0aWNzTW9kZWwsIENoYXRNb2RlbCwgQ3VzdG9tZXJNb2RlbCwgTG9jYXRpb25Nb2RlbCwgU29ja2V0Q2xpZW50LCBMb2dnZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5DaGF0TWFuYWdlcihBbmFseXRpY3NNb2RlbCwgQ2hhdE1vZGVsLCBDdXN0b21lck1vZGVsLCBMb2NhdGlvbk1vZGVsLCBTb2NrZXRDbGllbnQsIExvZ2dlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnRGF0YU1hbmFnZXInLCBbJ0RhdGFNb2RlbCcsICdMb2dnZXInLCAnU05BUEVudmlyb25tZW50JywgKERhdGFNb2RlbCwgTG9nZ2VyLCBTTkFQRW52aXJvbm1lbnQpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5EYXRhTWFuYWdlcihEYXRhTW9kZWwsIExvZ2dlciwgU05BUEVudmlyb25tZW50KTtcbiAgfV0pXG4gIC5mYWN0b3J5KCdEaWFsb2dNYW5hZ2VyJywgWydMb2dnZXInLCAoTG9nZ2VyKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuRGlhbG9nTWFuYWdlcihMb2dnZXIpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ0xvY2F0aW9uTWFuYWdlcicsIFsnRGF0YU1vZGVsJywgJ0R0c0FwaScsICdMb2NhdGlvbk1vZGVsJywgJ0xvZ2dlcicsIChEYXRhTW9kZWwsIER0c0FwaSwgTG9jYXRpb25Nb2RlbCwgTG9nZ2VyKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuTG9jYXRpb25NYW5hZ2VyKERhdGFNb2RlbCwgRHRzQXBpLCBMb2NhdGlvbk1vZGVsLCBMb2dnZXIpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ05hdmlnYXRpb25NYW5hZ2VyJywgWyckcm9vdFNjb3BlJywgJyRsb2NhdGlvbicsICckd2luZG93JywgJ0FuYWx5dGljc01vZGVsJywgJ0xvZ2dlcicsICgkcm9vdFNjb3BlLCAkbG9jYXRpb24sICR3aW5kb3csIEFuYWx5dGljc01vZGVsLCBMb2dnZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5OYXZpZ2F0aW9uTWFuYWdlcigkcm9vdFNjb3BlLCAkbG9jYXRpb24sICR3aW5kb3csIEFuYWx5dGljc01vZGVsLCBMb2dnZXIpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ09yZGVyTWFuYWdlcicsIFsnQ2hhdE1vZGVsJywgJ0N1c3RvbWVyTW9kZWwnLCAnRHRzQXBpJywgJ09yZGVyTW9kZWwnLCAnTG9nZ2VyJywgKENoYXRNb2RlbCwgQ3VzdG9tZXJNb2RlbCwgRHRzQXBpLCBPcmRlck1vZGVsLCBMb2dnZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5PcmRlck1hbmFnZXIoQ2hhdE1vZGVsLCBDdXN0b21lck1vZGVsLCBEdHNBcGksIE9yZGVyTW9kZWwsIExvZ2dlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnU2Vzc2lvbk1hbmFnZXInLCBbJ1NOQVBFbnZpcm9ubWVudCcsICdBbmFseXRpY3NNb2RlbCcsICdDdXN0b21lck1vZGVsJywgJ0xvY2F0aW9uTW9kZWwnLCAnT3JkZXJNb2RlbCcsICdTdXJ2ZXlNb2RlbCcsICdTdG9yYWdlUHJvdmlkZXInLCAnTG9nZ2VyJywgKFNOQVBFbnZpcm9ubWVudCwgQW5hbHl0aWNzTW9kZWwsIEN1c3RvbWVyTW9kZWwsIExvY2F0aW9uTW9kZWwsIE9yZGVyTW9kZWwsIFN1cnZleU1vZGVsLCBTdG9yYWdlUHJvdmlkZXIsIExvZ2dlcikgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLlNlc3Npb25NYW5hZ2VyKFNOQVBFbnZpcm9ubWVudCwgQW5hbHl0aWNzTW9kZWwsIEN1c3RvbWVyTW9kZWwsIExvY2F0aW9uTW9kZWwsIE9yZGVyTW9kZWwsIFN1cnZleU1vZGVsLCBTdG9yYWdlUHJvdmlkZXIsIExvZ2dlcik7XG4gIH1dKVxuICAuZmFjdG9yeSgnU2hlbGxNYW5hZ2VyJywgWydEYXRhTW9kZWwnLCAnTG9jYXRpb25Nb2RlbCcsICdTaGVsbE1vZGVsJywgJ1NOQVBMb2NhdGlvbicsICdTTkFQRW52aXJvbm1lbnQnLCAnU05BUEhvc3RzJywgJ0xvZ2dlcicsIChEYXRhTW9kZWwsIExvY2F0aW9uTW9kZWwsIFNoZWxsTW9kZWwsIFNOQVBMb2NhdGlvbiwgU05BUEVudmlyb25tZW50LCBTTkFQSG9zdHMsIExvZ2dlcikgPT4ge1xuICAgIGxldCBtYW5hZ2VyID0gbmV3IGFwcC5TaGVsbE1hbmFnZXIoRGF0YU1vZGVsLCBMb2NhdGlvbk1vZGVsLCBTaGVsbE1vZGVsLCBTTkFQTG9jYXRpb24sIFNOQVBFbnZpcm9ubWVudCwgU05BUEhvc3RzLCBMb2dnZXIpO1xuXG4gICAgRGF0YU1vZGVsLl9nZXRNZWRpYVVybCA9IChtZWRpYSwgd2lkdGgsIGhlaWdodCwgZXh0ZW5zaW9uKSA9PiBtYW5hZ2VyLmdldE1lZGlhVXJsKG1lZGlhLCB3aWR0aCwgaGVpZ2h0LCBleHRlbnNpb24pOyAvL1RvRG86IHJlZmFjdG9yXG5cbiAgICByZXR1cm4gbWFuYWdlcjtcbiAgfV0pXG4gIC5mYWN0b3J5KCdTb2NpYWxNYW5hZ2VyJywgWydTTkFQRW52aXJvbm1lbnQnLCAnRHRzQXBpJywgJ1dlYkJyb3dzZXInLCAnTG9nZ2VyJywgKFNOQVBFbnZpcm9ubWVudCwgRHRzQXBpLCBXZWJCcm93c2VyLCBMb2dnZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IGFwcC5Tb2NpYWxNYW5hZ2VyKFNOQVBFbnZpcm9ubWVudCwgRHRzQXBpLCBXZWJCcm93c2VyLCBMb2dnZXIpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ1NvZnR3YXJlTWFuYWdlcicsIFsnU05BUEVudmlyb25tZW50JywgKFNOQVBFbnZpcm9ubWVudCkgPT4ge1xuICAgIHJldHVybiBuZXcgYXBwLlNvZnR3YXJlTWFuYWdlcihTTkFQRW52aXJvbm1lbnQpO1xuICB9XSlcbiAgLmZhY3RvcnkoJ1N1cnZleU1hbmFnZXInLCBbJ0RhdGFNb2RlbCcsICdTdXJ2ZXlNb2RlbCcsICdMb2dnZXInLCAoRGF0YU1vZGVsLCBTdXJ2ZXlNb2RlbCwgTG9nZ2VyKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBhcHAuU3VydmV5TWFuYWdlcihEYXRhTW9kZWwsIFN1cnZleU1vZGVsLCBMb2dnZXIpO1xuICB9XSk7XG4iXX0=
